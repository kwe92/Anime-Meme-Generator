(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[74491,697],{456778:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubbleStory_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"referringSource",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"ExploreArticle",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"identifierIconName",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"BubblesGridRep_story"}],type:"Story",abstractKey:null,hash:"1c6b4e45a045976cb346fc1824fa2578"};e.exports=i},103018:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubblesGridRep_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{args:null,kind:"FragmentSpread",name:"ExploreBubble_exploreArticle"}],type:"ExploreArticle",abstractKey:null}],storageKey:null}],type:"Story",abstractKey:null,hash:"bc3408725d4de6a75e59ac3d2aefd4b2"};e.exports=i},67153:e=>{var i,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ExploreBubble_exploreArticle",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColors",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identifierIconType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyCategory",storageKey:null},{alias:"articleTitle",args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:"coverImage236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:i,storageKey:'coverImages(spec:"236x")'},{alias:"coverImage474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:i,storageKey:'coverImages(spec:"474x")'},{alias:"coverImage136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:i,storageKey:'coverImages(spec:"136x136")'},{alias:"coverImage170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:i,storageKey:'coverImages(spec:"170x")'},{alias:"coverImage222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:i,storageKey:'coverImages(spec:"222x")'},{alias:"coverImage90x90",args:[{kind:"Literal",name:"spec",value:"90x90"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:i,storageKey:'coverImages(spec:"90x90")'}],type:"ExploreArticle",abstractKey:null};n.hash="bc8b8afb394eb9f724930319c776249a",e.exports=n},991102:e=>{var i,n,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardDetails_pin",selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:n=[i],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PriceLego_pin"}],type:"Pin",abstractKey:null};a.hash="e127c8f5f9fafd31c5dce4a9a7f66089",e.exports=a},441959:e=>{var i,n,a,l,t,r,o,s={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"invite_code"}],kind:"Fragment",metadata:null,name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteCode",variableName:"invite_code"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[l={alias:"first_name",args:null,kind:"ScalarField",name:"firstName",storageKey:null},t={alias:"is_default_image",args:null,kind:"ScalarField",name:"isDefaultImage",storageKey:null},r={alias:"image_medium_url",args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[l,t,r,o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},o],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"6ecc0f5ef5b300806765351890d4c30338f4cba0f2ed6262aebb971f8d13cedd",metadata:{},name:"PinCardSharedHeaderQuery",operationKind:"query",text:null}};s.hash="6113bb3593481961950c5053449014f3",e.exports=s,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const i=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[i]=e}}(s)},182964:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardVisual_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"c4db8a7b324600a215bc35cef16f2f83"};e.exports=i},256468:e=>{var i,n,a,l,t,r,o,s,d,c,u,p,m,g,h,_,y,v,f={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRep_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[c={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},i,u={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p=[d,c,l,u],storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[n,t,r,m={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},o],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:g=[n,t,r,m,o],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:[t,r,m],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[n,l],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},t,r,m,o],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinPromotionId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:g,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[s,h={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:y=[_={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[_,a,v={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[_,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:y,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[a,v],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoNoindexReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[n,a,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:g,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:g,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[n,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},c,u,l],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[a,l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextualMenu_pin"},{args:null,kind:"FragmentSpread",name:"UnauthProductAttribution_pin"},{args:null,kind:"FragmentSpread",name:"SeoPageMetadataText_pin"},{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"},{args:null,kind:"FragmentSpread",name:"PinCardDetails_pin"},{args:null,kind:"FragmentSpread",name:"PinCardVisual_pin"},{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"}],type:"Pin",abstractKey:null};f.hash="f3cd3f20b9c697799f25e2cbf1cbc26b",e.exports=f},788536:e=>{var i,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PriceLego_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i={alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="4a2543bd99e1b908c6c94274a303fcbc",e.exports=n},937711:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeoPageMetadataText_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null,hash:"8f9d12b0eee9d408e23c20c11af28777"};e.exports=i},143453:e=>{var i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthProductAttribution_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null,hash:"2fb133623620997264f81544f7f43636"};e.exports=i},951202:(e,i,n)=>{n.d(i,{Z:()=>t});var a=n(883119),l=n(785893);function t({currentPrice:e,originalPrice:i,textSize:n}){const t=i&&i!==e,r=n||"200";return(0,l.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[e&&(0,l.jsx)(a.xv,{color:"default",size:r,weight:"bold",children:e}),t&&(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,l.jsx)(a.xv,{color:"subtle",size:r,weight:"bold",children:i})})]})}},176172:(e,i,n)=>{n.d(i,{Dv:()=>t,Ml:()=>r,Oc:()=>a,mv:()=>l});const a=16,l=4,t={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},r=120},468e3:(e,i,n)=>{function a(e){return[0,24,21,26].includes(e)}function l({articleType:e,id:i,title:n}){const a=n.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${a}/${i}/`:`/discover/article/${a}/${i}/`}n.d(i,{x:()=>l,y:()=>a})},493214:(e,i,n)=>{n.d(i,{Z:()=>p});var a=n(883119),l=n(667294),t=n(874261),r=n(785893);const o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",s=()=>Array(5).fill().map((()=>o[Math.floor(52*Math.random())])).join("");function d({children:e}){const i=(0,l.useMemo)((()=>e.replace("  "," ").split("").map((e=>({className:s(),content:e})))),[e]);return(0,r.jsxs)(l.Fragment,{children:[(0,r.jsx)(t.Z,{unsafeCSS:i.map((({className:e,content:i})=>`.${e}:before { content: "${i}"; }`)).join(" ")}),i.map((({className:e})=>(0,r.jsx)("span",{className:e},e)))]})}var c=n(282802);const u=e=>e.startsWith("Promoted");function p({children:e,lineClamp:i,size:n,underline:l,weight:t}){const{isAuthenticated:o}=(0,c.B)(),s=o&&u(e);return(0,r.jsx)(a.xv,{size:n,lineClamp:i,underline:l,weight:t,title:s?"":e,children:s?(0,r.jsx)(d,{children:e}):e})}},391670:(e,i,n)=>{n.d(i,{Mi:()=>l,lO:()=>t});var a=n(583592);const{Provider:l,useMaybeHook:t}=(0,a.Z)("pageContext")},604541:(e,i,n)=>{n.d(i,{Z:()=>_});var a=n(667294),l=n(616550),t=n(883119),r=n(604094),o=n(365434);function s({flexible:e,gutterWidth:i,id:n,isRTL:a,itemWidth:l,maxColumns:t,minColumns:r}){const o=n.replace(/\:/g,"\\:"),s=l+i;return`\n    .gridCentered {\n      margin-left: auto;\n      margin-right: auto;\n    }\n\n    .gridCentered .static {\n      position: absolute !important;\n      visibility: hidden !important;\n    }\n\n    ${Array.from({length:t+1-r},((e,i)=>i+r)).map((n=>{const d=n===t?null:(n+1)*s-1;return`\n      @media (min-width: ${n===r?0:n*s}px) ${d?`and (max-width: ${d}px)`:""} {\n        #${o} .static:nth-child(-n+${n}) {\n          position: static !important;\n          visibility: visible !important;\n          float: ${a?"right":"left"};\n          display: block;\n        }\n\n        ${e?`\n      #${o} .static {\n        width: calc(100% / ${n}) !important;\n      }\n    `:`\n      #${o} {\n        width: ${n*s}px;\n      }\n\n      #${o} .static {\n        padding: 0 ${i/2}px;\n        width: ${l}px !important;\n      }\n    `}\n      }\n    `})).join("")}\n  `}var d=n(24286),c=n(874261),u=n(988014),p=n(245410),m=n(282802),g=n(549201),h=n(785893);function _({cacheKey:e,columnWidth:i,gutterWidth:n,id:_,renderItem:y,items:v,layout:f,loadItems:x,masonryRef:b,minCols:k,scrollContainerRef:P,serverRender:S,resetPositions:w,virtualize:I=!0}){var T;const{isRTL:j}=(0,m.B)(),C=(0,g.ZP)(),F=(0,l.useLocation)(),A="desktop"!==C,D=S?"serverRenderedFlexible":"flexible",L=(0,u.Q0)(F)&&"desktop"===C?d.OS:v.length||d.g5,K=(0,a.useCallback)((()=>(null==P?void 0:P.current)||window),[P]),z=(0,o.Y)(e),[E,R]=(0,a.useState)(!1);(0,a.useEffect)((()=>{w&&!E&&(null==z||z.reset(),R(!0))}),[z,w,E]);const{checkExperiment:U}=(0,p.F)(),M=null!==(T={enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"}[U("duplo_masonry_virtual_buffer_factor").group])&&void 0!==T?T:.7,N=U("web_masonry_batched_paints").anyEnabled;return(0,h.jsxs)("div",{id:_,className:"gridCentered","data-test-id":"masonry-container",children:[S&&_&&(0,h.jsx)(c.Z,{"data-test-id":"mobile-grid-styles",unsafeCSS:s({flexible:A,gutterWidth:n||0,id:_,isRTL:j,itemWidth:i||d.yF,maxColumns:L,minColumns:k||d.yc})}),(0,h.jsx)(t.Rk,{columnWidth:i,renderItem:e=>(0,h.jsx)(r.Z,{name:"MobileGridItem",children:y(e)}),gutterWidth:n||1,layout:A?D:null!=f?f:"basic",items:v,loadItems:x,measurementStore:(0,o.z)(e),minCols:k||d.yc,positionStore:z,ref:e=>{b&&(b.current=e)},scrollContainer:K,virtualize:I,virtualBufferFactor:M,_batchPaints:N})]})}},365434:(e,i,n)=>{n.d(i,{Y:()=>s,z:()=>d});n(883119);function a(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}const l={};function t(e){const i=l[e];return i&&i.screenWidth===window.innerWidth||(l[e]={screenWidth:window.innerWidth}),l[e]}const r=e=>{const i=e.__id||e.id;return"string"==typeof i&&i||null};class o{constructor(){a(this,"idMap",new Map),a(this,"objMap",new Map)}get(e){const i=r(e);return i?this.idMap.get(i):this.objMap.get(e)}has(e){const i=r(e);return i?this.idMap.has(i):this.objMap.has(e)}set(e,i){const n=r(e);n?this.idMap.set(n,i):this.objMap.set(e,i)}reset(){this.idMap=new Map,this.objMap=new Map}}function s(e){if(null==e)return;const i=t(e);return i.positionCache||(i.positionCache=new o),i.positionCache}function d(e){if(null==e)return;const i=t(e);return i.measurementCache||(i.measurementCache=new o),i.measurementCache}},649796:(e,i,n)=>{n.d(i,{P:()=>o,t:()=>s});var a=n(690108),l=n(970588);const t=()=>{};const r={complaint:function(e,i){a.Z.create("PinFeedbackResource",e).callUpdate().then((()=>i()))},followBoard:function(e,i){a.Z.create("BoardFollowResource",e).callCreate().then((()=>i()))},followPinner:function(e,i){a.Z.create("UserFollowResource",e).callCreate().then((()=>i()))},followTopic:function(e,i){a.Z.create("InterestFollowResource",e).callCreate().then((()=>i()))},newsHubPinHide:function(e,i){(0,l.Z)({url:e.undo?`/v3/news_hub/${e.newsId}/pin/${e.pinId}/undo/`:`/v3/news_hub/${e.newsId}/pin/${e.pinId}/hide/`,method:"PUT"}).then((()=>i()))},promotedComplaint:function(e,i){a.Z.create("PinFeedbackResource",e).callUpdate().then((()=>i()))},relatedPinHide:function(e,i){(0,l.Z)({url:e.undo?`/v3/p2p/${e.pin}/unhide/`:`/v3/p2p/${e.pin}/hide/`,method:"PUT"}).then((()=>i()))},reportPin:function(e,i){i()},showAdReasons:function(e,i){i()},unfollowBoard:function(e,i){a.Z.create("BoardFollowResource",e).callDelete().then((()=>i()))},unfollowPinner:function(e,i){a.Z.create("UserFollowResource",e).callDelete().then((()=>i()))},unfollowTopic:function(e,i){a.Z.create("InterestFollowResource",e).callDelete().then((()=>i()))},unrelatedSearchPin:function(e,i){(0,l.Z)({url:e.undo?`/v3/search/${e.pin_id}/unhide/`:`/v3/search/${e.pin_id}/hide/`,method:"PUT",data:{query:e.query,pin_type:e.pin_type}}).then((()=>i()))}},o=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function s(e,i,n=t){const a=e?r[e]:null;return a?a(i,n):n()}},958083:(e,i,n)=>{n.d(i,{EF:()=>p,Iv:()=>d,Ud:()=>s,hP:()=>o,nb:()=>u,oK:()=>c});var a=n(630089),l=n(649796),t=n(867812);const r=e=>e.length>32?`${e.substring(0,32).trim()}...`:e;function o({boardFollowedByMe:e,feedbackType:i,viewParameter:n,promotion:a,recommendationReason:l,pinnerFollowedByMe:t}){if(a&&!a.isDownstreamPromotion)return"promoted";if(i)return i;if(l){if("FOLLOWED_INTEREST"===l.reason)return"topic";if("FOLLOWING_FEED"!==l.reason&&"RECENT_FOLLOWED_BOARD"!==l.reason)return l.hasBoard?"pfyBoard":"pfy"}if(e||t)return"followed";switch(n){case 140:case 144:case 141:case 145:case 139:case 3173:return"related";case 3082:return"newsHub";default:return"default"}}function s({feedback:e,i18n:i,makeNavigateLink:n}){var l,t,o,s,d,c,u,p;switch(e.type){case"pfy":return i._('This Pin was inspired by your recent activity', 'Pin feedback reason', 'Pin feedback reason');case"pfyBoard":const{recommendationReasonBoard:m}=e;return m?(0,a.nk)(i._('This Pin was inspired by your board {{ boardLink }}', 'Pin feedback - inspired by your board', 'Pin feedback - inspired by your board'),{boardLink:n("navigation",m.url,m.name)}):null;case"topic":const{sourceInterest:g}=e;return g?(0,a.nk)(i._('This Pin was inspired by {{ formattedTopic }}', 'Pin feedback', 'Pin feedback'),{formattedTopic:n("topicUrl",`/topics/${g.url_name}`,g.name)}):null;case"followed":const{followed:h}=e;return"pinner"===h.type?(0,a.nk)(i._('This Pin is from {{ formattedPinner }}, a profile you follow', 'Pin feedback', 'Pin feedback'),{formattedPinner:n("pinnerUrl",`/${null!==(l=null===(t=h.pinner)||void 0===t?void 0:t.username)&&void 0!==l?l:""}`,r(null!==(o=null===(s=h.pinner)||void 0===s?void 0:s.full_name)&&void 0!==o?o:""))}):(0,a.nk)(i._('This Pin is from {{ formattedBoard }}, a board you follow', 'Pin feedback', 'Pin feedback'),{formattedBoard:n("boardUrl",null!==(d=null===(c=h.board)||void 0===c?void 0:c.url)&&void 0!==d?d:"",r(null!==(u=null===(p=h.board)||void 0===p?void 0:p.name)&&void 0!==u?u:""))});case"promoted":if(e.promoter){const{full_name:l,username:t}=e.promoter,r=n("promotedLink",t?"/"+t+"/":"/",l);return(0,a.nk)(i._('{{ promoterLink }} paid to have this Pin show up where\n          you\u2019d be more likely to notice it', 'Pin feedback', 'Pin feedback'),{promoterLink:r})}return i._('This ad was personalized for you using info from one of our partners', 'Pin feedback', 'Pin feedback');default:return null}}function d({sourceInterest:e,i18n:i,makeNavigateLink:n}){var l,r;return{action:"unfollowTopic",actionOptions:{interest_id:e.id,interest_list:t.X},title:"",subTitle:(0,a.nk)(i._('We\u2019ll show you less Pins from {{ formattedTopic }} in the future.', 'pin.contextualMenu.feedback.unfollowTopic.subtitle', 'Confirmation text after unfollowing a topic'),{formattedTopic:n("topicUrl",`/topics/${null!==(l=e.url_name)&&void 0!==l?l:""}`,null!==(r=e.name)&&void 0!==r?r:"",!0)})}}function c({boardId:e,display:i,i18n:n,makeNavigateLink:l}){var t,r,o,s;return{action:"unfollowBoard",actionOptions:{board_id:e},title:"",subTitle:"pinner"===i.type?(0,a.nk)(n._('You unfollowed {{ formattedPinner }} and won\u2019t see Pins they save anymore.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedPinner:l("pinnerUrl",`/${null!==(t=i.data.username)&&void 0!==t?t:""}`,null!==(r=i.data.full_name)&&void 0!==r?r:"",!0)}):(0,a.nk)(n._('You unfollowed the board {{ formattedBoard }} and won\u2019t see Pins saved to it anymore.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:l("boardUrl",null!==(o=i.data.url)&&void 0!==o?o:"",null!==(s=i.data.name)&&void 0!==s?s:"",!0)})}}function u(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function p(e,i,n,a,t,r,o){return()=>{const s={...e,undo:!0};let d=i;"unfollowPinner"===i?d="followPinner":"unfollowBoard"===i?d="followBoard":"unfollowTopic"===i&&(d="followTopic"),(0,l.t)(d,s),r(n),o({event_type:101,component:0,element:11181,view_type:a,view_parameter:t})}}},867812:(e,i,n)=>{n.d(i,{X:()=>a});const a="favorited"},282442:(e,i,n)=>{n.d(i,{Z:()=>s});var a=n(574155),l=n(667294),t=n(39983),r=n(41162);var o=n(677263);function s({children:e,isAtEndOfFeed:i,pinData:n,itemCount:s,includeBackgroundImages:d=!1,includeVideos:c=!1,includeSections:u=!1}){var p;return(null===(p=(0,o.N5)())||void 0===p?void 0:p.isAuthenticated)||(u=!0),(0,a.Z)({pinData:n,isAtEndOfFeed:i,includeBackgroundImages:d,includeVideos:c,includeSections:u}),function(e){const i=(0,r.E)(),n=(0,l.useRef)(null);(0,l.useEffect)((()=>{e!==n.current&&(n.current=e,i&&(0,t.ZP)(t.at))}),[!!i,e])}(s),e}},792953:(e,i,n)=>{n.d(i,{Z:()=>t});var a=n(883119),l=n(785893);function t({accessibilityLabel:e}){return(0,l.jsx)(a.kC,{alignItems:"center",justifyContent:"center",children:(0,l.jsx)(a.$j,{accessibilityLabel:e,show:!0})})}},946579:(e,i,n)=>{n.d(i,{Z:()=>a});const a=(0,n(667294).createContext)("undefined"!=typeof window?window:null)},446077:(e,i,n)=>{n.d(i,{H5:()=>h,Xn:()=>m,an:()=>g});var a=n(739425);const l="BING",t="GOOGLE",r="YAHOO",o="YANDEX",s="RAKUTEN",d="NAVER",c="AMP_CACHE",u="DUCKDUCKGO",p=[t,l,r,o,s,d,c,u];function m(e){return p.includes(function(e){const{hostname:i}=(0,a.Qc)(e,!0);if(i&&e){if(i.includes("google.")||function(e){return e.includes("android-app://com.google.android.googlequicksearchbox")}(e))return t;if(i.includes("bing."))return l;if(i.includes("yahoo."))return r;if(i.includes("yandex."))return o;if(i.includes("rakuten."))return s;if(i.includes("naver."))return d;if(i.includes("duckduckgo."))return u;if(i.includes(".cdn.ampproject.org"))return c}return""}(e))}function g(e){return e||"undefined"!=typeof document&&document.referrer||""}const h=e=>{const i=new URL(e);return i.searchParams.set("nii","t"),i.href}},671915:(e,i,n)=>{n.d(i,{Z:()=>s,t:()=>d});var a=n(667294),l=n(167912),t=n(690108);function r(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}const o={};class s extends a.Component{constructor(...e){super(...e),r(this,"state",{invite:o[this.props.invite_code]||null,loaded:this.props.invite_code in o})}componentDidMount(){const{invite_code:e}=this.props;t.Z.create("InviteCodeMetadataResource",{invite_code:e}).callGet().then((i=>{if(i&&i.resource_response){const n=i.resource_response.data;o[e]=n,this.setState({invite:n,loaded:!0})}})).catch((()=>{this.setState({invite:null,loaded:!0})}))}render(){const{invite:e,loaded:i}=this.state;return i?this.props.children(e):null}}class d extends a.Component{constructor(...e){super(...e),r(this,"state",{invite:o[this.props.invite_code]||null,loaded:this.props.invite_code in o})}componentDidMount(){const{invite_code:e,relayEnvironment:i,inviteQuery:n}=this.props;(0,l.fetchQuery)(i,n,{invite_code:e}).subscribe({next:e=>{var i;if(null!==(i=e.v3GetInviteCodeQuery)&&void 0!==i&&i.data){const i=e.v3GetInviteCodeQuery;this.setState({invite:i,loaded:!0})}},error:()=>{this.setState({invite:null,loaded:!0})}})}render(){const{invite:e,loaded:i}=this.state;return i?this.props.children(e):null}}},637362:(e,i,n)=>{n.d(i,{J:()=>a,Z:()=>l});const a=-1;function l(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},938818:(e,i,n)=>{n.d(i,{Qy:()=>d,Wu:()=>u,ZP:()=>c});var a=n(616550),l=n(883119),t=n(282802),r=n(739425),o=n(802071),s=n(785893);const d=()=>{const e=(0,o.Z)(),{isInternalIP:i}=(0,t.B)(),n=(0,a.useLocation)();return(i||e.isAuth&&e.isEmployee)&&Object.keys((0,r.mB)(n.search)).some((e=>e.startsWith("deb_")))};function c({data:e}){return(0,s.jsx)(l.xu,{overflow:"auto",dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",children:(0,s.jsx)("pre",{children:JSON.stringify(e,null,2).replace(/\\n/g,"\n")})})}const u=e=>(0,s.jsx)(l.xu,{width:236,dangerouslySetInlineStyle:{__style:{marginTop:10}},children:(0,s.jsx)(c,{...e})})},367184:(e,i,n)=>{n.d(i,{Z:()=>f});var a=n(667294),l=n(245410),t=n(616550),r=n(883119),o=n(388011),s=n(536042),d=n(785893);const c=24;function u({text:e,isSelected:i,icon:n,animationType:a,position:l,hasStartPulling:t,isExecuted:o}){return(0,d.jsxs)(r.xu,{display:"flex",direction:"column",alignItems:"center",marginBottom:6,children:[(0,d.jsx)(r.xu,{color:i?"dark":"secondary","data-test-id":"action-animated-icon",rounding:"circle",padding:t?4:0,dangerouslySetInlineStyle:i&&o?{__style:{transform:"rotate(360deg)",transition:"all .9s ease-out"}}:{__style:{transition:"all .3s ease-out",marginTop:i&&"move"===a?40:0}},children:(0,d.jsx)(r.JO,{size:100*l<c?100*l:c,icon:n,accessibilityLabel:e,color:i?"light":"dark"})}),(0,d.jsx)(r.xu,{padding:1,"data-test-id":"action-animated-text",dangerouslySetInlineStyle:{__style:{opacity:i?1:0,transition:"all .3s ease-out"}},children:(0,d.jsx)(r.xv,{align:"center",size:"100",children:e})})]})}const p=.5,m=250;function g({enabled:e,onSelect:i,refreshing:n}){const l=(0,a.useRef)(null),[t,r]=(0,a.useState)(0),[o,s]=(0,a.useState)(!1),d=n?0:t/m,c=d>0,u=()=>{s(!1),r(0)};(0,a.useEffect)((()=>{if(e){const e=e=>{window.scrollY<=0&&!n&&(l.current=e.touches[0].clientY)},a=e=>{if(l.current){const i=(e.touches[0].clientY-l.current)*p;i>0&&(r(i),e.preventDefault())}},o=()=>{l.current&&(s(!0),i({pullDistance:t,position:d,resetState:u}),l.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",a,{passive:!1}),window.addEventListener("touchend",o),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",a,{passive:!1}),window.removeEventListener("touchend",o)}}}),[e,i,t,n,d]);const g=l.current;return{pullDistance:t,hasStartPulling:c,position:d,startYRefCurrent:g,PULL_MENU_DISTANCE:m,isExecuted:o}}const h=500;function _({enabled:e,onPull:i,refreshing:n}){const a=(0,s.ZP)(),l=(0,t.useHistory)(),{logContextEvent:c}=(0,o.v)(),p=e=>e>=.6,m=e=>e>.4&&e<.6,{position:_,hasStartPulling:y,PULL_MENU_DISTANCE:v,isExecuted:f}=g({enabled:e,onSelect:e=>{const{position:n,resetState:a}=e;m(n)?setTimeout((()=>{c({view_type:1,event_type:158,view_parameter:92}),i(),a()}),h):p(n)?setTimeout((()=>{c({view_type:1,event_type:10144,view_parameter:92}),l.push("edit/"),a()}),h):a()},refreshing:n}),x=a._('Refresh', 'pullMenu.refresh', 'Pull down on grid to refresh items'),b=a._('Edit Feed', 'pullMenu.goTuner', 'Pull down on grid to edit your feed');return(0,d.jsx)(r.xu,{children:e&&(0,d.jsxs)(r.xu,{display:"flex",alignItems:"center",direction:"column",height:_*v,justifyContent:"center",marginBottom:y?4:0,children:[(0,d.jsx)(u,{text:b,isSelected:p(_),icon:"edit",animationType:"move",position:_,hasStartPulling:y,isExecuted:f}),(0,d.jsx)(u,{text:x,isSelected:m(_),icon:"refresh",position:_,hasStartPulling:y,isExecuted:f})]})})}const y=120;function v({enabled:e,onPull:i,refreshing:n}){const a=(0,s.ZP)(),{logContextEvent:l}=(0,o.v)(),{position:t,startYRefCurrent:c,pullDistance:u}=g({enabled:e,onSelect:e=>{const{pullDistance:n,resetState:a}=e;n>=y&&(l({view_type:1,event_type:158,view_parameter:92}),i()),a()},refreshing:n}),p=Math.min(t,1),m=a._('Pull to refresh', 'Pull down on grid to refresh items', 'Pull down on grid to refresh items');return(0,d.jsx)(r.xu,{children:e&&(0,d.jsx)(r.xu,{display:"flex",alignItems:"center",justifyContent:"center",height:t*y,dangerouslySetInlineStyle:{__style:{opacity:p,transition:null===c?"all .3s ease-out":void 0}},children:(0,d.jsx)(r.JO,{size:40,icon:c&&u<y?"arrow-circle-down":"arrow-circle-up",accessibilityLabel:m})})})}function f({enabled:e,onPull:i,refreshing:n}){const{checkExperiment:t}=(0,l.F)(),{anyEnabled:r}=t("hfp_drive_traffic_to_homefeed_tuner_mweb");return(0,d.jsx)(a.Fragment,{children:r?(0,d.jsx)(_,{enabled:e,onPull:i,refreshing:n}):(0,d.jsx)(v,{enabled:e,onPull:i,refreshing:n})})}},187768:(e,i,n)=>{n.d(i,{K:()=>r,T:()=>o});var a=n(667294),l=n(785893);const t=(0,a.createContext)({getPinFeedbackStatus:()=>{},setPinFeedbackStatus:()=>{}}),r=()=>(0,a.useContext)(t);function o({children:e}){const[i,n]=(0,a.useState)(Object.freeze({})),r=(0,a.useMemo)((()=>({getPinFeedbackStatus:({pinId:e})=>i[e],setPinFeedbackStatus:({pinId:e,pinFeedbackStatus:a})=>n({...i,[e]:a})})),[i]);return(0,l.jsx)(t.Provider,{value:r,children:e})}},593502:(e,i,n)=>{n.r(i),n.d(i,{default:()=>qi,pinRepPaddingInBoint:()=>Ki});var a,l=n(667294),t=n(702664),r=n(167912),o=n(616550),s=n(883119),d=n(563962),c=n(117651),u=n(402833),p=n(604094),m=n(765456),g=n(825389),h=n(536042),_=n(630089),y=n(525571),v=n(300657),f=n(958083),x=n(624417),b=n(740494),k=n(465991),P=n(245410),S=n(950695),w=n(895200),I=n(282802),T=n(643183),j=n(446077),C=n(98736),F=n(618569),A=n(938818),D=n(549201),L=n(272109),K=n(873610),z=n(768865),E=n(843843),R=n(328939),U=n(480462),M=n(348597),N=n(230910),Z=n(836),B=n(261453),O=n(411224),q=n(493214),G=n(870243),H=n(988014),$=n(460914),W=n(107877),V=n(951202),Y=n(341027),Q=n(785893);const J=({data:{pinProduct:{maxPrice:e,minPrice:i,standardPrice:n,price:a},domain:t}})=>(0,Q.jsxs)(l.Fragment,{children:[t&&(0,Q.jsx)(s.xv,{color:"default",size:"100",children:t}),(0,Q.jsx)(s.xu,{display:"flex",alignItems:"center","data-test-id":"priceLego_price",children:(0,Q.jsx)(V.Z,{textSize:"100",currentPrice:(0,Y.Z)({maxPrice:e,minPrice:i,price:a}),originalPrice:n})})]}),X=void 0!==a?a:a=n(788536);function ee({pinKey:e}){var i,n,a;const{data:l}=(0,g.k5)(X,e,{type:"pin",useLegacyAdapter:e=>{var i,n;return{linkDomain:e.link_domain&&{__typename:"Domain"},richMetadata:e.rich_metadata&&{recipe:e.rich_metadata.recipe&&{fromAggregatedData:e.rich_metadata.recipe.from_aggregated_data},products:(null!==(i=e.rich_metadata.products)&&void 0!==i?i:[]).map((e=>({name:e.name,offerSummary:e.offer_summary&&{maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}})))},richSummary:e.rich_summary&&{siteName:e.rich_summary.site_name,products:(null!==(n=e.rich_summary.products)&&void 0!==n?n:[]).map((e=>({name:e.name,offerSummary:e.offer_summary&&{maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}})))}}}});if(!l)return null;const t=(0,N.kb)({hasLinkDomain:!!l.linkDomain,richMetadata:l.richMetadata&&{recipe:l.richMetadata.recipe&&{fromAggregatedData:l.richMetadata.recipe.fromAggregatedData},products:(null!==(i=l.richMetadata.products)&&void 0!==i?i:[]).map((e=>({name:e.name,offerSummary:e.offerSummary})))},richSummary:l.richSummary&&{products:(null!==(n=l.richSummary.products)&&void 0!==n?n:[]).map((e=>({name:e.name,offerSummary:e.offerSummary})))}});return t&&t.price?(0,Q.jsx)(J,{data:{pinProduct:t,domain:null===(a=l.richSummary)||void 0===a?void 0:a.siteName}}):null}var ie,ne=n(510336),ae=n(333741);const le=void 0!==ie?ie:ie=n(991102),te=(0,l.lazy)((()=>n.e(21326).then(n.bind(n,121326)))),re=({title:e})=>{const i=(0,D.HG)(),n=(0,F.Z)();return(0,Q.jsx)(s.xu,{"data-test-id":"related-pins-title",children:(0,Q.jsx)(s.iP,{onTap:()=>{n({action:"click",item:"related-pins-title"})},children:(0,Q.jsx)(q.Z,{size:i?"300":"100",weight:"bold",lineClamp:2,children:e})})})},oe=({credits:e,data:i,hasAffiliatedProducts:n,hidePinMetadata:a,isPromotedPin:t,isSponsoredPin:r,logCreditsClick:d,marginTop:c,pinDescription:u,pinGraphqlRef:m,pinId:g,pinnedToBoardId:_,pinReactionCounts:y,recipeReview:v,shouldShowReactions:f,showPriceIndicatorInPinCardDetails:x,title:b,type:k})=>{var P,S,w,j,A,L,K,z,E;const R=(0,h.ZP)(),U=(0,o.useLocation)(),M=(0,F.Z)(),{isAuthenticated:N}=(0,I.B)(),Z=(0,D.HG)(),B=(0,o.useHistory)(),O=b||u||"oneTap"===k,{pinner:q}=i,V=(0,W.gC)()(_||String(null===(P=i.board)||void 0===P?void 0:P.entityId)),Y=t&&(null===(S=i.promoter)||void 0===S?void 0:S.entityId)===(null===(w=i.nativeCreator)||void 0===w?void 0:w.entityId),J=H.Q0?2:c||(O&&!a?1:0),X=!x;return(0,Q.jsxs)(s.xu,{flex:"grow",children:[(0,Q.jsx)(s.xu,{display:"flex",marginTop:a?0:c||1,children:(0,Q.jsxs)(s.xu,{flex:"grow",children:[(r||n)&&!Y&&(0,Q.jsx)(s.xu,{marginBottom:1,children:(0,Q.jsx)(s.xu,{flex:"grow",overflow:"hidden",children:(0,Q.jsx)(ne.Z,{hasAffiliatedProducts:n,isPromoted:t,sponsorName:i.sponsorship?(0,Q.jsx)(s.xv,{inline:!0,size:"100",weight:"bold",children:null==e?void 0:e.subtitle}):void 0,sponsorshipStatus:null===(j=i.sponsorship)||void 0===j?void 0:j.status})})}),b&&(0,Q.jsx)(s.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:!a&&(0,Q.jsx)(re,{title:b})}),Z&&!N&&u&&!(0,H.$Y)(U)&&!(0,H.E0)(U)&&(0,Q.jsx)(s.xu,{marginTop:1,overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",children:(0,Q.jsx)(s.iP,{onTap:()=>{M({action:"click",item:"related-pins-description"})},children:(0,Q.jsx)(s.xv,{size:"100",inline:!0,children:u})})}),x&&(0,Q.jsx)(ee,{pinKey:m?{type:"graphqlRef",data:m}:{type:"deprecated",data:g}}),v]})}),f&&y&&Object.keys(y).length>0&&(0,Q.jsx)(s.xu,{height:18,display:void 0,justifyContent:"center",children:(0,Q.jsx)(p.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,Q.jsx)(T.Z,{children:(0,Q.jsx)(te,{pinReactionCounts:y})})})}),X&&e?(0,Q.jsx)($.Z,{onTouch:i=>{i.stopPropagation(),i.preventDefault(),e.link&&B.push(e.link),d()},pressState:"none",children:(0,Q.jsx)(s.xu,{children:(!a||r||Y)&&(0,Q.jsxs)(s.xu,{display:"flex",marginTop:J,marginBottom:a?2:0,position:"relative",direction:"row",children:[(0,Q.jsx)(s.xu,{flex:"none",display:void 0,justifyContent:"center","data-test-id":"related-pins-avatar-image",children:(0,Q.jsx)(s.iP,{onTap:()=>{M({action:"click",item:"related-pins-avatar-image"})},children:(0,Q.jsx)(G.qE,{accessibilityLabel:e.title||e.subtitle||R._('Creator\'s avatar', 'pinCardDetails.tapArea.avatar', 'The avatar of the creator of this pin.'),name:e.title||"",outline:!1,size:"sm",src:e.avatar||void 0})})}),(0,Q.jsx)(s.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:(0,Q.jsx)(s.iP,{onTap:()=>{M({action:"click",item:"related-pins-name"})},children:(0,Q.jsxs)(l.Fragment,{children:[e.title&&(0,Q.jsx)(s.xv,{lineClamp:1,size:"100",weight:r&&!Y||n?"normal":"bold",children:e.title===(null==q?void 0:q.fullName)&&(null!=q&&q.isVerifiedMerchant||null!=q&&null!==(A=q.verifiedIdentity)&&void 0!==A&&A.verified)?(0,Q.jsx)(ae.Z,{badgeSize:"sm",badgeSpacing:2,fullName:e.title,verifiedType:q.isVerifiedMerchant?"verifiedMerchant":"verifiedIdentity"}):e.title}),e.subtitle?(!r&&!a||Y)&&(0,Q.jsx)(s.xv,{lineClamp:r||n?void 0:1,size:Z?"200":"100",weight:Z?"bold":"normal",children:e.subtitle}):!N&&V&&"protected"!==V.privacy?(0,Q.jsx)(s.xu,{"data-test-id":"related-pin-text-below-name",children:(0,Q.jsx)(s.rU,{underline:"hover",href:null!==(L=V.url)&&void 0!==L?L:"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,C.NC)("click_board_pin_attribution_profile"),M({action:"click",item:"related-pin-text-below-name"})},children:(0,Q.jsx)(s.xv,{size:"200",children:V.name})})}):null]})})})]})})}):Z&&!!q&&((0,H.L6)(U)||(0,H.cD)(U)||(0,H.$Y)(U))&&(0,Q.jsxs)(s.xu,{display:"flex",marginTop:O?2:0,children:[(0,Q.jsx)(s.xu,{flex:"none","data-test-id":"related-pins-avatar-image",children:(0,Q.jsx)(s.iP,{onTap:()=>{M({action:"click",item:"related-pins-avatar-image"})},children:(0,Q.jsx)(G.qE,{name:q.username||"",size:"sm",src:null!==(K=q.imageSmallUrl)&&void 0!==K?K:void 0})})}),(0,Q.jsxs)(s.xu,{direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,"data-test-id":"related-pins-name",children:[(0,Q.jsx)(s.rU,{underline:"hover",href:`/${q.username||""}/`,onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,C.NC)("click_board_pin_attribution_board"),M({action:"click",item:"related-pins-name"})},children:(0,Q.jsx)(s.xv,{size:"200",weight:"bold",children:q.fullName||q.username})}),V&&"protected"!==V.privacy?(0,Q.jsx)(s.xu,{"data-test-id":"related-pin-text-below-name",children:(0,Q.jsx)(s.rU,{underline:"hover",href:null!==(z=V.url)&&void 0!==z?z:"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,C.NC)("click_board_pin_attribution_profile"),M({action:"click",item:"related-pin-text-below-name"})},children:(0,Q.jsx)(s.xv,{size:"200",children:null!==(E=V.name)&&void 0!==E?E:""})})}):null]})]})]})},se=e=>{const{pinId:i,pinGraphqlRef:n}=e,{data:a,childDataKey:l}=(0,g.k5)(le,n?{type:"graphqlRef",data:n}:{type:"deprecated",data:i},{type:"pin",useLegacyAdapter:e=>({entityId:e.id,board:e.board&&{entityId:e.board.id},nativeCreator:e.native_creator&&{entityId:e.native_creator.id},pinner:e.pinner&&{fullName:e.pinner.full_name,imageSmallUrl:e.pinner.image_small_url,isVerifiedMerchant:e.pinner.is_verified_merchant,username:e.pinner.username,verifiedIdentity:e.pinner.verified_identity&&{verified:e.pinner.verified_identity.verified}},promoter:e.promoter&&{entityId:e.promoter.id},sponsorship:e.sponsorship&&{status:e.sponsorship.status}})});return a&&(0,Q.jsx)(oe,{...e,data:a,pinGraphqlRef:"graphqlRef"===l.type?l.data:null})};var de,ce=n(792953),ue=n(671915);const pe=void 0!==de?de:de=n(441959),me=(e,i)=>{const{checkExperiment:n}=(0,P.F)();return n("graphql_migration_sharelink_sgrowth_web").anyEnabled?((e,i)=>{const n=(0,r.useRelayEnvironment)();return(0,Q.jsx)(ue.t,{invite_code:e,relayEnvironment:n,inviteQuery:pe,children:e=>{const n=null!=e&&e.data?e.data.sender:null,a=n&&n.first_name?n.first_name.substring(0,30):"";if(!a)return null;const l=n&&!n.is_default_image?n.image_medium_url:"",t=(0,_.nk)(i._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:a});return(0,Q.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,Q.jsx)(s.zd,{height:32,width:32,children:(0,Q.jsx)(G.qE,{name:a,src:l})}),(0,Q.jsx)(s.xu,{width:"80%",paddingY:2,children:(0,Q.jsx)(s.xv,{align:"center",size:"200",weight:"bold",children:t})})]})}})})(e,i):((e,i)=>(0,Q.jsx)(ue.Z,{invite_code:e,children:e=>{const n=e?e.sender:null,a=n&&n.first_name?n.first_name.substring(0,30):"";if(!a)return null;const l=n&&!n.is_default_image?n.image_medium_url:"",t=(0,_.nk)(i._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:a});return(0,Q.jsxs)(s.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,Q.jsx)(s.zd,{height:32,width:32,children:(0,Q.jsx)(G.qE,{name:a,src:l})}),(0,Q.jsx)(s.xu,{width:"80%",paddingY:2,children:(0,Q.jsx)(s.xv,{align:"center",size:"200",weight:"bold",children:t})})]})}}))(e,i)},ge=({inviteCode:e})=>{const i=(0,h.ZP)();return(0,Q.jsx)(s.xu,{minHeight:82,children:(0,Q.jsx)(p.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,Q.jsx)(T.Z,{fallback:(0,Q.jsx)(ce.Z,{accessibilityLabel:i._('Loading Invitation component', 'Loading InviteFetch component', 'loading InviteFetch component')}),children:me(e,i)})})})};var he=n(388011),_e=n(570476),ye=n(448709),ve=n(898252),fe=n(176172),xe=n(348672),be=n(550140),ke=n(63262),Pe=n(739425),Se=n(726425),we=n(994405),Ie=n(169492),Te=n(624524),je=n(471819),Ce=n(527386),Fe=n(724097),Ae=n(922204),De=n(260070),Le=n(712968),Ke=n(648575),ze=n(252315);const Ee=new s.Ry(1);function Re({buttonText:e,clientTrackingParams:i,color:n="primary",deeplinkUri:a,experience:r,inline:c=!0,minWidth:u,onTouch:p,onUnsave:m,pinId:g,pinnedToBoardId:_,shape:y,shouldShowSavedButton:v,viewType:f,viewParameter:x,showSaveHandoffExperience:b}){var k;const S=(0,h.ZP)(),w=(0,t.useDispatch)(),I=(0,o.useHistory)(),T=(0,o.useLocation)(),j=(0,ze.M)(),C=T.pathname.startsWith("/pin"),A=(0,t.useSelector)((({session:e})=>e.hasSavedUnauthPin)),D=(0,t.useSelector)((({session:e})=>e.unauthSavePinId)),L=null===(k=(0,Le.Tt)())||void 0===k?void 0:k.pin_count,K=(0,d.Z)(),z=(0,F.Z)(),{checkExperiment:R}=(0,P.F)(),U=(0,Se.N)(),M=e=>I.push(e),{showToast:N,showRepinConfirmation:Z}=(0,Ae.Z)(),B=()=>{var e;w((0,Ke.Z)({checkExperiment:R,isNativeAppInstalledContext:U,history:I,i18n:S,logContextEvent:K,onSuccess:()=>{r&&w((0,Ce.CK)(r.placement_id,r.experience_id))},originalPinId:g,pinId:g,trackingParams:{clientTrackingParams:i,pinnedToBoardId:_},showRepinConfirmation:b&&!C?()=>{}:Z,disableRepinAnimation:D===g,pinCount:L,historyPush:M,savePinId:null!==(e=null==j?void 0:j.save)&&void 0!==e?e:()=>{}})).catch((e=>N((({hideToast:i})=>(0,Q.jsx)(be.ZP,{type:"error",text:e.message||S._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin'),onHide:i})))))},O=(0,l.useRef)(null),q=b&&!A,G=(0,je.Z)()({fn:e=>{e.stopPropagation(),e.preventDefault(),p&&p(e),v?v&&m&&m():B()},modalHeader:(0,Te.Bx)(S)});(0,l.useEffect)((()=>{q&&!O.current&&(z({action:"trigger",item:"unauth-save-button-quicksave"}),K({event_type:14581}),B(),w((0,De.e2)())),O.current=q}));const H=()=>S._('Pin', 'quickSave.quickSaveButton.icon.accessibilityLabel', 'Pin accessibility label'),$=()=>e||S._('Save', 'quickSave.quickSaveButton.buttonText', 'Auth mobile web save button for pin closeup');return A&&!C?null:(0,Q.jsx)(s.xu,{"data-test-id":"save-button-mobile",zIndex:Ee,children:a?(0,Q.jsx)(E.di,{accessibilityLabel:H(),color:n,customStyles:{padding:"14px 16px"},deeplinkUri:a,inline:c,minHeight:48,minWidth:u,onTouch:G,pressState:["compress","background"],shape:y,size:"lg",text:$(),to:I.location.pathname,upsellType:"save",viewType:f,viewParameter:x}):(0,Q.jsx)(Fe.Z,{accessibilityLabel:H(),color:n,customStyles:{padding:"14px 16px"},inline:c,minHeight:48,minWidth:u,onTouch:G,pressState:"compress",shape:y,size:"300",text:$()})})}var Ue=n(86829),Me=n(540459),Ne=n(77875);function Ze(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}class Be extends l.PureComponent{constructor(...e){var i;super(...e),i=this,Ze(this,"state",{saveState:void 0}),Ze(this,"legoFixedZIndex",new s.Ry(2)),Ze(this,"onAddPin",(async function(){const{clientTrackingParams:e,checkExperiment:n,dispatch:a,i18n:l,isNativeAppInstalledContext:t,oneTapSave:r,pinId:o,pinnedToBoardId:s,showToast:d,viewType:c,historyPush:u,repinContext:p}=i.props;try{var m;const l=await a((0,Ne.w)({checkExperiment:n,isNativeAppInstalledContext:t,i18n:i.props.i18n,logContextEvent:i.props.logContextEvent,originalPinId:o,pinId:o,boardId:null==r?void 0:r.boardId,isOneTapSave:!0,onUndo:()=>{i.onDeletePin()},section:null==r?void 0:r.section,showToast:d,trackingParams:{clientTrackingParams:e,pinnedToBoardId:s},viewType:c,historyPush:u,savePinId:null!==(m=null==p?void 0:p.save)&&void 0!==m?m:()=>{}}));i.setState({saveState:"saved"}),a((0,Ue.a)({boardId:null==r?void 0:r.boardId,localPinId:l.id,pinId:o}))}catch(g){d((({hideToast:e})=>(0,Q.jsx)(be.ZP,{type:"error",text:g.message||l._('Sorry! Something went wrong on our end.', 'error during repin', 'error during repin'),onHide:e}))),i.setState({saveState:void 0})}})),Ze(this,"onDeletePin",(async function(){const{dispatch:e,clientTrackingParams:n,i18n:a,pinId:l,savedInfo:t,showToast:r,repinContext:o}=i.props;if(t){e((0,Ue.k)({boardId:t.boardId,localPinId:t.localPinId,pinId:l})),null==o||o.unsave(l);try{await e((0,Me.q)({pinId:t.localPinId,boardId:t.boardId,clientTrackingParams:n})),r((({hideToast:e})=>(0,Q.jsx)(be.ZP,{text:a._('Pin deleted!', 'User deleted their pin', 'User deleted their pin'),onHide:e}))),i.setState({saveState:void 0})}catch(s){r((({hideToast:e})=>(0,Q.jsx)(be.ZP,{type:"error",text:a._('Sorry! There was an error deleting your Pin.', 'Error when user tried to delete pin', 'Error when user tried to delete pin'),onHide:e}))),i.setState({saveState:"saved"})}}})),Ze(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();const{saveState:i}=this.state,{history:n,pinId:a,isOneTapExploreLocalTab:l,pinnedToBoard:t,directSaveExpGroup:r,oneTapSave:o}=this.props,s=r.includes("overlay");["saving","deleting"].includes(i)||l&&t||(i||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),l||!o&&s?n.push({pathname:`/pin/${a}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))},modalHeader:(0,Te.Bx)(this.props.i18n)})),Ze(this,"shouldDisplayAsSaved",(({isOneTapExploreLocalTab:e,pinnedToBoard:i,savedInfo:n})=>e?!!i:!!n))}render(){const{checkExperiment:e,children:i,clientTrackingParams:n,directSaveExpGroup:a,homepageExperience:t,i18n:r,isBoardIdeas:o,isOneTapExploreLocalTab:d,isRTL:c,oneTapSave:u,pinId:p,pinnedToBoard:m,pinnedToBoardId:g,savedInfo:h,shouldShowSaveHandoffExp:_,useSmallSaveIcon:y}=this.props,v=a.includes("overlay");if(!(u||d||_||v))return i;const f=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:!!d,pinnedToBoard:m,savedInfo:h}),x="#000",b="rgba(255, 255, 255, 0.8)",k="light",P="dark",{group:S}=o?e("mweb_align_save_icon"):{},w=S&&S.includes("label"),I=S&&S.includes("all_surfaces"),T=()=>{if(S&&I){if(S.includes("pin"))return"angled-pin";if(S.includes("bookmark"))return"save-outline"}return"add"},j=f?(0,Q.jsx)(s.xv,{weight:"bold",color:"light",children:r._('Saved', 'button for saving quickly with one click', 'button for saving quickly with one click, indicating pin is saved')}):(0,Q.jsx)(s.xv,{weight:"bold",color:"dark",children:r._('Save', 'button for saving quickly with one click', 'button for saving quickly with one click, indicating pin is unsaved')});let C=null;const F=a.includes("uselabel");return _?C=(0,Q.jsx)(Re,{buttonText:m?r._('Saved', 'OneTapSave.QuickSaveButton.Saved', 'Message on saved pin'):"",clientTrackingParams:n,color:m?"default":"primary",deeplinkUri:"deeplinkUri",experience:t,inline:!0,pinnedToBoardId:g,minWidth:54,pinId:p,shape:"pill",shouldShowSavedButton:!!m,showSaveHandoffExperience:_}):u?C=(0,Q.jsx)(s.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,Q.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:f?x:b}},paddingX:w?3:2,paddingY:2,rounding:w?"pill":"circle",children:(0,Q.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:[w&&j,!w&&(0,Q.jsx)(s.JO,{accessibilityLabel:f?r._('saved', 'checkmark icon to show pin has been saved', 'checkmark icon to show pin has been saved'):r._('save', 'button for saving quickly with one click', 'button for saving quickly with one click'),icon:f?"check":T(),color:f?k:P,size:y||I?16:24})]})})}):v&&(C=(0,Q.jsx)(s.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,Q.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:f?x:b}},paddingX:F?3:2,paddingY:2,rounding:F?"pill":"circle",children:(0,Q.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:F?j:(0,Q.jsx)(s.JO,{accessibilityLabel:f?r._('saved', 'checkmark icon to show pin has been saved', 'checkmark icon to show pin has been saved'):r._('save', 'button for saving quickly with one click', 'button for saving quickly with one click'),icon:f?"saved":"save-outline",color:f?k:P,size:16})})})})),(0,Q.jsxs)(l.Fragment,{children:[i,(0,Q.jsx)(s.xu,{bottom:!0,left:c,padding:2,position:"absolute",right:!c,zIndex:this.legoFixedZIndex,children:C})]})}}function Oe(e){const{showToast:i}=(0,ke.F9)(),n=(0,o.useLocation)(),a=(0,h.ZP)(),r=(0,d.Z)(),s=(0,je.Z)(),c=(0,t.useDispatch)(),u=(0,o.useHistory)(),{isRTL:p,isAuthenticated:m}=(0,I.B)(),g=(0,ze.M)(),_=(0,t.useSelector)((({session:e})=>e.unauthSavePinId)),y=m&&!!_&&_===e.pinId,{pins:v,clear:f}=(0,Ie.Z)(),x=(0,l.useRef)(!1),b=(0,Pe.mB)(n.search).ideas_referrer,k=(0,D.HG)(),{checkExperiment:S}=(0,P.F)(),w=(0,we.J1)(),T=(0,Se.N)(),j=!k&&b===String(25),F=e=>u.push(e),A=(0,t.useSelector)((i=>i.pins[e.pinId]&&i.pins[e.pinId].savedInfo)),K=(0,t.useSelector)((i=>i.pins[e.pinId]&&i.pins[e.pinId].pinned_to_board)),z=(0,t.useSelector)((e=>e.experiences[40001]));return(0,L.Z)((()=>{m&&!x.current&&v.length>0&&(x.current=!0,r({event_type:14577,aux_data:{num_unauth_saved_pins:v.length}}),[...v,..._&&S(w).anyEnabled?[{id:_}]:[]].forEach((({id:i})=>{var n;c((0,Ke.Z)({checkExperiment:S,isNativeAppInstalledContext:T,history:u,i18n:a,logContextEvent:r,onSuccess:()=>{},originalPinId:i,pinId:i,trackingParams:{clientTrackingParams:e.clientTrackingParams,pinnedToBoardId:e.pinnedToBoardId},showRepinConfirmation:()=>{},disableRepinAnimation:!0,historyPush:F,savePinId:null!==(n=null==g?void 0:g.save)&&void 0!==n?n:()=>{}})).catch((e=>{(0,C.My)(`error.unauth_profile_pin_merge.${e}`)}))})),f())})),(0,Q.jsx)(Be,{...e,checkExperiment:S,isNativeAppInstalledContext:T,i18n:a,requireAuthForLimitedLogin:s,history:u,logContextEvent:r,showToast:i,shouldShowSaveHandoffExp:y,isRTL:p,historyPush:F,useSmallSaveIcon:j,repinContext:g,savedInfo:A,pinnedToBoard:K,homepageExperience:z,dispatch:c})}Oe.displayName="OneTapSave";const qe=Oe;var Ge=n(371362);function He({boardUrl:e,boardName:i,directSaveExpGroup:n,isQuicksave:a,sectionName:l,sectionSlug:t}){const r=(0,h.ZP)(),d=(0,o.useHistory)(),c=new s.Ry(1),u=!!t&&`${e}${t}/`;let p=null;return p=n.includes("footer")?(0,Q.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:c,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,Q.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:n.includes("overlay")?0:4,children:(0,Q.jsx)(s.iP,{onTap:i=>{i.event.preventDefault(),d.push(a?"/me/":u||e)},children:(0,Q.jsx)(s.xu,{position:"absolute",bottom:!0,left:!0,right:!0,marginStart:4,marginBottom:4,marginEnd:4,children:(0,Q.jsxs)(s.xu,{position:"relative",children:[(0,Q.jsx)(s.xu,{children:(0,Q.jsx)(s.xv,{color:"light",children:r._('Saved!', 'PinCard.SavedToProfile.Overlay', 'String saying "Saved" after saving a Pin')})}),(0,Q.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",flex:"grow",children:[(0,Q.jsx)(s.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},children:(0,Q.jsx)(s.xv,{color:"light",children:l?(0,_.nk)(r._('{{sectionName}}', 'PinCard.SavedToSection.Overlay', 'Saved to section overlay, sectionName:the section name that the pin is saved to'),{sectionName:(0,Q.jsx)(s.xv,{color:"light",weight:"bold",inline:!0,children:(0,Ge.ZP)(l,22)},`pincard-${l}`)}):(0,_.nk)(r._('{{boardName}}', 'PinCard.SavedToBoard.Overlay', 'Saved to board overlay, boardName:the board name that the pin is saved to'),{boardName:(0,Q.jsx)(s.xv,{color:"light",weight:"bold",inline:!0,children:a?r._('Profile', 'PinCard.SavedToProfile.Overlay', 'Part of string saying "Saved to Profile" after saving a Pin'):(0,Ge.ZP)(i,22)},`pincard-${i}`)})})}),(0,Q.jsx)(s.xu,{position:"absolute",right:!0,bottom:!0,marginBottom:1,children:(0,Q.jsx)(s.JO,{accessibilityLabel:r._('Saved!', 'PinCard.SavedToProfile.Overlay', 'String saying "Saved" after saving a Pin'),icon:"arrow-forward",size:"16",color:"light"})})]})]})})})})}):n.includes("overlay")?(0,Q.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:c,children:(0,Q.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:n.includes("overlay")?0:4,children:(0,Q.jsx)(s.iP,{fullWidth:!0,fullHeight:!0,onTap:i=>{i.event.preventDefault(),d.push(a?"/me/":u||e)}})})}):(0,Q.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,zIndex:c,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},children:(0,Q.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"start",padding:n.includes("overlay")?0:4,children:(0,Q.jsx)(s.iP,{onTap:i=>{i.event.preventDefault(),d.push(a?"/me/":u||e)},children:(0,Q.jsx)(s.xv,{color:"light",children:l?(0,_.nk)(r._('Saved to {{sectionName}}', 'PinCard.SavedToSection.Overlay', 'Saved to section overlay'),{sectionName:(0,Q.jsx)(s.xv,{color:"light",weight:"bold",inline:!0,children:(0,Ge.ZP)(l,22)},`pincard-${l}`)}):(0,_.nk)(r._('Saved to {{boardName}}', 'PinCard.SavedToBoard.Overlay', 'Saved to board overlay'),{boardName:(0,Q.jsx)(s.xv,{color:"light",weight:"bold",inline:!0,children:a?r._('Profile', 'PinCard.SavedToProfile.Overlay', 'Part of string saying "Saved to Profile" after saving a Pin'):(0,Ge.ZP)(i,22)},`pincard-${i}`)})})})})}),p}var $e=n(391670),We=n(51536);const Ve=({clickLoggingOptions:e,domain:i,link:n,onClick:a})=>{var l;const t=null===(l=(0,$e.lO)())||void 0===l?void 0:l.logging,r=(0,h.ZP)(),o=(0,d.Z)(),c=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:{}}].map((i=>({component:0,element:162,view_type:null==t?void 0:t.viewType,view_parameter:null==t?void 0:t.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...i})));return(0,Q.jsx)(s.iP,{onTap:({event:e})=>{e.stopPropagation(),c().forEach((e=>o(e))),a(e)},children:(0,Q.jsxs)(s.xu,{marginBottom:4,marginStart:4,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",left:!0,bottom:!0,children:[(0,Q.jsx)(s.xu,{marginEnd:1,children:(0,Q.jsx)(s.JO,{size:9,icon:"arrow-up-right",color:"light",accessibilityLabel:r._('Link', 'unauth.pin.domain.link', 'Link to take them to the source of the iamge')})}),(0,Q.jsx)("a",{href:n,onClick:e=>{e.stopPropagation(),c().forEach((e=>o(e))),a(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,Q.jsx)(s.xv,{size:"200",inline:!0,weight:"bold",lineClamp:1,color:"inverse",children:(0,We.Z)(i,27)})})]})})},Ye=({domainLinkData:e})=>{const i=(0,h.ZP)(),n=(0,u.g)();return(0,Q.jsxs)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},children:[(0,Q.jsx)(s.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,display:"flex",justifyContent:"center",alignItems:"center",paddingX:2,children:(0,Q.jsx)(s.X6,{size:"400",align:"center",color:"light",children:i._('Open', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.', 'Text on hover of a pin leading to opening this pin in the same tab. This is for users who don\'t have an account on Pinterest.')})}),!!e&&(0,Q.jsx)(s.xu,{position:"absolute",bottom:!0,left:!0,width:"100%",minWidth:"100%",children:(0,Q.jsx)(Ve,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==n?void 0:n.pinLinkClickHandler)||(()=>{})})})]})};var Qe,Je=n(698303),Xe=n(525104),ei=n(935340),ii=n(738162);const ni=void 0!==Qe?Qe:Qe=n(182964),ai=({width:e,height:i,minY:n,maxY:a})=>{const l=i=>e<=0||!i?"0%":Math.round(i/e*100)+"%";return{top:n<=0?"0%":l(-1*n*i),bottom:a>=1?"0%":l(-1*(1-a)*i)}},li=({children:e,margin:i,disableRounding:n})=>(0,Q.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:i?{marginTop:i.top,marginBottom:i.bottom}:{}},position:"relative","data-test-id":"pin-visual-wrapper",children:(0,Q.jsx)(s.zd,{wash:!0,rounding:n?0:fe.mv,children:e})}),ti=({clientTrackingParams:e,color:i,data:n,description:a,directSaveExpGroup:t,domainLinkData:r,image:d,imageAltText:u,imageCrop:p,isBoardIdeas:m,isOneTapExploreLocalTab:g,isSquarePin:_,lazyLoadImage:y,onError:v,oneTapSave:f,onLoad:x,pinId:b,priorityFetchImage:k,disableDefaultContextMenu:S,pinnedToBoardId:w,productPrice:T,disableRounding:j,storyDataExists:A,title:L,type:K,videoDuration:z,viewType:E,slotIndex:R,isPromotedPin:U})=>{var M,N,Z,B,O,q,G,$,W,V,Y,J;const X=(0,h.ZP)(),ee=(0,xe.Z)(),{checkExperiment:ie}=(0,P.F)(),[ne,ae]=(0,l.useState)(!1),{isAuthenticated:le}=(0,I.B)(),te=(0,D.ZP)(),re="desktop"===te,oe=(0,ze.M)(),se=w&&!(null==oe||!oe.isSaved(b)),de=r&&r.link?"with-link":"without-link",ce=!le&&!re,ue=(0,l.useRef)(Date.now()),pe=(0,l.useRef)(null),me=(0,F.Z)(),{shouldOpenInStream:ge}=n,ye=(0,ii.I)(),{logContextEvent:fe}=(0,he.v)(),be=ie("ads_mweb_idea_ad").anyEnabled;(0,l.useEffect)((()=>{ne&&!le&&me({action:"view",item:"unauth-video-autoplay-on-hover"})}),[ne,me,le]),(0,l.useEffect)((()=>{var e,i;const n="board-image-preload-"+(R-1),a=null!==(e=null===(i=document.getElementById(n))||void 0===i?void 0:i.getAttribute("href"))&&void 0!==e?e:"";ye&&5===E&&a&&(0,ei.nP)("www.blp.preloadImageCheck",{sampleRate:5,tags:{isAuthenticated:le,deviceType:te,isEqual:a===d.url}})}),[]);const ke=(0,Q.jsx)(_e.Z,{alt:u||L||a||"",color:i,naturalHeight:null!==(M=d.height)&&void 0!==M?M:1,naturalWidth:null!==(N=d.width)&&void 0!==N?N:1,onError:v,onLoad:x,src:null!==(Z=d.url)&&void 0!==Z?Z:"",fit:_?"cover":void 0,loading:y?"lazy":"auto",fetchPriority:k?"high":"auto"}),Pe=(0,o.useLocation)(),Se=()=>(0,H.C$)(Pe)?"homefeed":(0,H.L6)(Pe)?"related_pins":(0,H.En)(Pe)?"search":"unknown",we=t.includes("enabled"),Ie=we?!w&&!(null==oe||!oe.isSaved(b)):"quick_saves"===(null===(B=n.board)||void 0===B?void 0:B.layout),Te=we?le&&(se||Ie):le&&se;return(0,Q.jsx)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:(0,Q.jsxs)(s.xu,{onContextMenu:e=>{if("desktop"!==te){const i=Se();(0,C.My)((le?"auth":"unauth")+".mweb_pin_feed.pin_image.long_press",{page:i}),le||(e.preventDefault(),e.stopPropagation())}},onTouchStart:e=>{if("desktop"!==te&&((0,C.My)("unauth.mweb.related_pin.image.touch.start"),le||null==S||S(),ue.current=Date.now(),e.changedTouches&&e.changedTouches.length>0)){const i=e.changedTouches.item(0);i&&(pe.current={x:i.pageX,y:i.pageY})}},onTouchEnd:e=>{if("desktop"!==te){const i=Se();(0,C.My)("unauth.mweb.related_pin.image.touch.end");const n=Date.now()-ue.current>500,a=pe.current;if(e.changedTouches&&e.changedTouches.length>0&&a){const l=e.changedTouches.item(0);if(l&&Math.pow(l.pageX-a.x,2)+Math.pow(l.pageY-a.y,2)>100)return;!n||le||"related_pins"!==i&&!ie("pcons_enable_context_menu_all_feeds").anyEnabled?n&&le&&fe({event_type:103,view_parameter:(0,H.C$)(Pe)?92:(0,H.L6)(Pe)?140:(0,H.En)(Pe)?43:void 0}):(null==S||S(),ee({pinId:b,location:"related-pins-long-press"}),e.stopPropagation())}}},"data-test-id":`pincard-${K}-${de}`,dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},overflow:"hidden",onMouseOver:ce||ie("prevent_open_on_hover").anyEnabled?void 0:()=>ae(!0),onMouseLeave:ce?void 0:()=>ae(!1),position:"relative",rounding:j?0:4,children:[(0,Q.jsxs)(qe,{clientTrackingParams:e||"",oneTapSave:f,isBoardIdeas:m,isOneTapExploreLocalTab:g,pinId:b,directSaveExpGroup:t,pinnedToBoardId:w,viewType:E,children:[(()=>{if("gif"===K&&!se)return(0,Q.jsx)(Je.Z,{text:X._('GIF', 'pin.pinCard.gifIconIdentifier', 'pin type identifier for gifs')});if("video"===K&&z&&!se)return(0,Q.jsx)(Je.Z,{text:z});if("storyPin"===K&&A&&!se&&!1!==ge){var e,i,a;const l=(null===(e=n.storyPinData)||void 0===e?void 0:e.pageCount)||0,t=(null===(i=n.storyPinData)||void 0===i?void 0:i.staticPageCount)||0,r=(null===(a=n.storyPinData)||void 0===a?void 0:a.totalVideoDuration)||0;if(r>0){const e=r+t*ve.oN;return(0,Q.jsx)(Je.Z,{text:(0,c.Z)(e)})}if("number"==typeof l&&l>0)return(0,Q.jsx)(Je.Z,{icon:"idea-pin",text:l.toString()})}if(be&&A&&!se&&!1!==ge&&U){var l,t;const e=(null===(l=n.storyPinData)||void 0===l?void 0:l.staticPageCount)||0,i=(null===(t=n.storyPinData)||void 0===t?void 0:t.totalVideoDuration)||0;if(i>0){const n=i+e*ve.oN;return(0,Q.jsx)(Je.Z,{text:(0,c.Z)(n)})}}return"product"===K&&T?(0,Q.jsx)(Je.Z,{text:T}):null})(),(0,Q.jsx)(li,{disableRounding:j,margin:p?ai({width:null!==(O=d.width)&&void 0!==O?O:1,height:null!==(q=d.height)&&void 0!==q?q:1,minY:p.minY,maxY:p.maxY}):void 0,children:_?(0,Q.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,Q.jsx)(s.xu,{top:!0,right:!0,bottom:!0,left:!0,position:"absolute",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:ke})}):ke})]}),ne&&!le&&(0,Q.jsx)(Ye,{domainLinkData:r}),Te&&(0,Q.jsx)(He,{boardName:null!==(G=null===($=n.board)||void 0===$?void 0:$.name)&&void 0!==G?G:"",boardUrl:null!==(W=null===(V=n.board)||void 0===V?void 0:V.url)&&void 0!==W?W:"",directSaveExpGroup:t,sectionName:null==f||null===(Y=f.section)||void 0===Y?void 0:Y.title,sectionSlug:null==f||null===(J=f.section)||void 0===J?void 0:J.slug,isQuicksave:Ie})]})})},ri=(0,ye.Z)({useGraphQLAdapter:e=>{const i=(0,r.useFragment)(ni,e);return{pin:i,pinGraphqlRef:i}},useLegacyAdapter:({pinId:e,pinnedToBoardId:i})=>{var n;const a=(0,Xe.S6)()(e),l=(0,W.gC)();if(!a)return null;const t=l(i||String(null===(n=a.board)||void 0===n?void 0:n.id));return{pin:{board:t&&{layout:t.layout,name:t.name,url:t.url},shouldOpenInStream:a.should_open_in_stream,storyPinData:a.story_pin_data&&{pageCount:a.story_pin_data.page_count,staticPageCount:a.story_pin_data.static_page_count,totalVideoDuration:a.story_pin_data.total_video_duration}},pinGraphqlRef:null}}}),oi=e=>(0,Q.jsx)(ri,{input:e.pinGraphqlRef?{enabled:!0,data:e.pinGraphqlRef}:{enabled:!1,data:{pinId:e.pinId,pinnedToBoardId:e.pinnedToBoardId}},children:({data:i})=>i&&(0,Q.jsx)(ti,{...e,data:i.pin,pinGraphqlRef:i.pinGraphqlRef})});var si=n(649796);const di={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:.8,transition:"opacity 1s ease"}},ci=(e,i,n)=>(0,Q.jsx)(s.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,Q.jsx)(s.rU,{display:"inlineBlock",href:i,tapStyle:"none",underline:"hover",children:n})},e);function ui({color:e,getFeedbackText:i,onUnfollow:n,showing:a,unfollowed:t}){const r=(0,h.ZP)(),[o,d]=(0,l.useState)(a?"fadeIn":"initial"),c=(0,l.useRef)(null);(0,l.useEffect)((()=>("initial"===o&&a&&(c.current=window.requestAnimationFrame((()=>d("fadeIn")))),()=>{c.current&&window.cancelAnimationFrame(c.current)})),[o,d,a]);const{subTitle:u,title:p,unfollow:m}=i(ci);let g=p,_=u;m&&t&&(g=m.title,_=m.subTitle);const y=()=>m?(0,si.t)(m.action,m.actionOptions,n):void 0;return a&&(0,Q.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e,...di[o]}},margin:1,rounding:4,position:"absolute",top:!0,bottom:!0,left:!0,right:!0,children:(0,Q.jsxs)(s.xu,{width:"100%",height:"100%",color:"dark",rounding:4,overflow:"auto",children:[(0,Q.jsxs)(s.xu,{padding:3,rounding:2,display:"flex",direction:"column",height:"100%",justifyContent:"between",children:[(0,Q.jsxs)(s.xu,{children:[(0,Q.jsx)(s.X6,{size:"400",color:"light",children:g}),!!_&&(0,Q.jsxs)(s.xu,{marginTop:1,children:[(0,Q.jsx)(s.xv,{color:"light",size:"200",inline:!0,children:_}),(0,Q.jsx)(s.xv,{color:"light",inline:!0,size:"200",weight:"bold",children:(0,Q.jsx)(s.rU,{href:"/edit",display:"inlineBlock",rounding:2,tapStyle:"none",underline:"hover",children:r._('Tune your home feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})})]})]}),!t&&m&&(0,Q.jsx)(s.xu,{paddingY:1,children:(0,Q.jsx)(s.zx,{fullWidth:!0,color:"white",text:r._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:y})})]}),!t&&m&&(0,Q.jsx)(s.xu,{paddingY:1,children:(0,Q.jsx)(s.zx,{fullWidth:!0,color:"white",text:r._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user'),onClick:y})})]})})}var pi=n(187768);function mi(e){const i=(0,h.ZP)(),{pinId:n,clientTrackingParams:a,directSaveExpGroup:l}=e,r=(0,ze.M)(),d=(0,o.useHistory)(),{showToast:c}=(0,ke.F9)(),u=(0,t.useSelector)((e=>e.pins[n]&&e.pins[n].savedInfo)),p=!(null==r||!r.isSaved(n))||u,m=(0,t.useDispatch)(),g=l.includes("uselabel"),_=async e=>{if(e.stopPropagation(),e.preventDefault(),p){if(!u)return;m((0,Ue.k)({boardId:u.boardId,localPinId:u.localPinId,pinId:n})),null==r||r.unsave(n);try{await m((0,Me.q)({pinId:u.localPinId||"",boardId:u.boardId,clientTrackingParams:a})),c((({hideToast:e})=>(0,Q.jsx)(be.ZP,{text:i._('Pin deleted!', 'User deleted their pin', 'User deleted their pin'),onHide:e})))}catch(l){c((({hideToast:e})=>(0,Q.jsx)(be.ZP,{type:"error",text:i._('Sorry! There was an error deleting your Pin.', 'Error when user tried to delete pin', 'Error when user tried to delete pin'),onHide:e})))}}else d.push({pathname:`/pin/${n}/repin`,state:{isOneTapSave:!0}})},y=p?(0,Q.jsx)(s.xv,{weight:"bold",size:"100",children:i._('Saved', 'button for saving quickly with one click', 'button for saving quickly with one click, indicating pin is saved')}):(0,Q.jsx)(s.xv,{weight:"bold",size:"100",children:i._('Save', 'button for saving quickly with one click', 'button for saving quickly with one click, indicating pin is unsaved')});return g?(0,Q.jsx)(s.iP,{onTap:({event:e})=>{_(e)},rounding:"circle",children:(0,Q.jsx)(s.xu,{color:"transparent",paddingX:2,paddingY:1,rounding:"pill",children:(0,Q.jsx)(s.xu,{children:y})})}):(0,Q.jsx)(s.hU,{icon:p?"saved":"save-outline",size:"sm",iconColor:"darkGray",padding:1,accessibilityLabel:p?i._('Undo save', 'PinFooterSaveButton.Unsave', 'String saying "Undo save" after saving a Pin to undo save'):i._('Save', 'PinFooterSaveButton.Save', 'String saying "Save" to ask user to save a pin'),onClick:({event:e})=>{_(e)}})}var gi=n(31407);function hi({maxRating:e,rating:i,text:n}){return(0,Q.jsxs)(s.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,Q.jsx)(gi.Z,{max_rating:e||"",rating:i||"",width:10}),n&&(0,Q.jsx)(l.Fragment,{children:(0,Q.jsx)(s.xu,{marginStart:1,overflow:"hidden",children:(0,Q.jsx)(s.xv,{size:"100",lineClamp:1,children:n})})})]})}var _i,yi=n(190253),vi=n(141418);const fi=void 0!==_i?_i:_i=n(937711);function xi({dedupeVisualAnnotations:e,description:i,gridTitle:n,pinId:a,richMetadataTitle:l,richSummaryDisplayName:t,storyPinDataId:o,storyPinDataMetadataPinTitle:d,title:c,queryRef:u}){const p=(0,r.useFragment)(fi,u);return(0,Q.jsxs)(s.xu,{paddingX:2,marginBottom:-1,display:"flex",children:[(0,Q.jsx)(s.xu,{flex:"grow",maxHeight:32,minHeight:12,overflow:"hidden",width:142,children:(0,Q.jsx)(s.xv,{lineClamp:2,size:"100",weight:"bold",children:(0,k.fs)({pinTitle:c,gridTitle:n,richSummaryDisplayName:t,richMetadataTitle:l,storyPinDataId:o,storyPinDataMetadataPinTitle:d})||i})}),(0,Q.jsx)(s.xu,{children:(0,Q.jsx)(vi.Z,{pinId:a,size:"sm",graphqlRef:p,dedupeVisualAnnotations:e})})]})}var bi,ki=n(117918),Pi=n(204722);const Si=void 0!==bi?bi:bi=n(143453),wi=({attribute:e,deviceType:i,location:n})=>{const a=(0,F.S)(n);(0,C.My)("unauth.product_attribution.click",{item:e,page:a,device:i})},Ii=({isSquarePin:e,price:i,shouldDisplayMerchant:n})=>i&&e?n?90:68:void 0,Ti=({maxPrice:e,minPrice:i,price:n})=>e&&i?`${i}-${e}`:n;function ji({dedupeVisualAnnotations:e,description:i,domain:n,graphqlRef:a,gridTitle:t,isSquarePin:r,pinId:d,priceSummary:c,richMetadataTitle:u,richSummaryDisplayName:p,storyPinDataId:m,storyPinDataMetadataPinTitle:g,title:h}){const _=(0,D.ZP)(),y=(0,o.useLocation)(),v=c&&(c.price||c.standardPrice||Ti(c)),f=(0,l.useMemo)((()=>r?2:v?3:2),[r,v]);if(!d)return null;const x=(0,k.fs)({pinTitle:h,gridTitle:t,richSummaryDisplayName:p,richMetadataTitle:u,storyPinDataId:m,storyPinDataMetadataPinTitle:g})||i,b=`/pin/${d}/`;return(0,Q.jsx)(s.xu,{paddingX:2,marginBottom:-1,marginTop:2,display:"flex",direction:"column",height:Ii({isSquarePin:r,price:v}),children:(0,Q.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[(0,Q.jsx)(s.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:(0,Q.jsxs)(E.MZ,{to:b,accessibilityLabel:x,deeplinkUri:b,children:[v&&(0,Q.jsx)(s.iP,{onTap:()=>wi({deviceType:_,attribute:"price",location:y}),children:(0,Q.jsx)(s.xv,{size:"100",weight:"bold",children:v})}),(0,Q.jsx)(s.xu,{marginTop:1,children:(0,Q.jsx)(s.iP,{onTap:()=>wi({deviceType:_,attribute:"title",location:y}),children:(0,Q.jsx)(s.xv,{size:"100",weight:"bold",lineClamp:f,children:x})})}),n&&v&&(0,Q.jsx)(s.xu,{marginTop:1,children:(0,Q.jsx)(s.iP,{onTap:()=>wi({deviceType:_,attribute:"merchant",location:y}),children:(0,Q.jsx)(s.xv,{size:"100",lineClamp:1,children:n})})})]})}),"desktop"!==_&&(0,Q.jsx)(s.xu,{children:(0,Q.jsx)(vi.Z,{dedupeVisualAnnotations:e,pinId:d,size:"sm",graphqlRef:a})})]})})}const Ci=(0,ye.Z)({useGraphQLAdapter:({queryRef:e})=>(0,r.useFragment)(Si,e),useLegacyAdapter:()=>null});function Fi({queryRef:e,...i}){return(0,Q.jsx)(Ci,{input:e?{enabled:!0,data:{queryRef:e}}:{enabled:!1,data:{pinId:i.pinId}},children:({data:e})=>(0,Q.jsx)(ji,{...i,graphqlRef:e})})}var Ai,Di=n(197838);const Li=void 0!==Ai?Ai:Ai=n(256468),Ki=({isDesktop:e})=>e?0:1,zi=e=>Boolean(e.promoter&&!e.isDownstreamPromotion),Ei=e=>{const{attribution:i,embed:n,isEligibleForWebCloseup:a,richSummary:l,videos:t,storyPinDataId:r}=e,o=n||(null==i?void 0:i.embed);return a?"oneTap":t||"video"===(null==o?void 0:o.type)?"video":"gif"===(null==o?void 0:o.type)?"gif":"product"===(null==l?void 0:l.typeName)?"product":"recipe"===(null==l?void 0:l.typeName)?"recipe":r?"storyPin":"image"},Ri=e=>{const{adDestinationUrl:i,link:n,trackedLink:a}=e;return i||a||n||""},Ui=e=>{var i,n,a;const l=null===(i=e.videos)||void 0===i?void 0:i.videoList;return l?(0,c.Z)(null!==(n=null===(a=l[Object.keys(l)[0]])||void 0===a?void 0:a.duration)&&void 0!==n?n:0):""},Mi=e=>{var i;const[n]=(null===(i=e.richSummary)||void 0===i?void 0:i.products)||[];if(!n)return null;const{offerSummary:a}=n;return a&&(a.price||a.maxPrice)},Ni=e=>e&&e.includes("/user/default")?void 0:e,Zi=(0,l.lazy)((()=>Promise.all([n.e(68138),n.e(10536)]).then(n.bind(n,91822))));function Bi({auxData:e,componentType:i,debugInfo:n,disableAppUpsell:a,disableReaction:r,disableRounding:c,duploConversationPin:g,duploDedupeVisualAnnotations:A,duploDisablePinCardPadding:q,duploFeedItemProps:G,duploIsSquarePin:H,duploLazyLoadImage:$,duploOneTapSave:W,duploPinCardDetailsMargin:V,duploPriorityFetchImage:Y,duploQueryRef:J,duploShouldAddNiiSearchParamToImageUrls:X,duploShouldAllowProductPriceIndicator:ee,feedback:ie,imageOnlyOption:ne,impressionData:ae,objectIdStr:le,pin:te,slotIndex:re,topLevelTrafficSource:oe,topLevelTrafficSourceDepth:de,trackingParams:ce,trafficSource:ue,viewData:pe,viewParameter:me,viewType:he}){var _e,ye,ve,fe,xe,be,ke,Pe,Se,we,Ie,Te,je,Ce,Fe,Ae,De;const Le=(0,h.ZP)(),Ke=(0,u.g)(),ze=(0,o.useLocation)(),Ee=(0,D.HG)(),Re=(0,O.Z)(),Ue=(0,S.yz)(),Me=(0,m._)({id:1000107}),Ne=(0,d.Z)(),Ze=(0,F.Z)(),{country:Be,isAuthenticated:Oe,isBot:qe,isSocialBot:Ge}=(0,I.B)(),{viewedSharedPins:He}=(0,t.useSelector)((({session:e})=>e)),$e=(0,t.useSelector)((({experiences:e})=>{const i=e[1000107];return!!i&&500678===i.experience_id})),We=(0,t.useSelector)((({session:e,users:i})=>(0,y.Z)(i[e.userId].created_at))),{getPinFeedbackStatus:Ve,setPinFeedbackStatus:Ye}=(0,pi.K)(),[Qe,Je]=(0,l.useState)(!1),[Xe,ei]=(0,l.useState)(!1),ii=(0,l.useRef)(),ni=(0,v.t)(),ai=te.entityId,li=!!te.storyPinDataId&&!1===te.shouldOpenInStream,ti=e=>X&&e?{...e,url:e.url&&(0,j.H5)(e.url)}:e,ri=ti(te.imageSpec_136x136),si=ti(te.imageSpec_170x),di=ti(te.imageSpec_236x),ci=ti(te.imageSpec_474x),gi=ti(te.imageSpec_736x),_i=ti(te.imageSpec_orig),vi={...[["136x136",ri],["170x",si],["236x",di],["474x",ci],["736x",gi],["orig",_i]].reduce(((e,[i,n])=>{var a,l,t,r;return n?(e[i]={dominant_color:null!==(a=n.dominantColor)&&void 0!==a?a:void 0,height:null!==(l=n.height)&&void 0!==l?l:void 0,url:null!==(t=n.url)&&void 0!==t?t:void 0,width:null!==(r=n.width)&&void 0!==r?r:void 0},e):e}),{})},{checkExperiment:fi}=(0,P.F)(),bi=Oe?fi("web_auth_exclude_original_images").anyEnabled:fi("web_unauth_exclude_original_images").anyEnabled,Si=Object.keys(vi).reduce(((e,i)=>{var n;return i&&null!==(n=vi[i])&&void 0!==n&&n.url?{...e,[i]:vi[i].url}:e}),{}),wi=e=>{var i,n;return(0,x.Z)({embedSrc:null===(i=te.embed)||void 0===i?void 0:i.src,embedType:null===(n=te.embed)||void 0===n?void 0:n.type,imagesUrls:Si,preferredResolution:e,excludeOriginals:!qe&&!Ge&&bi})},Ii=Ei(te),Ti=(0,U.Z)({isEligibleForPdp:te.isEligibleForPdp,isOosProduct:te.isOosProduct,isStaleProduct:te.isStaleProduct,pinShoppingFlags:null!==(_e=te.shoppingFlags)&&void 0!==_e?_e:void 0}),ji=(0,K.z)();(0,L.Z)((()=>{if(ji&&!Ee&&"image"===Ii){const n=vi["236x"]||vi["136x136"],a=wi("736x");if(a){var e,i;const l={pin:{board:te.board&&{entityId:te.board.entityId},category:te.category,closeupAttribution:te.closeupAttribution&&{fullName:te.closeupAttribution.fullName,imageMediumUrl:te.closeupAttribution.imageMediumUrl,username:te.closeupAttribution.username},closeupUnifiedDescription:te.closeupUnifiedDescription,domain:te.domain,dominantColor:te.dominantColor,embed:te.embed&&{src:te.embed.src,type:te.embed.type},entityId:te.entityId,gridTitle:te.gridTitle,imageSignature:te.imageSignature,isDownstreamPromotion:te.isDownstreamPromotion,isEligibleForAggregatedComments:te.isEligibleForAggregatedComments,link:te.link,linkDomain:te.linkDomain&&{officialUser:te.linkDomain.officialUser&&{fullName:te.linkDomain.officialUser.fullName,imageMediumUrl:te.linkDomain.officialUser.imageMediumUrl,imageSmallUrl:te.linkDomain.officialUser.imageSmallUrl}},mobileLink:te.mobileLink,nativeCreator:te.nativeCreator&&{fullName:te.nativeCreator.fullName,imageMediumUrl:te.nativeCreator.imageMediumUrl,imageSmallUrl:te.nativeCreator.imageSmallUrl},originPinner:te.originPinner&&{fullName:te.originPinner.fullName,imageMediumUrl:te.originPinner.imageMediumUrl,imageSmallUrl:te.originPinner.imageSmallUrl},pinJoin:te.pinJoin&&{visualAnnotation:te.pinJoin.visualAnnotation},pinnedToBoard:te.pinnedToBoard&&{entityId:te.pinnedToBoard.entityId,url:te.pinnedToBoard.url},pinner:te.pinner&&{entityId:te.pinner.entityId,fullName:te.pinner.fullName,imageMediumUrl:te.pinner.imageMediumUrl,imageSmallUrl:te.pinner.imageSmallUrl,username:te.pinner.username},promoter:te.promoter&&{__typename:"User"},richMetadata:te.richMetadata&&{__typename:"RichPinDataView",title:te.richMetadata.title,article:te.richMetadata.article&&{__typename:"ArticleMetadata"},recipe:te.richMetadata.recipe&&{__typename:"RecipeMetadata"},products:null===(e=te.richMetadata.products)||void 0===e?void 0:e.map((()=>({__typename:"RichPinProductMetadata"}))),tutorial:(null===(i=te.richMetadata)||void 0===i?void 0:i.tutorial)&&{__typename:"MakeCardTutorialMetadata"}},richSummary:te.richSummary&&{displayName:te.richSummary.displayName},section:te.section&&{entityId:te.section.entityId},storyPinDataId:te.storyPinDataId,storyPinData:te.storyPinData&&{metadata:te.storyPinData.metadata&&{pinTitle:te.storyPinData.metadata.pinTitle}},seoNoindexReason:te.seoNoindexReason,seoTitle:te.seoTitle,title:te.title,trackedLink:te.trackedLink,trackingParams:te.trackingParams},derived:{commerceData:Ti,homefeedRecommendationReason:92===me&&te.recommendationReason?{reason:te.recommendationReason.reason,reasonId:te.recommendationReason.reasonId}:null,imagesUrls:Si,imageUrl:a,placeholder:n&&{width:n.width,height:n.height,url:n.url}}};ji.setData(ai,l)}}})),(0,L.Z)((()=>{if(!Oe&&0===re&&3070===me){var e,i,n;const a=ze.pathname,{imageSignature:l,entityId:t,imageSpec_236x:r,description:o}=te;(0,B.H$)(a,l,t,r&&{dominant_color:null!==(e=r.dominantColor)&&void 0!==e?e:void 0,height:null!==(i=r.height)&&void 0!==i?i:void 0,url:r.url,width:null!==(n=r.width)&&void 0!==n?n:void 0},o)}}));const Ci=92===me&&(null===(ye=He&&He[ai])||void 0===ye?void 0:ye.inviteCode),Ai=H?{height:136,url:null==di?void 0:di.url,width:136}:[di,si,ri,gi,ci,_i].find((e=>e&&e.url))||{width:1,height:1,url:""},Li=null===(ve=te.videos)||void 0===ve||null===(fe=ve.videoList)||void 0===fe?void 0:fe.v720P,Bi=Ve({pinId:ai}),Oi=zi(te),qi=()=>{var e,i,n,a,l,t,r;const o=({user:e,linkToBoard:i})=>{var n;return{link:i?(null===(n=te.board)||void 0===n?void 0:n.url)||`/pin/${te.entityId}/`:(null==e?void 0:e.username)&&`/${e.username}/`||"",avatar:Ni(null==e?void 0:e.imageMediumUrl)||Ni(null==e?void 0:e.imageSmallUrl)}};var s,d,c,u,p,m,g;if(zi(te))return te.sponsorship&&(null===(s=te.promoter)||void 0===s?void 0:s.entityId)!==(null===(d=te.nativeCreator)||void 0===d?void 0:d.entityId)?{title:null===(c=te.nativeCreator)||void 0===c?void 0:c.fullName,subtitle:null===(u=te.promoter)||void 0===u?void 0:u.fullName,...o({user:te.nativeCreator})}:{title:Le._('Promoted by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:null===(p=te.promoter)||void 0===p?void 0:p.fullName,...o({user:te.promoter})};if(null!==(e=te.sponsorship)&&void 0!==e&&e.creator)return{title:null===(m=te.nativeCreator)||void 0===m?void 0:m.fullName,subtitle:null===(g=te.sponsorship.sponsor)||void 0===g?void 0:g.fullName,...o({user:te.nativeCreator})};if(!te.isEligibleForPdp){if(te.nativeCreator)return{title:te.nativeCreator.fullName,subtitle:"",...o({user:te.nativeCreator})};switch(me){case 3375:if(null===(i=te.linkDomain)||void 0===i||null===(n=i.officialUser)||void 0===n||!n.isPrimaryWebsiteVerified)return;const e=null!==(a=te.storyPinData)&&void 0!==a&&a.hasProductPins?te.nativeCreator:te.linkDomain.officialUser;return{title:"",subtitle:null==e?void 0:e.fullName,...o({user:e})};case 0:case 3173:return null!==(l=te.storyPinData)&&void 0!==l&&l.hasProductPins?{title:"",subtitle:null===(t=te.nativeCreator)||void 0===t?void 0:t.fullName,...o({user:te.nativeCreator,linkToBoard:!0})}:{title:te.board&&"protected"===te.board.privacy?Le._('Saved by', 'Grid pin annotation', 'Grid pin annotation'):(null===(r=te.pinner)||void 0===r?void 0:r.fullName)||"",subtitle:"",...o({user:te.pinner,linkToBoard:!0})};default:return}}},Gi=(0,f.hP)({boardFollowedByMe:!(null===(xe=te.board)||void 0===xe||!xe.followedByMe),feedbackType:null==ie?void 0:ie.type,viewParameter:me,promotion:te&&te.promoter&&{isDownstreamPromotion:!!te.isDownstreamPromotion},pinnerFollowedByMe:!(null===(be=te.pinner)||void 0===be||!be.explicitlyFollowedByMe),recommendationReason:te.recommendationReason&&{hasBoard:!!te.recommendationReason.board,reason:null!==(ke=te.recommendationReason.reason)&&void 0!==ke?ke:void 0}}),Hi=e=>{var i,n,a;const l={i18n:Le,makeNavigateLink:e};switch(Gi){case"pfy":return(0,f.Ud)({...l,feedback:{type:"pfy"}});case"pfyBoard":return(0,f.Ud)({...l,feedback:{type:"pfyBoard",recommendationReasonBoard:(null===(i=te.recommendationReason)||void 0===i?void 0:i.board)&&{name:null!==(n=te.recommendationReason.board.name)&&void 0!==n?n:"",url:null!==(a=te.recommendationReason.board.url)&&void 0!==a?a:""}}});case"topic":return(0,f.Ud)({...l,feedback:{type:"topic",sourceInterest:te.sourceInterest&&te.sourceInterest.name&&te.sourceInterest.urlName?{name:te.sourceInterest.name,url_name:te.sourceInterest.urlName}:null}});case"followed":return(0,f.Ud)({...l,feedback:{type:"followed",followed:te.pinner&&te.pinner.explicitlyFollowedByMe?{type:"pinner",pinner:te.pinner.fullName&&te.pinner.username?{full_name:te.pinner.fullName,username:te.pinner.username}:null}:{type:"board",board:te.board&&te.board.name&&te.board.url?{name:te.board.name,url:te.board.url}:null}}});case"promoted":return(0,f.Ud)({...l,feedback:{type:"promoted",promoter:!te.adMatchReason&&te.promoter&&te.promoter.fullName?{full_name:te.promoter.fullName,username:te.promoter.username}:null}});default:return null}},{category:$i,linkDomain:Wi,description:Vi,gridTitle:Yi,imageSignature:Qi,richMetadata:Ji,richSummary:Xi,title:en,sponsorship:nn,storyPinData:an}=te,[ln,tn]="string"==typeof Yi?[Yi,""]:[null==Xi?void 0:Xi.displayName,Vi],rn=null==an?void 0:an.isDeleted,on=(0,M.Z)((ze&&ze.state||{}).trackingParams||ce,te.trackingParams),sn="product"===Ii&&!Oe,{experimentsClient:dn}=(0,I.B)(),cn=$e&&!(3375===me)&&(dn.checkExperiment("mweb_pin_grid_image_only_v2").anyEnabled||dn.checkExperiment("mweb_pin_grid_image_only_v2_new_user").anyEnabled),un=$e&&!(Xi&&43===me&&!We||3375===me)||cn;let pn=null===(Pe=te.pinJoin)||void 0===Pe?void 0:Pe.visualAnnotation;A&&pn&&(pn=A({pinId:ai,visualAnnotations:pn}));const mn=(0,k.rw)(null!==(Se=te.description)&&void 0!==Se?Se:"",te.descriptionHtml||"",pn,te.altText||"",te.autoAltText||""),gn=Oe?tn:(0,b.Z)({storyPinDataId:te.storyPinDataId,pinDescription:te.description,richMetadataDescription:null!==(we=null===(Ie=te.richMetadata)||void 0===Ie?void 0:Ie.description)&&void 0!==we?we:"",richSummaryDisplayName:null!==(Te=null===(je=te.richSummary)||void 0===je?void 0:je.displayName)&&void 0!==Te?Te:"",closeupDescription:null!==(Ce=te.closeupDescription)&&void 0!==Ce?Ce:"",closeupUnifiedDescription:null!==(Fe=te.closeupUnifiedDescription)&&void 0!==Fe?Fe:""});let hn;hn="oneTap"===Ii?te.trackedLink||te.link:Oe?(0,k.BY)(ai):(0,k.bN)({pinId:ai,seoUrl:te.seoUrl});const _n={accessibilityLabel:mn||ln||tn||Le._('Pin', 'Pin accessibility label', 'Pin accessibility label'),country:Be,deeplinkUri:hn,external:"oneTap"===Ii,externalQueryParams:{pin:ai,client_tracking_params:ce},isAppUpsellDisabled:a,onTouch:n=>{var a;if((()=>{const n=(0,M.Z)(ce,te.trackingParams);if((0,C.My)(`unauth_pin_rep.click.${String(me)}`),Ne({view_type:he,view_parameter:me,element:te.storyPinDataId?12372:35,event_type:101,component:i,object_id_str:ai,clientTrackingParams:n,aux_data:{commerce_data:Ti,grid_index:re,image_signature:te.imageSignature,...e}}),"oneTap"!==Ii&&Ne({event_type:8948,view_type:he,view_parameter:me,object_id_str:ai,clientTrackingParams:n,aux_data:{image_signature:te.imageSignature,commerce_data:Ti,closeup_navigation_type:"click",grid_index:re,cosmic_ray_count:"3",...e}}),!Oe)switch(Ze({action:"click",item:"pin"}),he){case 3:(0,C.NC)("click_pin_related_image");break;case 5:(0,C.NC)("click_board_pin_image");break;case 210:(0,C.NC)("click_topic_pin_image");break;case 605:(0,C.NC)("click_shopping_category_pin_image");break;case 606:(0,C.NC)("click_videos_category_pin_image")}"oneTap"===Ii&&(Ne({event_type:8948,view_type:he,view_parameter:me,object_id_str:ai,clientTrackingParams:n,aux_data:{image_signature:te.imageSignature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...e}}),(0,Z.jC)({view_type:he,view_parameter:me,element:te.storyPinDataId?12372:35,component:i,object_id_str:ai,aux_data:{commerce_data:Ti,grid_index:re,image_signature:te.imageSignature,...e},clientTrackingParams:n}),Ne({component:i,event_type:13,view_type:3,clientTrackingParams:n,aux_data:{closeup_navigation_type:"web_closeup",image_signature:te.imageSignature},object_id_str:ai}),fi("m10n_ara_click_web_mobile").anyEnabled&&ni({attributionSourceId:te.attributionSourceId,auxData:e,campaignId:te.campaignId,clientTrackingParams:n,href:Ri(te),isPromoted:zi(te),pinId:ai,pinPromotionId:te.pinPromotionId}))})(),null==G||null===(a=G.onPinClick)||void 0===a||a.call(G),Ee){const e=494===he;if(n.metaKey||e)(0,C.My)(`unauth_pin_rep.click.cmd_button_pressed.${String(me)}`),n.preventDefault(),window.open(`/pin/${ai}/`,"_blank").focus();else if(!Oe&&Ke){const{pinImageClickHandler:e}=Ke;e({event:n,pinId:ai,linkTarget:"duploClientNav",seoUrl:te.seoUrl})}}else if(!Oe&&((0,C.My)("unauth_mweb_pin_rep.click",{viewType:he}),[3,2].includes(he))){const{group:e}=fi("mweb_unauth_lop_broad_to_narrow_new_tab_targeting",{dangerouslySkipActivation:!0});if(!e)return;let i=!1;switch(he){case 3:(e.includes("view_type_closeup")||e.includes("view_type_all"))&&(i=fi("mweb_unauth_lop_broad_to_narrow_new_tab_targeting").anyEnabled);break;case 2:(e.includes("view_type_search")||e.includes("view_type_all"))&&(i=fi("mweb_unauth_lop_broad_to_narrow_new_tab_targeting").anyEnabled)}(0,C.My)("unauth_mweb_pin_rep.click.new_tab_exp",{viewType:he,expName:"mweb_unauth_lop_broad_to_narrow_new_tab_targeting",expGroup:e,enabled:i}),i&&(n.preventDefault(),n.stopPropagation(),window.open(hn,"_blank").focus())}},pinCategory:te.category,pressState:"none",rounding:4,title:Le._('See this Pin', 'App Upsell Text after clicking on Pin in feed', 'App Upsell Text after clicking on Pin in feed'),to:{pathname:hn,state:{trackingParams:ce,trafficSource:ue,topLevelTrafficSource:oe,topLevelTrafficSourceDepth:de}},upsellType:"direct",viewParameter:me,viewType:he,clientTrackingParams:on},yn=(0,N.kb)({hasLinkDomain:!!Wi,richMetadata:Ji&&{recipe:Ji.recipe&&{fromAggregatedData:Ji.recipe.fromAggregatedData},products:null===(Ae=Ji.products)||void 0===Ae?void 0:Ae.map((({__typename:e,...i})=>i))},richSummary:Xi&&{products:Xi.products}}),vn=!ee&&["shop_feed"].includes(ue),fn=(0,t.useSelector)((({session:e})=>e.unauthSavePinId)),xn=!Oe||Oe&&!!fn&&fn===ai||W?"":fi("mweb_direct_save_from_grid_v2").group||fi("mweb_direct_save_from_grid_v2_new_user").group||"",bn=xn.includes("footer");return(0,Q.jsx)(R.dL,{auxData:{commerce_data:Ti,pwa_type:Ue,...e},component:i,impressionData:{richTypes:te.shoppingFlags||[],imageURL:Ai.url||"",isPromoted:zi(te),attributionSourceId:te.attributionSourceId,link:Ri(te),campaignId:te.campaignId,...Li?{isNativeVideoAndWatchable:!!(Li&&Li.url&&Li.height&&Li.width)||void 0,videoIdStr:Li&&(null===(De=te.videos)||void 0===De?void 0:De.entityId)||void 0}:{},...ae},isPaused:!Qe,loggingId:te.entityId,objectIdStr:le,slotIndex:re,trackingParams:ce,viewData:pe,viewParameter:me,viewType:he,children:({impressionTrackerRef:e})=>{var a,t,o,d,u,m,h,y,v,x,b,k,P,S,I,j,F,D,L,K,R,U,N,Z,B,O,X,ae;return(0,Q.jsx)(s.xu,{ref:e,children:(0,Q.jsxs)(s.xu,{"data-test-id":"pin","data-test-pin-id":ai,marginBottom:Ee?0:2,children:[(0,Q.jsxs)(s.xu,{"data-test-id":mn||ln||tn?"pin-with-alt-text":"pin-missing-alt-text",padding:q?0:Ki({isDesktop:Ee}),marginBottom:0,onContextMenu:Ee&&(te.nativeCreator||te.pinner)?e=>{e.stopPropagation(),e.preventDefault(),Re((0,Q.jsx)(Pi.Z,{desktopContextMenuState:{x:e.clientX,y:e.clientY},pinId:ai,graphqlRef:J})),(0,C.My)("pcons.dweb.pin_rep.context_menu.open")}:void 0,dangerouslySetInlineStyle:{__style:Xe?{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"}:{}},children:[(0,Q.jsxs)(E.MZ,{..._n,children:[!!Ci&&(0,Q.jsx)(ge,{inviteCode:Ci}),rn?(0,Q.jsx)(ki.Z,{isPinRep:!0}):(0,Q.jsx)(oi,{pinGraphqlRef:J,clientTrackingParams:on,color:null!==(a=te.dominantColor)&&void 0!==a?a:"",description:!tn||un&&0!==me?void 0:tn.trim(),domainLinkData:te.domain&&te.link?{clickLoggingOptions:{auxData:{objectId:ai,grid_index:re,sanitized_url:te.link}},domain:te.domain,link:te.link,onClick:null==G?void 0:G.onPinLinkClick}:void 0,disableRounding:c,image:Ai&&{dominant_color:null!==(t=Ai.dominantColor)&&void 0!==t?t:void 0,height:null!==(o=Ai.height)&&void 0!==o?o:void 0,url:null!==(d=Ai.url)&&void 0!==d?d:void 0,width:null!==(u=Ai.width)&&void 0!==u?u:void 0},imageAltText:mn,imageCrop:!H&&te.imageCrop&&"number"==typeof te.imageCrop.minY&&"number"==typeof te.imageCrop.maxY?{minY:te.imageCrop.minY,maxY:te.imageCrop.maxY}:void 0,isBoardIdeas:3173===me||13184===i,isSquarePin:H,lazyLoadImage:$,onError:()=>Je(!1),oneTapSave:W,onLoad:()=>Je(!0),priorityFetchImage:Y,disableDefaultContextMenu:()=>ei(!0),pinId:ai,pinnedToBoardId:null!==(m=null===(h=te.pinnedToBoard)||void 0===h?void 0:h.entityId)&&void 0!==m?m:"",productPrice:"product"===Ii&&ee&&!sn?Mi(te):null,slotIndex:re,storyDataExists:!!an,title:un&&0!==me?void 0:ln,type:Ii,videoDuration:Ui(te),viewType:he,directSaveExpGroup:xn,isPromotedPin:Oi})]}),"image-only"!==ne&&(Oe||Ee)&&(0,Q.jsxs)(s.xu,{children:[!Oe&&Ee&&3475!==me&&43!==me&&(0,Q.jsx)(Di.Z,{dedupeVisualAnnotations:A,pinId:ai,mode:"inlineWithScrollArrows",graphqlRef:J}),!sn&&(0,Q.jsxs)(s.xu,{position:"relative",children:[(0,Q.jsx)(E.MZ,{..._n,children:(0,Q.jsx)(s.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,ref:ii})}),(0,Q.jsx)(s.iP,{onTap:()=>{var e;null===(e=ii.current)||void 0===e||e.click()},accessibilityLabel:_n.accessibilityLabel,children:(0,Q.jsxs)(s.xu,{display:"flex",height:H?vn?104:72:void 0,marginEnd:V||1,marginStart:V||1,marginTop:xn.includes("enabled")?1:0,position:"relative",children:[(0,Q.jsx)(se,{pinGraphqlRef:J,marginTop:V,hidePinMetadata:(null==Me?void 0:Me.display_data.hideDesc)||!1,credits:qi(),hasAffiliatedProducts:!(null==an||!an.hasProductPins),isPromotedPin:Oi,isSponsoredPin:!!nn,logCreditsClick:()=>{var e;return Ne({view_type:3,element:27,event_type:102,object_id_str:ai,component:te.storyPinDataId?230:void 0,clientTrackingParams:(0,M.Z)(ce,te.trackingParams),aux_data:{pin_id:ai,...null!==(e=te.sponsorship)&&void 0!==e&&e.creator&&te.sponsorship.sponsor?{creator_id:te.sponsorship.creator.entityId,sponsor_id:te.sponsorship.sponsor.entityId}:{}}})},pinDescription:gn,pinId:ai,pinnedToBoardId:null!==(y=null===(v=te.pinnedToBoard)||void 0===v?void 0:v.entityId)&&void 0!==y?y:"",pinReactionCounts:null===(x=te.reactionCountsData)||void 0===x?void 0:x.reduce(((e,{reactionCount:i,reactionType:n})=>({...e,[String(null!=n?n:0)]:null!=i?i:0})),{}),recipeReview:"recipe"===Ii&&!un&&!(null==Xi||null===(b=Xi.aggregateRating)||void 0===b||!b.reviewCount)&&(0,Q.jsxs)(s.xu,{alignItems:"center",display:"flex",marginTop:1,children:[(0,Q.jsx)(hi,{maxRating:Xi.aggregateRating.bestRating||"",rating:Xi.aggregateRating.ratingValue||"",text:""}),!!Xi.displayCookTime&&(0,Q.jsxs)(l.Fragment,{children:[(0,Q.jsx)(s.xu,{paddingX:1,children:(0,Q.jsx)(s.xv,{size:"100",children:"·"})}),(0,Q.jsx)(s.xv,{size:"100",children:(0,z.IS)({...(0,w.u)(Xi.displayCookTime),i18n:Le})})]})]}),shouldShowReactions:!r&&(0,yi.J6)({boardIsCollaborative:null===(k=te.board)||void 0===k?void 0:k.isCollaborative,isDownstreamPromotion:te.isDownstreamPromotion,isEligibleForStaticImageIdeaPin:li,isPromoted:te.isPromoted,storyPinDataId:te.storyPinDataId,videosId:null===(P=te.videos)||void 0===P?void 0:P.entityId})&&3475!==me&&606!==he&&!(Me&&Me.display_data.hideReactions),showPriceIndicatorInPinCardDetails:vn,title:ln,type:Ii}),(0,Q.jsxs)(s.xu,{right:!0,display:"flex",children:[!Oe||cn||rn||g?null:(0,Q.jsx)(s.xu,{marginStart:1,marginTop:V,children:(0,Q.jsx)(s.xu,{height:26,width:24,children:(0,Q.jsx)(p.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,Q.jsx)(T.Z,{children:(0,Q.jsx)(Zi,{adMatchReason:te.adMatchReason,bestPinImgSrc:wi(),feedback:ie,feedbackType:Gi,getRecommendationDescription:Hi,graphqlRef:J,hideSaveOption:null!==(S=te.promotedIsRemovable)&&void 0!==S&&S,imageSignature:null!=Qi?Qi:void 0,isAdsOnlyPin:null!==(I=te.promotedIsRemovable)&&void 0!==I&&I,pinCategory:$i,pinDescription:gn,pinId:ai,pinTitle:en,sourceType:Oi?"ad":0===me?"following":void 0,viewParameter:me,viewType:he,trackingParams:ce})})})})}),bn?(0,Q.jsx)(s.xu,{right:!0,children:(0,Q.jsx)(s.xu,{children:(0,Q.jsx)(mi,{pinId:ai,pin:te,directSaveExpGroup:xn,clientTrackingParams:on})})}):null]})]})})]})]}),sn&&(0,Q.jsx)(Fi,{dedupeVisualAnnotations:A,queryRef:J,description:te.description,domain:null===(j=te.richSummary)||void 0===j?void 0:j.siteName,isSquarePin:H,gridTitle:null!==(F=te.gridTitle)&&void 0!==F?F:void 0,pinId:ai,priceSummary:yn&&{maxPrice:yn.maxPrice,minPrice:yn.minPrice,price:yn.price,standardPrice:yn.standardPrice},richMetadataTitle:null===(D=te.richMetadata)||void 0===D?void 0:D.title,richSummaryDisplayName:null===(L=te.richSummary)||void 0===L?void 0:L.displayName,storyPinDataId:te.storyPinDataId,storyPinDataMetadataPinTitle:null===(K=te.storyPinData)||void 0===K||null===(R=K.metadata)||void 0===R?void 0:R.pinTitle,title:te.title})]}),"reported"===Bi?(0,Q.jsx)(ui,{color:null!==(U=te.dominantColor)&&void 0!==U?U:"",getFeedbackText:()=>({title:Le._('Reported', 'message displayed after reporting a pin', 'message displayed after reporting a pin'),subTitle:Le._('Thanks! Your feedback helps us keep the Pinterest community safe.', 'message displayed after reporting a pin', 'message displayed after reporting a pin')}),pinId:ai,showing:!0}):(0,Q.jsx)(ui,{color:null!==(N=te.dominantColor)&&void 0!==N?N:"",getFeedbackText:e=>{const{promoter:i}=te;if(zi(te)&&null!=i&&i.fullName)return{title:"",subTitle:(0,_.nk)(Le._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'pinRep.promotedPinfeedbackText.subtitle', 'message displayed after hiding a promoted pin'),{promoter:i.fullName})};let n;switch(Gi){case"followed":const{board:i,pinner:a}=te;i&&a&&(n=(0,f.oK)({boardId:i.entityId,i18n:Le,makeNavigateLink:e,display:a.explicitlyFollowedByMe?{type:"board",data:{name:i.name,url:i.url}}:{type:"pinner",data:{full_name:a.fullName,username:a.username}}}));break;case"topic":const{sourceInterest:l}=te;l&&(n=(0,f.Iv)({i18n:Le,makeNavigateLink:e,sourceInterest:{id:l.entityId,name:l.name,url_name:l.urlName}}))}return n?{title:Le._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:Hi(e),unfollow:n}:{title:Le._('Pin hidden', 'message displayed after hiding a pin', 'message displayed after hiding a pin'),subTitle:Le._('Got it! We\'ll try to show you more relevant Pins in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}},onUnfollow:()=>Ye({pinId:ai,pinFeedbackStatus:"unfollowed"}),pinId:ai,showing:!!Bi,unfollowed:"unfollowed"===Bi,viewParameter:me,viewType:he}),!Ee&&(null==G?void 0:G.showSeoMetadata)&&!sn&&(0,Q.jsx)(s.xu,{"data-test-id":"related-pins-title",children:(0,Q.jsx)(s.iP,{onTap:()=>{Ze({action:"click",item:"related-pins-title"})},fullWidth:!1,children:(0,Q.jsx)(xi,{dedupeVisualAnnotations:A,description:te.description,gridTitle:null!==(Z=te.gridTitle)&&void 0!==Z?Z:void 0,pinId:ai,richMetadataTitle:null===(B=te.richMetadata)||void 0===B?void 0:B.title,richSummaryDisplayName:null===(O=te.richSummary)||void 0===O?void 0:O.displayName,storyPinDataId:te.storyPinDataId,storyPinDataMetadataPinTitle:null===(X=te.storyPinData)||void 0===X||null===(ae=X.metadata)||void 0===ae?void 0:ae.pinTitle,title:te.title,queryRef:J})})}),n]})})}})}const Oi=e=>{var i,n,a,l,t,r,o,s,d,c,u,p,m;const g=e=>e&&{entityId:e.id,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageSmallUrl:e.image_small_url,username:e.username},h=e=>e&&{dominantColor:e.dominant_color,height:e.height,url:e.url,width:e.width},_=e.reaction_counts;return{adMatchReason:e.ad_match_reason,adDestinationUrl:e.ad_destination_url,altText:e.alt_text,attribution:e.attribution&&{embed:e.attribution.embed&&{type:e.attribution.embed.type}},attributionSourceId:e.attribution_source_id,autoAltText:e.auto_alt_text,board:e.board&&{entityId:e.board.id,followedByMe:e.board.followed_by_me,isCollaborative:e.board.is_collaborative,name:e.board.name,privacy:e.board.privacy,url:e.board.url},campaignId:e.campaign_id?String(e.campaign_id):null,category:e.category,closeupAttribution:e.closeup_attribution&&{fullName:e.closeup_attribution.full_name,imageMediumUrl:e.closeup_attribution.image_medium_url,username:e.closeup_attribution.username},closeupDescription:e.closeup_description,closeupUnifiedDescription:e.closeup_unified_description,debug:e.debug,descriptionHtml:e.description_html,description:e.description,domain:e.domain,dominantColor:e.dominant_color,embed:e.embed&&{height:e.embed.height,src:e.embed.src,type:e.embed.type,width:e.embed.width},entityId:e.id,gridTitle:e.grid_title,imageCrop:e.image_crop&&{minY:e.image_crop.min_y,maxY:e.image_crop.max_y},imageSignature:e.image_signature,imageSpec_136x136:h(null===(i=e.images)||void 0===i?void 0:i["136x136"]),imageSpec_170x:h(null===(n=e.images)||void 0===n?void 0:n["170x"]),imageSpec_236x:h(null===(a=e.images)||void 0===a?void 0:a["236x"]),imageSpec_474x:h(null===(l=e.images)||void 0===l?void 0:l["474x"]),imageSpec_736x:h(null===(t=e.images)||void 0===t?void 0:t["736x"]),imageSpec_orig:h(null===(r=e.images)||void 0===r?void 0:r.orig),isDownstreamPromotion:e.is_downstream_promotion,isEligibleForAggregatedComments:e.is_eligible_for_aggregated_comments,isEligibleForPdp:e.is_eligible_for_pdp,isEligibleForWebCloseup:e.is_eligible_for_web_closeup,isOosProduct:e.is_oos_product,isPromoted:e.is_promoted,isStaleProduct:e.is_stale_product,linkDomain:e.link_domain&&{officialUser:e.link_domain.official_user&&{fullName:e.link_domain.official_user.full_name,entityId:null!==(o=e.link_domain.official_user.id)&&void 0!==o?o:"",imageMediumUrl:e.link_domain.official_user.image_medium_url,imageSmallUrl:e.link_domain.official_user.image_small_url,username:e.link_domain.official_user.username,isPrimaryWebsiteVerified:e.link_domain.official_user.is_primary_website_verified}},link:e.link,mobileLink:e.mobile_link,originPinner:e.origin_pinner&&{fullName:e.origin_pinner.full_name,imageMediumUrl:e.origin_pinner.image_medium_url,imageSmallUrl:e.origin_pinner.image_small_url},nativeCreator:g(e.native_creator),pinnedToBoard:e.pinned_to_board&&{entityId:null!==(s=e.pinned_to_board.id)&&void 0!==s?s:"",url:e.pinned_to_board.url},pinJoin:e.pin_join&&{visualAnnotation:e.pin_join.visual_annotation},pinner:e.pinner&&{entityId:e.pinner.id,explicitlyFollowedByMe:e.pinner.explicitly_followed_by_me,fullName:e.pinner.full_name,imageMediumUrl:e.pinner.image_medium_url,imageSmallUrl:e.pinner.image_small_url,username:e.pinner.username},pinPromotionId:e.pin_promotion_id?String(e.pin_promotion_id):null,promoter:g(e.promoter),promotedIsRemovable:e.promoted_is_removable,reactionCountsData:_&&Object.keys(_).map((e=>({reactionType:Number(e),reactionCount:_[e]}))),richMetadata:e.rich_metadata&&{description:e.rich_metadata.description,title:e.rich_metadata.title,article:e.rich_metadata.article&&{__typename:"ArticleMetadata"},recipe:e.rich_metadata.recipe&&{__typename:"RecipeMetadata",fromAggregatedData:e.rich_metadata.recipe.from_aggregated_data},products:e.rich_metadata.products&&e.rich_metadata.products.map((e=>{var i,n,a,l;return{__typename:"RichPinProductMetadata",name:e.name,offerSummary:{maxPrice:null===(i=e.offer_summary)||void 0===i?void 0:i.max_price,minPrice:null===(n=e.offer_summary)||void 0===n?void 0:n.min_price,price:null===(a=e.offer_summary)||void 0===a?void 0:a.price,standardPrice:null===(l=e.offer_summary)||void 0===l?void 0:l.standard_price}}})),tutorial:(null===(d=e.rich_metadata)||void 0===d?void 0:d.tutorial)&&{__typename:"MakeCardTutorialMetadata"}},richSummary:e.rich_summary&&{aggregateRating:e.rich_summary.aggregate_rating&&{bestRating:e.rich_summary.aggregate_rating.best_rating,ratingValue:e.rich_summary.aggregate_rating.rating_value,reviewCount:e.rich_summary.aggregate_rating.review_count},displayName:e.rich_summary.display_name,displayCookTime:e.rich_summary.display_cook_time,siteName:e.rich_summary.site_name,typeName:e.rich_summary.type_name,products:e.rich_summary.products&&e.rich_summary.products.map((e=>{var i,n,a,l;return{name:e.name,offerSummary:{maxPrice:null===(i=e.offer_summary)||void 0===i?void 0:i.max_price,minPrice:null===(n=e.offer_summary)||void 0===n?void 0:n.min_price,price:null===(a=e.offer_summary)||void 0===a?void 0:a.price,standardPrice:null===(l=e.offer_summary)||void 0===l?void 0:l.standard_price}}}))},section:e.section&&e.section.id?{entityId:e.section.id}:null,seoNoindexReason:e.seo_noindex_reason,seoTitle:e.seo_title,seoUrl:e.seo_url,shoppingFlags:e.shopping_flags,shouldOpenInStream:e.should_open_in_stream,sourceInterest:e.source_interest&&{entityId:null!==(c=e.source_interest.id)&&void 0!==c?c:"",name:e.source_interest.name,urlName:e.source_interest.url_name},sponsorship:e.sponsorship&&{creator:e.sponsorship.creator&&{entityId:null!==(u=e.sponsorship.creator.id)&&void 0!==u?u:"",fullName:e.sponsorship.creator.full_name,imageMediumUrl:e.sponsorship.creator.image_medium_url,imageSmallUrl:e.sponsorship.creator.image_small_url,username:e.sponsorship.creator.username},sponsor:e.sponsorship.sponsor&&{entityId:null!==(p=e.sponsorship.sponsor.id)&&void 0!==p?p:"",fullName:e.sponsorship.sponsor.full_name,imageMediumUrl:e.sponsorship.sponsor.image_medium_url,imageSmallUrl:e.sponsorship.sponsor.image_small_url,username:e.sponsorship.sponsor.username}},storyPinDataId:e.story_pin_data_id,storyPinData:e.story_pin_data&&{hasProductPins:e.story_pin_data.has_product_pins,isDeleted:e.story_pin_data.is_deleted,metadata:e.story_pin_data.metadata&&{pinTitle:e.story_pin_data.metadata.pin_title}},title:e.title,trackedLink:e.tracked_link,trackingParams:e.tracking_params,videos:e.videos&&{entityId:null!==(m=e.videos.id)&&void 0!==m?m:"",videoList:e.videos.video_list&&{v720P:e.videos.video_list.V_720P&&{duration:e.videos.video_list.V_720P.duration,height:e.videos.video_list.V_720P.height,width:e.videos.video_list.V_720P.width,url:e.videos.video_list.V_720P.url}}},recommendationReason:e.recommendation_reason&&{reason:e.recommendation_reason.reason,reasonId:e.recommendation_reason.reason_id,board:e.recommendation_reason.board&&{name:e.recommendation_reason.board.name,url:e.recommendation_reason.board.url}}}};function qi({pinId:e,duploQueryRef:i,...n}){const a=(0,A.Qy)(),{data:l,childDataKey:t}=(0,g.k5)(Li,i?{type:"graphqlRef",data:i}:{type:"deprecated",data:e},{type:"pin",useLegacyAdapter:Oi});return!!l&&(0,Q.jsx)(Bi,{...n,debugInfo:a&&l.debug&&(0,Q.jsx)(A.Wu,{data:l.debug}),pin:l,duploQueryRef:"graphqlRef"===t.type?t.data:null})}},698303:(e,i,n)=>{n.d(i,{Z:()=>o});var a=n(883119),l=n(377234),t=n(536042),r=n(785893);function o({text:e,icon:i,largeIdentifier:n,largeMargin:o}){const s=(0,t.ZP)();return(0,r.jsxs)(a.xu,{zIndex:new a.Ry(1),alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,l.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},"data-test-id":"PinTypeIdentifier",display:"flex",margin:o?4:2,overflow:"hidden",position:"absolute",rounding:"pill",padding:2,paddingX:n?4:void 0,height:n?36:24,top:!0,children:[i&&(0,r.jsx)(a.xu,{marginEnd:n?2:1,children:(0,r.jsx)(a.JO,{accessibilityLabel:s._('identifier that shows the pin type', 'pin.pincard.iconAccessibilityLabel', 'shows an icon with the pin type'),color:"default",icon:i,inline:!0,size:n?18:12})}),(0,r.jsx)(a.xv,{inline:!0,size:n?"200":"100",weight:"bold",children:e})]})}},729239:(e,i,n)=>{n.d(i,{Z:()=>h});var a=n(667294),l=n(883119),t=n(604541),r=n(24286),o=n(282442),s=n(946579),d=n(549201),c=n(272109),u=n(372836),p=n(367184),m=n(812889),g=n(785893);function h({customLayoutType:e,emptyState:i,feedItems:n,feedKey:h,pagination:{hasNext:_,isLoadingNext:y,loadNext:v,refetch:f},pullToRefresh:x,renderFeedItem:b,serverRender:k}){const P=(0,d.HG)(),[S,w]=(0,a.useState)(!1),I="userSearch"===e?window.innerWidth-16:200,T=y&&0===n.length&&!S,j="desktopFlashlight"===e?0:r.qG;return(0,c.Z)((()=>(window.addEventListener("online",v),()=>window.removeEventListener("online",v)))),(0,g.jsxs)(l.xu,{"data-test-id":"MobileFeed",children:[(0,g.jsx)(p.Z,{enabled:!!x,onPull:()=>{f(),w(!0)},refreshing:S}),(0,g.jsxs)(l.xu,{marginStart:j,marginEnd:j,"data-test-id":"grid",opacity:S?.5:1,children:[(0,g.jsx)(o.Z,{isAtEndOfFeed:!_,itemCount:n.length,children:n.length?(0,g.jsx)(l.xu,{"data-test-id":"feed",marginTop:(0,u.kk)({isDesktop:P}),children:(0,g.jsx)(s.Z.Consumer,{children:i=>(0,g.jsx)(a.Fragment,{children:(0,g.jsx)(u.c$,{children:(0,g.jsx)(t.Z,{cacheKey:h,id:k?h:void 0,items:n,scrollContainerRef:i,serverRender:k,columnWidth:P?r.yF:I,renderItem:({data:e,itemIdx:i})=>b(e,i),gutterWidth:P?4*r.jC:void 0,loadItems:v,minCols:"userSearch"===e?1:2})})})})}):y?(0,g.jsx)(u.gG,{}):null!=i?i:null}),T&&(0,g.jsx)(l.xu,{column:12,paddingY:2,children:(0,g.jsx)(m.Z,{partialViewportWidth:"desktopFlashlight"===e})})]})]})}},951381:(e,i,n)=>{n.d(i,{Z:()=>c});var a=n(667294),l=n(883119),t=n(943795),r=n(552369),o=n(785893);function s(e,i,n){return i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e}class d extends a.PureComponent{constructor(...e){super(...e),s(this,"onScroll",(0,r.Z)((()=>{if(this.anchorElement){const n=this.anchorElement.offsetTop+this.anchorElement.offsetHeight;window.scrollY>n&&!this.hasExited?(this.hasExited=!0,this.props.onExit()):window.scrollY<=n&&this.hasExited&&(this.hasExited=!1,this.props.onEnter());const{isOnView:a}=this;var e,i;if(a())null===(e=(i=this.props).onView)||void 0===e||e.call(i)}}),this.props.throttleTime||100)),s(this,"wasViewed",(()=>{var e;const i=null===(e=this.anchorElement)||void 0===e?void 0:e.getBoundingClientRect();return!!i&&i.top<=t.DEFAULT_HEIGHT})),s(this,"isOnView",(()=>{var e;const i=null===(e=this.anchorElement)||void 0===e?void 0:e.getBoundingClientRect();return!!i&&(i.top>=0&&i.left>=0&&i.bottom<=(window.innerHeight||window.height)-150&&i.right<=(window.innerWidth||window.width))})),s(this,"hasExited",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll)}render(){const{children:e}=this.props;return(0,o.jsx)(l.xu,{ref:e=>{var i,n;(this.anchorElement=e,this.anchorElement&&this.wasViewed())&&(null===(i=(n=this.props).onView)||void 0===i||i.call(n))},children:e})}}const c=d},337116:(e,i,n)=>{n.d(i,{Z:()=>m});var a=n(667294),l=n(883119),t=n(101789),r=n(24286),o=n(536042),s=n(802071),d=n(323215),c=n(939782),u=n(475699),p=n(785893);function m({inCollapsableModulesExp:e,titleFormat:i,titleArgsQuery:n}){const m=(0,o.ZP)(),{isAuth:g}=(0,s.Z)();return e?(0,p.jsxs)(a.Fragment,{children:[(0,p.jsx)(c.Z,{marginStart:-(r.D6+(g?d.xh:0))}),(0,p.jsx)(l.xu,{paddingX:2,marginTop:4,marginBottom:4,children:(0,p.jsx)(t.Z,{heading:m._('Skin tone range', 'closeup.skinToneRangeModule.title', 'Title for skin tone range module '),children:(0,p.jsx)(u.Z,{query:n,showHeaderText:!1})})})]}):(0,p.jsx)(l.xu,{alignItems:"center",direction:"column",display:"flex",marginTop:12,children:(0,p.jsxs)(l.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,p.jsx)(l.xu,{marginBottom:2,paddingX:4,children:(0,p.jsx)(l.xv,{align:"center",color:"default",overflow:"normal",weight:"bold",children:i})}),(0,p.jsx)(u.Z,{query:n,showHeaderText:!1})]})})}},372836:(e,i,n)=>{n.d(i,{G9:()=>u,c$:()=>m,cn:()=>g,gG:()=>p,kk:()=>c});var a=n(883119),l=n(549201),t=n(802071),r=n(460914),o=n(411224),s=n(593502),d=n(785893);const c=({isDesktop:e})=>{const i=(0,s.pinRepPaddingInBoint)({isDesktop:e});return i?-i:0},u=-2,p=()=>{const e=(0,l.HG)(),i=(0,s.pinRepPaddingInBoint)({isDesktop:e}),n=i?-i:0;return(0,d.jsx)(a.xu,{marginTop:n,marginBottom:n,paddingY:i})},m=({children:e})=>{const i=(0,l.HG)();return!(0,t.Z)().isAuth&&i?(0,d.jsx)(o.x,{children:e}):e},g=({children:e})=>(0,d.jsx)(r.Z,{onTouch:e=>{if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){const i=e.target.getBoundingClientRect().top+window.scrollY-70;window.scrollTo(window.scrollX,i)}},pressState:"none",children:e})},475699:(e,i,n)=>{n.d(i,{Z:()=>c});var a=n(883119),l=n(563962),t=n(536042),r=n(785893);function o({skinToneOvalHeight:e,skinToneOvalWidth:i,swatchColors:n}){return(0,r.jsx)(a.xu,{alignItems:"center","data-test-id":"skinToneFilterSwatch",display:"flex",overflow:"hidden",rounding:"pill",width:i,wrap:!0,children:n.map(((n,l)=>(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n}},height:e/2,width:i/2},`${n}-${l}`)))})}const s=4;const d={filter_name:"Skin tone range",filter_term:"skin_face_color_l",multi_select:!1,options:[{display:"Range 1",swatch_hex_colors:["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],term:"skin_color_bucket_id:1"},{display:"Range 2",swatch_hex_colors:["#DEBAB0","#E0999A","#DDA67C","#D98A64"],term:"skin_color_bucket_id:2"},{display:"Range 3",swatch_hex_colors:["#9A6B52","#A25847","#B37143","#BF6951"],term:"skin_color_bucket_id:3"},{display:"Range 4",swatch_hex_colors:["#683929","#34261F","#64281B","#4F2221"],term:"skin_color_bucket_id:4"}],vertical:"skin_tone"};function c({onClickApplyFilter:e,query:i,selectedSkinToneTerm:n,showHeaderText:c=!0,skinToneFilters:u=d}){const p=(0,t.ZP)(),m=(0,l.Z)(),g=u.options,h=`/search/pins/?rs=rs&q=${i}`,_=n?p._('Some ideas in this skin tone range', 'SkinToneFilters.copy.termSelected', 'Skin tone filters text'):p._('Pick a skin tone range', 'SkinToneFilters.copy.noTermSelected', 'Skin tone filters text'),{filtersContainerHeight:y,filtersContainerWidth:v,skinToneOvalHeight:f,skinToneOvalWidth:x}=function(){const e=44+2*s,i=2*(44+s),n="undefined"!=typeof window?Math.min((window.innerWidth-40)/4-s,i):0;return{filtersContainerHeight:e,filtersContainerWidth:n,skinToneOvalHeight:44,skinToneOvalWidth:n-2*s}}();return(0,r.jsxs)(a.kC,{alignItems:"center",direction:"column",height:c?88:52,children:[c&&(0,r.jsx)(a.xu,{marginBottom:2,children:(0,r.jsx)(a.xv,{color:"default",overflow:"normal",weight:"bold",children:_})}),(0,r.jsx)(a.kC,{alignItems:"stretch",flex:"none",justifyContent:"around",children:g.map((({swatch_hex_colors:l,term:t},d)=>(0,r.jsx)(a.iP,{role:"link",onTap:()=>{!function(e,i){const{index:n,query:a,onClickApplyFilter:l}=e;i({aux_data:{entered_query:a,filter_type:"skin_tone",filter_value:n},element:1341,event_type:102,view_parameter:43,view_type:2}),null==l||l()}({index:d,query:i,onClickApplyFilter:e},m)},tapStyle:"none",href:`${h}${n!==t?`&filters=${encodeURIComponent(t)}`:""}`,children:(0,r.jsx)(a.xu,{alignItems:"center","data-test-id":"skin-tone-option",color:n===t?"selected":"default",display:"flex",height:y,justifyContent:"around",rounding:"pill",width:v,children:(0,r.jsx)(a.xu,{alignItems:"center",color:"default",display:"flex",height:y-s,justifyContent:"around",rounding:"pill",width:v-s,children:(0,r.jsx)(o,{skinToneOvalHeight:f,skinToneOvalWidth:x,swatchColors:l})})})},t)))})]})}},169492:(e,i,n)=>{n.d(i,{$:()=>s,Z:()=>d});var a=n(667294),l=n(611756);const t=e=>{if(!e)return null;try{return JSON.parse(e)}catch(i){return null}},r=new Set;function o(e){const i=(0,a.useCallback)((i=>{const n=n=>{n===e&&i()};return r.add(n),()=>{r.delete(n)}}),[e]),n=(0,a.useSyncExternalStore)(i,(()=>(0,l.qn)(e)),(()=>null)),o=(0,a.useCallback)((i=>{null===i?(0,l.L_)(e):(0,l.Nh)(e,JSON.stringify(i)),function(e){r.forEach((i=>i(e)))}(e)}),[e]);return(0,a.useMemo)((()=>[t(n),o]),[n,o])}const s=2,d=()=>{const[e,i]=o("unauthSavedPins"),n=null!==(l=null==(a=e)?void 0:a.pins)&&void 0!==l?l:[];var a,l;const t=e=>i((e=>e.length?{pins:e}:null)(e)),r=()=>n.length<s;return{pins:n,save:e=>{r()&&t(n.filter((({id:i})=>i!==e.id)).concat([e]))},unsave:e=>t(n.filter((({id:i})=>i!==e))),isSaved:e=>n.some((({id:i})=>i===e)),clear:()=>t([]),canSaveMore:r}}},812889:(e,i,n)=>{n.d(i,{Z:()=>g});var a=n(667294),l=n(883119),t=n(24286),r=n(874261),o=n(549201),s=n(756876),d=n(785893);const c="PinGridSkeletonLoader__tall",u="PinGridSkeletonLoader__short",p=({size:e})=>(0,d.jsx)(l.xu,{padding:1,children:(0,d.jsx)("div",{className:"tall"===e?c:u})}),m=({children:e})=>(0,d.jsx)(l.kC,{direction:"column",gap:{row:0,column:2},children:e}),g=({partialViewportWidth:e})=>{const i="desktop"===(0,o.ZP)(),n=i?t.yF:t.tG;return(0,d.jsxs)(a.Fragment,{children:[(0,d.jsx)(r.Z,{unsafeCSS:[{name:c,height:250},{name:u,height:150}].map((({name:e,height:i})=>(0,s.Z)({name:e,width:n,height:i}))).join("")}),(0,d.jsx)(l.xu,{marginStart:t.qG,marginEnd:t.qG,children:i?(0,d.jsxs)(l.kC,{direction:"row",gap:{row:t.jC,column:0},children:[(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"tall"})}),(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"short"})}),(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"tall"})}),!e&&(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"short"})})]}):(0,d.jsxs)(l.kC,{direction:"row",overflow:"hidden",justifyContent:"center",children:[(0,d.jsxs)(m,{children:[(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]}),(0,d.jsxs)(m,{children:[(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]})]})})]})}},922204:(e,i,n)=>{n.d(i,{Z:()=>o});var a=n(702664),l=n(63262),t=n(383755),r=n(260070);function o(){const e=(0,a.useDispatch)(),{showToast:i,showOneToast:n}=(0,l.F9)();return{showToast:i,showOneToast:n,showRepinConfirmation:(n,a)=>{a||e((0,r.WF)()),setTimeout((()=>{a||e((0,r.a5)()),i(n)}),t.Tt)}}}},86829:(e,i,n)=>{n.d(i,{a:()=>a,k:()=>l});const a=e=>({type:"ONE_TAP_SAVE",payload:e}),l=e=>({type:"ONE_TAP_UNSAVE",payload:e})},77875:(e,i,n)=>{n.d(i,{w:()=>o});var a=n(994405),l=n(541268),t=n(266732),r=n(648609);const o=({pinId:e,boardId:i,checkExperiment:n,isNativeAppInstalledContext:o,i18n:s,isQuickSave:d,logContextEvent:c,onSuccess:u,onUndo:p,originalPinId:m,showNewUserSavetoProfileAnimation:g,showRepinConfirmation:h,showToast:_,section:y,trackingParams:v,isOneTapSave:f,viewType:x,historyPush:b,suggestedBoardIds:k,savePinId:P})=>(S,w)=>{var I,T,j,C,F,A,D,L,K;const{pins:z,session:E,feeds:R}=w(),U=z[e];i&&((null===(I=null!==(T=null==U?void 0:U.shopping_flags)&&void 0!==T?T:[])||void 0===I?void 0:I.length)>0||null!=U&&U.rich_summary&&(null===(j=null!==(C=null==U||null===(F=U.rich_summary)||void 0===F?void 0:F.products)&&void 0!==C?C:[])||void 0===j?void 0:j.length)>0)&&(R[`board-shop-saved-preview:${i}`]&&S((0,l.Qv)(`board-shop-saved-preview:${i}`,[U],{isPrepend:!0})),R[`board-shop-saved:${i}`]&&S((0,l.Qv)(`board-shop-saved:${i}`,[U],{isPrepend:!0})));const M=new t.Z({boardId:i,checkExperiment:n,isNativeAppInstalledContext:o,dispatch:S,i18n:s,isLegoSaveStyle:!0,isOneTapSave:f,isQuickSave:d,onSuccess:u,onUndo:p,originalPinId:m,pinId:U.id,section:y,showNewUserSavetoProfileAnimation:g,showRepinToasts:e=>h?h(e):_?_(e):void 0,trackingParams:v,userId:E.userId,viewType:x,historyPush:b,suggestedBoardIds:k,savePinId:P,pinData:{trackingParams:U.tracking_params,viewParameter:(0,r.A)({hasRichMetadata:!!U.rich_metadata,hasRichMetadataProducts:!(null===(A=U.rich_metadata)||void 0===A||!A.products),hasRichMetadataArticle:!(null===(D=U.rich_metadata)||void 0===D||!D.article),hasRichMetadataRecipe:!(null===(L=U.rich_metadata)||void 0===L||!L.recipe)}),pinnedToBoardId:null===(K=U.pinned_to_board)||void 0===K?void 0:K.id}});return(0,a.ib)({checkExperiment:n,isAuthMweb:E.isAuthenticated&&(E.isMobile||E.isTablet)}),M.processRepin(c)}},562512:(e,i,n)=>{n.d(i,{UG:()=>m,ZP:()=>h,aG:()=>g});var a=n(667294),l=n(883119),t=n(870243),r=n(536042),o=n(637362),s=n(618569),d=n(843843),c=n(785893);const u=12,p=24,m={large:"large",medium:"medium",small:"small",extra_small:"extra_small",article:"article",interest:"interest"},g={bubbleOverlay:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}}};function h({backgroundColor:e,bubbleId:i,bubbleUrl:n,coverImageUrl:h,curator:_,font:y,format:v,height:f,identifierIconType:x,onTap:b,pwtSurfaceContext:k,referringSource:P,subtitle:S,title:w,buttonFormat:I,contentAlign:T="center",textAlign:j="center",width:C="100%"}){const F=(0,r.ZP)(),A=(0,s.Z)(),[D,L]=(0,a.useState)("string"==typeof f?void 0:f),K=e=>{if(e){const i=e.offsetWidth,n="string"==typeof f?Number.parseFloat(f):100;L(i*n/100)}};if(!D)return(0,c.jsx)(l.xu,{ref:K,dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof f?Number.parseFloat(f)+"%":"100%",width:C}}});const z=v===m.article,E=v===m.interest,R=y||D>250&&"lg"||D>140&&v&&[m.medium,m.small,m.article].includes(v)&&"md"||D<120&&v&&v===m.small&&"xs"||"sm";return(0,c.jsx)(l.xu,{position:"relative","data-test-id":"search-suggestion","data-test-type":P,children:(0,c.jsx)(d.MZ,{to:n,isAppUpsellDisabled:!0,onTouch:()=>{b&&(A({action:"click",item:"search-suggestion"}),b(i))},rounding:4,children:(0,c.jsxs)(l.zd,{rounding:4,children:[(0,c.jsx)(l.xu,{width:C,height:D,children:h&&(0,c.jsx)(l.Ee,{alt:"",color:e,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:()=>{k&&k.markConstraintComplete("RenderSearchLandingPageBubbles")},role:"presentation",src:h})}),(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:g.bubbleOverlay,height:D,width:C,position:"absolute",top:!0,left:!0}),_&&!z&&(0,c.jsx)(l.xu,{position:"absolute",top:!0,left:!0,padding:2,children:(0,c.jsx)(t.qE,{outline:!0,size:"xs",src:_.image_small_url,name:_.full_name})}),!!x&&x!==o.J&&(0,c.jsx)(l.xu,{alignItems:"center",color:"default",display:"flex",height:p,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:p,children:(0,c.jsx)(l.JO,{icon:(0,o.Z)(x),accessibilityLabel:F._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",size:u})}),(0,c.jsx)(l.xu,{display:"flex",position:"absolute",top:!0,width:C,height:D,padding:z||E?6:D>100?3:1,alignItems:z||E?"end":"center",justifyContent:T,children:(0,c.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[S&&(0,c.jsx)(l.xv,{align:j,color:"light",size:"lg"===R?"300":"100",overflow:"normal",children:S}),["lg","md"].includes(R)?(0,c.jsx)(l.X6,{align:j,size:"md"===R&&E?"500":"lg"===R?"600":"400",color:"light",overflow:"normal",children:w}):(0,c.jsx)(l.xv,{align:j,color:"light",size:"sm"===R?"300":"100",overflow:"normal",weight:"bold",children:w}),_&&z&&(0,c.jsxs)(l.xu,{display:"flex",justifyContent:"center",alignItems:"center",marginTop:4,children:[(0,c.jsx)(l.xu,{marginEnd:2,children:(0,c.jsx)(t.qE,{outline:!0,size:"xs",src:_.image_small_url,name:_.full_name})}),(0,c.jsx)(l.xv,{size:"100",color:"light",weight:"bold",children:_.full_name})]}),I&&(0,c.jsx)(l.xu,{marginTop:4,children:(0,c.jsx)(l.ZP,{text:I.text,href:I.href,size:I.size,accessibilityLabel:I.accessibilityLabel})})]})})]})})})}},532243:(e,i,n)=>{n.d(i,{Z:()=>_});var a,l=n(667294),t=n(702664),r=(n(167912),n(883119)),o=n(563962),s=n(825389),d=n(637362),c=n(28630),u=n(328939),p=n(697),m=n(785893);const g=void 0!==a?a:a=n(456778);function h({auxData:e,pattern:i,slotIndex:n,storyId:a,viewType:t,viewParameter:s,storyData:{storyType:g,referringSource:h,hasTitle:_,titleFormat:y,identifierIconName:v,actionUrl:f,actionText:x,bubblesData:b},storyGraphqlRef:k}){const P=(0,o.Z)(),S={story_type:g,story_id:a,content_ids:b.map((({type:e,id:i})=>e+":"+i)).join("|"),...e};return(0,m.jsx)(u.Hs,{loggingId:a,objectIdStr:a,viewParameter:s,viewType:t,slotIndex:n,component:200,auxData:S,children:(0,m.jsxs)(l.Fragment,{children:[_&&(0,m.jsxs)(r.xu,{display:"flex",marginBottom:2,justifyContent:"center",alignItems:"center",children:["number"==typeof v&&v!==d.J&&(0,m.jsx)(r.xu,{marginEnd:2,dangerouslySetInlineStyle:{__style:{paddingTop:1}},children:(0,m.jsx)(r.JO,{accessibilityLabel:"",color:"default",icon:(0,d.Z)(v),size:14})}),(0,m.jsx)(r.xv,{weight:"bold",children:y})]}),(0,m.jsx)(p.Z,{pattern:i,referringSource:h,storyId:a,storyKey:k?{type:"graphqlRef",data:k}:{type:"deprecated",data:a},viewParameter:s,viewType:t}),f&&x&&(0,m.jsx)(r.xu,{display:"flex",width:"100%",justifyContent:"center",marginTop:1,children:(0,m.jsx)(r.ZP,{accessibilityLabel:x,color:"gray",onClick:()=>{P({view_type:t,view_parameter:s,aux_data:S,event_type:102})},text:x,href:f,rel:(0,c.Z)(f)?"nofollow":void 0,target:(0,c.Z)(f)?"blank":void 0,size:"md"})})]})})}function _({storyId:e,storyKey:i,...n}){const{data:a,childDataKey:l}=(0,s.JI)(g,i,{type:"story",useGraphQLAdapter:({storyType:e,storyTitle:i,referringSource:n,displayOptions:a,action:l,objects:t})=>({storyType:e,referringSource:n,hasTitle:!!i,titleFormat:null==i?void 0:i.format,identifierIconName:null==a?void 0:a.identifierIconName,actionUrl:null==l?void 0:l.url,actionText:(null==l?void 0:l.text)||void 0,bubblesData:(null==t?void 0:t.filter((e=>"ExploreArticle"===e.__typename)).map((e=>({id:e.entityId||"",type:e.type||""}))).filter(Boolean))||[]}),useLegacyAdapter:e=>{var i,n,a,l;const r=((null==e?void 0:e.objects)||[]).map((e=>e.id))||[],o=(0,t.useSelector)((({articles:e})=>r.map((i=>{const n=e[i];return{type:n.type,id:n.id}}))));return e?{storyType:e.story_type,referringSource:e.referring_source,hasTitle:!!e.title,titleFormat:null===(i=e.title)||void 0===i?void 0:i.format,identifierIconName:null===(n=e.display_options)||void 0===n?void 0:n.identifier_icon_name,actionUrl:null===(a=e.action)||void 0===a?void 0:a.url,actionText:null===(l=e.action)||void 0===l?void 0:l.text,bubblesData:o}:null}});return a&&(0,m.jsx)(h,{...n,storyId:e,storyData:a,storyGraphqlRef:"graphqlRef"===l.type?l.data:null})}},697:(e,i,n)=>{n.d(i,{Z:()=>u});var a,l=n(702664),t=(n(167912),n(883119)),r=n(825389),o=n(562512),s=n(226752),d=n(785893);function c({storyData:{storyType:e,bubblesData:i},onTouch:n,pattern:a=[o.UG.medium],pwtSurfaceContext:l,referringSource:r,storyId:c,viewParameter:u,viewType:p}){const m=i.map((({type:e,id:i})=>e+":"+i)).join("|");return(0,d.jsx)(t.kC,{alignItems:"stretch",justifyContent:"between",width:"100%",wrap:!0,children:i.map(((i,g)=>{var h;const _=a[g%a.length];return(0,d.jsx)(t.xu,{paddingY:1,width:[o.UG.small,o.UG.extra_small].includes(_)?"calc(50% - 4px)":"100%","data-test-id":`bubble-${g}`,children:(0,d.jsx)(s.ZP,{auxData:{content_ids:m,story_type:e,grid_index:g},bubbleKey:"ExploreArticle"===(null===(h=i.bubbleGraphqlRef)||void 0===h?void 0:h.__typename)?{type:"graphqlRef",data:i.bubbleGraphqlRef}:{type:"deprecated",data:i.id},format:_,height:([o.UG.medium,o.UG.extra_small].includes(_)?"50%":_===o.UG.article&&"73%")||"100%",onTouch:n,pwtSurfaceContext:l,referringSource:r,slotIndex:g,storyId:c,viewParameter:u,viewType:p})},`bubble-${g}`)}))})}function u({storyId:e,storyKey:i,...t}){const{data:o}=(0,r.JI)(void 0!==a?a:a=n(103018),i,{type:"story",useGraphQLAdapter:e=>{var i;return{storyType:e.storyType,bubblesData:(null===(i=e.objects)||void 0===i?void 0:i.filter((e=>"ExploreArticle"===e.__typename)).map((e=>({id:e.entityId||"",type:e.type||"",bubbleGraphqlRef:e}))).filter(Boolean))||[]}},useLegacyAdapter:e=>{const i=((null==e?void 0:e.objects)||[]).map((e=>e.id))||[],n=(0,l.useSelector)((({articles:e})=>i.map((i=>{const n=e[i];return{id:n.id,type:n.type}}))));return e?{storyType:e.type,bubblesData:n}:null}});return o&&(0,d.jsx)(c,{...t,storyId:e,storyData:o})}},226752:(e,i,n)=>{n.d(i,{Bp:()=>h,VM:()=>g,ZP:()=>_});n(167912);var a,l=n(468e3),t=n(563962),r=n(825389),o=n(245410),s=n(739425),d=n(802071),c=n(328939),u=n(562512),p=n(785893);const m=({storyCategory:e,query:i,referringSource:n,bubbleId:a,storyId:t,title:r})=>{const o=null!=e&&(0,l.y)(e),d=(0,s.XP)({q:i,rs:n||void 0,b_id:a,source_id:t}),c=o&&r?(0,l.x)({title:r,id:a,articleType:"discover"}):`/discover/article/${a}/`;return o?c:"/search/pins/"+(d?"?"+d:"")},g=e=>{var i,n,a,l,t,r,o,s,d;return{actionUrl:null===(i=e.action)||void 0===i?void 0:i.url,coverImage236xUrl:null===(n=e.cover_images[0]["236x"])||void 0===n?void 0:n.url,coverImage474xUrl:null===(a=e.cover_images[0]["474x"])||void 0===a?void 0:a.url,coverImage136x136Url:null===(l=e.cover_images[0]["136x136"])||void 0===l?void 0:l.url,coverImage170xUrl:null===(t=e.cover_images[0]["173x"])||void 0===t?void 0:t.url,coverImage222xUrl:null===(r=e.cover_images[0]["222x"])||void 0===r?void 0:r.url,coverImage90x90Url:null===(o=e.cover_images[0]["90x90"])||void 0===o?void 0:o.url,curatorFullName:null===(s=e.curator)||void 0===s?void 0:s.full_name,curatorImageSmallUrl:null===(d=e.curator)||void 0===d?void 0:d.image_small_url,dominantColors:e.dominant_colors,id:e.id,identifierIconType:e.identifier_icon_type,storyCategory:e.story_category,titleFormat:e.title.format}};function h({auxData:e,bubbleData:{actionUrl:i,coverImage236xUrl:n,coverImage474xUrl:a,coverImage136x136Url:l,coverImage170xUrl:r,coverImage222xUrl:s,coverImage90x90Url:g,curatorFullName:h,curatorImageSmallUrl:_,dominantColors:y,id:v,identifierIconType:f,storyCategory:x,titleFormat:b},font:k,format:P,height:S,onTouch:w,pwtSurfaceContext:I,referringSource:T,slotIndex:j,storyId:C,viewParameter:F,viewType:A,width:D="100%"}){const L=(0,t.Z)(),K=(0,d.Z)(),{checkExperiment:z}=(0,o.F)();if(!((n||a||l||r||s||g)&&b))return null;const E=h&&_?{full_name:h,image_small_url:_}:void 0,{isAuth:R}=K,U={"236x":n,"474x":a,"136x136":l,"170x":r,"222x":s,"90x90":g};let M="",N="";if(R&&5===A){M=z("blp_explore_bubble_image_size").group;const e=M.split("_");e.length>1&&(N=e[1])}const Z=M.startsWith("enabled")&&N?U[N]:U["474x"]||U["236x"],B=i||m({storyCategory:x,query:b,referringSource:T,bubbleId:v,storyId:C,title:b}),O=P===u.UG.article?13865:200,q=P===u.UG.article?102:6940,G=y&&y.length?y[0]:void 0;return(0,p.jsx)(c.fv,{auxData:{story_id:C,...e},impressionData:{storyCategory:x,storyIdStr:C},loggingId:C,slotIndex:j,viewParameter:F,viewType:A,children:(0,p.jsx)(u.ZP,{backgroundColor:G,bubbleId:v,bubbleUrl:B,coverImageUrl:Z,curator:E,font:k,format:P,height:S,identifierIconType:f,onTap:i=>{L({component:O,event_type:q,object_id_str:i,view_parameter:F,view_type:A,aux_data:{article_id:i,grid_index:j,...e}}),w&&w({query:b})},pwtSurfaceContext:I,referringSource:T,title:b,width:D})})}function _({bubbleKey:e,...i}){const{data:l}=(0,r.JI)(void 0!==a?a:a=n(67153),e,{type:"article",useGraphQLAdapter:e=>{var i,n,a,l,t,r,o,s,d,c;return{actionUrl:null===(i=e.action)||void 0===i?void 0:i.url,coverImage236xUrl:null===(n=e.coverImage236x)||void 0===n?void 0:n[0].url,coverImage474xUrl:null===(a=e.coverImage474x)||void 0===a?void 0:a[0].url,coverImage136x136Url:null===(l=e.coverImage136x136)||void 0===l?void 0:l[0].url,coverImage170xUrl:null===(t=e.coverImage170x)||void 0===t?void 0:t[0].url,coverImage222xUrl:null===(r=e.coverImage222x)||void 0===r?void 0:r[0].url,coverImage90x90Url:null===(o=e.coverImage90x90)||void 0===o?void 0:o[0].url,curatorFullName:null===(s=e.curator)||void 0===s?void 0:s.fullName,curatorImageSmallUrl:null===(d=e.curator)||void 0===d?void 0:d.imageSmallUrl,dominantColors:e.dominantColors,id:e.entityId||"",identifierIconType:e.identifierIconType,storyCategory:e.storyCategory,titleFormat:null===(c=e.articleTitle)||void 0===c?void 0:c.format}},useLegacyAdapter:e=>e&&g(e)});return l&&(0,p.jsx)(h,{...i,bubbleData:l})}},825199:(e,i,n)=>{n.d(i,{q:()=>l,z:()=>a});const a=["shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_story_separator"],l="checklist_education_feed_card"},819365:(e,i,n)=>{n.d(i,{Z:()=>l});var a=n(951503);const l=({containerTypeIsItemGrid:e,storyType:i})=>"BUBBLE_ONE_COL"===i||e&&!(0,a.Z)({storyType:i})},951503:(e,i,n)=>{n.d(i,{Z:()=>l});var a=n(825199);const l=({storyType:e})=>a.z.includes(e)},333741:(e,i,n)=>{n.d(i,{Z:()=>o});var a=n(667294),l=n(883119),t=n(793085),r=n(785893);const o=function({badgeSize:e,badgeSpacing:i,fullName:n,verifiedType:o,truncate:s=!1}){const d=n.split(" "),c=d.slice(0,d.length-1).join(" "),u=" ".concat(d[d.length-1]);return s?(0,r.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,r.jsx)(l.xv,{lineClamp:1,weight:"bold",children:n}),(0,r.jsx)(l.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:i}},paddingX:1,children:(0,r.jsx)(t.Z,{isVerifiedMerchant:"verifiedMerchant"===o,size:e,showVerifiedIdentity:"verifiedIdentity"===o})})]}):(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)("span",{children:c}),(0,r.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[u," ",(0,r.jsx)(l.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:i}},children:(0,r.jsx)(t.Z,{isVerifiedMerchant:"verifiedMerchant"===o,size:e,showVerifiedIdentity:"verifiedIdentity"===o})})]})]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/74491-e825792dffe6d40b.mjs.map