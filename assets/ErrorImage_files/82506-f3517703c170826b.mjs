(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[82506],{865173:(e,t,i)=>{i.d(t,{Z:()=>s,v:()=>n});const n=()=>"undefined"!=typeof navigator&&"getInstalledRelatedApps"in navigator;async function s(){if(!n())return[];try{return await navigator.getInstalledRelatedApps()}catch(e){return[]}}},951599:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(388011),s=i(245410),a=i(282802),o=i(868489),r=i(352865),l=i(185803),d=i(785893);function c({children:e,invite_code:t}){const{isAuthenticated:i,isBot:o,unauthId:d,userAgent:{platform:c,raw:p}}=(0,a.B)(),{logContextEvent:u}=(0,n.v)(),{checkExperiment:h}=(0,s.F)();return e((async(e,n,s)=>{u({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:n}}),(0,l.Z)({isAuthenticated:i,checkExperiment:h,deeplinkUri:e,fallbackUrl:s,invite_code:t,logContextEvent:u,platform:c,redirectToLite:(0,r.Rp)({isBot:o,platform:c,userAgent:p}),unauthId:d,userAgent:p,within:n})}))}const p=e=>(0,d.jsx)(o.ty,{children:t=>(0,d.jsx)(c,{...e,invite_code:t})});p.displayName="DeepLinkNavigator";const u=p},266732:(e,t,i)=>{i.d(t,{Z:()=>R});var n=i(667294),s=i(782677),a=i(883119),o=i(690108),r=i(527386),l=i(536042),d=i(630089),c=i(756513),p=i(455788),u=i(657482),h=i(767874),_=i(700453),m=i(217861),v=i(785893);const g=({i18n:e,board:t,section:i})=>i?(0,d.nk)(e._('Saved to {{sectionName}} in {{boardName}}', 'RepinRequest.appUpsell.title', 'app upsell title for repin toast success'),{sectionName:i&&i.title,boardName:t.name}).join(""):(0,v.jsx)(a.xv,{color:"default",weight:"bold",children:(0,d.nk)(e._('Saved to {{boardName}}', 'RepinRequest.appUpsell.title', 'app upsell title for repin toast success'),{boardName:t.name})});function f({board:e,copyGroup:t,hideToast:i,i18n:s,isNativeAppInstalledContext:o,section:r}){let l=(0,d.nk)(s._('Explore your saved ideas in the app. {{openApp}}', 'RepinRequest.appUpsell.cta.valueprop1', 'app upsell value prop for repin toast success'),{openApp:(0,v.jsx)(a.xu,{display:"inlineBlock",children:(0,v.jsx)(a.xv,{weight:"bold",children:s._('Open app', 'RepinRequest.appUpsell.cta.text', 'app upsell cta text for repin toast success')})})});return o.isNativeAppInstalled||(l="enabled_copy2"===t?(0,d.nk)(s._('Do more with your saved ideas in the app. {{openApp}}', 'RepinRequest.appUpsell.cta.valueprop2', 'app upsell value prop for repin toast success'),{openApp:(0,v.jsx)(a.xu,{display:"inlineBlock",children:(0,v.jsx)(a.xv,{weight:"bold",children:s._('Open app', 'RepinRequest.appUpsell.cta.text', 'app upsell cta text for repin toast success')})})}):(0,d.nk)(s._('Do more with your saved ideas in the app. {{openApp}}', 'RepinRequest.appUpsell.cta.valueprop2', 'app upsell value prop for repin toast success'),{openApp:(0,v.jsx)(a.xu,{display:"inlineBlock",children:(0,v.jsx)(a.xv,{weight:"bold",children:s._('Get app', 'RepinRequest.appUpsell.cta.text2', 'app upsell cta text for repin toast success')})})})),(0,v.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{transition:"opacity .3s ease-in-out",marginBottom:"45px"}},position:"fixed",zIndex:m.k,children:(0,v.jsx)(a.xu,{marginStart:"auto",marginEnd:"auto",borderStyle:"shadow",rounding:4,dangerouslySetInlineStyle:{__style:{width:"calc(100% - 30px)"}},color:"light",children:(0,v.jsx)(_.Z,{within:"auth-save",children:({handleOpenApp:t})=>(0,v.jsx)(a.iP,{onTap:()=>{t()},children:(0,v.jsx)(a.xu,{padding:4,rounding:4,marginBottom:8,children:(0,v.jsxs)(a.kC,{children:[(0,v.jsx)(a.kC,{justifyContent:"center",direction:"column",children:(0,v.jsx)(a.xu,{marginStart:1,marginEnd:5,padding:1,rounding:2,color:"lightWash",children:(0,v.jsx)(a.xu,{rounding:7,position:"relative",children:(0,v.jsx)(h.Z,{size:28})})})}),(0,v.jsx)(a.kC,{direction:"column",justifyContent:"center",alignItems:"center",children:(0,v.jsx)(a.xu,{children:(0,v.jsxs)(n.Fragment,{children:[(0,v.jsx)(a.xu,{marginBottom:1,children:(0,v.jsx)(g,{i18n:s,board:e,section:r})}),(0,v.jsx)(a.xv,{size:"300",children:l})]})})}),(0,v.jsx)(a.kC,{justifyContent:"center",direction:"column",children:(0,v.jsx)(a.xu,{marginStart:1,children:(0,v.jsx)(a.hU,{accessibilityLabel:s._('Cancel icon', 'app_upsell.dismissable.footer.cancel.accessibilityLabel', 'accessibility label for cancel icon to dismiss this app upsell'),icon:"cancel",onClick:({event:e})=>{i(),e.preventDefault(),e.stopPropagation()},size:"sm"})})})]})})})})})})}var x=i(348597),w=i(28557),y=i(907310);const b=e=>({duration:5e3,thumbnail:(0,v.jsx)(a.xu,{"data-test-id":"pin-save-toast",width:48,height:48,children:(0,v.jsx)(y.Z,{boardId:e})})});var I=i(550140),P=i(802071);function A({boardId:e,hideToast:t,pinId:i,originalPinId:n}){const s=(0,l.ZP)(),o=(0,P.Z)();return(0,v.jsx)(I.ZP,{primaryAction:{accessibilityLabel:s._('Change saved Pin button', 'RepinRequest.a11yChangeButton', 'Change saved Pin button'),href:`/pin/${i}/repin/?isEditingPin=true&pinBoardId=${null!=e?e:""}&&isFromToast=true&&originalPinId=${null!=n?n:""}`,label:s._('Change', 'RepinRequest.ChangeButton', 'Change saved Pin button'),size:"lg",onClick:t},duration:5e3,onHide:t,text:(0,v.jsxs)(a.xv,{children:[(0,v.jsx)(a.xv,{inline:!0,children:s._('Saved to ', 'RepinRequest.ProfileSaveToastText', 'Toast for successfully saving to profile')}),(0,v.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,v.jsx)(a.rU,{display:"inlineBlock",href:o.isAuth?`/${o.username}/_saved`:"/",target:"self",underline:"hover",children:s._('Profile', 'RepinRequest.ProfileSaveToastText.Profile', 'referring to pinner profile where pin was saved')})})]}),thumbnail:{icon:(0,v.jsx)(a.JO,{accessibilityLabel:s._('Profile', 'RepinRequest.ProfileIcon', 'Icon signifying Pin was saved to profile without a board'),icon:"history",size:22})}})}var k=i(894788),T=i(255655);const S="RepinResource",j=({board:e,section:t})=>{const i=(0,l.ZP)(),s="quick_saves"===e.layout?i._('Profile', 'EditPin.Quicksaves.BoardName', 'Name for Quicksaves board that we want to surface to users'):e.name;return t?(0,d.nk)(i._('Saved to {{sectionName}} in {{boardName}}', 'Toast for successfully saving to a section within a board', 'Toast for successfully saving to a section within a board'),{sectionName:t&&t.title,boardName:e.name}).join(""):(0,v.jsxs)(n.Fragment,{children:[(0,v.jsx)(a.xv,{color:"default",children:i._('Saved to', 'Saved to {{ boardName }}', 'Saved to {{ boardName }}')}),(0,v.jsx)(a.xv,{color:"default",weight:"bold",children:s})]})};class R{constructor({boardId:e,checkExperiment:t,isNativeAppInstalledContext:i,dispatch:n,history:a,isOneTapSave:o=!1,isQuickSave:r=!1,onSuccess:l,onUndo:d,originalPinId:c,pinId:p,section:u,showNewUserSavetoProfileAnimation:h=!1,showRepinToasts:_,trackingParams:m,userId:v,viewType:g,historyPush:f,suggestedBoardIds:w,savePinId:y,pinData:{trackingParams:b,viewParameter:I,pinnedToBoardId:P}}){var A,k,j;j=e=>(0,s.Fv)(e.resource_response.data,T.Z[S]),(k="_getNormalizedResponse")in(A=this)?Object.defineProperty(A,k,{value:j,enumerable:!0,configurable:!0,writable:!0}):A[k]=j,this.boardId=e,this.trackingParams=m,this.checkExperiment=t,this.isNativeAppInstalledContext=i,this.clientTrackingParams=(0,x.Z)(m.clientTrackingParams||"",b),this.dispatch=n,this.history=a,this.onSuccess=l,this.onUndo=d,this.originalPinId=c,this.pinId=p,this.pinnedToBoardId=m.pinnedToBoardId||(null!=P?P:""),this.showNewUserSavetoProfileAnimation=h,this.showRepinToasts=_,this.section=u,this.isOneTapSave=o,this.isQuickSave=r,this.userId=v,this.viewType=null!=g?g:3,this.historyPush=f,this.suggestedBoardIds=w,this.savePinId=y,this.pinViewParameter=I}get resourceOptions(){var e;return{pin_id:this.pinId,board_id:this.boardId,section:null===(e=this.section)||void 0===e?void 0:e.id,clientTrackingParams:this.clientTrackingParams,user_id:this.userId}}get trackingData(){return{event_type:5,element:this.isOneTapSave?10599:void 0,view_type:this.viewType,component:this.isOneTapSave?0:7,view_parameter:this.isOneTapSave?3173:this.pinViewParameter,object_id_str:this.pinId,clientTrackingParams:this.clientTrackingParams,aux_data:{board_id:this.pinnedToBoardId,destination_board_id:this.boardId,is_profile_save:!this.boardId,pin_id:this.pinId,suggested_boards:this.suggestedBoardIds}}}_createRepin(){return o.Z.create(S,{...this.resourceOptions,disable_event_log_info:!0}).callCreate()}processRepin(e){const{anyEnabled:t,group:i}=this.checkExperiment("mweb_auth_post_save_app_upsell");return this._createRepin().then((n=>{this.onSuccess&&this.onSuccess();const s=n.resource_response.data,{board:o}=s,{isQuickSave:d,originalPinId:h,showNewUserSavetoProfileAnimation:_}=this,m=({hideToast:e})=>{if(d&&!_)return(0,v.jsx)(A,{hideToast:e,pinId:s.id,boardId:s.board.id,originalPinId:h});const{thumbnail:n}=b(o.id);return t&&!u.Z.getItem("saveAppUpsellViewed")?(u.Z.setItem("saveAppUpsellViewed",!0),(0,v.jsx)(p.Z,{children:(0,v.jsx)(a.mh,{children:(0,v.jsx)(l.oz,{children:t=>(0,v.jsx)(f,{board:o,copyGroup:i,hideToast:e,i18n:t,isNativeAppInstalledContext:this.isNativeAppInstalledContext,section:this.section})})})})):(0,v.jsx)(w.Z,{button:(0,v.jsx)(l.oz,{children:e=>(0,v.jsx)(a.zx,{fullWidth:!0,onClick:({event:t})=>{t.preventDefault(),t.stopPropagation();const{onUndo:i}=this;var n;i&&!_?i(this.pinId,s.id,o.id,null===(n=this.section)||void 0===n?void 0:n.id,e):_&&this.historyPush(`/pin/${s.id}/repin/?isEditingPin=true&pinBoardId=${o.id}&&isFromToast=true&&originalPinId=${null!=h?h:""}`)},text:_?e._('Organize', 'RepinRequest.OrganizeButton', 'Button to allow users to organize saved pins'):e._('Undo', 'RepinRequest.UndoButton', 'Undo saved pin button')})}),href:this.section?`${o.url}${null!==(r=this.section.slug)&&void 0!==r?r:""}`:o.url,isRepinToExistingBoard:!0,onHide:e,text:(0,v.jsx)(j,{board:o,section:this.section}),thumbnail:n});var r},g=this._getNormalizedResponse(n);if(this.dispatch((0,c.XM)(S,this.resourceOptions,n,g)),this.savePinId(this.resourceOptions.pin_id,s.id),this.originalPinId&&this.originalPinId!==this.resourceOptions.pin_id){const e={...this.resourceOptions,pin_id:this.originalPinId};this.dispatch((0,c.XM)(S,e,n,g)),this.savePinId(this.originalPinId||"",s.id)}this.dispatch((0,k.M)(s.id,o.id,this.section?this.section.id:void 0,this.userId));const{showRepinToasts:x}=this;return x&&x(m),this.dispatch((0,r.fO)({event_type:5})),e(this.trackingData),s}))}}},700453:(e,t,i)=>{i.d(t,{B:()=>_,Z:()=>m});var n=i(667294),s=i(616550),a=i(40660),o=i(388011),r=i(788241),l=i(988014),d=i(98736),c=i(618569),p=i(799006),u=i(951599),h=i(785893);const _=e=>"/"===e.pathname?"/":(0,l.am)(e)?`board/${e.pathname.substr(1)}`:e.pathname.substr(1);function m({children:e,componentType:t,within:i}){const l=(0,s.useLocation)(),{flushContextEvents:m,logContextEvent:v}=(0,o.v)(),{viewType:g,viewParameter:f}=(0,r.SU)(),x=(0,c.Z)();(0,n.useEffect)((()=>{x({action:"view",item:"download-button",within:i})}),[l,i,x]);const w=(0,n.useRef)(!1);(0,n.useEffect)((()=>{g&&202!==g?(v({component:t||13106,element:10308,event_type:9976,view_type:g,view_parameter:f,aux_data:{app_upsell_type:i,app_upsell_is_dupe:w.current}}),w.current=!0):a.Z.increment("webapp.track_app_upsell_viewed_invalid_parameters",1,{component:t,view_type:g,view_parameter:f,app_upsell_type:i,app_upsell_is_dupe:w.current})}),[t,v,f,g,i]);const y=(0,p.Z)();return(0,n.useEffect)((()=>{y||(0,d.My)(`mweb.app_upsell.forbidden_upsell.${i}`)}),[y,i]),(0,h.jsx)(u.Z,{children:n=>e({handleOpenApp:e=>{var s;(x({action:"click",item:"download-button",within:i}),(0,d.NC)("press_open_app",!0),v({component:t||13106,element:10308,event_type:102,view_type:g||202,view_parameter:f,aux_data:{app_upsell_type:i}}),v({component:t||13106,element:10308,event_type:9977,view_type:g||202,view_parameter:f,aux_data:{app_upsell_type:i}}),m(!0),n)&&(v({component:t||13106,element:10308,event_type:1701,view_type:g||202,view_parameter:f,aux_data:{app_upsell_type:i}}),n(null!==(s=null==e?void 0:e.deepLinkUri)&&void 0!==s?s:_(l),i))}})})}},799006:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(702664);const s=()=>(0,n.useSelector)((({session:{canUseNativeApp:e}})=>e))},726425:(e,t,i)=>{i.d(t,{N:()=>l,h:()=>d});var n=i(667294),s=i(865173),a=i(583592),o=i(785893);const{Provider:r,useHook:l}=(0,a.Z)("NativeAppInstalled");function d({children:e}){const[t,i]=(0,n.useState)(!1),a=(0,n.useCallback)((e=>{i(e)}),[]);(0,n.useEffect)((()=>{!async function(){(await(0,s.Z)()).length>0&&i(!0)}()}),[]);const l=(0,n.useMemo)((()=>({isNativeAppInstalled:t,setIsNativeAppInstalledVal:a})),[t,a]);return(0,o.jsx)(r,{value:l,children:e})}},348597:(e,t,i)=>{function n(e,t){return e||`${t||""}~0`}i.d(t,{Z:()=>n})},352865:(e,t,i)=>{i.d(t,{G3:()=>c,Rp:()=>d,kp:()=>l});var n=i(736409),s=i(611756),a=i(173085);const o=14*n.F4;function r(e,t,i){return e-t>i}const l=e=>{const t=function(){const e=Date.now(),t=Number((0,s.qn)("appUpsell"));return{currentTime:e,firstUpsellTime:Number((0,s.qn)("firstUpsellTime")),lastUpsellTime:t,showedAppUpsellCurrentSession:Boolean((0,a.qn)("showedAppUpsellCurrentSession"))}}();return e?function(e,t,i){const{currentTime:n,firstUpsellTime:a,lastUpsellTime:l,showedAppUpsellCurrentSession:d}=e;return i=i||o,!a||function(e,t,i){return e<t+i}(n,a,t)?!d:!!r(n,l,i)&&((0,s.L_)("firstUpsellTime"),!0)}(t,n.F4):function(e,t){const{currentTime:i,lastUpsellTime:n}=e;return t=t||o,!n||r(i,n,t)}(t)},d=({isBot:e,platform:t,userAgent:i})=>{try{return!e&&"android"===t&&parseFloat((e=>{const t=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return t?t[1]:void 0})(i))<7}catch(n){return!1}},c=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},185803:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(40660),s=i(865173),a=i(739425);const o="http://play.google.com/store/apps/details?id=com.pinterest",r=["access_token","new_password","new_password_confirm","password","next"],l=(e,t)=>t?(0,a.ru)(e,{invite_code:t}):e,d=(e,t,i)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){const t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return"string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e?l(e,i):"ios"===t||"ipad"===t?l(e.iOS,i):"android"===t?l(e.android,i):null},c=({isAuthenticated:e,checkExperiment:t,deeplinkUri:i,fallbackUrl:l,invite_code:c,logContextEvent:p,platform:u,redirectToLite:h,unauthId:_,userAgent:m,within:v})=>{null==p||p({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:v}});let g="https://pinterest.onelink.me/TVSr/21e04bfd";switch(null==t?void 0:t(e?"mweb_auth_apple_app_store_custom_page_referral":"mweb_unauth_apple_app_store_custom_page_referral").group){case"enabled_1":g="https://pinterest.onelink.me/TVSr/d47vxerq";break;case"enabled_2":g="https://pinterest.onelink.me/TVSr/hhstj28i";break;case"enabled_3":g="https://pinterest.onelink.me/TVSr/b16kbfgq";break;case"enabled_4":g="https://pinterest.onelink.me/TVSr/nfh3eyy2";break;case"enabled_5":g="https://pinterest.onelink.me/TVSr/elsthgd7"}if(i){const t=(({deeplinkUri:e,invite_code:t,platform:i,fallbackUrl:n,unauthId:s})=>({deeplink_path:d(e,i,t),current_page_url:(0,a.Gw)("undefined"!=typeof window?window.location.href:"",r),install_id:s,utm_source:140,utm_medium:2152,...n?{af_r:n}:null}))({isAuthenticated:e,deeplinkUri:i,fallbackUrl:l,invite_code:c,platform:u,unauthId:_,userAgent:m});if(n.Z.increment("mweb.deeplink",1,{platform:u}),c&&n.Z.increment("mweb.deeplink.invite_code",1),n.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:Boolean(_)}),h){n.Z.increment("mweb.deeplink.lite_link",1),null==p||p({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:v}});const e=(({unauthId:e})=>{const t=(0,a.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e});return{referrer:encodeURI(t)}})({unauthId:_});window.location.href=(0,a.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===u){null==p||p({component:14347,element:13582,event_type:703,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:v}});const e=(({deeplinkUri:e,invite_code:t,platform:i,unauthId:n})=>{const s=JSON.stringify({deeplink_path:d(e,i,t),current_page_url:(0,a.Gw)("undefined"!=typeof window?window.location.href:"",r),install_id:n});return{referrer:(0,a.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:s})}})({deeplinkUri:i,invite_code:c,platform:u,unauthId:_});(0,s.v)()?(0,s.Z)().then((i=>{if(i.length>0){const e=(0,a.ru)(window.location.href,t);window.open(e)}else null==p||p({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:v}}),window.location.href=(0,a.ru)(o,e)})).catch((()=>{n.Z.increment("mweb_android.deeplink.playStore.error",1)})):(null==p||p({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:v}}),window.location.href=(0,a.ru)(o,e))}else{if(n.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===u&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal"))return void(window.location.href=(0,a.ru)("https://pinterest.com/pinterest-predicts",t));null==p||p({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:v}}),window.location.href=(0,a.ru)(g,t)}}}},383755:(e,t,i)=>{i.d(t,{Hn:()=>p,Jw:()=>m,L7:()=>n,Qc:()=>s,Tt:()=>g,UF:()=>d,UV:()=>o,W1:()=>a,Ws:()=>u,ZW:()=>l,cK:()=>v,cy:()=>_,o4:()=>h,tr:()=>c,vF:()=>r});const n=1,s=2,a="female",o="male",r="unspecified",l="en-US",d="US",c=3,p="has_done_closeup",u="Gender",h="InterestPicker",_="LoadingStep",m="AppInstall",v={NUX_GENDER_STEP_NAME:u,NUX_INTEREST_PICKER_STEP_NAME:h,NUX_LOADING_STEP_NAME:_,NUX_APP_INSTALL_STEP_NAME:m},g=2500},28557:(e,t,i)=>{i.d(t,{Z:()=>z});var n=i(667294),s=i(376030),a=i(883119),o=i(536042),r=i(455788),l=i(272109),d=i(874261),c=i(785893);function p({addedStyles:e,button:t,headerText:i,icon:s,iconOverride:o,minHeight:r,subHeaderText:l}){return(0,c.jsx)(a.xu,{display:"flex",justifyContent:"center",width:"100vw",paddingX:2,children:(0,c.jsxs)(a.xu,{alignContent:"center",alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{boxShadow:"0 3px 6px rgba(0,0,0,0.18)",transform:"translateY(-20px)",...e}},display:"flex",minHeight:r||75,padding:6,position:"relative",rounding:4,width:"100%",children:[(()=>{const e=o||(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(d.Z,{unsafeCSS:"\n@keyframes baseEduToastIconScale {\n  0% {\n    transform: scale(0)\n  }\n  30% {\n    transform: scale(1.2);\n  }\n  50% {\n    transform: scale(1);\n  }\n}\n"}),(0,c.jsx)(a.xu,{alignItems:"center",color:"education","data-test-id":"pin-save-toast",direction:"column",dangerouslySetInlineStyle:{__style:{animation:"baseEduToastIconScale 3s"}},display:"flex",height:60,justifyContent:"center",minHeight:60,minWidth:60,rounding:"circle",width:60,children:(0,c.jsx)(a.JO,{accessibilityLabel:s.accessibilityLabel,color:s.color,dangerouslySetSvgPath:s.dangerouslySetSvgPath,icon:s.icon,inline:s.inline,size:s.size})})]});return(0,c.jsx)(a.xu,{marginEnd:4,children:e})})(),(0,c.jsxs)(a.xu,{marginEnd:"auto",children:[(0,c.jsx)(a.xv,{color:"default",weight:"bold",children:i}),!!l&&(0,c.jsx)(a.xu,{paddingY:1,children:(0,c.jsx)(a.xv,{size:"300",color:"default",children:l})})]}),(0,c.jsx)(a.xu,{display:"flex",flex:"shrink",marginStart:2,children:t})]})})}var u=i(217861);function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const _=(e,t)=>(e-t)/2,m=200,v=68,g=_(v,68),f=_(v,66),x=_(v,60),w="cubicBezier(0.25, 0.1, 0.25, 1)",y="encourageToastIconContainer",b="encourageToastIconRadiateBg",I="encourageToastIconRadiateRing",P={targets:`#${y}`,duration:300,scale:1.4,easing:w},A={targets:`#${y}`,duration:300,scale:1,easing:w,endDelay:1e3},k={targets:`#${y}`,duration:300,scale:.42,easing:w},T={targets:`#${b}`,duration:400,opacity:0,scale:1.6,easing:w},S={targets:`#${I}`,duration:650,opacity:0,scale:2,easing:w};function j({hiding:e,visible:t}){return t?e?{opacity:0,transform:"scale(1.0)",transition:"opacity transform .2s"}:{opacity:1,transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)"}:Object.freeze({})}class R extends n.PureComponent{constructor(...e){super(...e),h(this,"delayTimer",null),h(this,"requestAnimationFrameId",null),h(this,"playAnimation",(()=>{this.requestAnimationFrameId=window.requestAnimationFrame((()=>{(0,s.Z)(T),(0,s.Z)(S),(0,s.Z)(P).finished.then((()=>{(0,s.Z)(A).finished.then((()=>{s.Z.set(`#${y}`,{transformOrigin:"top right"}),(0,s.Z)(k)}))}))}))})),h(this,"getHeaderText",(()=>{const{text:e}=this.props;return Array.isArray(e)?e[0]:e})),h(this,"getIconProps",(()=>({accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30}))),h(this,"getSubHeaderText",(()=>{const{text:e}=this.props;return e instanceof Array&&e.length>1&&e[1]?e[1]:""})),h(this,"renderAnimatedIcon",(()=>(0,c.jsxs)(a.xu,{height:v,position:"relative",width:v,children:[(0,c.jsx)(a.xu,{"data-test-id":"pin-save-toast",width:60,height:60,overflow:"hidden",position:"absolute",rounding:4,dangerouslySetInlineStyle:{__style:{left:`${x}px`,top:`${x}px`}},children:this.props.thumbnail}),(0,c.jsxs)(a.xu,{id:y,height:v,width:v,dangerouslySetInlineStyle:{__style:{transform:"scale(0)"}},position:"absolute",children:[(0,c.jsx)(a.xu,{color:"infoBase",id:b,width:68,height:68,position:"absolute",rounding:"circle",dangerouslySetInlineStyle:{__style:{left:`${g}px`,top:`${g}px`,transform:"scale(0)"}}}),(0,c.jsx)(a.xu,{id:I,width:66,height:66,position:"absolute",rounding:"circle",opacity:1,dangerouslySetInlineStyle:{__style:{borderWidth:"2px",borderStyle:"solid",borderColor:"#0074e8",left:`${f}px`,top:`${f}px`,transform:"scale(0)"}}}),(0,c.jsx)(a.xu,{alignItems:"center",color:"infoBase",direction:"column",display:"flex",height:v,justifyContent:"center",minHeight:v,minWidth:v,position:"absolute",rounding:"circle",width:v,children:(0,c.jsx)(a.JO,{accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})})]})]})))}componentDidMount(){this.delayTimer=setTimeout(this.playAnimation,700)}componentWillUnmount(){this.delayTimer&&clearTimeout(this.delayTimer),this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}render(){const{isRepinToExistingBoard:e,button:t}=this.props,i=e;return(0,c.jsx)(p,{button:t,headerText:this.getHeaderText(),icon:this.getIconProps(),iconOverride:i?void 0:this.renderAnimatedIcon(),subHeaderText:this.getSubHeaderText()})}}function z(e){const{duration:t,onHide:i}=e,s=(0,o.ZP)(),[d,p]=(0,n.useState)(!1),[h,_]=(0,n.useState)(!1),v=(0,n.useRef)(),g=()=>{p(!0),v.current=setTimeout(i,m)},f=()=>{v.current&&clearTimeout(v.current)};(0,l.Z)((()=>(setTimeout((()=>_(!0)),100),v.current=setTimeout(g,t||u.w),f)));let x=(0,c.jsx)(R,{...e,i18n:s});return e.href&&(x=(0,c.jsx)(a.rU,{href:e.href,onClick:g,rounding:"pill",tapStyle:"none",children:x})),(0,c.jsx)(r.Z,{children:(0,c.jsx)(a.mh,{children:(0,c.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...j({hiding:d,visible:h})}},justifyContent:"center",position:"fixed",width:"100%",display:"flex",zIndex:u.k,children:x})})})}},922204:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(702664),s=i(63262),a=i(383755),o=i(260070);function r(){const e=(0,n.useDispatch)(),{showToast:t,showOneToast:i}=(0,s.F9)();return{showToast:t,showOneToast:i,showRepinConfirmation:(i,n)=>{n||e((0,o.WF)()),setTimeout((()=>{n||e((0,o.a5)()),t(i)}),a.Tt)}}}},86829:(e,t,i)=>{i.d(t,{a:()=>n,k:()=>s});const n=e=>({type:"ONE_TAP_SAVE",payload:e}),s=e=>({type:"ONE_TAP_UNSAVE",payload:e})},540459:(e,t,i)=>{i.d(t,{L:()=>r,q:()=>l});var n=i(690108),s=i(911767),a=i(541268),o=i(274796);function r(e){return t=>{const{inSelectAll:i,selectedPinIds:r,orbacSubjectId:l,source:{boardId:d,sectionId:c}}=e,p=i?"BulkEditSelectAllResource":"BulkEditResource",u={board_id:d,section_id:c,pin_ids:r,orbac_subject_id:l};return t((0,s.xQ)(d)),t((0,a.EX)({feedId:c||d,feedType:c?o.Z.BOARD_SECTION_PINS:o.Z.BOARDFEED,inverseSelection:i,itemIds:r,itemType:"pin"})),n.Z.create(p,u).callDelete()}}const l=({pinId:e,boardId:t,boardSectionId:i,clientTrackingParams:s})=>(a,o)=>{const r=n.Z.create("PinResource",{id:e,client_tracking_params:s}).callDelete(),{session:{userId:l}}=o();return a(((e,t,i,n)=>({type:"PIN_DELETE",payload:{pinId:e,boardId:t,boardSectionId:i,userId:n}}))(e,t,i,l)),r}},77875:(e,t,i)=>{i.d(t,{w:()=>r});var n=i(994405),s=i(541268),a=i(266732),o=i(648609);const r=({pinId:e,boardId:t,checkExperiment:i,isNativeAppInstalledContext:r,i18n:l,isQuickSave:d,logContextEvent:c,onSuccess:p,onUndo:u,originalPinId:h,showNewUserSavetoProfileAnimation:_,showRepinConfirmation:m,showToast:v,section:g,trackingParams:f,isOneTapSave:x,viewType:w,historyPush:y,suggestedBoardIds:b,savePinId:I})=>(P,A)=>{var k,T,S,j,R,z,U,E,N;const{pins:C,session:Z,feeds:B}=A(),O=C[e];t&&((null===(k=null!==(T=null==O?void 0:O.shopping_flags)&&void 0!==T?T:[])||void 0===k?void 0:k.length)>0||null!=O&&O.rich_summary&&(null===(S=null!==(j=null==O||null===(R=O.rich_summary)||void 0===R?void 0:R.products)&&void 0!==j?j:[])||void 0===S?void 0:S.length)>0)&&(B[`board-shop-saved-preview:${t}`]&&P((0,s.Qv)(`board-shop-saved-preview:${t}`,[O],{isPrepend:!0})),B[`board-shop-saved:${t}`]&&P((0,s.Qv)(`board-shop-saved:${t}`,[O],{isPrepend:!0})));const L=new a.Z({boardId:t,checkExperiment:i,isNativeAppInstalledContext:r,dispatch:P,i18n:l,isLegoSaveStyle:!0,isOneTapSave:x,isQuickSave:d,onSuccess:p,onUndo:u,originalPinId:h,pinId:O.id,section:g,showNewUserSavetoProfileAnimation:_,showRepinToasts:e=>m?m(e):v?v(e):void 0,trackingParams:f,userId:Z.userId,viewType:w,historyPush:y,suggestedBoardIds:b,savePinId:I,pinData:{trackingParams:O.tracking_params,viewParameter:(0,o.A)({hasRichMetadata:!!O.rich_metadata,hasRichMetadataProducts:!(null===(z=O.rich_metadata)||void 0===z||!z.products),hasRichMetadataArticle:!(null===(U=O.rich_metadata)||void 0===U||!U.article),hasRichMetadataRecipe:!(null===(E=O.rich_metadata)||void 0===E||!E.recipe)}),pinnedToBoardId:null===(N=O.pinned_to_board)||void 0===N?void 0:N.id}});return(0,n.ib)({checkExperiment:i,isAuthMweb:Z.isAuthenticated&&(Z.isMobile||Z.isTablet)}),L.processRepin(c)}},648609:(e,t,i)=>{i.d(t,{A:()=>n});const n=({hasRichMetadata:e,hasRichMetadataProducts:t,hasRichMetadataArticle:i,hasRichMetadataRecipe:n})=>e?t?144:i?141:n?145:139:140},217861:(e,t,i)=>{i.d(t,{k:()=>o,w:()=>a});var n=i(883119),s=i(360675);const a=2e3,o=new n.H3([s.Z])}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/82506-f3517703c170826b.mjs.map