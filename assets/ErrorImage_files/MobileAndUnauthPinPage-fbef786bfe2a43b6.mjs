(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[18192,51879,43795,16117,51798,91449,19596,3875,24661,90984,57565,75721,75794,35303,42298,15558,14324,8575,49314,99551,77263,76030,93729,97431,28901,14947,73383,11056,20673,24321,70640,71708,19079,63743,77355,69263,5453,19828],{376030:(e,t,n)=>{n.d(t,{Z:()=>re});var i={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},a={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},l=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],o={CSS:{},springs:{}};function r(e,t,n){return Math.min(Math.max(e,t),n)}function s(e,t){return e.indexOf(t)>-1}function d(e,t){return e.apply(null,t)}var c={arr:function(e){return Array.isArray(e)},obj:function(e){return s(Object.prototype.toString.call(e),"Object")},pth:function(e){return c.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||c.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},nil:function(e){return c.und(e)||null===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return c.hex(e)||c.rgb(e)||c.hsl(e)},key:function(e){return!i.hasOwnProperty(e)&&!a.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function u(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function p(e,t){var n=u(e),i=r(c.und(n[0])?1:n[0],.1,100),a=r(c.und(n[1])?100:n[1],.1,100),l=r(c.und(n[2])?10:n[2],.1,100),s=r(c.und(n[3])?0:n[3],.1,100),d=Math.sqrt(a/i),p=l/(2*Math.sqrt(a*i)),m=p<1?d*Math.sqrt(1-p*p):0,h=1,g=p<1?(p*d-s)/m:-s+d;function _(e){var n=t?t*e/1e3:e;return n=p<1?Math.exp(-n*p*d)*(h*Math.cos(m*n)+g*Math.sin(m*n)):(h+g*n)*Math.exp(-n*d),0===e||1===e?e:1-n}return t?_:function(){var t=o.springs[e];if(t)return t;for(var n=1/6,i=0,a=0;;)if(1===_(i+=n)){if(++a>=16)break}else a=0;var l=i*n*1e3;return o.springs[e]=l,l}}function m(e){return void 0===e&&(e=10),function(t){return Math.ceil(r(t,1e-6,1)*e)*(1/e)}}var h,g,_=function(){var e=.1;function t(e,t){return 1-3*t+3*e}function n(e,t){return 3*t-6*e}function i(e){return 3*e}function a(e,a,l){return((t(a,l)*e+n(a,l))*e+i(a))*e}function l(e,a,l){return 3*t(a,l)*e*e+2*n(a,l)*e+i(a)}return function(t,n,i,o){if(0<=t&&t<=1&&0<=i&&i<=1){var r=new Float32Array(11);if(t!==n||i!==o)for(var s=0;s<11;++s)r[s]=a(s*e,t,i);return function(e){return t===n&&i===o||0===e||1===e?e:a(d(e),n,o)}}function d(n){for(var o=0,s=1;10!==s&&r[s]<=n;++s)o+=e;--s;var d=o+(n-r[s])/(r[s+1]-r[s])*e,c=l(d,t,i);return c>=.001?function(e,t,n,i){for(var o=0;o<4;++o){var r=l(t,n,i);if(0===r)return t;t-=(a(t,n,i)-e)/r}return t}(n,d,t,i):0===c?d:function(e,t,n,i,l){var o,r,s=0;do{(o=a(r=t+(n-t)/2,i,l)-e)>0?n=r:t=r}while(Math.abs(o)>1e-7&&++s<10);return r}(n,o,o+e,t,i)}}}(),y=(h={linear:function(){return function(e){return e}}},g={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=r(e,1,10),i=r(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-i/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/i)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,t){g[e]=function(){return function(e){return Math.pow(e,t+2)}}})),Object.keys(g).forEach((function(e){var t=g[e];h["easeIn"+e]=t,h["easeOut"+e]=function(e,n){return function(i){return 1-t(e,n)(1-i)}},h["easeInOut"+e]=function(e,n){return function(i){return i<.5?t(e,n)(2*i)/2:1-t(e,n)(-2*i+2)/2}},h["easeOutIn"+e]=function(e,n){return function(i){return i<.5?(1-t(e,n)(1-2*i))/2:(t(e,n)(2*i-1)+1)/2}}})),h);function v(e,t){if(c.fnc(e))return e;var n=e.split("(")[0],i=y[n],a=u(e);switch(n){case"spring":return p(e,t);case"cubicBezier":return d(_,a);case"steps":return d(m,a);default:return d(i,a)}}function f(e){try{return document.querySelectorAll(e)}catch(t){return}}function b(e,t){for(var n=e.length,i=arguments.length>=2?arguments[1]:void 0,a=[],l=0;l<n;l++)if(l in e){var o=e[l];t.call(i,o,l,e)&&a.push(o)}return a}function x(e){return e.reduce((function(e,t){return e.concat(c.arr(t)?x(t):t)}),[])}function k(e){return c.arr(e)?e:(c.str(e)&&(e=f(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function P(e,t){return e.some((function(e){return e===t}))}function S(e){var t={};for(var n in e)t[n]=e[n];return t}function w(e,t){var n=S(e);for(var i in e)n[i]=t.hasOwnProperty(i)?t[i]:e[i];return n}function T(e,t){var n=S(e);for(var i in t)n[i]=c.und(e[i])?t[i]:e[i];return n}function I(e){return c.rgb(e)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t=e))?"rgba("+n[1]+",1)":t:c.hex(e)?function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,i){return t+t+n+n+i+i})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(e):c.hsl(e)?function(e){var t,n,i,a=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),l=parseInt(a[1],10)/360,o=parseInt(a[2],10)/100,r=parseInt(a[3],10)/100,s=a[4]||1;function d(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==o)t=n=i=r;else{var c=r<.5?r*(1+o):r+o-r*o,u=2*r-c;t=d(u,c,l+1/3),n=d(u,c,l),i=d(u,c,l-1/3)}return"rgba("+255*t+","+255*n+","+255*i+","+s+")"}(e):void 0;var t,n}function A(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function C(e,t){return c.fnc(e)?e(t.target,t.id,t.total):e}function j(e,t){return e.getAttribute(t)}function E(e,t,n){if(P([n,"deg","rad","turn"],A(t)))return t;var i=o.CSS[t+n];if(!c.und(i))return i;var a=document.createElement(e.tagName),l=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;l.appendChild(a),a.style.position="absolute",a.style.width=100+n;var r=100/a.offsetWidth;l.removeChild(a);var s=r*parseFloat(t);return o.CSS[t+n]=s,s}function R(e,t,n){if(t in e.style){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=e.style[t]||getComputedStyle(e).getPropertyValue(i)||"0";return n?E(e,a,n):a}}function L(e,t){return c.dom(e)&&!c.inp(e)&&(!c.nil(j(e,t))||c.svg(e)&&e[t])?"attribute":c.dom(e)&&P(l,t)?"transform":c.dom(e)&&"transform"!==t&&R(e,t)?"css":null!=e[t]?"object":void 0}function D(e){if(c.dom(e)){for(var t,n=e.style.transform||"",i=/(\w+)\(([^)]*)\)/g,a=new Map;t=i.exec(n);)a.set(t[1],t[2]);return a}}function F(e,t,n,i){var a=s(t,"scale")?1:0+function(e){return s(e,"translate")||"perspective"===e?"px":s(e,"rotate")||s(e,"skew")?"deg":void 0}(t),l=D(e).get(t)||a;return n&&(n.transforms.list.set(t,l),n.transforms.last=t),i?E(e,l,i):l}function z(e,t,n,i){switch(L(e,t)){case"transform":return F(e,t,i,n);case"css":return R(e,t,n);case"attribute":return j(e,t);default:return e[t]||0}}function M(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=A(e)||0,a=parseFloat(t),l=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return a+l+i;case"-":return a-l+i;case"*":return a*l+i}}function O(e,t){if(c.col(e))return I(e);if(/\s/g.test(e))return e;var n=A(e),i=n?e.substr(0,e.length-n.length):e;return t?i+t:i}function B(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Z(e){for(var t,n=e.points,i=0,a=0;a<n.numberOfItems;a++){var l=n.getItem(a);a>0&&(i+=B(t,l)),t=l}return i}function N(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*j(e,"r")}(e);case"rect":return function(e){return 2*j(e,"width")+2*j(e,"height")}(e);case"line":return function(e){return B({x:j(e,"x1"),y:j(e,"y1")},{x:j(e,"x2"),y:j(e,"y2")})}(e);case"polyline":return Z(e);case"polygon":return function(e){var t=e.points;return Z(e)+B(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function U(e,t){var n=t||{},i=n.el||function(e){for(var t=e.parentNode;c.svg(t)&&c.svg(t.parentNode);)t=t.parentNode;return t}(e),a=i.getBoundingClientRect(),l=j(i,"viewBox"),o=a.width,r=a.height,s=n.viewBox||(l?l.split(" "):[0,0,o,r]);return{el:i,viewBox:s,x:s[0]/1,y:s[1]/1,w:o,h:r,vW:s[2],vH:s[3]}}function K(e,t,n){function i(n){void 0===n&&(n=0);var i=t+n>=1?t+n:0;return e.el.getPointAtLength(i)}var a=U(e.el,e.svg),l=i(),o=i(-1),r=i(1),s=n?1:a.w/a.vW,d=n?1:a.h/a.vH;switch(e.property){case"x":return(l.x-a.x)*s;case"y":return(l.y-a.y)*d;case"angle":return 180*Math.atan2(r.y-o.y,r.x-o.x)/Math.PI}}function V(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=O(c.pth(e)?e.totalLength:e,t)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:c.str(e)||t?i.split(n):[]}}function H(e){return b(e?x(c.arr(e)?e.map(k):k(e)):[],(function(e,t,n){return n.indexOf(e)===t}))}function G(e){var t=H(e);return t.map((function(e,n){return{target:e,id:n,total:t.length,transforms:{list:D(e)}}}))}function W(e,t){var n=S(t);if(/^spring/.test(n.easing)&&(n.duration=p(n.easing)),c.arr(e)){var i=e.length;2===i&&!c.obj(e[0])?e={value:e}:c.fnc(t.duration)||(n.duration=t.duration/i)}var a=c.arr(e)?e:[e];return a.map((function(e,n){var i=c.obj(e)&&!c.pth(e)?e:{value:e};return c.und(i.delay)&&(i.delay=n?0:t.delay),c.und(i.endDelay)&&(i.endDelay=n===a.length-1?t.endDelay:0),i})).map((function(e){return T(e,n)}))}function $(e,t){var n=[],i=t.keyframes;for(var a in i&&(t=T(function(e){for(var t=b(x(e.map((function(e){return Object.keys(e)}))),(function(e){return c.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),n={},i=function(i){var a=t[i];n[a]=e.map((function(e){var t={};for(var n in e)c.key(n)?n==a&&(t.value=e[n]):t[n]=e[n];return t}))},a=0;a<t.length;a++)i(a);return n}(i),t)),t)c.key(a)&&n.push({name:a,tweens:W(t[a],e)});return n}function q(e,t){var n;return e.tweens.map((function(i){var a=function(e,t){var n={};for(var i in e){var a=C(e[i],t);c.arr(a)&&1===(a=a.map((function(e){return C(e,t)}))).length&&(a=a[0]),n[i]=a}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(i,t),l=a.value,o=c.arr(l)?l[1]:l,r=A(o),s=z(t.target,e.name,r,t),d=n?n.to.original:s,u=c.arr(l)?l[0]:d,p=A(u)||A(s),m=r||p;return c.und(o)&&(o=d),a.from=V(u,m),a.to=V(M(o,u),m),a.start=n?n.end:0,a.end=a.start+a.delay+a.duration+a.endDelay,a.easing=v(a.easing,a.duration),a.isPath=c.pth(l),a.isPathTargetInsideSVG=a.isPath&&c.svg(t.target),a.isColor=c.col(a.from.original),a.isColor&&(a.round=1),n=a,a}))}var Y={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,i,a){if(i.list.set(t,n),t===i.last||a){var l="";i.list.forEach((function(e,t){l+=t+"("+e+") "})),e.style.transform=l}}};function X(e,t){G(e).forEach((function(e){for(var n in t){var i=C(t[n],e),a=e.target,l=A(i),o=z(a,n,l,e),r=M(O(i,l||A(o)),o),s=L(a,n);Y[s](a,n,r,e.transforms,!0)}}))}function J(e,t){return b(x(e.map((function(e){return t.map((function(t){return function(e,t){var n=L(e.target,t.name);if(n){var i=q(t,e),a=i[i.length-1];return{type:n,property:t.name,animatable:e,tweens:i,duration:a.end,delay:i[0].delay,endDelay:a.endDelay}}}(e,t)}))}))),(function(e){return!c.und(e)}))}function Q(e,t){var n=e.length,i=function(e){return e.timelineOffset?e.timelineOffset:0},a={};return a.duration=n?Math.max.apply(Math,e.map((function(e){return i(e)+e.duration}))):t.duration,a.delay=n?Math.min.apply(Math,e.map((function(e){return i(e)+e.delay}))):t.delay,a.endDelay=n?a.duration-Math.max.apply(Math,e.map((function(e){return i(e)+e.duration-e.endDelay}))):t.endDelay,a}var ee=0;var te=[],ne=function(){var e;function t(n){for(var i=te.length,a=0;a<i;){var l=te[a];l.paused?(te.splice(a,1),i--):(l.tick(n),a++)}e=a>0?requestAnimationFrame(t):void 0}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){ae.suspendWhenDocumentHidden&&(ie()?e=cancelAnimationFrame(e):(te.forEach((function(e){return e._onDocumentVisibility()})),ne()))})),function(){e||ie()&&ae.suspendWhenDocumentHidden||!(te.length>0)||(e=requestAnimationFrame(t))}}();function ie(){return!!document&&document.hidden}function ae(e){void 0===e&&(e={});var t,n=0,l=0,o=0,s=0,d=null;function c(e){var t=window.Promise&&new Promise((function(e){return d=e}));return e.finished=t,t}var u=function(e){var t=w(i,e),n=w(a,e),l=$(n,e),o=G(e.targets),r=J(o,l),s=Q(r,n),d=ee;return ee++,T(t,{id:d,children:[],animatables:o,animations:r,duration:s.duration,delay:s.delay,endDelay:s.endDelay})}(e);c(u);function p(){var e=u.direction;"alternate"!==e&&(u.direction="normal"!==e?"normal":"reverse"),u.reversed=!u.reversed,t.forEach((function(e){return e.reversed=u.reversed}))}function m(e){return u.reversed?u.duration-e:e}function h(){n=0,l=m(u.currentTime)*(1/ae.speed)}function g(e,t){t&&t.seek(e-t.timelineOffset)}function _(e){for(var t=0,n=u.animations,i=n.length;t<i;){var a=n[t],l=a.animatable,o=a.tweens,s=o.length-1,d=o[s];s&&(d=b(o,(function(t){return e<t.end}))[0]||d);for(var c=r(e-d.start-d.delay,0,d.duration)/d.duration,p=isNaN(c)?1:d.easing(c),m=d.to.strings,h=d.round,g=[],_=d.to.numbers.length,y=void 0,v=0;v<_;v++){var f=void 0,x=d.to.numbers[v],k=d.from.numbers[v]||0;f=d.isPath?K(d.value,p*x,d.isPathTargetInsideSVG):k+p*(x-k),h&&(d.isColor&&v>2||(f=Math.round(f*h)/h)),g.push(f)}var P=m.length;if(P){y=m[0];for(var S=0;S<P;S++){m[S];var w=m[S+1],T=g[S];isNaN(T)||(y+=w?T+w:T+" ")}}else y=g[0];Y[a.type](l.target,a.property,y,l.transforms),a.currentValue=y,t++}}function y(e){u[e]&&!u.passThrough&&u[e](u)}function v(e){var i=u.duration,a=u.delay,h=i-u.endDelay,v=m(e);u.progress=r(v/i*100,0,100),u.reversePlayback=v<u.currentTime,t&&function(e){if(u.reversePlayback)for(var n=s;n--;)g(e,t[n]);else for(var i=0;i<s;i++)g(e,t[i])}(v),!u.began&&u.currentTime>0&&(u.began=!0,y("begin")),!u.loopBegan&&u.currentTime>0&&(u.loopBegan=!0,y("loopBegin")),v<=a&&0!==u.currentTime&&_(0),(v>=h&&u.currentTime!==i||!i)&&_(i),v>a&&v<h?(u.changeBegan||(u.changeBegan=!0,u.changeCompleted=!1,y("changeBegin")),y("change"),_(v)):u.changeBegan&&(u.changeCompleted=!0,u.changeBegan=!1,y("changeComplete")),u.currentTime=r(v,0,i),u.began&&y("update"),e>=i&&(l=0,u.remaining&&!0!==u.remaining&&u.remaining--,u.remaining?(n=o,y("loopComplete"),u.loopBegan=!1,"alternate"===u.direction&&p()):(u.paused=!0,u.completed||(u.completed=!0,y("loopComplete"),y("complete"),!u.passThrough&&"Promise"in window&&(d(),c(u)))))}return u.reset=function(){var e=u.direction;u.passThrough=!1,u.currentTime=0,u.progress=0,u.paused=!0,u.began=!1,u.loopBegan=!1,u.changeBegan=!1,u.completed=!1,u.changeCompleted=!1,u.reversePlayback=!1,u.reversed="reverse"===e,u.remaining=u.loop,t=u.children;for(var n=s=t.length;n--;)u.children[n].reset();(u.reversed&&!0!==u.loop||"alternate"===e&&1===u.loop)&&u.remaining++,_(u.reversed?u.duration:0)},u._onDocumentVisibility=h,u.set=function(e,t){return X(e,t),u},u.tick=function(e){o=e,n||(n=o),v((o+(l-n))*ae.speed)},u.seek=function(e){v(m(e))},u.pause=function(){u.paused=!0,h()},u.play=function(){u.paused&&(u.completed&&u.reset(),u.paused=!1,te.push(u),h(),ne())},u.reverse=function(){p(),u.completed=!u.reversed,h()},u.restart=function(){u.reset(),u.play()},u.remove=function(e){oe(H(e),u)},u.reset(),u.autoplay&&u.play(),u}function le(e,t){for(var n=t.length;n--;)P(e,t[n].animatable.target)&&t.splice(n,1)}function oe(e,t){var n=t.animations,i=t.children;le(e,n);for(var a=i.length;a--;){var l=i[a],o=l.animations;le(e,o),o.length||l.children.length||i.splice(a,1)}n.length||i.length||t.pause()}ae.version="3.2.1",ae.speed=1,ae.suspendWhenDocumentHidden=!0,ae.running=te,ae.remove=function(e){for(var t=H(e),n=te.length;n--;){oe(t,te[n])}},ae.get=z,ae.set=X,ae.convertPx=E,ae.path=function(e,t){var n=c.str(e)?f(e)[0]:e,i=t||100;return function(e){return{property:e,el:n,svg:U(n),totalLength:N(n)*(i/100)}}},ae.setDashoffset=function(e){var t=N(e);return e.setAttribute("stroke-dasharray",t),t},ae.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",i=t.easing?v(t.easing):null,a=t.grid,l=t.axis,o=t.from||0,r="first"===o,s="center"===o,d="last"===o,u=c.arr(e),p=u?parseFloat(e[0]):parseFloat(e),m=u?parseFloat(e[1]):0,h=A(u?e[1]:e)||0,g=t.start||0+(u?p:0),_=[],y=0;return function(e,t,c){if(r&&(o=0),s&&(o=(c-1)/2),d&&(o=c-1),!_.length){for(var v=0;v<c;v++){if(a){var f=s?(a[0]-1)/2:o%a[0],b=s?(a[1]-1)/2:Math.floor(o/a[0]),x=f-v%a[0],k=b-Math.floor(v/a[0]),P=Math.sqrt(x*x+k*k);"x"===l&&(P=-x),"y"===l&&(P=-k),_.push(P)}else _.push(Math.abs(o-v));y=Math.max.apply(Math,_)}i&&(_=_.map((function(e){return i(e/y)*y}))),"reverse"===n&&(_=_.map((function(e){return l?e<0?-1*e:-e:Math.abs(y-e)})))}return g+(u?(m-p)/y:p)*(Math.round(100*_[t])/100)+h}},ae.timeline=function(e){void 0===e&&(e={});var t=ae(e);return t.duration=0,t.add=function(n,i){var l=te.indexOf(t),o=t.children;function r(e){e.passThrough=!0}l>-1&&te.splice(l,1);for(var s=0;s<o.length;s++)r(o[s]);var d=T(n,w(a,e));d.targets=d.targets||e.targets;var u=t.duration;d.autoplay=!1,d.direction=t.direction,d.timelineOffset=c.und(i)?u:M(i,u),r(t),t.seek(d.timelineOffset);var p=ae(d);r(p),o.push(p);var m=Q(o,e);return t.delay=m.delay,t.endDelay=m.endDelay,t.duration=m.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},ae.easing=v,ae.penner=y,ae.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};const re=ae},294184:(e,t)=>{var n;!function(){var i={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var l=typeof n;if("string"===l||"number"===l)e.push(n);else if(Array.isArray(n)&&n.length){var o=a.apply(null,n);o&&e.push(o)}else if("object"===l)for(var r in n)i.call(n,r)&&n[r]&&e.push(r)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},497621:(e,t,n)=>{function i(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}}function a(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}}n.d(t,{Z:()=>l});const l={p:a,P:function(e,t){var n,l=e.match(/(P+)(p+)?/),o=l[1],r=l[2];if(!r)return i(e,t);switch(o){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",i(o,t)).replace("{{time}}",a(r,t))}}},924262:(e,t,n)=>{n.d(t,{Z:()=>l});var i=6e4;function a(e){return e.getTime()%i}function l(e){var t=new Date(e.getTime()),n=Math.ceil(t.getTimezoneOffset());t.setSeconds(0,0);var l=n>0?(i+a(t))%i:a(t);return n*i+l}},333276:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(619013),a=n(666979),l=n(507032),o=n(13882);var r=6048e5;function s(e){(0,o.Z)(1,arguments);var t=(0,i.Z)(e),n=(0,a.Z)(t).getTime()-function(e){(0,o.Z)(1,arguments);var t=(0,l.Z)(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),(0,a.Z)(n)}(t).getTime();return Math.round(n/r)+1}},507032:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(619013),a=n(666979),l=n(13882);function o(e){(0,l.Z)(1,arguments);var t=(0,i.Z)(e),n=t.getUTCFullYear(),o=new Date(0);o.setUTCFullYear(n+1,0,4),o.setUTCHours(0,0,0,0);var r=(0,a.Z)(o),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var d=(0,a.Z)(s);return t.getTime()>=r.getTime()?n+1:t.getTime()>=d.getTime()?n:n-1}},505230:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(619013),a=n(159025),l=n(983946),o=n(107651),r=n(13882);var s=6048e5;function d(e,t){(0,r.Z)(1,arguments);var n=(0,i.Z)(e),d=(0,a.Z)(n,t).getTime()-function(e,t){(0,r.Z)(1,arguments);var n=t||{},i=n.locale,s=i&&i.options&&i.options.firstWeekContainsDate,d=null==s?1:(0,l.Z)(s),c=null==n.firstWeekContainsDate?d:(0,l.Z)(n.firstWeekContainsDate),u=(0,o.Z)(e,t),p=new Date(0);return p.setUTCFullYear(u,0,c),p.setUTCHours(0,0,0,0),(0,a.Z)(p,t)}(n,t).getTime();return Math.round(d/s)+1}},107651:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(983946),a=n(619013),l=n(159025),o=n(13882);function r(e,t){(0,o.Z)(1,arguments);var n=(0,a.Z)(e,t),r=n.getUTCFullYear(),s=t||{},d=s.locale,c=d&&d.options&&d.options.firstWeekContainsDate,u=null==c?1:(0,i.Z)(c),p=null==s.firstWeekContainsDate?u:(0,i.Z)(s.firstWeekContainsDate);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(r+1,0,p),m.setUTCHours(0,0,0,0);var h=(0,l.Z)(m,t),g=new Date(0);g.setUTCFullYear(r,0,p),g.setUTCHours(0,0,0,0);var _=(0,l.Z)(g,t);return n.getTime()>=h.getTime()?r+1:n.getTime()>=_.getTime()?r:r-1}},5267:(e,t,n)=>{n.d(t,{Do:()=>o,Iu:()=>l,qp:()=>r});var i=["D","DD"],a=["YY","YYYY"];function l(e){return-1!==i.indexOf(e)}function o(e){return-1!==a.indexOf(e)}function r(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}},13882:(e,t,n)=>{function i(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{Z:()=>i})},666979:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(619013),a=n(13882);function l(e){(0,a.Z)(1,arguments);var t=(0,i.Z)(e),n=t.getUTCDay(),l=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-l),t.setUTCHours(0,0,0,0),t}},159025:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(983946),a=n(619013),l=n(13882);function o(e,t){(0,l.Z)(1,arguments);var n=t||{},o=n.locale,r=o&&o.options&&o.options.weekStartsOn,s=null==r?0:(0,i.Z)(r),d=null==n.weekStartsOn?s:(0,i.Z)(n.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=(0,a.Z)(e),u=c.getUTCDay(),p=(u<d?7:0)+u-d;return c.setUTCDate(c.getUTCDate()-p),c.setUTCHours(0,0,0,0),c}},983946:(e,t,n)=>{function i(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{Z:()=>i})},51820:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(983946),a=n(619013),l=n(13882);function o(e,t){(0,l.Z)(2,arguments);var n=(0,a.Z)(e).getTime(),o=(0,i.Z)(t);return new Date(n+o)}},642298:(e,t,n)=>{n.d(t,{Z:()=>L});var i=n(112274),a=n(983975),l=n(491218),o=n(619013);function r(e,t){for(var n=e<0?"-":"",i=Math.abs(e).toString();i.length<t;)i="0"+i;return n+i}const s={y:function(e,t){var n=e.getUTCFullYear(),i=n>0?n:1-n;return r("yy"===t?i%100:i,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):r(n+1,2)},d:function(e,t){return r(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return n.toUpperCase();case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return r(e.getUTCHours()%12||12,t.length)},H:function(e,t){return r(e.getUTCHours(),t.length)},m:function(e,t){return r(e.getUTCMinutes(),t.length)},s:function(e,t){return r(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,i=e.getUTCMilliseconds();return r(Math.floor(i*Math.pow(10,n-3)),t.length)}};var d=n(13882);var c=n(333276),u=n(507032),p=n(505230),m=n(107651),h="midnight",g="noon",_="morning",y="afternoon",v="evening",f="night";function b(e,t){var n=e>0?"-":"+",i=Math.abs(e),a=Math.floor(i/60),l=i%60;if(0===l)return n+String(a);var o=t||"";return n+String(a)+o+r(l,2)}function x(e,t){return e%60==0?(e>0?"-":"+")+r(Math.abs(e)/60,2):k(e,t)}function k(e,t){var n=t||"",i=e>0?"-":"+",a=Math.abs(e);return i+r(Math.floor(a/60),2)+n+r(a%60,2)}const P={G:function(e,t,n){var i=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var i=e.getUTCFullYear(),a=i>0?i:1-i;return n.ordinalNumber(a,{unit:"year"})}return s.y(e,t)},Y:function(e,t,n,i){var a=(0,m.Z)(e,i),l=a>0?a:1-a;return"YY"===t?r(l%100,2):"Yo"===t?n.ordinalNumber(l,{unit:"year"}):r(l,t.length)},R:function(e,t){return r((0,u.Z)(e),t.length)},u:function(e,t){return r(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return r(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return r(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){var i=e.getUTCMonth();switch(t){case"M":case"MM":return s.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){var i=e.getUTCMonth();switch(t){case"L":return String(i+1);case"LL":return r(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){var a=(0,p.Z)(e,i);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):r(a,t.length)},I:function(e,t,n){var i=(0,c.Z)(e);return"Io"===t?n.ordinalNumber(i,{unit:"week"}):r(i,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):s.d(e,t)},D:function(e,t,n){var i=function(e){(0,d.Z)(1,arguments);var t=(0,o.Z)(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var i=n-t.getTime();return Math.floor(i/864e5)+1}(e);return"Do"===t?n.ordinalNumber(i,{unit:"dayOfYear"}):r(i,t.length)},E:function(e,t,n){var i=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){var a=e.getUTCDay(),l=(a-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return r(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){var a=e.getUTCDay(),l=(a-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return r(l,t.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){var i=e.getUTCDay(),a=0===i?7:i;switch(t){case"i":return String(a);case"ii":return r(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){var i=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){var i,a=e.getUTCHours();switch(i=12===a?g:0===a?h:a/12>=1?"pm":"am",t){case"b":case"bb":case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){var i,a=e.getUTCHours();switch(i=a>=17?v:a>=12?y:a>=4?_:f,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var i=e.getUTCHours()%12;return 0===i&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return s.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):s.H(e,t)},K:function(e,t,n){var i=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(i,{unit:"hour"}):r(i,t.length)},k:function(e,t,n){var i=e.getUTCHours();return 0===i&&(i=24),"ko"===t?n.ordinalNumber(i,{unit:"hour"}):r(i,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):s.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):s.s(e,t)},S:function(e,t){return s.S(e,t)},X:function(e,t,n,i){var a=(i._originalDate||e).getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return x(a);case"XXXX":case"XX":return k(a);default:return k(a,":")}},x:function(e,t,n,i){var a=(i._originalDate||e).getTimezoneOffset();switch(t){case"x":return x(a);case"xxxx":case"xx":return k(a);default:return k(a,":")}},O:function(e,t,n,i){var a=(i._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+b(a,":");default:return"GMT"+k(a,":")}},z:function(e,t,n,i){var a=(i._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+b(a,":");default:return"GMT"+k(a,":")}},t:function(e,t,n,i){var a=i._originalDate||e;return r(Math.floor(a.getTime()/1e3),t.length)},T:function(e,t,n,i){return r((i._originalDate||e).getTime(),t.length)}};var S=n(497621),w=n(924262),T=n(5267),I=n(983946),A=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,C=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,j=/^'([^]*?)'?$/,E=/''/g,R=/[a-zA-Z]/;function L(e,t,n){(0,d.Z)(2,arguments);var r=String(t),s=n||{},c=s.locale||a.default,u=c.options&&c.options.firstWeekContainsDate,p=null==u?1:(0,I.Z)(u),m=null==s.firstWeekContainsDate?p:(0,I.Z)(s.firstWeekContainsDate);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var h=c.options&&c.options.weekStartsOn,g=null==h?0:(0,I.Z)(h),_=null==s.weekStartsOn?g:(0,I.Z)(s.weekStartsOn);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!c.localize)throw new RangeError("locale must contain localize property");if(!c.formatLong)throw new RangeError("locale must contain formatLong property");var y=(0,o.Z)(e);if(!(0,i.Z)(y))throw new RangeError("Invalid time value");var v=(0,w.Z)(y),f=(0,l.Z)(y,v),b={firstWeekContainsDate:m,weekStartsOn:_,locale:c,_originalDate:y};return r.match(C).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,S.Z[t])(e,c.formatLong,b):e})).join("").match(A).map((function(n){if("''"===n)return"'";var i=n[0];if("'"===i)return n.match(j)[1].replace(E,"'");var a=P[i];if(a)return!s.useAdditionalWeekYearTokens&&(0,T.Do)(n)&&(0,T.qp)(n,t,e),!s.useAdditionalDayOfYearTokens&&(0,T.Iu)(n)&&(0,T.qp)(n,t,e),a(f,n,c.localize,b);if(i.match(R))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return n})).join("")}},112274:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(619013),a=n(13882);function l(e){(0,a.Z)(1,arguments);var t=(0,i.Z)(e);return!isNaN(t)}},849526:(e,t,n)=>{function i(e){return function(t){var n=t||{},i=n.width?String(n.width):e.defaultWidth;return e.formats[i]||e.formats[e.defaultWidth]}}n.d(t,{Z:()=>i})},688486:(e,t,n)=>{function i(e){return function(t,n){var i,a=n||{};if("formatting"===(a.context?String(a.context):"standalone")&&e.formattingValues){var l=e.defaultFormattingWidth||e.defaultWidth,o=a.width?String(a.width):l;i=e.formattingValues[o]||e.formattingValues[l]}else{var r=e.defaultWidth,s=a.width?String(a.width):e.defaultWidth;i=e.values[s]||e.values[r]}return i[e.argumentCallback?e.argumentCallback(t):t]}}n.d(t,{Z:()=>i})},276723:(e,t,n)=>{function i(e){return function(t,n){var i=String(t),a=n||{},l=a.width,o=l&&e.matchPatterns[l]||e.matchPatterns[e.defaultMatchWidth],r=i.match(o);if(!r)return null;var s,d=r[0],c=l&&e.parsePatterns[l]||e.parsePatterns[e.defaultParseWidth];return s="[object Array]"===Object.prototype.toString.call(c)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}(c,(function(e){return e.test(d)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}(c,(function(e){return e.test(d)})),s=e.valueCallback?e.valueCallback(s):s,{value:s=a.valueCallback?a.valueCallback(s):s,rest:i.slice(d.length)}}}n.d(t,{Z:()=>i})},360974:(e,t,n)=>{function i(e){return function(t,n){var i=String(t),a=n||{},l=i.match(e.matchPattern);if(!l)return null;var o=l[0],r=i.match(e.parsePattern);if(!r)return null;var s=e.valueCallback?e.valueCallback(r[0]):r[0];return{value:s=a.valueCallback?a.valueCallback(s):s,rest:i.slice(o.length)}}}n.d(t,{Z:()=>i})},181991:(e,t,n)=>{n.d(t,{Z:()=>a});var i={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function a(e,t,n){var a;return n=n||{},a="string"==typeof i[e]?i[e]:1===t?i[e].one:i[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"in "+a:a+" ago":a}},721865:(e,t,n)=>{n.d(t,{Z:()=>a});var i={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function a(e,t,n,a){return i[e]}},611950:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(688486);const a={ordinalNumber:function(e,t){var n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:(0,i.Z)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,i.Z)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:(0,i.Z)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,i.Z)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,i.Z)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})}},507219:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(360974),a=n(276723);const l={ordinalNumber:(0,i.Z)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,a.Z)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,a.Z)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,a.Z)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,a.Z)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,a.Z)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})}},983975:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var i=n(181991),a=n(849526);const l={date:(0,a.Z)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,a.Z)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,a.Z)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var o=n(721865),r=n(611950),s=n(507219);const d={code:"en-US",formatDistance:i.Z,formatLong:l,formatRelative:o.Z,localize:r.Z,match:s.Z,options:{weekStartsOn:0,firstWeekContainsDate:1}}},491218:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(983946),a=n(51820),l=n(13882);function o(e,t){(0,l.Z)(2,arguments);var n=(0,i.Z)(t);return(0,a.Z)(e,-n)}},619013:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(13882);function a(e){(0,i.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},565304:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-3a74afad.svg"},323161:e=>{e.exports="https://s.pinimg.com/webapp/haha-403b10ff.svg"},49198:e=>{e.exports="https://s.pinimg.com/webapp/love-a7ffb465.svg"},154621:e=>{e.exports="https://s.pinimg.com/webapp/thanks-7994286c.svg"},672374:e=>{e.exports="https://s.pinimg.com/webapp/wow-0a7ea725.svg"},371659:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},217649:e=>{e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},36855:e=>{e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},624645:e=>{e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},130133:e=>{e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},746985:e=>{e.exports="https://s.pinimg.com/webapp/commentHelpful-55781e6a.svg"},639210:e=>{e.exports="https://s.pinimg.com/webapp/commentHelpfulOutline-1e39c058.svg"},55997:e=>{e.exports="https://s.pinimg.com/webapp/commentLoved-89903abe.svg"},118949:e=>{e.exports="https://s.pinimg.com/webapp/commentLovedOutline-ce03475d.svg"},830783:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-90cc9e5e.svg"},53357:e=>{e.exports="https://s.pinimg.com/webapp/haha-33f54d88.svg"},177564:e=>{e.exports="https://s.pinimg.com/webapp/love-596776c1.svg"},523254:e=>{e.exports="https://s.pinimg.com/webapp/reactionHeartOutline-259c423c.svg"},585053:e=>{e.exports="https://s.pinimg.com/webapp/reactionHeartOutlineWhite-b65ac7e2.svg"},926025:e=>{e.exports="https://s.pinimg.com/webapp/thanks-20ad07d3.svg"},665728:e=>{e.exports="https://s.pinimg.com/webapp/wow-d0a865e5.svg"},249568:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-edd99000.svg"},930278:e=>{e.exports="https://s.pinimg.com/webapp/haha-113eb87d.svg"},197099:e=>{e.exports="https://s.pinimg.com/webapp/love-a7ffb465.svg"},793964:e=>{e.exports="https://s.pinimg.com/webapp/thanks-7994286c.svg"},934915:e=>{e.exports="https://s.pinimg.com/webapp/wow-0a7ea725.svg"},72166:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-05fee79b.svg"},34319:e=>{e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},761464:e=>{e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},657916:e=>{e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},450704:e=>{e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},268052:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-338cc9cb.svg"},752433:e=>{e.exports="https://s.pinimg.com/webapp/haha-2d36da68.svg"},951151:e=>{e.exports="https://s.pinimg.com/webapp/heartOutline-1f1b1ac2.svg"},547741:e=>{e.exports="https://s.pinimg.com/webapp/love-cf7c22da.svg"},505302:e=>{e.exports="https://s.pinimg.com/webapp/thanks-1f2971cc.svg"},451724:e=>{e.exports="https://s.pinimg.com/webapp/wow-ba699344.svg"},537347:e=>{!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function i(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function a(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function l(e,n){function i(){var e=l;a(e)&&e.a.parentNode&&n(e.g)}var l=e;t(e.b,i),t(e.c,i),a(e)}function o(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var r=null,s=null,d=null,c=null;function u(){return null===c&&(c=!!document.fonts),c}function p(){if(null===d){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(t){}d=""!==e.style.font}return d}function m(e,t){return[e.style,e.weight,p()?e.stretch:"","100px",t].join(" ")}o.prototype.load=function(e,t){var a=this,o=e||"BESbswy",d=0,c=t||3e3,p=(new Date).getTime();return new Promise((function(e,t){if(u()&&!function(){if(null===s)if(u()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);s=!!e&&603>parseInt(e[1],10)}else s=!1;return s}()){var h=new Promise((function(e,t){!function n(){(new Date).getTime()-p>=c?t(Error(c+"ms timeout exceeded")):document.fonts.load(m(a,'"'+a.family+'"'),o).then((function(t){1<=t.length?e():setTimeout(n,25)}),t)}()})),g=new Promise((function(e,t){d=setTimeout((function(){t(Error(c+"ms timeout exceeded"))}),c)}));Promise.race([g,h]).then((function(){clearTimeout(d),e(a)}),t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function s(){var t;(t=-1!=_&&-1!=y||-1!=_&&-1!=v||-1!=y&&-1!=v)&&((t=_!=y&&_!=v&&y!=v)||(null===r&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),r=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=r&&(_==f&&y==f&&v==f||_==b&&y==b&&v==b||_==x&&y==x&&v==x)),t=!t),t&&(k.parentNode&&k.parentNode.removeChild(k),clearTimeout(d),e(a))}var u=new n(o),h=new n(o),g=new n(o),_=-1,y=-1,v=-1,f=-1,b=-1,x=-1,k=document.createElement("div");k.dir="ltr",i(u,m(a,"sans-serif")),i(h,m(a,"serif")),i(g,m(a,"monospace")),k.appendChild(u.a),k.appendChild(h.a),k.appendChild(g.a),document.body.appendChild(k),f=u.a.offsetWidth,b=h.a.offsetWidth,x=g.a.offsetWidth,function e(){if((new Date).getTime()-p>=c)k.parentNode&&k.parentNode.removeChild(k),t(Error(c+"ms timeout exceeded"));else{var n=document.hidden;!0!==n&&void 0!==n||(_=u.a.offsetWidth,y=h.a.offsetWidth,v=g.a.offsetWidth,s()),d=setTimeout(e,50)}}(),l(u,(function(e){_=e,s()})),i(u,m(a,'"'+a.family+'",sans-serif')),l(h,(function(e){y=e,s()})),i(h,m(a,'"'+a.family+'",serif')),l(g,(function(e){v=e,s()})),i(g,m(a,'"'+a.family+'",monospace'))}))}))},e.exports=o}()},301989:(e,t,n)=>{var i=n(751789),a=n(780401),l=n(657667),o=n(521327),r=n(281866);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}s.prototype.clear=i,s.prototype.delete=a,s.prototype.get=l,s.prototype.has=o,s.prototype.set=r,e.exports=s},738407:(e,t,n)=>{var i=n(327040),a=n(514125),l=n(882117),o=n(567518),r=n(654705);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}s.prototype.clear=i,s.prototype.delete=a,s.prototype.get=l,s.prototype.has=o,s.prototype.set=r,e.exports=s},357071:(e,t,n)=>{var i=n(610852)(n(555639),"Map");e.exports=i},883369:(e,t,n)=>{var i=n(924785),a=n(611285),l=n(396e3),o=n(349916),r=n(195265);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}s.prototype.clear=i,s.prototype.delete=a,s.prototype.get=l,s.prototype.has=o,s.prototype.set=r,e.exports=s},646384:(e,t,n)=>{var i=n(738407),a=n(737465),l=n(963779),o=n(267599),r=n(744758),s=n(234309);function d(e){var t=this.__data__=new i(e);this.size=t.size}d.prototype.clear=a,d.prototype.delete=l,d.prototype.get=o,d.prototype.has=r,d.prototype.set=s,e.exports=d},611149:(e,t,n)=>{var i=n(555639).Uint8Array;e.exports=i},896874:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},14636:(e,t,n)=>{var i=n(422545),a=n(135694),l=n(701469),o=n(644144),r=n(565776),s=n(936719),d=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=l(e),c=!n&&a(e),u=!n&&!c&&o(e),p=!n&&!c&&!u&&s(e),m=n||c||u||p,h=m?i(e.length,String):[],g=h.length;for(var _ in e)!t&&!d.call(e,_)||m&&("length"==_||u&&("offset"==_||"parent"==_)||p&&("buffer"==_||"byteLength"==_||"byteOffset"==_)||r(_,g))||h.push(_);return h}},286556:(e,t,n)=>{var i=n(789465),a=n(977813);e.exports=function(e,t,n){(void 0!==n&&!a(e[t],n)||void 0===n&&!(t in e))&&i(e,t,n)}},234865:(e,t,n)=>{var i=n(789465),a=n(977813),l=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];l.call(e,t)&&a(o,n)&&(void 0!==n||t in e)||i(e,t,n)}},218470:(e,t,n)=>{var i=n(977813);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},789465:(e,t,n)=>{var i=n(538777);e.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},603118:(e,t,n)=>{var i=n(513218),a=Object.create,l=function(){function e(){}return function(t){if(!i(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=l},228483:(e,t,n)=>{var i=n(225063)();e.exports=i},909454:(e,t,n)=>{var i=n(644239),a=n(637005);e.exports=function(e){return a(e)&&"[object Arguments]"==i(e)}},28458:(e,t,n)=>{var i=n(623560),a=n(215346),l=n(513218),o=n(680346),r=/^\[object .+?Constructor\]$/,s=Function.prototype,d=Object.prototype,c=s.toString,u=d.hasOwnProperty,p=RegExp("^"+c.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!l(e)||a(e))&&(i(e)?p:r).test(o(e))}},238749:(e,t,n)=>{var i=n(644239),a=n(541780),l=n(637005),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return l(e)&&a(e.length)&&!!o[i(e)]}},710313:(e,t,n)=>{var i=n(513218),a=n(225726),l=n(133498),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return l(e);var t=a(e),n=[];for(var r in e)("constructor"!=r||!t&&o.call(e,r))&&n.push(r);return n}},642980:(e,t,n)=>{var i=n(646384),a=n(286556),l=n(228483),o=n(559783),r=n(513218),s=n(481704),d=n(636390);e.exports=function e(t,n,c,u,p){t!==n&&l(n,(function(l,s){if(p||(p=new i),r(l))o(t,n,s,c,e,u,p);else{var m=u?u(d(t,s),l,s+"",t,n,p):void 0;void 0===m&&(m=l),a(t,s,m)}}),s)}},559783:(e,t,n)=>{var i=n(286556),a=n(364626),l=n(477133),o=n(200278),r=n(738517),s=n(135694),d=n(701469),c=n(229246),u=n(644144),p=n(623560),m=n(513218),h=n(968630),g=n(936719),_=n(636390),y=n(959881);e.exports=function(e,t,n,v,f,b,x){var k=_(e,n),P=_(t,n),S=x.get(P);if(S)i(e,n,S);else{var w=b?b(k,P,n+"",e,t,x):void 0,T=void 0===w;if(T){var I=d(P),A=!I&&u(P),C=!I&&!A&&g(P);w=P,I||A||C?d(k)?w=k:c(k)?w=o(k):A?(T=!1,w=a(P,!0)):C?(T=!1,w=l(P,!0)):w=[]:h(P)||s(P)?(w=k,s(k)?w=y(k):m(k)&&!p(k)||(w=r(P))):T=!1}T&&(x.set(P,w),f(w,P,v,b,x),x.delete(P)),i(e,n,w)}}},105976:(e,t,n)=>{var i=n(406557),a=n(545357),l=n(430061);e.exports=function(e,t){return l(a(e,t,i),e+"")}},356560:(e,t,n)=>{var i=n(575703),a=n(538777),l=n(406557),o=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:l;e.exports=o},422545:e=>{e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},307518:e=>{e.exports=function(e){return function(t){return e(t)}}},274318:(e,t,n)=>{var i=n(611149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},364626:(e,t,n)=>{e=n.nmd(e);var i=n(555639),a=t&&!t.nodeType&&t,l=a&&e&&!e.nodeType&&e,o=l&&l.exports===a?i.Buffer:void 0,r=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=r?r(n):new e.constructor(n);return e.copy(i),i}},477133:(e,t,n)=>{var i=n(274318);e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},200278:e=>{e.exports=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}},698363:(e,t,n)=>{var i=n(234865),a=n(789465);e.exports=function(e,t,n,l){var o=!n;n||(n={});for(var r=-1,s=t.length;++r<s;){var d=t[r],c=l?l(n[d],e[d],d,n,e):void 0;void 0===c&&(c=e[d]),o?a(n,d,c):i(n,d,c)}return n}},614429:(e,t,n)=>{var i=n(555639)["__core-js_shared__"];e.exports=i},321463:(e,t,n)=>{var i=n(105976),a=n(816612);e.exports=function(e){return i((function(t,n){var i=-1,l=n.length,o=l>1?n[l-1]:void 0,r=l>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(l--,o):void 0,r&&a(n[0],n[1],r)&&(o=l<3?void 0:o,l=1),t=Object(t);++i<l;){var s=n[i];s&&e(t,s,i,o)}return t}))}},225063:e=>{e.exports=function(e){return function(t,n,i){for(var a=-1,l=Object(t),o=i(t),r=o.length;r--;){var s=o[e?r:++a];if(!1===n(l[s],s,l))break}return t}}},538777:(e,t,n)=>{var i=n(610852),a=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},45050:(e,t,n)=>{var i=n(37019);e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},610852:(e,t,n)=>{var i=n(28458),a=n(647801);e.exports=function(e,t){var n=a(e,t);return i(n)?n:void 0}},385924:(e,t,n)=>{var i=n(205569)(Object.getPrototypeOf,Object);e.exports=i},647801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},751789:(e,t,n)=>{var i=n(894536);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},780401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},657667:(e,t,n)=>{var i=n(894536),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},521327:(e,t,n)=>{var i=n(894536),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:a.call(t,e)}},281866:(e,t,n)=>{var i=n(894536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},738517:(e,t,n)=>{var i=n(603118),a=n(385924),l=n(225726);e.exports=function(e){return"function"!=typeof e.constructor||l(e)?{}:i(a(e))}},565776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var i=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==i||"symbol"!=i&&t.test(e))&&e>-1&&e%1==0&&e<n}},816612:(e,t,n)=>{var i=n(977813),a=n(498612),l=n(565776),o=n(513218);e.exports=function(e,t,n){if(!o(n))return!1;var r=typeof t;return!!("number"==r?a(n)&&l(t,n.length):"string"==r&&t in n)&&i(n[t],e)}},37019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},215346:(e,t,n)=>{var i,a=n(614429),l=(i=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";e.exports=function(e){return!!l&&l in e}},225726:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},327040:e=>{e.exports=function(){this.__data__=[],this.size=0}},514125:(e,t,n)=>{var i=n(218470),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},882117:(e,t,n)=>{var i=n(218470);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},567518:(e,t,n)=>{var i=n(218470);e.exports=function(e){return i(this.__data__,e)>-1}},654705:(e,t,n)=>{var i=n(218470);e.exports=function(e,t){var n=this.__data__,a=i(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},924785:(e,t,n)=>{var i=n(301989),a=n(738407),l=n(357071);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(l||a),string:new i}}},611285:(e,t,n)=>{var i=n(45050);e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},396e3:(e,t,n)=>{var i=n(45050);e.exports=function(e){return i(this,e).get(e)}},349916:(e,t,n)=>{var i=n(45050);e.exports=function(e){return i(this,e).has(e)}},195265:(e,t,n)=>{var i=n(45050);e.exports=function(e,t){var n=i(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},894536:(e,t,n)=>{var i=n(610852)(Object,"create");e.exports=i},133498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},531167:(e,t,n)=>{e=n.nmd(e);var i=n(431957),a=t&&!t.nodeType&&t,l=a&&e&&!e.nodeType&&e,o=l&&l.exports===a&&i.process,r=function(){try{var e=l&&l.require&&l.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=r},205569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},545357:(e,t,n)=>{var i=n(896874),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var l=arguments,o=-1,r=a(l.length-t,0),s=Array(r);++o<r;)s[o]=l[t+o];o=-1;for(var d=Array(t+1);++o<t;)d[o]=l[o];return d[t]=n(s),i(e,this,d)}}},636390:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},430061:(e,t,n)=>{var i=n(356560),a=n(521275)(i);e.exports=a},521275:e=>{var t=Date.now;e.exports=function(e){var n=0,i=0;return function(){var a=t(),l=16-(a-i);if(i=a,l>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},737465:(e,t,n)=>{var i=n(738407);e.exports=function(){this.__data__=new i,this.size=0}},963779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},267599:e=>{e.exports=function(e){return this.__data__.get(e)}},744758:e=>{e.exports=function(e){return this.__data__.has(e)}},234309:(e,t,n)=>{var i=n(738407),a=n(357071),l=n(883369);e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var o=n.__data__;if(!a||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new l(o)}return n.set(e,t),this.size=n.size,this}},680346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},575703:e=>{e.exports=function(e){return function(){return e}}},977813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},406557:e=>{e.exports=function(e){return e}},135694:(e,t,n)=>{var i=n(909454),a=n(637005),l=Object.prototype,o=l.hasOwnProperty,r=l.propertyIsEnumerable,s=i(function(){return arguments}())?i:function(e){return a(e)&&o.call(e,"callee")&&!r.call(e,"callee")};e.exports=s},498612:(e,t,n)=>{var i=n(623560),a=n(541780);e.exports=function(e){return null!=e&&a(e.length)&&!i(e)}},229246:(e,t,n)=>{var i=n(498612),a=n(637005);e.exports=function(e){return a(e)&&i(e)}},644144:(e,t,n)=>{e=n.nmd(e);var i=n(555639),a=n(595062),l=t&&!t.nodeType&&t,o=l&&e&&!e.nodeType&&e,r=o&&o.exports===l?i.Buffer:void 0,s=(r?r.isBuffer:void 0)||a;e.exports=s},623560:(e,t,n)=>{var i=n(644239),a=n(513218);e.exports=function(e){if(!a(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},541780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},513218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},968630:(e,t,n)=>{var i=n(644239),a=n(385924),l=n(637005),o=Function.prototype,r=Object.prototype,s=o.toString,d=r.hasOwnProperty,c=s.call(Object);e.exports=function(e){if(!l(e)||"[object Object]"!=i(e))return!1;var t=a(e);if(null===t)return!0;var n=d.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==c}},936719:(e,t,n)=>{var i=n(238749),a=n(307518),l=n(531167),o=l&&l.isTypedArray,r=o?a(o):i;e.exports=r},481704:(e,t,n)=>{var i=n(14636),a=n(710313),l=n(498612);e.exports=function(e){return l(e)?i(e,!0):a(e)}},682492:(e,t,n)=>{var i=n(642980),a=n(321463)((function(e,t,n){i(e,t,n)}));e.exports=a},595062:e=>{e.exports=function(){return!1}},959881:(e,t,n)=>{var i=n(698363),a=n(481704);e.exports=function(e){return i(e,a(e))}},782677:(e,t,n)=>{function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l.apply(this,arguments)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function r(e){return!(!e||"function"!=typeof e.hasOwnProperty||!(e.hasOwnProperty("__ownerID")||e._map&&e._map.hasOwnProperty("__ownerID")))}function s(e,t,n){return Object.keys(e).reduce((function(t,i){var a=""+i;return t.has(a)?t.set(a,n(t.get(a),e[a])):t}),t)}n.d(t,{Fv:()=>k,fK:()=>x});var d=function(){function e(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),!e||"string"!=typeof e)throw new Error("Expected a string key for Entity, but found "+e+".");var i=n,a=i.idAttribute,o=void 0===a?"id":a,s=i.mergeStrategy,d=void 0===s?function(e,t){return l({},e,t)}:s,c=i.processStrategy,u=void 0===c?function(e){return l({},e)}:c,p=i.fallbackStrategy,m=void 0===p?function(e,t){}:p;this._key=e,this._getId="function"==typeof o?o:function(e){return function(t){return r(t)?t.get(e):t[e]}}(o),this._idAttribute=o,this._mergeStrategy=d,this._processStrategy=u,this._fallbackStrategy=m,this.define(t)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce((function(t,n){var i,a=e[n];return l({},t,((i={})[n]=a,i))}),this.schema||{})},t.getId=function(e,t,n){return this._getId(e,t,n)},t.merge=function(e,t){return this._mergeStrategy(e,t)},t.fallback=function(e,t){return this._fallbackStrategy(e,t)},t.normalize=function(e,t,n,i,a,l){var o=this,r=this.getId(e,t,n),s=this.key;if(s in l||(l[s]={}),r in l[s]||(l[s][r]=[]),l[s][r].some((function(t){return t===e})))return r;l[s][r].push(e);var d=this._processStrategy(e,t,n);return Object.keys(this.schema).forEach((function(t){if(d.hasOwnProperty(t)&&"object"==typeof d[t]){var n=o.schema[t],r="function"==typeof n?n(e):n;d[t]=i(d[t],d,t,r,a,l)}})),a(this,d,e,t,n),r},t.denormalize=function(e,t){var n=this;return r(e)?s(this.schema,e,t):(Object.keys(this.schema).forEach((function(i){if(e.hasOwnProperty(i)){var a=n.schema[i];e[i]=t(e[i],a)}})),e)},a(e,[{key:"key",get:function(){return this._key}},{key:"idAttribute",get:function(){return this._idAttribute}}]),e}(),c=function(){function e(e,t){t&&(this._schemaAttribute="string"==typeof t?function(e){return e[t]}:t),this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=e},t.getSchemaAttribute=function(e,t,n){return!this.isSingleSchema&&this._schemaAttribute(e,t,n)},t.inferSchema=function(e,t,n){if(this.isSingleSchema)return this.schema;var i=this.getSchemaAttribute(e,t,n);return this.schema[i]},t.normalizeValue=function(e,t,n,i,a,l){var o=this.inferSchema(e,t,n);if(!o)return e;var r=i(e,t,n,o,a,l);return this.isSingleSchema||null==r?r:{id:r,schema:this.getSchemaAttribute(e,t,n)}},t.denormalizeValue=function(e,t){var n=r(e)?e.get("schema"):e.schema;return this.isSingleSchema||n?t((this.isSingleSchema?void 0:r(e)?e.get("id"):e.id)||e,this.isSingleSchema?this.schema:this.schema[n]):e},a(e,[{key:"isSingleSchema",get:function(){return!this._schemaAttribute}}]),e}(),u=function(e){function t(t,n){if(!n)throw new Error('Expected option "schemaAttribute" not found on UnionSchema.');return e.call(this,t,n)||this}o(t,e);var n=t.prototype;return n.normalize=function(e,t,n,i,a,l){return this.normalizeValue(e,t,n,i,a,l)},n.denormalize=function(e,t){return this.denormalizeValue(e,t)},t}(c),p=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.normalize=function(e,t,n,i,a,o){var r=this;return Object.keys(e).reduce((function(t,n,s){var d,c=e[n];return null!=c?l({},t,((d={})[n]=r.normalizeValue(c,e,n,i,a,o),d)):t}),{})},n.denormalize=function(e,t){var n=this;return Object.keys(e).reduce((function(i,a){var o,r=e[a];return l({},i,((o={})[a]=n.denormalizeValue(r,t),o))}),{})},t}(c),m=function(e){if(Array.isArray(e)&&e.length>1)throw new Error("Expected schema definition to be a single schema, but found "+e.length+".");return e[0]},h=function(e){return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t]}))},g=function(e,t,n,i,a,l,o){return e=m(e),h(t).map((function(t,r){return a(t,n,i,e,l,o)}))},_=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.normalize=function(e,t,n,i,a,l){var o=this;return h(e).map((function(e,r){return o.normalizeValue(e,t,n,i,a,l)})).filter((function(e){return null!=e}))},n.denormalize=function(e,t){var n=this;return e&&e.map?e.map((function(e){return n.denormalizeValue(e,t)})):e},t}(c),y=function(e,t,n,i,a,o,r){var s=l({},t);return Object.keys(e).forEach((function(n){var i=e[n],l="function"==typeof i?i(t):i,d=a(t[n],t,n,l,o,r);null==d?delete s[n]:s[n]=d})),s},v=function(e,t,n){if(r(t))return s(e,t,n);var i=l({},t);return Object.keys(e).forEach((function(t){null!=i[t]&&(i[t]=n(i[t],e[t]))})),i},f=function(){function e(e){this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce((function(t,n){var i,a=e[n];return l({},t,((i={})[n]=a,i))}),this.schema||{})},t.normalize=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return y.apply(void 0,[this.schema].concat(t))},t.denormalize=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.apply(void 0,[this.schema].concat(t))},e}(),b=function e(t,n,i,a,l,o){return"object"==typeof t&&t?"object"!=typeof a||a.normalize&&"function"==typeof a.normalize?a.normalize(t,n,i,e,l,o):(Array.isArray(a)?g:y)(a,t,n,i,e,l,o):t},x={Array:_,Entity:d,Object:f,Union:u,Values:p},k=function(e,t){if(!e||"object"!=typeof e)throw new Error('Unexpected input given to normalize. Expected type to be "object", found "'+(null===e?"null":typeof e)+'".');var n={},i=function(e){return function(t,n,i,a,l){var o=t.key,r=t.getId(i,a,l);o in e||(e[o]={});var s=e[o][r];e[o][r]=s?t.merge(s,n):n}}(n);return{entities:n,result:b(e,e,null,t,i,{})}}},762587:e=>{function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,i,a){n=n||"&",i=i||"=";var l={};if("string"!=typeof e||0===e.length)return l;var o=/\+/g;e=e.split(n);var r=1e3;a&&"number"==typeof a.maxKeys&&(r=a.maxKeys);var s=e.length;r>0&&s>r&&(s=r);for(var d=0;d<s;++d){var c,u,p,m,h=e[d].replace(o,"%20"),g=h.indexOf(i);g>=0?(c=h.substr(0,g),u=h.substr(g+1)):(c=h,u=""),p=decodeURIComponent(c),m=decodeURIComponent(u),t(l,p)?Array.isArray(l[p])?l[p].push(m):l[p]=[l[p],m]:l[p]=m}return l}},712361:e=>{var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,i,a){return n=n||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(a){var l=encodeURIComponent(t(a))+i;return Array.isArray(e[a])?e[a].map((function(e){return l+encodeURIComponent(t(e))})).join(n):l+encodeURIComponent(t(e[a]))})).join(n):a?encodeURIComponent(t(a))+i+encodeURIComponent(t(e)):""}},817673:(e,t,n)=>{t.decode=t.parse=n(762587),t.encode=t.stringify=n(712361)},201342:(e,t,n)=>{n.d(t,{tn:()=>ce});var i,a=n(667294),l=n.t(a,2);!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));function o(e,t){if(!1===e||null==e)throw new Error(t)}function r(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function s(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}var d;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(d||(d={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function c(e,t,n){void 0===n&&(n="/");let i=S(("string"==typeof t?s(t):t).pathname||"/",n);if(null==i)return null;let a=u(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let l=null;for(let o=0;null==l&&o<a.length;++o)l=x(a[o],P(i));return l}function u(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let a=(e,a,l)=>{let r={relativePath:void 0===l?e.path||"":l,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};r.relativePath.startsWith("/")&&(o(r.relativePath.startsWith(i),'Absolute route path "'+r.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),r.relativePath=r.relativePath.slice(i.length));let s=w([i,r.relativePath]),d=n.concat(r);e.children&&e.children.length>0&&(o(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),u(e.children,t,d,s)),(null!=e.path||e.index)&&t.push({path:s,score:b(s,e.index),routesMeta:d})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of p(e.path))a(e,t,i);else a(e,t)})),t}function p(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(0===i.length)return a?[l,""]:[l];let o=p(i.join("/")),r=[];return r.push(...o.map((e=>""===e?l:[l,e].join("/")))),a&&r.push(...o),r.map((t=>e.startsWith("/")&&""===t?"/":t))}const m=/^:\w+$/,h=3,g=2,_=1,y=10,v=-2,f=e=>"*"===e;function b(e,t){let n=e.split("/"),i=n.length;return n.some(f)&&(i+=v),t&&(i+=g),n.filter((e=>!f(e))).reduce(((e,t)=>e+(m.test(t)?h:""===t?_:y)),i)}function x(e,t){let{routesMeta:n}=e,i={},a="/",l=[];for(let o=0;o<n.length;++o){let e=n[o],r=o===n.length-1,s="/"===a?t:t.slice(a.length)||"/",d=k({path:e.relativePath,caseSensitive:e.caseSensitive,end:r},s);if(!d)return null;Object.assign(i,d.params);let c=e.route;l.push({params:i,pathname:w([a,d.pathname]),pathnameBase:T(w([a,d.pathnameBase])),route:c}),"/"!==d.pathnameBase&&(a=w([a,d.pathnameBase]))}return l}function k(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);r("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(i.push(t),"/([^\\/]+)")));e.endsWith("*")?(i.push("*"),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let l=new RegExp(a,t?void 0:"i");return[l,i]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],o=l.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:i.reduce(((e,t,n)=>{if("*"===t){let e=s[n]||"";o=l.slice(0,l.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return r(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(s[n]||"",t),e}),{}),pathname:l,pathnameBase:o,pattern:e}}function P(e){try{return decodeURI(e)}catch(t){return r(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function S(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}const w=e=>e.join("/").replace(/\/\/+/g,"/"),T=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");class I extends Error{}function A(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}const C=["post","put","patch","delete"],j=(new Set(C),["get",...C]);new Set(j),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;Symbol("deferred");const E="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},{useState:R,useEffect:L,useLayoutEffect:D,useDebugValue:F}=l;function z(e){const t=e.getSnapshot,n=e.value;try{const e=t();return!E(n,e)}catch(i){return!0}}"undefined"==typeof window||void 0===window.document||window.document.createElement,l.useSyncExternalStore;const M=a.createContext(null);const O=a.createContext(null);const B=a.createContext(null);const Z=a.createContext(null);const N=a.createContext({outlet:null,matches:[]});const U=a.createContext(null);function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},K.apply(this,arguments)}function V(){return null!=a.useContext(Z)}function H(){return V()||o(!1),a.useContext(Z).location}function G(){let e=function(){var e;let t=a.useContext(U),n=J(X.UseRouteError),i=Q(X.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=A(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:l},n):null,null)}class W extends a.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?a.createElement(N.Provider,{value:this.props.routeContext},a.createElement(U.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $(e){let{routeContext:t,match:n,children:i}=e,l=a.useContext(M);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(N.Provider,{value:t},i)}function q(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}let i=e,l=null==n?void 0:n.errors;if(null!=l){let e=i.findIndex((e=>e.route.id&&(null==l?void 0:l[e.route.id])));e>=0||o(!1),i=i.slice(0,Math.min(i.length,e+1))}return i.reduceRight(((e,o,r)=>{let s=o.route.id?null==l?void 0:l[o.route.id]:null,d=null;n&&(d=o.route.ErrorBoundary?a.createElement(o.route.ErrorBoundary,null):o.route.errorElement?o.route.errorElement:a.createElement(G,null));let c=t.concat(i.slice(0,r+1)),u=()=>{let t=e;return s?t=d:o.route.Component?t=a.createElement(o.route.Component,null):o.route.element&&(t=o.route.element),a.createElement($,{match:o,routeContext:{outlet:e,matches:c},children:t})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===r)?a.createElement(W,{location:n.location,component:d,error:s,children:u(),routeContext:{outlet:null,matches:c}}):u()}),null)}var Y,X;function J(e){let t=a.useContext(O);return t||o(!1),t}function Q(e){let t=function(e){let t=a.useContext(N);return t||o(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||o(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Y||(Y={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(X||(X={}));function ee(e){o(!1)}function te(e){let{basename:t="/",children:n=null,location:l,navigationType:r=i.Pop,navigator:d,static:c=!1}=e;V()&&o(!1);let u=t.replace(/^\/*/,"/"),p=a.useMemo((()=>({basename:u,navigator:d,static:c})),[u,d,c]);"string"==typeof l&&(l=s(l));let{pathname:m="/",search:h="",hash:g="",state:_=null,key:y="default"}=l,v=a.useMemo((()=>{let e=S(m,u);return null==e?null:{location:{pathname:e,search:h,hash:g,state:_,key:y},navigationType:r}}),[u,m,h,g,_,y,r]);return null==v?null:a.createElement(B.Provider,{value:p},a.createElement(Z.Provider,{children:n,value:v}))}function ne(e){let{children:t,location:n}=e,l=a.useContext(M);return function(e,t){V()||o(!1);let{navigator:n}=a.useContext(B),l=a.useContext(O),{matches:r}=a.useContext(N),d=r[r.length-1],u=d?d.params:{},p=(d&&d.pathname,d?d.pathnameBase:"/");d&&d.route;let m,h=H();if(t){var g;let e="string"==typeof t?s(t):t;"/"===p||(null==(g=e.pathname)?void 0:g.startsWith(p))||o(!1),m=e}else m=h;let _=m.pathname||"/",y=c(e,{pathname:"/"===p?_:_.slice(p.length)||"/"}),v=q(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:w([p,n.encodeLocation?n.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:w([p,n.encodeLocation?n.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),r,l||void 0);return t&&v?a.createElement(Z.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:i.Pop}},v):v}(l&&!t?l.router.routes:le(t),n)}var ie;!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(ie||(ie={}));new Promise((()=>{}));class ae extends a.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){console.error("<Await> caught the following error during render",e,t)}render(){let{children:e,errorElement:t,resolve:n}=this.props,i=null,a=ie.pending;if(n instanceof Promise)if(this.state.error){ie.error;let e=this.state.error;Promise.reject().catch((()=>{})),Object.defineProperty(i,"_tracked",{get:()=>!0}),Object.defineProperty(i,"_error",{get:()=>e})}else n._tracked?(n,void 0!==i._error?ie.error:void 0!==i._data?ie.success:ie.pending):(ie.pending,Object.defineProperty(n,"_tracked",{get:()=>!0}),n.then((e=>Object.defineProperty(n,"_data",{get:()=>e})),(e=>Object.defineProperty(n,"_error",{get:()=>e}))));else ie.success,Promise.resolve(),Object.defineProperty(i,"_tracked",{get:()=>!0}),Object.defineProperty(i,"_data",{get:()=>n});if(a===ie.error&&i._error instanceof AbortedDeferredError)throw neverSettledPromise;if(a===ie.error&&!t)throw i._error;if(a===ie.error)return React.createElement(AwaitContext.Provider,{value:i,children:t});if(a===ie.success)return React.createElement(AwaitContext.Provider,{value:i,children:e});throw i}}function le(e,t){void 0===t&&(t=[]);let n=[];return a.Children.forEach(e,((e,i)=>{if(!a.isValidElement(e))return;let l=[...t,i];if(e.type===a.Fragment)return void n.push.apply(n,le(e.props.children,l));e.type!==ee&&o(!1),e.props.index&&e.props.children&&o(!1);let r={id:e.props.id||l.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(r.children=le(e.props.children,l)),n.push(r)})),n}var oe=n(616550);"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;var re,se;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(re||(re={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(se||(se={}));const de=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?a.useLayoutEffect:()=>{};function ce(e){let{children:t}=e,n=(0,oe.useHistory)(),[i,l]=a.useState((()=>({location:n.location,action:n.action})));return de((()=>{n.listen(((e,t)=>l({location:e,action:t})))}),[n]),a.createElement(te,{navigationType:i.action,location:i.location,navigator:n},a.createElement(ne,null,a.createElement(ee,{path:"*",element:t})))}},442279:(e,t)=>{function n(e,t){return e===t}function i(e){var t=arguments.length<=1||void 0===arguments[1]?n:arguments[1],i=null,a=null;return function(){for(var n=arguments.length,l=Array(n),o=0;o<n;o++)l[o]=arguments[o];return null!==i&&i.length===l.length&&l.every((function(e,n){return t(e,i[n])}))||(a=e.apply(void 0,l)),i=l,a}}function a(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),a=0;a<t;a++)i[a]=arguments[a];var l=0,o=i.pop(),r=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}(i),s=e.apply(void 0,[function(){return l++,o.apply(void 0,arguments)}].concat(n)),d=function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];var l=r.map((function(n){return n.apply(void 0,[e,t].concat(i))}));return s.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(l))};return d.resultFunc=o,d.recomputations=function(){return l},d.resetRecomputations=function(){return l=0},d}}var l=t.P1=a(i)},52511:function(e,t,n){var i;e=n.nmd(e),function(a){t&&t.nodeType,e&&e.nodeType;var l="object"==typeof n.g&&n.g;l.global!==l&&l.window!==l&&l.self;var o,r=2147483647,s=36,d=1,c=26,u=38,p=700,m=72,h=128,g="-",_=/^xn--/,y=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=s-d,x=Math.floor,k=String.fromCharCode;function P(e){throw RangeError(f[e])}function S(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function w(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+S((e=e.replace(v,".")).split("."),t).join(".")}function T(e){for(var t,n,i=[],a=0,l=e.length;a<l;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<l?56320==(64512&(n=e.charCodeAt(a++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),a--):i.push(t);return i}function I(e){return S(e,(function(e){var t="";return e>65535&&(t+=k((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=k(e)})).join("")}function A(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function C(e,t,n){var i=0;for(e=n?x(e/p):e>>1,e+=x(e/t);e>b*c>>1;i+=s)e=x(e/b);return x(i+(b+1)*e/(e+u))}function j(e){var t,n,i,a,l,o,u,p,_,y,v,f=[],b=e.length,k=0,S=h,w=m;for((n=e.lastIndexOf(g))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&P("not-basic"),f.push(e.charCodeAt(i));for(a=n>0?n+1:0;a<b;){for(l=k,o=1,u=s;a>=b&&P("invalid-input"),((p=(v=e.charCodeAt(a++))-48<10?v-22:v-65<26?v-65:v-97<26?v-97:s)>=s||p>x((r-k)/o))&&P("overflow"),k+=p*o,!(p<(_=u<=w?d:u>=w+c?c:u-w));u+=s)o>x(r/(y=s-_))&&P("overflow"),o*=y;w=C(k-l,t=f.length+1,0==l),x(k/t)>r-S&&P("overflow"),S+=x(k/t),k%=t,f.splice(k++,0,S)}return I(f)}function E(e){var t,n,i,a,l,o,u,p,_,y,v,f,b,S,w,I=[];for(f=(e=T(e)).length,t=h,n=0,l=m,o=0;o<f;++o)(v=e[o])<128&&I.push(k(v));for(i=a=I.length,a&&I.push(g);i<f;){for(u=r,o=0;o<f;++o)(v=e[o])>=t&&v<u&&(u=v);for(u-t>x((r-n)/(b=i+1))&&P("overflow"),n+=(u-t)*b,t=u,o=0;o<f;++o)if((v=e[o])<t&&++n>r&&P("overflow"),v==t){for(p=n,_=s;!(p<(y=_<=l?d:_>=l+c?c:_-l));_+=s)w=p-y,S=s-y,I.push(k(A(y+w%S,0))),p=x(w/S);I.push(k(A(p,0))),l=C(n,b,i==a),n=0,++i}++n,++t}return I.join("")}o={version:"1.3.2",ucs2:{decode:T,encode:I},decode:j,encode:E,toASCII:function(e){return w(e,(function(e){return y.test(e)?"xn--"+E(e):e}))},toUnicode:function(e){return w(e,(function(e){return _.test(e)?j(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return o}.call(t,n,t,e))||(e.exports=i)}()},608575:(e,t,n)=>{var i=n(52511),a=n(762502);function l(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=f,t.resolve=function(e,t){return f(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?f(e,!1,!0).resolveObject(t):t},t.format=function(e){a.isString(e)&&(e=f(e));return e instanceof l?e.format():l.prototype.format.call(e)},t.Url=l;var o=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(d),u=["%","/","?",";","#"].concat(c),p=["/","?","#"],m=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(817673);function f(e,t,n){if(e&&a.isObject(e)&&e instanceof l)return e;var i=new l;return i.parse(e,t,n),i}l.prototype.parse=function(e,t,n){if(!a.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var l=e.indexOf("?"),r=-1!==l&&l<e.indexOf("#")?"?":"#",d=e.split(r);d[0]=d[0].replace(/\\/g,"/");var f=e=d.join(r);if(f=f.trim(),!n&&1===e.split("#").length){var b=s.exec(f);if(b)return this.path=f,this.href=f,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=o.exec(f);if(x){var k=(x=x[0]).toLowerCase();this.protocol=k,f=f.substr(x.length)}if(n||x||f.match(/^\/\/[^@\/]+@[^@\/]+/)){var P="//"===f.substr(0,2);!P||x&&_[x]||(f=f.substr(2),this.slashes=!0)}if(!_[x]&&(P||x&&!y[x])){for(var S,w,T=-1,I=0;I<p.length;I++){-1!==(A=f.indexOf(p[I]))&&(-1===T||A<T)&&(T=A)}-1!==(w=-1===T?f.lastIndexOf("@"):f.lastIndexOf("@",T))&&(S=f.slice(0,w),f=f.slice(w+1),this.auth=decodeURIComponent(S)),T=-1;for(I=0;I<u.length;I++){var A;-1!==(A=f.indexOf(u[I]))&&(-1===T||A<T)&&(T=A)}-1===T&&(T=f.length),this.host=f.slice(0,T),f=f.slice(T),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var j=this.hostname.split(/\./),E=(I=0,j.length);I<E;I++){var R=j[I];if(R&&!R.match(m)){for(var L="",D=0,F=R.length;D<F;D++)R.charCodeAt(D)>127?L+="x":L+=R[D];if(!L.match(m)){var z=j.slice(0,I),M=j.slice(I+1),O=R.match(h);O&&(z.push(O[1]),M.unshift(O[2])),M.length&&(f="/"+M.join(".")+f),this.hostname=z.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=i.toASCII(this.hostname));var B=this.port?":"+this.port:"",Z=this.hostname||"";this.host=Z+B,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==f[0]&&(f="/"+f))}if(!g[k])for(I=0,E=c.length;I<E;I++){var N=c[I];if(-1!==f.indexOf(N)){var U=encodeURIComponent(N);U===N&&(U=escape(N)),f=f.split(N).join(U)}}var K=f.indexOf("#");-1!==K&&(this.hash=f.substr(K),f=f.slice(0,K));var V=f.indexOf("?");if(-1!==V?(this.search=f.substr(V),this.query=f.substr(V+1),t&&(this.query=v.parse(this.query)),f=f.slice(0,V)):t&&(this.search="",this.query={}),f&&(this.pathname=f),y[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){B=this.pathname||"";var H=this.search||"";this.path=B+H}return this.href=this.format(),this},l.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",l=!1,o="";this.host?l=e+this.host:this.hostname&&(l=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(l+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(o=v.stringify(this.query));var r=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==l?(l="//"+(l||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):l||(l=""),i&&"#"!==i.charAt(0)&&(i="#"+i),r&&"?"!==r.charAt(0)&&(r="?"+r),t+l+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(r=r.replace("#","%23"))+i},l.prototype.resolve=function(e){return this.resolveObject(f(e,!1,!0)).format()},l.prototype.resolveObject=function(e){if(a.isString(e)){var t=new l;t.parse(e,!1,!0),e=t}for(var n=new l,i=Object.keys(this),o=0;o<i.length;o++){var r=i[o];n[r]=this[r]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),d=0;d<s.length;d++){var c=s[d];"protocol"!==c&&(n[c]=e[c])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!y[e.protocol]){for(var u=Object.keys(e),p=0;p<u.length;p++){var m=u[p];n[m]=e[m]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||_[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var g=n.pathname||"",v=n.search||"";n.path=g+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var f=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=b||f||n.host&&e.pathname,k=x,P=n.pathname&&n.pathname.split("/")||[],S=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===P[0]?P[0]=n.host:P.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),x=x&&(""===h[0]||""===P[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,P=h;else if(h.length)P||(P=[]),P.pop(),P=P.concat(h),n.search=e.search,n.query=e.query;else if(!a.isNullOrUndefined(e.search)){if(S)n.hostname=n.host=P.shift(),(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift());return n.search=e.search,n.query=e.query,a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!P.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var w=P.slice(-1)[0],T=(n.host||e.host||P.length>1)&&("."===w||".."===w)||""===w,I=0,A=P.length;A>=0;A--)"."===(w=P[A])?P.splice(A,1):".."===w?(P.splice(A,1),I++):I&&(P.splice(A,1),I--);if(!x&&!k)for(;I--;I)P.unshift("..");!x||""===P[0]||P[0]&&"/"===P[0].charAt(0)||P.unshift(""),T&&"/"!==P.join("/").substr(-1)&&P.push("");var C,j=""===P[0]||P[0]&&"/"===P[0].charAt(0);S&&(n.hostname=n.host=j?"":P.length?P.shift():"",(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift()));return(x=x||n.host&&P.length)&&!j&&P.unshift(""),P.length?n.pathname=P.join("/"):(n.pathname=null,n.path=null),a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},l.prototype.parseHost=function(){var e=this.host,t=r.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},762502:e=>{e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},17314:(e,t,n)=>{n.d(t,{Z:()=>d});var i,a,l=n(813653),o=n(861470),r=0,s=0;const d=function(e,t,n){var d=t&&n||0,c=t||new Array(16),u=(e=e||{}).node||i,p=void 0!==e.clockseq?e.clockseq:a;if(null==u||null==p){var m=e.random||(e.rng||l.Z)();null==u&&(u=i=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==p&&(p=a=16383&(m[6]<<8|m[7]))}var h=void 0!==e.msecs?e.msecs:Date.now(),g=void 0!==e.nsecs?e.nsecs:s+1,_=h-r+(g-s)/1e4;if(_<0&&void 0===e.clockseq&&(p=p+1&16383),(_<0||h>r)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");r=h,s=g,a=p;var y=(1e4*(268435455&(h+=122192928e5))+g)%4294967296;c[d++]=y>>>24&255,c[d++]=y>>>16&255,c[d++]=y>>>8&255,c[d++]=255&y;var v=h/4294967296*1e4&268435455;c[d++]=v>>>8&255,c[d++]=255&v,c[d++]=v>>>24&15|16,c[d++]=v>>>16&255,c[d++]=p>>>8|128,c[d++]=255&p;for(var f=0;f<6;++f)c[d+f]=u[f];return t||(0,o.Z)(c)}},889424:e=>{var t,n,i,a,l={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[a],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}]},params:{id:"6312848b4bb08588587683a04a42e4d0333e2e986fcab0cef4ed200786d3f5d9",metadata:{},name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};l.hash="bc8b32c56a4a58de585c9a05ae69bd9c",e.exports=l,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}(l)},485508:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Attribution_pin",selections:[{args:null,kind:"FragmentSpread",name:"StoryPinDescription_pin"},{args:null,kind:"FragmentSpread",name:"MusicAttribution_pin"}],type:"Pin",abstractKey:null,hash:"073d579cf70fb0330fe26977d9b9f41a"};e.exports=t},774049:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescriptionPhotoAttribution_pin",selections:[{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="5dff28be2de95106e382c42d78ad1833",e.exports=n},7202:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescription_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},t,{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoNoindexReason",storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupDescriptionPhotoAttribution_pin"}],type:"Pin",abstractKey:null};i.hash="51f05a8beaf6713f324e1123be70167b",e.exports=i},943149:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDetailsBasicsLayout_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:t=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="b8f25f1b5aa21f88bc1091e219609eb8",e.exports=n},229985:e=>{var t,n,i,a,l,o={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"},{defaultValue:null,kind:"LocalArgument",name:"isDesktop"}],kind:"Fragment",metadata:null,name:"CloseupDetails_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:a=[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:a,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[t,{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[n],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:a,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:l=[{args:null,kind:"FragmentSpread",name:"CloseupDetails_user"}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[i,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:l,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:l,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{args:null,kind:"FragmentSpread",name:"OfficialUserAttribution_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDetailsBasicsLayout_pin"},{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipe_pin"},{args:null,kind:"FragmentSpread",name:"CloseupTitle_pin"},{args:null,kind:"FragmentSpread",name:"CloseupSavedAttribution_pin"},{args:null,kind:"FragmentSpread",name:"PinFeaturedInArticleCard_pin"},{args:null,kind:"FragmentSpread",name:"VaseFullBleedModal_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipeRating_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDescription_pin"},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"},{args:null,kind:"FragmentSpread",name:"useReactionCountsFragment_pin"},{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"},{condition:"isAuth",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"ProductDetails_pin"}]},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProductDescriptionDropdown_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"PinFeedbackButton_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"CommentThreadContainer_pin"}]}],type:"Pin",abstractKey:null};o.hash="eaa450e41fd97645f582f7afa57658dc",e.exports=o},179461:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDetails_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],type:"User",abstractKey:null,hash:"c9713d85ef89281fa5ad27120a1c71f9"};e.exports=t},849947:e=>{var t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupFullDetail_pin",selections:[{args:null,kind:"FragmentSpread",name:"ImageViewer_pin"},{args:null,kind:"FragmentSpread",name:"PinActionBar_pin"},{args:null,kind:"FragmentSpread",name:"PinActionBarOptionsButton_pin"},{args:null,kind:"FragmentSpread",name:"CloseupModals_pin"},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"UnauthCloseupRelatedPins_pin"}]}],type:"Pin",abstractKey:null,hash:"3b576654dda367ce755cb75e49ee7a02"};e.exports=t},284014:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainIframe_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"736x")'}],type:"Pin",abstractKey:null,hash:"040479189b5808c581351271292cad96"};e.exports=t},360142:e=>{var t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"},{defaultValue:null,kind:"LocalArgument",name:"isDesktop"}],kind:"Fragment",metadata:null,name:"CloseupMainPinDetail_pin",selections:[{args:null,kind:"FragmentSpread",name:"ProductCarousel_pin"},{args:null,kind:"FragmentSpread",name:"CloseupMainIframe_pin"},{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"},{kind:"Variable",name:"isDesktop",variableName:"isDesktop"}],kind:"FragmentSpread",name:"CloseupDetails_pin"},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"LeafSnippet_pin"}]}],type:"Pin",abstractKey:null,hash:"7fa629ded275b5b0f24ecd3f0c5a586b"};e.exports=t},526859:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainPinImage_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"connectionType",storageKey:null}],storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"136x136")'},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"}],type:"Pin",abstractKey:null};n.hash="58c9e451c4a9137c97a305211d673869",e.exports=n},680178:e=>{var t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isDesktop"}],kind:"Fragment",metadata:null,name:"CloseupMainPinStoryPin_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupStoryPinBlock_pin"},{args:null,kind:"FragmentSpread",name:"StoryPinCloseup_pin"},{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoryPinCloseupBodyOnMobile_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"StoryPinCloseupBodyOnDesktop_pin"},{args:null,kind:"FragmentSpread",name:"StoryPinCloseupDetailsOnDesktop_pin"}]}],type:"Pin",abstractKey:null,hash:"33567d57b67b5a49be2253f636baf23e"};e.exports=t},403309:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainPin_pin",selections:[{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shipsToUserCountry",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"ad",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"additionalImageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"additionalImageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"736x")'}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupMainPinImage_pin"},{args:null,kind:"FragmentSpread",name:"CloseupVideo_pin"},{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"}],type:"Pin",abstractKey:null};n.hash="06eced87026c6b69525d8bab07089fd7",e.exports=n},325168:e=>{var t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupPageContainer_pin",selections:[{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"UnauthContextMenuController_pin"}],type:"Pin",abstractKey:null,hash:"4f6345abad9348df2ae456106d4b9c44"};e.exports=t},162247:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupPageViewAndTimeSpent_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null}],type:"Pin",abstractKey:null,hash:"5b01543e9ace6cf2b437348f6b1a3a64"};e.exports=t},907673:e=>{var t,n,i,a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupPage_pin",selections:[{alias:null,args:null,concreteType:"CreatorClass",kind:"LinkedField",name:"creatorClass",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CreatorClassInstance",kind:"LinkedField",name:"creatorClassInstance",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"videoUrls",storageKey:null}],storageKey:null},{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"Closeup_pin"}],type:"Pin",abstractKey:null};a.hash="a58b8b966069793cc65d32416a70af71",e.exports=a},737304:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupSavedAttribution_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"slug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"62fd54709d3c18c78af173903ab765f1"};e.exports=t},947715:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupStoryPinBlock_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:"pageId",args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinBlock_page"}],type:"Pin",abstractKey:null,hash:"d344c68f5098c99fd60af6ae84bd46ae"};e.exports=t},273043:e=>{var t,n,i,a,l,o,r,s,d,c,u,p,m,h,g,_,y,v,f,b,x,k,P,S,w,T,I,A,C,j,E,R,L,D,F,z,M,O,B,Z,N,U,K,V,H,G,W,$,q,Y,X,J,Q,ee,te,ne,ie,ae,le,oe,re,se,de,ce={fragment:{argumentDefinitions:[t={defaultValue:null,kind:"LocalArgument",name:"isDesktop"},n={defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"CloseupStoryPinQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:[{kind:"Variable",name:"isDesktop",variableName:"isDesktop"}],kind:"FragmentSpread",name:"CloseupStoryPin_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null},{kind:"InlineFragment",selections:l=[a],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[n,t],kind:"Operation",name:"CloseupStoryPinQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:"pageId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"storyPageId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[a,{kind:"InlineFragment",selections:g=[o={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},u={alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"xCoord",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"yCoord",storageKey:null}],storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextStyle",kind:"LinkedField",name:"style",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},{alias:null,args:null,concreteType:"Font",kind:"LinkedField",name:"font",plural:!1,selections:[m={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"defaultSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"letterSpacing",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lineHeight",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fontSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hexColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"highlightColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verticalAlignment",storageKey:null}],storageKey:null}],type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:g,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:[o,u,v={alias:"imageSpec_750x",args:_=[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:y=[r,h,s],storageKey:'images(spec:"750x")'},p],type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:[o,u,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormatted",kind:"LinkedField",name:"videoData",plural:!1,selections:[{alias:null,args:f=[{kind:"Literal",name:"version",value:"V_HLSV3_MOBILE"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[b={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},r,x={alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},h,s],storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'}],storageKey:null},p,{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[b],storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null},{kind:"InlineFragment",selections:[o,k={alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[r,s,d,c,{alias:null,args:null,kind:"ScalarField",name:"rotation",storageKey:null}],storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"endTime",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"isRemoved",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"startTime",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[T={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"StoryPinMentionStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[o,{alias:null,args:null,kind:"ScalarField",name:"interactiveStickerType",storageKey:null},k,P,{alias:null,args:null,kind:"ScalarField",name:"errorMessage",storageKey:null},S,{alias:null,args:null,kind:"ScalarField",name:"isValid",storageKey:null},w,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"stickerData",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"GenericInteractiveStickerStoryBoardData",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"questionCommentId",storageKey:null},j],type:"GenericInteractiveStickerStoryQuestionData",abstractKey:null}],storageKey:null}],type:"StoryPinGenericInteractiveStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:E=[o,k,P,S,w,{alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null}],type:"StoryPinProductStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:E,type:"StoryPinVirtualTryOnMakeupStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[p,o],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:[p,o,{alias:null,args:null,kind:"ScalarField",name:"srcUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canonicalUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"normalizedUrl",storageKey:null}],type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:[o,R={alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},m,{alias:null,args:null,kind:"ScalarField",name:"unit",storageKey:null}],type:"IngredientBlock",abstractKey:null},{kind:"InlineFragment",selections:[o,R,m],type:"SupplyBlock",abstractKey:null},{kind:"InlineFragment",selections:L=[o],type:"StoryPinMusicBlock",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"ad",plural:!1,selections:D=[a,C],storageKey:null},{alias:"musicBlocks",args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[a,{kind:"InlineFragment",selections:[o,{alias:null,args:null,concreteType:"Audio",kind:"LinkedField",name:"audio",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"artistName",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},C],storageKey:null}],type:"StoryPinMusicBlock",abstractKey:null}],storageKey:null},{alias:"videoBlocks",args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[a,{kind:"InlineFragment",selections:L,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColorAdjusted",storageKey:null},v,{alias:"imageSpec_236x",args:M=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:y,storageKey:'images(spec:"236x")'},{alias:"imageSpec_1200x",args:O=[{kind:"Literal",name:"spec",value:"1200x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:y,storageKey:'images(spec:"1200x")'},{alias:"imageSpec_orig",args:B=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:y,storageKey:'images(spec:"orig")'},{alias:"imageAdjustedSpec_750x",args:_,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:y,storageKey:'imagesAdjusted(spec:"750x")'},{alias:"imageAdjustedSpec_236x",args:M,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:y,storageKey:'imagesAdjusted(spec:"236x")'},{alias:"imageAdjustedSpec_1200x",args:O,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:y,storageKey:'imagesAdjusted(spec:"1200x")'},{alias:"imageAdjustedSpec_orig",args:B,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:y,storageKey:'imagesAdjusted(spec:"orig")'},Z={alias:null,args:null,kind:"ScalarField",name:"shouldMute",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignatureAdjusted",storageKey:null},{alias:null,args:null,concreteType:"PageStyle",kind:"LinkedField",name:"style",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[s,r,x,h],storageKey:null}],storageKey:null}],storageKey:null},N={alias:null,args:null,concreteType:"MusicAttribute",kind:"LinkedField",name:"musicAttributions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"artist",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isrc",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailImageUrl",storageKey:null},F],storageKey:null}],storageKey:null},C,{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"canvasAspectRatio",storageKey:null},{alias:null,args:null,concreteType:"StoryPinRecipeMetadataField",kind:"LinkedField",name:"recipeData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cookingTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"prepTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"servingSize",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null},{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[a,{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[U={alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[a,{kind:"InlineFragment",selections:[U,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[a,V={kind:"InlineFragment",selections:K=[p],type:"TextBlock",abstractKey:null},H={kind:"InlineFragment",selections:K,type:"ParagraphBlock",abstractKey:null},G={kind:"InlineFragment",selections:K,type:"HeadingBlock",abstractKey:null},W={kind:"InlineFragment",selections:K,type:"LinkBlock",abstractKey:null},$={kind:"InlineFragment",selections:K,type:"StoryPinImageBlock",abstractKey:null},q={kind:"InlineFragment",selections:K,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],type:"StoryPinListBlock",abstractKey:null},V,G,H,W,$,q],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},Y,{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:X=[h],storageKey:'images(spec:"736x")'},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},T,I,C,J={alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},Y,ee={alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},te={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},ne={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},A,ie={alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},ae={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:"imageSpec_236x",args:M,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:X,storageKey:'images(spec:"236x")'},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[Y,C,{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null}],storageKey:null},z,{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[J,Q,Y,ee,T,te,ne,A,ie,I,ae,C],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:le=[Y,C],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[Y,T,I,C],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},F,{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:le,storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},j],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:le,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:l,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:l,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:le,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:X,storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:X,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:X,storageKey:'images(spec:"170x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:X,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:X,storageKey:'images(spec:"564x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:X,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:B,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:X,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},oe={alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[ne,C],storageKey:null},C],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:D,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[Y,C,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:l,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[Y,I,C,ne,re={alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},ie,J,se={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},T,ae],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},N,Z,C,{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[te]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:l,storageKey:null},{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:l,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:"imageSpec_750x",args:_,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:l,storageKey:'images(spec:"750x")'},{alias:"imageSpec_236x",args:M,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:l,storageKey:'images(spec:"236x")'},{alias:"imageSpec_1200x",args:O,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:l,storageKey:'images(spec:"1200x")'},{alias:"imageSpec_orig",args:B,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:l,storageKey:'images(spec:"orig")'}],type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormatted",kind:"LinkedField",name:"videoData",plural:!1,selections:[{alias:"videoListMobile",args:f,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:de=[x],storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},{alias:"videoList720P",args:[{kind:"Literal",name:"version",value:"V_720P"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:de,storageKey:null}],storageKey:'videoList(version:"V_720P")'}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[re,se],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},m,{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[oe,{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[R,m],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serves",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"TodayArticleWithPath",kind:"LinkedField",name:"relatedArticle",plural:!1,selections:[{alias:"entityId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mainImageUrl",storageKey:null},F,{alias:null,args:null,kind:"ScalarField",name:"urlPath",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUserNote",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[m,h],storageKey:null}],storageKey:null}]}],storageKey:null}],type:"V3GetPin",abstractKey:null},{kind:"TypeDiscriminator",abstractKey:"__isError"}],storageKey:null}]},params:{id:"37ee49cd4a034979752756d3e1dfc2a9a96ae19d9193801848b782aced307769",metadata:{},name:"CloseupStoryPinQuery",operationKind:"query",text:null}};ce.hash="0fc4770b382aee80c94c86d66000808a",e.exports=ce,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}(ce)},440433:e=>{var t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isDesktop"}],kind:"Fragment",metadata:null,name:"CloseupStoryPin_pin",selections:[{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoryPinStream_pin"}]},{args:[{kind:"Variable",name:"isDesktop",variableName:"isDesktop"}],kind:"FragmentSpread",name:"CloseupMainPinStoryPin_pin"}],type:"Pin",abstractKey:null,hash:"4597a5267d66159a656998151fa41ab0"};e.exports=t},357285:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupTitle_pin",selections:[t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoNoindexReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoTitle",storageKey:null}],type:"Pin",abstractKey:null};n.hash="e77b42ec174b43e9b7604897d7df5144",e.exports=n},69039:e=>{var t,n,i,a,l,o,r,s={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"Closeup_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorPermissions",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:n=[t],storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[i],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isV1IdeaPin",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i],storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[a,r={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:o=[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[t,i],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domainVerified",storageKey:null},t],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[l,{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:o,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:o,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"thirdPartyPinOwner",plural:!1,selections:o,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:n,storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupPageViewAndTimeSpent_pin"},{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"CloseupPageContainer_pin"},{args:null,kind:"FragmentSpread",name:"CloseupMainPin_pin"},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"useCommerceData_pin"}],type:"Pin",abstractKey:null};s.hash="6f01ff141489a806eb3bf9a3581c948a",e.exports=s},125555:e=>{var t,n,i={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"CommentReactionUnitedSocialModulePinReactionCountQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useReactionCountsFragment_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"CommentReactionUnitedSocialModulePinReactionCountQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"534cc4fd914eda4ab97f06d103fcaaf156a58d4ab66808c7091ffc3772bcb6c5",metadata:{},name:"CommentReactionUnitedSocialModulePinReactionCountQuery",operationKind:"query",text:null}};i.hash="617006b89ee9f57921e57d3c9098adff",e.exports=i,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}(i)},371446:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentThreadContainer_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},t,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n=[t],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="6e4bec581cece19361386d6124ddde90",e.exports=i},249117:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentThreadModalEntryPoint_pin",selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CommentThreadModal_pin"}],type:"Pin",abstractKey:null,hash:"8870c13169c2c3853d298396ebbb7276"};e.exports=t},553703:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CommentThreadModal_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doneByMe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n=[t],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CommentThreadContainer_pin"}],type:"Pin",abstractKey:null};i.hash="e63d65f15d94f237ad00e6cd1b03a052",e.exports=i},341057:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CoverPage_story_pin_page",selections:[{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColorAdjusted",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:t=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useStoryPinPageImages"}],type:"StoryPinPage",abstractKey:null};n.hash="9329e2351d4ff22c3541173b9fb9d26d",e.exports=n},535424:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IdeaPinActionBar_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:n,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:n,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"IdeaPinVisitButton_pin"},{args:null,kind:"FragmentSpread",name:"CommentThreadModalEntryPoint_pin"}],type:"Pin",abstractKey:null};i.hash="f35f3a341c8184bf99bf7b8193bb56b7",e.exports=i},927190:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IdeaPinVideoScrubber_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"ad",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldMute",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"7eae95f3dfd66f709002fdac2b8f7fa9"};e.exports=t},738319:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IdeaPinVisitButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"}],type:"Pin",abstractKey:null,hash:"c4f99b4a897525ceeb600a989bc21a22"};e.exports=t},91997:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IngredientsPage_story_pin_page",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unit",storageKey:null}],type:"IngredientBlock",abstractKey:null}],storageKey:null}],type:"StoryPinPage",abstractKey:null,hash:"55064042cd1ba8a517e02b413ac45570"};e.exports=t},766131:e=>{var t,n,i,a={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"LazyLoadPinBreadcrumbsQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"LazyLoadPinBreadcrumbsQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"f5c2a4544d75592cedbb5c841969c7b7f7d1b38bf96dd6d0ab116107bfa90978",metadata:{},name:"LazyLoadPinBreadcrumbsQuery",operationKind:"query",text:null}};a.hash="c8e65ee18cda32864e9b7635744f253f",e.exports=a,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}(a)},88960:e=>{var t,n,i,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MediaPage_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:"storyPageId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColorAdjusted",storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:i=[t={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:[t,n,{alias:null,args:null,kind:"ScalarField",name:"srcUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canonicalUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"normalizedUrl",storageKey:null}],type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:i,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useStoryPinPageImages"}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="74d7004491fe9a51e0aa578ce9aebc55",e.exports=a},624937:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MusicAttribution_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[t={alias:null,args:null,kind:"ScalarField",name:"shouldMute",storageKey:null},n={alias:null,args:null,concreteType:"MusicAttribute",kind:"LinkedField",name:"musicAttributions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"artist",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isrc",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailImageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},n,t],type:"Pin",abstractKey:null};i.hash="4b6b65f5a09a6a83ab2a4dc6550ee39f",e.exports=i},584473:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OfficialUserAttributionText_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"17ee7538a8ba5a468f69f85d06121f1d"};e.exports=t},268511:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OfficialUserAttribution_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"OfficialUserAttributionText_pin"}],type:"Pin",abstractKey:null,hash:"a9ae8d2f405ccc3f5679c216f90313c8"};e.exports=t},463146:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinActionBarMoreOptions_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="57a329cbbb02bd406276ee6031be91b9",e.exports=n},179419:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinActionBarOptionsButton_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"VaseSection_pin"},{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"},{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"}],type:"Pin",abstractKey:null,hash:"7114207fdb9a06fb41db6835d9955843"};e.exports=t},157035:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinActionBarVisitButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"}],type:"Pin",abstractKey:null,hash:"2ed8f79733cbeedba9e8a7ed03435228"};e.exports=t},272245:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinActionBar_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t,storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PinActionBarOptionsButton_pin"},{args:null,kind:"FragmentSpread",name:"PinActionBarVisitButton_pin"},{args:null,kind:"FragmentSpread",name:"CommentThreadModalEntryPoint_pin"}],type:"Pin",abstractKey:null};n.hash="03cf62005de03cbd9768d464b7dbfb2b",e.exports=n},327511:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinFeaturedInArticleCard_pin",selections:[{alias:null,args:null,concreteType:"TodayArticleWithPath",kind:"LinkedField",name:"relatedArticle",plural:!1,selections:[{alias:"_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mainImageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"urlPath",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"a7aa8ca2a9aab89cbe065401dfa9e30d"};e.exports=t},761952:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRecipeRating_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"serves",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"26da2a2e34a1dbb54731911458fc39a2"};e.exports=t},24789:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinRecipe_pin",selections:[{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"474x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},t],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="0399d1e5d3138c8784dabc45eac4492b",e.exports=n},842931:e=>{var t,n,i,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductCarousel_pin",selections:[{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:i=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[n={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"useRichMetadataProductsAdditionalImagesFragment"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[n,{args:null,kind:"FragmentSpread",name:"useCarouselSlotsWithImagesFragment"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null}],type:"Pin",abstractKey:null};a.hash="d85ae3dfc46bdbeaf443f1a21599c08d",e.exports=a},633484:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDescriptionDropdown_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{args:null,kind:"FragmentSpread",name:"useStructuredDescriptionFragment_pin"}],type:"Pin",abstractKey:null,hash:"e49c269bff73cba5691f5113b6f00759"};e.exports=t},382545:e=>{var t,n,i,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetails_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null}],storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"userId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isMerchant",storageKey:null}],storageKey:null},n,i={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[n,i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shipsToUserCountry",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},t,{args:null,kind:"FragmentSpread",name:"useStructuredDescriptionFragment_pin"},{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"},{args:null,kind:"FragmentSpread",name:"ProductPrice_pin"},{args:null,kind:"FragmentSpread",name:"ProductReviews_pin"},{args:null,kind:"FragmentSpread",name:"CloseupTitle_pin"},{args:null,kind:"FragmentSpread",name:"OfficialUserAttributionText_pin"}],type:"Pin",abstractKey:null};a.hash="b639ad8304c02a9fd1c0f79c8910f000",e.exports=a},894235:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductPrice_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:t=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:t,storageKey:null}],type:"Pin",abstractKey:null};n.hash="2d8f315013487d39e45789c61794f121",e.exports=n},825090:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviewsCollapsible_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],type:"Pin",abstractKey:null,hash:"a663d52f0626cc8887103d9e1a8a78c2"};e.exports=t},802195:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviewsModal_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"a942edb09f07e93186cbbfed0b8031a7"};e.exports=t},670782:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviewsPreview_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"25e031a9439a0eef8418850148f49a45"};e.exports=t},94109:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductReviews_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ProductReviewsCollapsible_pin"},{args:null,kind:"FragmentSpread",name:"ProductReviewsPreview_pin"},{args:null,kind:"FragmentSpread",name:"ProductReviewsModal_pin"}],type:"Pin",abstractKey:null,hash:"c2f4c93600298edcacdd3b6d3a62ab79"};e.exports=t},599271:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeeMoreButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"VaseSection_pin"}],type:"Pin",abstractKey:null,hash:"8d0233fe1acbc77ec2b5a1754e0a6e36"};e.exports=t},295971:e=>{var t,n,i,a,l={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"ShareInviteCreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ShareInviteCreateExternalInviteGraphQLQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[a],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}]},params:{id:"9444c7d899b56b0d3f582ffd76e4aa03c97bb76a403a805aeb20150c64ee61d7",metadata:{},name:"ShareInviteCreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};l.hash="1fbbd3a52281ca7385d39618818c9f5c",e.exports=l,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}(l)},134167:e=>{var t,n,i,a,l={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"invite_category"},{defaultValue:null,kind:"LocalArgument",name:"url"}],kind:"Fragment",metadata:null,name:"ShareInviteCreateShareLinkGraphQLQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteCategory",variableName:"invite_category"},{kind:"Literal",name:"name",value:""},{kind:"Variable",name:"url",variableName:"url"}],concreteType:null,kind:"LinkedField",name:"v3CreateShareLinkQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,concreteType:"ShareLink",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"V3CreateShareLink",abstractKey:null},{kind:"InlineFragment",selections:[i],type:"ClientError",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ShareInviteCreateShareLinkGraphQLQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3CreateShareLinkQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[a],type:"V3CreateShareLink",abstractKey:null}],storageKey:null}]},params:{id:"1a2c34659f0fc64fb8a13ad996b008dbd6b92e50c9b051a13ea424a4eeda7cb4",metadata:{},name:"ShareInviteCreateShareLinkGraphQLQuery",operationKind:"query",text:null}};l.hash="811d4ea697a4e7e3aa559549b7762835",e.exports=l,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}(l)},747103:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinBasicsLayout_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:t=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"OfficialUserAttribution_pin"}],type:"Pin",abstractKey:null};n.hash="9bd82ee705047a24dfa595bf581f4c96",e.exports=n},261618:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinBlock_page",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:"storyPageId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[t={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},n={alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"xCoord",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"yCoord",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinParagraphBlock_block"}],type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:[t,n,{args:null,kind:"FragmentSpread",name:"StoryPinHeadingBlock_block"}],type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:[t,n,{args:null,kind:"FragmentSpread",name:"StoryPinImageBlock_block"}],type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:[t,n,{args:null,kind:"FragmentSpread",name:"StoryPinVideoBlock_block"}],type:"StoryPinVideoBlock",abstractKey:null},{kind:"InlineFragment",selections:[t,n,{args:null,kind:"FragmentSpread",name:"StoryPinMentionStickerBlock_block"}],type:"StoryPinMentionStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[t,{alias:null,args:null,kind:"ScalarField",name:"interactiveStickerType",storageKey:null},n,{args:null,kind:"FragmentSpread",name:"StoryPinGenericInteractiveStickerBlock_block"}],type:"StoryPinGenericInteractiveStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[t,n,{args:null,kind:"FragmentSpread",name:"StoryPinProductStickerBlock_block"}],type:"StoryPinProductStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[t,n,{args:null,kind:"FragmentSpread",name:"StoryPinVirtualTryOnMakeupStickerBlock_block"}],type:"StoryPinVirtualTryOnMakeupStickerBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinGenericInteractiveStickerBlock_pin"}],type:"Pin",abstractKey:null};i.hash="f5ec4ea9be50b222f7c0ef2806d58324",e.exports=i},692985:e=>{var t,n,i,a,l,o,r,s={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinCloseup_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:n=[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:l=[{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"canvasAspectRatio",storageKey:null},{alias:null,args:null,concreteType:"StoryPinRecipeMetadataField",kind:"LinkedField",name:"recipeData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cookingTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"prepTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"servingSize",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:"pageId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"ad",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:"musicBlocks",args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},{alias:null,args:null,concreteType:"Audio",kind:"LinkedField",name:"audio",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"artistName",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"StoryPinMusicBlock",abstractKey:null}],storageKey:null},{alias:"videoBlocks",args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[o],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CoverPage_story_pin_page"},{args:null,kind:"FragmentSpread",name:"IngredientsPage_story_pin_page"},{args:null,kind:"FragmentSpread",name:"SuppliesPage_story_pin_page"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[t,i,a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},r,{args:null,kind:"FragmentSpread",name:"useReactionCountsFragment_pin"},{args:null,kind:"FragmentSpread",name:"IdeaPinActionBar_pin"},{args:null,kind:"FragmentSpread",name:"StoryPinPage_pin"},{args:null,kind:"FragmentSpread",name:"MediaPage_pin"},{args:null,kind:"FragmentSpread",name:"Attribution_pin"},{args:null,kind:"FragmentSpread",name:"IdeaPinVideoScrubber_pin"},{args:null,kind:"FragmentSpread",name:"MusicAttribution_pin"}],type:"Pin",abstractKey:null};s.hash="dadc93f538d9cfb658d18b28d7c8469d",e.exports=s},66593:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinDescription_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinPreviewText_pin"},{args:null,kind:"FragmentSpread",name:"StoryPinListModal_pin"}],type:"Pin",abstractKey:null,hash:"698f60983e1f329c15da35026da26ed3"};e.exports=t},169741:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinGenericInteractiveStickerBlock_block",selections:[{alias:null,args:null,kind:"ScalarField",name:"endTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"errorMessage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interactiveStickerType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRemoved",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isValid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startTime",storageKey:null},{alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"rotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"stickerData",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"GenericInteractiveStickerStoryBoardData",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"questionCommentId",storageKey:null},t],type:"GenericInteractiveStickerStoryQuestionData",abstractKey:null}],storageKey:null}],type:"StoryPinGenericInteractiveStickerBlock",abstractKey:null};n.hash="020b8c3f71cd0246bb11c20ad3ede297",e.exports=n},79145:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinGenericInteractiveStickerBlock_pin",selections:[{args:null,kind:"FragmentSpread",name:"StoryPinStickerBlock_pin"}],type:"Pin",abstractKey:null,hash:"2d13cb1f75d0bf3742ddb8f141ea022a"};e.exports=t},178365:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinHeadingBlock_block",selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextStyle",kind:"LinkedField",name:"style",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},{alias:null,args:null,concreteType:"Font",kind:"LinkedField",name:"font",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"defaultSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"letterSpacing",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lineHeight",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fontSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hexColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"highlightColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verticalAlignment",storageKey:null}],storageKey:null}],type:"HeadingBlock",abstractKey:null,hash:"af07b7cdd16e1077cabeda3ca6145d1b"};e.exports=t},556079:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinImageBlock_block",selections:[{alias:"imageSpec_750x",args:[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"750x")'}],type:"StoryPinImageBlock",abstractKey:null,hash:"724c999686603f1e98f5d4626b40c50d"};e.exports=t},962435:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinListModal_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinRecipeMetadataField",kind:"LinkedField",name:"recipeData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cookingTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"prepTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"servingSize",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinList_pin"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinBasicsLayout_pin"}],type:"Pin",abstractKey:null,hash:"b408927eb9f996106daef1a0ce894de9"};e.exports=t},334494:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinList_pin",selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[t={alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unit",storageKey:null}],type:"IngredientBlock",abstractKey:null},{kind:"InlineFragment",selections:[t,n],type:"SupplyBlock",abstractKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinData",abstractKey:null};i.hash="58ca192c8da31187227f6d6d9370c6ca",e.exports=i},688599:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinMentionStickerBlock_block",selections:[{alias:null,args:null,kind:"ScalarField",name:"endTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRemoved",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startTime",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"rotation",storageKey:null}],storageKey:null}],type:"StoryPinMentionStickerBlock",abstractKey:null,hash:"9754fdf299e8958fcc42660ffe6c6155"};e.exports=t},756157:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinPage_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:"storyPageId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldMute",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColorAdjusted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignatureAdjusted",storageKey:null},{alias:null,args:null,concreteType:"PageStyle",kind:"LinkedField",name:"style",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:t=[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null},{kind:"InlineFragment",selections:t,type:"StoryPinMusicBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"StoryPinBlock_page"}],type:"Pin",abstractKey:null};n.hash="b66792a47f0a1f6f3458affee6280c35",e.exports=n},519484:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinParagraphBlock_block",selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextStyle",kind:"LinkedField",name:"style",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},{alias:null,args:null,concreteType:"Font",kind:"LinkedField",name:"font",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"defaultSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"letterSpacing",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lineHeight",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fontSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hexColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"highlightColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verticalAlignment",storageKey:null}],storageKey:null}],type:"ParagraphBlock",abstractKey:null,hash:"b8a348287be5b70818ef7b7ccb39d819"};e.exports=t},639242:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinPreviewText_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"extractPreviewText_basics"}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null}],type:"Pin",abstractKey:null,hash:"e90c3859c7387fc3b0a3a59572bac234"};e.exports=t},336090:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinProductStickerBlock_block",selections:[{alias:null,args:null,kind:"ScalarField",name:"endTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRemoved",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},{alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"rotation",storageKey:null}],storageKey:null}],type:"StoryPinProductStickerBlock",abstractKey:null,hash:"084531623b2f67777d2e474859ff21c2"};e.exports=t},464442:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinStickerBlock_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null,hash:"97a6e17f21fa95eedecad1971f9f2ea5"};e.exports=t},952879:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinVideoBlock_block",selections:[{alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormatted",kind:"LinkedField",name:"videoData",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"version",value:"V_HLSV3_MOBILE"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},n],storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null};i.hash="d7df9932f22f284b9aea60c05da4295b",e.exports=i},589316:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"StoryPinVirtualTryOnMakeupStickerBlock_block",selections:[{alias:null,args:null,kind:"ScalarField",name:"endTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isRemoved",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinId",storageKey:null},{alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"rotation",storageKey:null}],storageKey:null}],type:"StoryPinVirtualTryOnMakeupStickerBlock",abstractKey:null,hash:"2c07e1a8942151e5386e2c2786701f8e"};e.exports=t},997572:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SuppliesPage_story_pin_page",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"SupplyBlock",abstractKey:null}],storageKey:null}],type:"StoryPinPage",abstractKey:null,hash:"73f16c3292b301b8d4f16a586c454df1"};e.exports=t},80259:e=>{var t,n,i,a,l,o,r,s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteCode"}],kind:"Fragment",metadata:null,name:"UnauthCloseupInviteUpsellQuery",selections:[{alias:null,args:n=[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"UnauthCloseupInviteUpsellQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a,l,o,r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},r],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"4610a8b7fe41310eb2db231b8c1171930d91f797fbc7fd321ec6682cb48a3711",metadata:{},name:"UnauthCloseupInviteUpsellQuery",operationKind:"query",text:null}};s.hash="6932152931fe069ad54b218e36e66908",e.exports=s,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}(s)},140109:e=>{var t={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"UnauthContextMenuController_pin",selections:[{args:[{kind:"Variable",name:"isAuth",variableName:"isAuth"}],kind:"FragmentSpread",name:"UnauthContextMenu_pin"}],type:"Pin",abstractKey:null,hash:"9cbce2e5d42ba48125c1151e618b033c"};e.exports=t},586188:e=>{var t,n,i,a,l,o,r={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"UnauthContextMenu_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"imageSpec_236",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"imageSpec_474",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i,storageKey:'images(spec:"736x")'},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},n],storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:l=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},t,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:l,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:l,storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},o,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:l,storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};r.hash="0c601e5a81932b7e4ed3919f8fd378ef",e.exports=r},823722:e=>{var t,n,i,a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthDesktopContextMenu_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t,i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"}],type:"Pin",abstractKey:null};a.hash="9927ced98afae08f50c02180203fa8b0",e.exports=a},717988:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseAnnotations_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null,hash:"594237c2ea6ccfb8bbc0e3e8c62cac9f"};e.exports=t},114572:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseFullBleedModal_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"2e464db34007ea4c1c0752bf62bbb542"};e.exports=t},298262:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseSection_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t,n={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},n,{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"}],type:"Pin",abstractKey:null};i.hash="dda341dce5f1fa956d1837dec35496de",e.exports=i},389432:e=>{var t,n,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"extractPreviewText_basics",selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[t={alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:n=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:n,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:n,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:n,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:n,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:n,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],type:"StoryPinListBlock",abstractKey:null}],storageKey:null}],storageKey:null}],type:"StoryPinBasics",abstractKey:null};i.hash="70e84f7d1d0b4c8f0d2d282682155e30",e.exports=i},782194:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useAnnotationsWithLinksFragment_pin",selections:[{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"35075da6e1f4b526ac4314727015c44d"};e.exports=t},900936:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCarouselSlotsWithImagesFragment",selections:[{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'}],storageKey:null}],type:"PinCarouselData",abstractKey:null};n.hash="6ee0e06d6e3b47f9396e4ede80e7ecdd",e.exports=n},567045:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useClickthrough_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"useCommerceData_pin"}],type:"Pin",abstractKey:null,hash:"3f29ffb1fba341866459b5981697a556"};e.exports=t},46844:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCommerceData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null}],type:"Pin",abstractKey:null,hash:"1b446350cec79dea7b3946321fdb0a52"};e.exports=t},417429:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinImageUrls_pin",selections:[{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'}],type:"Pin",abstractKey:null};n.hash="b7ea441f2c20a68b323088ebe3847835",e.exports=n},611338:e=>{var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useReactionCountsFragment_pin",selections:[{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null,hash:"11d828252f89045bc37e6aa5eb3fbea6"};e.exports=t},115606:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRichMetadataProductsAdditionalImagesFragment",selections:[{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:t,storageKey:'additionalImagesPerSpec(spec:"736x")'}],type:"RichPinProductMetadata",abstractKey:null};n.hash="5f94f91848fd463f5381b36dd565e15d",e.exports=n},277248:e=>{var t,n,i,a,l,o,r,s,d,c,u,p,m,h,g,_,y,v,f,b,x,k,P,S,w,T,I,A,C,j,E={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRichSnippetPin_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"priceCurrency",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"seoViewCount",storageKey:null},{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[c={alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:d=[{alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:d,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p=[{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},s,u,o,r],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:m=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:p,storageKey:'images(spec:"orig")'},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},g={alias:"imageSpec_orig",args:m,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:h=[s,o,r],storageKey:'images(spec:"orig")'},{alias:"imageAdjustedSpec_orig",args:m,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:h,storageKey:'imagesAdjusted(spec:"orig")'},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:v=[_={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},x={kind:"InlineFragment",selections:b=[_,f={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"IngredientBlock",abstractKey:null},k={kind:"InlineFragment",selections:b,type:"SupplyBlock",abstractKey:null},{kind:"InlineFragment",selections:[_,y,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormatted",kind:"LinkedField",name:"videoData",plural:!1,selections:[l,{alias:"videoListMobile",args:[{kind:"Literal",name:"version",value:"V_HLSV3_MOBILE"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:d,storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},{alias:"videoListEXP3",args:[{kind:"Literal",name:"version",value:"V_EXP3"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP3",plural:!1,selections:d,storageKey:null}],storageKey:'videoList(version:"V_EXP3")'},{alias:"videoListEXP4",args:[{kind:"Literal",name:"version",value:"V_EXP4"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP4",plural:!1,selections:d,storageKey:null}],storageKey:'videoList(version:"V_EXP4")'},{alias:"videoListEXP5",args:[{kind:"Literal",name:"version",value:"V_EXP5"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP5",plural:!1,selections:d,storageKey:null}],storageKey:'videoList(version:"V_EXP5")'},{alias:"videoListEXP6",args:[{kind:"Literal",name:"version",value:"V_EXP6"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP6",plural:!1,selections:d,storageKey:null}],storageKey:'videoList(version:"V_EXP6")'},{alias:"videoListEXP7",args:[{kind:"Literal",name:"version",value:"V_EXP7"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP7",plural:!1,selections:d,storageKey:null}],storageKey:'videoList(version:"V_EXP7")'},{alias:"videoList720P",args:[{kind:"Literal",name:"version",value:"V_720P"}],concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[c],storageKey:'videoList(version:"V_720P")'}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null},{kind:"InlineFragment",selections:[_,y,g],type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:v,type:"ParagraphBlock",abstractKey:null},S={kind:"InlineFragment",selections:P=[y,_],type:"HeadingBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},_,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[w={kind:"InlineFragment",selections:P,type:"TextBlock",abstractKey:null},x,k,T={kind:"InlineFragment",selections:P,type:"ParagraphBlock",abstractKey:null},S,{kind:"InlineFragment",selections:[_,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[w,x,k,T,S],storageKey:null}],type:"StoryPinListBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[n,t,o,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[I={alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"serves",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTimes",kind:"LinkedField",name:"cookTimes",plural:!1,selections:[{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"total",plural:!1,selections:j=[{alias:null,args:null,kind:"ScalarField",name:"m",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"cook",plural:!1,selections:j,storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"prep",plural:!1,selections:j,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[C,I,{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},A],storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},f],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[f,{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shareCount",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[a,i,{alias:null,args:null,kind:"ScalarField",name:"profileUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[a],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"seoCanonicalUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoCanonicalDomain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoNoindexReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"repinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[o],storageKey:null},{args:null,kind:"FragmentSpread",name:"useAnnotationsWithLinksFragment_pin"}],type:"Pin",abstractKey:null};E.hash="d53ee68f0fce2d51dc818ede773f4e5b",e.exports=E},939592:e=>{var t,n,i,a,l,o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStoryPinPageImages",selections:[{alias:"imageSpec_750x",args:t=[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"750x")'},{alias:"imageSpec_236x",args:i=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"236x")'},{alias:"imageSpec_1200x",args:a=[{kind:"Literal",name:"spec",value:"1200x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"1200x")'},{alias:"imageSpec_orig",args:l=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:n,storageKey:'images(spec:"orig")'},{alias:"imageAdjustedSpec_750x",args:t,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:n,storageKey:'imagesAdjusted(spec:"750x")'},{alias:"imageAdjustedSpec_236x",args:i,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:n,storageKey:'imagesAdjusted(spec:"236x")'},{alias:"imageAdjustedSpec_1200x",args:a,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:n,storageKey:'imagesAdjusted(spec:"1200x")'},{alias:"imageAdjustedSpec_orig",args:l,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:n,storageKey:'imagesAdjusted(spec:"orig")'}],type:"StoryPinPage",abstractKey:null};o.hash="c766f3f12008fe7e57798edf4ada1bd0",e.exports=o},157222:e=>{var t,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStructuredDescriptionFragment_pin",selections:[{alias:null,args:null,concreteType:"FormattedCloseupDescription",kind:"LinkedField",name:"formattedCloseupDescription",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:"stringContent",args:null,kind:"ScalarField",name:"content",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"DescriptionString",abstractKey:null},{kind:"InlineFragment",selections:[t,{alias:"pointsContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionPoints",abstractKey:null},{kind:"InlineFragment",selections:[t,{alias:"specsContent",args:null,concreteType:"DescriptionSpecDetail",kind:"LinkedField",name:"content",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],type:"DescriptionSpecs",abstractKey:null},{kind:"InlineFragment",selections:[t,{alias:"tableContent",args:null,kind:"ScalarField",name:"content",storageKey:null}],type:"DescriptionTable",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="be1864520883fcc12e69e99c1323d274",e.exports=n},914939:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(702664),a=n(690108),l=n(76008),o=n(738318),r=n(952239),s=n(541268),d=n(826260),c=n(274796);const u={[o.o.aggregatedComment]:"AggregatedCommentReplyResource",[o.o.pin]:"AggregatedCommentResource",[o.o.didIt]:"DidItCommentsResource"};function p(){const e=(0,i.useDispatch)(),{aggregatedCommentCreated:t,updateCommentCount:n}=(0,l.nf)();return async({force:i=!0,fromUnifiedComment:l,objectId:o,objectType:p,orbacSubjectId:m,pinId:h,replyToCommentId:g,tags:_,text:y})=>{const v=u[p],f={force:i,objectId:o,pinId:h,tags:_,text:y,replyToCommentId:g,...m?{orbacSubjectId:m}:{}};let b=c.Z.AGGREGATED_COMMENTS;l&&(b="pin"===p?c.Z.UNIFIED_COMMENTS:c.Z.AGGREGATED_COMMENT_REPLIES);const x=await a.Z.create(v,f).callCreate({showError:!1}),k=x.resource_response.data;return t(o,k),e((0,s.vX)({feedType:b,feedId:o,itemIds:[k.id],itemType:k.type,prepend:!0})),"pin"===p&&h?e((0,d.R)(h,1)):"aggregatedComment"===p?n(o,1):e((0,r.L8)(o,1)),k.id||x}}},932845:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(702664),a=n(690108),l=n(123228),o=n(76008),r=n(952239),s=n(541268),d=n(826260),c=n(274796);function u(){const e=(0,i.useDispatch)(),{aggregatedCommentDeleted:t,updateCommentCount:n}=(0,o.nf)();return async({aggregatedCommentId:i,aggregatedPinId:o,feedType:u,orbacSubjectId:p,parentId:m,type:h,updateParentCommentCount:g,pinId:_})=>{await a.Z.create("AggregatedCommentResource",{commentId:i,...p?{orbacSubjectId:p}:{}}).callDelete({showError:!1}),m&&(e((0,s.EX)({feedId:o||m,feedType:u||c.Z.AGGREGATED_COMMENTS,itemIds:[i],itemType:"aggregatedcomment"})),t(m,i),g&&(h||0===h)&&(h===l.Rv.TOP&&_?e((0,d.R)(_,-1)):h===l.Rv.REPLY_TO_AGGREGATED?n(m,-1):e((0,r.L8)(m,-1))))}}},939809:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),a=n(883119),l=n(785893);function o({accessibilityLabel:e,handleClick:t,icon:n,iconColor:o,iconOnly:r,testId:s,buttonText:d,tabIndex:c}){const[u,p]=(0,i.useState)(!1),m=(0,i.useRef)(null),h=r?"md":"lg",g=o||"darkGray",_=()=>{p((e=>!e)),t()},y=e=>{var t;m&&e.target instanceof Element&&(null===(t=m.current)||void 0===t||!t.contains(e.target))&&p(!1)};return(0,i.useEffect)((()=>(window.addEventListener("mousedown",y),()=>{window.removeEventListener("mousedown",y)})),[]),(0,l.jsx)(a.xu,{"data-test-id":s||"closeup-action-bar-button",children:(0,l.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(a.hU,{accessibilityLabel:e,iconColor:g,onClick:_,selected:u,icon:n,size:h,ref:m,tabIndex:c}),d&&(0,l.jsx)(a.iP,{onTap:_,rounding:2,children:(0,l.jsx)(a.X6,{color:"light",overflow:"normal",size:"400",children:d})})]})})}},164671:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var i=n(667294),a=n(616550),l=n(245410);function o({surfaceType:e}){const{checkExperiment:t}=(0,l.F)();return"flashlight"===e&&t("web_flashlight_cta").anyEnabled||"stela"===e&&t("web_stela_cta").anyEnabled}var r=n(536042),s=n(282802),d=n(549201),c=n(781925);var u=n(883119),p=n(477288),m=n(785893);function h({buttonText:e,onButtonClick:t,handleAnimationEnd:n,iconType:i,styleOptions:a,textRef:l,textColor:o}){const s=(0,r.ZP)();return(0,m.jsx)(u.iP,{accessibilityLabel:s._('Click to shop', 'closeup.shopButton', 'Button label for shop icon'),onTap:t,rounding:"circle",children:(0,m.jsx)(u.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, 0.8)"}},"data-test-id":"shop-button",display:"flex",justifyContent:"center",minHeight:p.Nv,minWidth:p.Nv,onAnimationEnd:n,padding:3,position:"relative",rounding:"pill",children:(0,m.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"center",children:[(0,m.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:a.buttonStyle},children:e&&(0,m.jsx)(u.xu,{ref:null!=l?l:void 0,dangerouslySetInlineStyle:{__style:a.textStyle},children:(0,m.jsx)(u.xv,{color:o,weight:"bold",children:e})})}),(0,m.jsx)(u.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{bottom:(p.Nv-p.ZG)/2,right:(p.Nv-p.ZG)/2}},children:(0,m.jsx)(u.JO,{accessibilityLabel:s._('Click to shop', 'closeup.shopButton', 'Button label for shop icon'),color:"default",icon:i,size:p.ZG})})]})})})}var g=n(563962),_=n(874261),y=n(824439),v=n(272109);function f({actionUrl:e,animateShopButton:t,id:n,imageSignature:u,onAnimationComplete:p,surfaceType:f}){const b=(0,i.useRef)(),x=(0,g.Z)(),k=o({surfaceType:f}),{checkExperiment:P}=(0,l.F)(),S=(0,a.useHistory)(),[w,T]=(0,i.useState)(),[I,A]=(0,i.useState)(),[C,j]=(0,i.useState)(),E=function({surfaceType:e,showButton:t}){const n=(0,r.ZP)(),{isAuthenticated:i}=(0,s.B)(),{checkExperiment:a}=(0,l.F)(),u=(0,d.HG)(),p=o({surfaceType:e});if(!t)return null;if(!i){const{group:e,anyEnabled:t}=a((0,c.Z)({isDesktop:u}));if(t){if(e.includes("1"))return n._('Image search', 'closeup.visualSearchButton.flashlightVariant1', 'clicking on this text will open a visual search feed');if(e.includes("2"))return n._('Search inside image', 'closeup.visualSearchButton.flashlightVariant1', 'clicking on this text will open a visual search feed')}}if(p)return n._('Image search', 'closeup.shopButton.similarProducts', 'clicking on this text will open a feed similar shoppable Pins');switch(e){case"stela":return n._('Shop similar items', 'closeup.shopButton.similarProducts', 'clicking on this text will open a feed similar shoppable Pins');case"stl":return n._('Shop this look', 'closeup.overlay.stl.shopButtonText', 'clicking on this text will show the stl flyout with exact match products');case"flashlight":return"";default:return null}}({surfaceType:f,showButton:t});(0,v.Z)((()=>{x("stl"===f?{event_type:120,element:11963,view_type:3,aux_data:{image_signature:u}}:{event_type:120,component:128,element:234,view_type:3,aux_data:{image_signature:u}})})),(0,i.useEffect)((()=>{if(b.current&&!w&&t){const e=b.current.getBoundingClientRect().width;e&&T(e)}}),[b,w,t]),(0,i.useEffect)((()=>{t&&(A("shopButtonSlideInThenOut 3s ease-in-out forwards"),j("stelaSlideInThenOut 3s ease-in-out forwards"))}),[t]);return(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(_.Z,{unsafeCSS:(0,y.Z)(w||0)}),(0,m.jsx)(h,{buttonText:E,handleAnimationEnd:p,iconType:"flashlight"===f||k?"flashlight":"shopping-bag",onButtonClick:()=>{["flashlight","stela"].includes(f)&&x({event_type:101,component:128,element:234,view_type:3,aux_data:{image_signature:u}});const t="flashlight"===f&&P("web_flashlight_navigation").anyEnabled,i=["stl","stela"].includes(f)&&P("web_shop_button_hover").anyEnabled;e&&(t||i)?S.push(e):S.push(function({surfaceType:e,imageSignature:t,id:n}){switch(e){case"flashlight":return`/pin/${n}/visual-search/${t?`?imageSignature=${t}`:""}`;case"stela":case"stl":return`/pin/${n}/related-products/?entrySource=shopping${t?`&imageSignature=${t}`:""}`}return""}({surfaceType:f,imageSignature:u,id:n}))},styleOptions:{buttonStyle:{animation:I},textStyle:{animation:C,whiteSpace:"nowrap"}},textColor:"default",textRef:b})]})}},318583:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),a=n(883119),l=n(342693),o=n(536042),r=n(269021),s=n(785893);const d=3;function c({isDarkMode:e,onPress:t,testID:n,label:i}){return(0,s.jsx)(a.xu,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:{background:e?"black":"white"}},"data-test-id":n,children:(0,s.jsx)(a.iP,{fullWidth:!1,onTap:t,children:(0,s.jsxs)(a.xv,{size:l.n,weight:"bold",children:["...",i]})})})}function u({children:e,isDarkMode:t,descriptionDir:n}){const u=(0,i.useRef)(null),[p,m]=(0,i.useState)({isFirstLoad:!0,isTruncated:!1}),{isFirstLoad:h,isTruncated:g}=p,_=(0,o.ZP)();return(0,i.useEffect)((()=>{var e;h&&u.current&&((e=u.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&m({isFirstLoad:!1,isTruncated:!0})}),[h,g]),(0,s.jsx)(a.xu,{position:"relative","data-test-id":"truncated-description",flex:"grow",children:(0,s.jsx)(r.Z,{dir:n,children:(0,s.jsxs)(a.xv,{size:l.n,ref:u,lineClamp:h||g?d:0,align:"ltr"===n?"forceLeft":void 0,children:[e,g?(0,s.jsx)(a.xu,{position:"absolute",display:"block",width:"100%",bottom:!0,children:(0,s.jsxs)(a.kC,{flex:"grow",children:[(0,s.jsx)(a.xu,{display:"inlineBlock",flex:"grow",height:"18px"}),(0,s.jsx)(c,{label:_._('more', 'storyPin.previewText.more', 'Story pin preview more text truncation'),onPress:()=>m({...p,isTruncated:!1}),testID:"more-description-container",isDarkMode:t})]})}):(0,s.jsx)(c,{label:_._('less', 'storyPin.previewText.less', 'Story pin preview less text truncation'),onPress:()=>m({...p,isTruncated:!0}),testID:"less-description-container",isDarkMode:t})]})})})}},879352:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),a=n(883119),l=n(987867),o=n(388011),r=n(536042),s=n(634923),d=n(785893);class c extends i.PureComponent{constructor(...e){var t,n,i;super(...e),t=this,n="startAudiblePlayTime",i=this.props.muted?null:new Date,n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidUpdate(e){e.muted!==this.props.muted&&(this.startAudiblePlayTime=this.props.muted?null:new Date)}componentWillUnmount(){const{musicRecordingId:e,muted:t,pinId:n,video:i}=this.props;if(e&&!t&&this.startAudiblePlayTime){if(new Date-this.startAudiblePlayTime>=2e3){const{hlsv3:t,mp4:a}=(0,s.Z)(i)||{},l=a||t,o=(null==l?void 0:l.duration)||0;this.props.logContextEvent({event_type:8999,object_id_str:e,aux_data:{pin_id:n,story_pin_music_duration:o}})}}}render(){const{activePageIndex:e,blockHeight:t,blockPosition:n,blockWidth:i,closeupStoryPinViewability:o,customEndCard:r,isPlaying:c,muted:u,onEnded:p,onUpdateVideoInfo:m,pageIndex:h,pinId:g,roundCorners:_=!0,video:y,videoThumbnailStartTime:v}=this.props,{hlsv3:f,mp4:b}=(0,s.Z)(y)||{},x=b||f;if(!x)return null;const{height:k,thumbnail:P,width:S}=x,w=(null!=S?S:1)/(null!=k?k:1),T={height:"100%",left:"0",top:"0",width:"100%"},I=i/t;if(Math.abs(I-w)>.01)if(I<w){const e=100*w/I;T.width=`${e}%`,T.left=`-${(e-100)/2}%`}else if(I>w){const e=100*I/w;T.height=`${e}%`,T.top=`-${(e-100)/2}%`}const A="number"==typeof e&&h<=e+3;return(0,d.jsx)(a.xu,{height:t,overflow:"hidden",position:"relative",width:i,children:(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{left:n.left<0?n.left:0,top:n.top<0?n.top:0}},height:"100%",position:"absolute",width:"100%",children:A||c||v?(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:T},position:"absolute",children:(0,d.jsx)(l.Z,{loop:!1,autoplay:c,closeupStoryPinViewability:o,contextLogData:{component:0===h?227:228,element:10957,objectId:g,story_pin_page_id:h,view:3,viewParameter:157},customThumbnail:P,customEndCard:r,isPromoted:!1,muted:u,pinId:g,showControls:"never",variant:"storyPin",preferMp4:!!b,objectFit:b?"cover":void 0,roundingOverride:_?null:0,video:{id:y.id,hlsv3:f,mp4:b},onTimeChange:({time:e})=>{if(m&&"number"==typeof x.duration&&x.duration>0){const t=x.duration/1e3;m({currentTime:e,duration:t})}},onEnded:()=>{p&&p(h)},videoThumbnailStartTime:v})}):(0,d.jsx)(a.Ee,{alt:this.props.i18n._('Video cover image', 'closeup.storyPin.videoCover', 'cover image displayed for a video'),fit:"cover",naturalHeight:null!=k?k:1,naturalWidth:null!=S?S:1,src:null!=P?P:""})})})}}function u(e){const{logContextEvent:t}=(0,o.v)(),n=(0,r.ZP)();return(0,d.jsx)(c,{...e,i18n:n,logContextEvent:t})}},319828:(e,t,n)=>{n.d(t,{_B:()=>O,Xw:()=>B,tD:()=>Z,ZP:()=>K});var i=n(883119),a=n(616550),l=n(388011),o=n(819079),r=n(196039),s=n(785893);const d=({block:{block_style:{height:e=0,width:t=0,x_coord:n=0,y_coord:d=0,rotation:c=0}={},original_comment_id:u},pageAspectRatio:p,scaleFactor:m})=>{const{logContextEvent:h}=(0,l.v)(),g=O/p,_=t*O*m/100,y=e*g*m/100,v=n*O*m/100,f=d*g*m/100,b=(0,a.useHistory)(),{data:x}=(0,o.Z)({name:"AggregatedCommentResource",options:{commentId:u,field_set_key:"comment_reply_sticker"}});return(0,s.jsx)(i.xu,{display:"flex",dangerouslySetInlineStyle:{__style:{left:v,top:f,transform:`rotate(${c}deg)`}},height:y,position:"absolute",width:_,rounding:2,zIndex:r.B5,padding:1,margin:-1,children:(0,s.jsx)(i.iP,{onTap:()=>{h({event_type:102,view_type:1,component:227,element:12541,aux_data:{comment_id:u}}),null!=x&&x.pin_id&&b.push(`/pin/${x.pin_id}/comments/${u||""}`)},rounding:"pill"})})};var c=n(667294),u=n(397352);function p({src:e,fallbackSrc:t,...n}){const[i,a]=(0,c.useState)(e);return(0,c.useEffect)((()=>{const n=async()=>{const n=await function(e){return new Promise((t=>{const n=document.createElement("img");n.onerror=()=>t(!1),n.onload=()=>t(!0),n.src=e}))}(e);n||a(t)};t&&n()}),[t,e]),(0,s.jsx)(u.Z,{...n,src:i})}var m=n(702664);function h({isUseCache:e,signature:t}){return(0,m.useSelector)((({pinbuilder:n})=>{const{storyPinItemBlocks:i}=n;if(!e)return null;for(const e of Object.keys(i)){var a,l;if((null===(a=i[e].media)||void 0===a?void 0:a.signatureEdited)===t||(null===(l=i[e].media)||void 0===l?void 0:l.signature)===t)return i[e]}return null}))}var g=n(914939),_=n(340906),y=n(88622),v=n(536042),f=n(738318);const b=({aggregatedCommentId:e,onDismiss:t})=>{const n=(0,v.ZP)(),a=(0,_.Z)(),l=(0,g.Z)(),[o,r]=(0,c.useState)(""),d=(0,s.jsx)(i.kC,{justifyContent:"end",children:(0,s.jsx)(i.zx,{color:"red",disabled:!o,onClick:()=>{(async()=>{await l({fromUnifiedComment:!0,objectType:f.o.aggregatedComment,objectId:e,tags:"[]",text:o})})(),t()},text:n._('Post', 'ideapin.questionsticker.replymodal.postbutton', 'Post reply to creator Q&A question')})});return(0,s.jsx)(y.ZP,{accessibilityModalLabel:"reply to creator Q and A question",align:"start",footer:d,heading:n._('Reply', 'ideapin.questionsticker.replymodal', 'Reply to creator Q&A question'),onDismiss:t,children:(0,s.jsx)(i.xu,{paddingX:8,paddingY:1,children:(0,s.jsx)(i.Kx,{id:"ideaPinQuestionStickerReplyModalTextArea",onChange:({value:e})=>{r(e)},placeholder:a?n._('Your reply will show up as a public comment on this Pin.', 'pin.questionsticker.replymodal.placeholder', 'Placeholder for creator Q&A reply textarea'):n._('Your reply will show up as a public comment on this Idea Pin.', 'ideapin.questionsticker.replymodal.placeholder', 'Placeholder for creator Q&A reply textarea'),value:o})})})};var x=n(870243),k=n(630089),P=n(245410),S=n(463031),w=n(551897);function T({block:e,elementType:t,onFlyoutOpen:n,pageAspectRatio:d,pageIndex:u,productPins:p,scaleFactor:m,tooltipElementType:h,videoPinProgress:g}){var _;const{logContextEvent:y}=(0,l.v)(),[f,T]=(0,c.useState)(!1),[I,A]=(0,c.useState)(!1),C=(0,c.useRef)(null),j=(0,a.useHistory)(),E=(0,v.ZP)(),{checkExperiment:R}=(0,P.F)(),{block_style:{height:L=0,width:D=0,x_coord:F=0,y_coord:z=0,rotation:M=0}={},end_time:N,error_message:U,interactive_sticker_type:K=null,is_removed:V,is_valid:H,start_time:G,sticker_data:W,type:$}=e,q=e.pin_id,Y=(p||[]).find((e=>[e.id,e.cacheable_id].includes(q)))||{},{board_id:X,question_comment_id:J}=W||{},{image_small_url:Q,full_name:ee,username:te=""}=null!==(_=e.user)&&void 0!==_?_:{};let ne=null;const ie=H&&5===K&&!!X,ae=H&&7===K&&!!J,le=(0,o.Z)(X&&ie?{name:"BoardResource",options:{field_set_key:"tagged_board_preview",board_id:X}}:null),{is_collaborative:oe,pin_count:re,url:se}=le.data||{};$===S.h8.PRODUCT_STICKER?ne=q?`/pin/${q}/`:"/":$===S.h8.MENTION_STICKER?ne=`/${te}/`:ie&&(ne=le.isLoaded?`${se}`:null);const de=O/d,ce=D*O*m/100,ue=L*de*m/100,pe=F*O*m/100,me=z*de*m/100,{currentTime:he}=g||{},ge=!(0,w.Z)({currentTime:he,endTime:N,startTime:G}),_e=()=>{y({event_type:123,component:228,element:h,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:u}}),T(!1)};(0,c.useEffect)((()=>(document.addEventListener("scroll",(()=>{T(!1)})),()=>document.removeEventListener("scroll",(()=>{T(!1)})))),[]);const ye=()=>{let e=null;switch($){case S.h8.PRODUCT_STICKER:const t=40,{grid_title:n,images:a,rich_summary:l,description:o}=Y||{},r=(a||{})["236x"]||{},{display_name:d,products:u}=l||{},p=((u||[])[0]||{}).offer_summary||{},{price:m,max_price:h}=p||{},g=!(!p||!m&&!h),_=d||n||o;e=(0,s.jsxs)(c.Fragment,{children:[(0,s.jsx)(i.xu,{flex:"none",children:(0,s.jsx)(i.zd,{wash:!0,height:t,width:t,rounding:3,children:(0,s.jsx)(i.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:r.url||""})})}),(0,s.jsx)(i.xu,{flex:"grow",paddingX:2,children:g?(0,s.jsxs)(i.kC,{alignContent:"center",alignItems:"stretch",direction:"column",flex:"grow",justifyContent:"center",children:[(0,s.jsx)(i.xv,{size:"100",lineClamp:1,weight:"bold",color:"shopping",children:m}),(0,s.jsx)(i.xv,{size:"100",lineClamp:1,children:_})]}):(0,s.jsx)(i.xv,{size:"100",lineClamp:1,children:_})}),(0,s.jsx)(i.xu,{flex:"none",children:(0,s.jsx)(i.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]});break;case S.h8.MENTION_STICKER:e=(0,s.jsxs)(c.Fragment,{children:[(0,s.jsx)(i.xu,{flex:"none",children:(0,s.jsx)(x.qE,{size:"sm",name:null!=ee?ee:"",src:null!=Q?Q:void 0})}),(0,s.jsx)(i.xu,{flex:"grow",paddingX:2,children:(0,s.jsx)(i.xv,{weight:"bold",size:"200",lineClamp:1,children:ee})}),(0,s.jsx)(i.xu,{flex:"none",children:(0,s.jsx)(i.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]});break;case S.h8.GENERIC_STICKER:e=[5].includes(K)?H?le.isLoaded?(0,s.jsxs)(c.Fragment,{children:[(0,s.jsxs)(i.xu,{flex:"grow",paddingX:2,children:[(0,s.jsx)(i.xv,{weight:"bold",size:"100",lineClamp:1,children:oe?E._('Explore this group board', 'closeup.StoryPin.stickerBlock.boardSticker.clickLabel', 'Label explaining click action when group board tag flyout showing'):E._('Explore this board', 'closeup.StoryPin.stickerBlock.boardSticker.clickLabel', 'Label explaining click action when board tag flyout showing')}),(0,s.jsx)(i.xv,{size:"100",children:(!!re||0===re)&&(0,k.nk)(E.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', re, 'closeup.StoryPin.stickerBlock.boardSticker.boardLabel', 'Caption when board tag flyout that showing number of Pins on board'),{pinCount:re})})]}),(0,s.jsx)(i.xu,{flex:"none",children:(0,s.jsx)(i.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]}):(0,s.jsxs)(i.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingY:2,children:[(0,s.jsx)(i.xu,{marginEnd:1,paddingX:2,children:(0,s.jsx)(i.xv,{color:"subtle",size:"100",lineClamp:1,children:E._('Loading board...', 'closeup.StoryPin.stickerBlock.boardSticker.loadingText', 'Label explaining board sticker still loading')})}),(0,s.jsx)(i.$j,{accessibilityLabel:E._('Board is loading', 'closeup.StoryPin.stickerBlock.boardSticker.loadingSpinnerText', 'Accessibility label for board loading spinner'),size:"sm",show:!0})]}):(0,s.jsx)(i.xu,{paddingX:2,paddingY:2,children:(0,s.jsx)(i.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:U})}):(0,s.jsx)(i.xu,{paddingX:2,paddingY:2,children:(0,s.jsx)(i.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:E._('Sticker not supported yet', 'closeup.StoryPin.stickerBlock.genericStickerError', 'Label explaining this sticker has not been implemented yet')})});break;case S.h8.VTO_MAKEUP_STICKER:e=(0,s.jsx)(i.xv,{weight:"bold",size:"300",children:E._('Try this sticker on your phone!', 'closeup.storyPin.vtoMakeupSticker', 'Caption when @vitural-try-on-makeup tag is tapped for Web')})}return(0,s.jsx)(i.xu,{alignItems:"center","data-test-id":$,display:"flex",justifyContent:"center",padding:$===S.h8.PRODUCT_STICKER?1:3,width:"100%",children:V?(0,s.jsx)(i.xv,{color:"subtle",weight:"bold",size:"200",children:E._('Tag removed!', 'closeup.storyPin.stickerBlock', 'Caption when the tag is removed')}):e})};return(0,s.jsx)(c.Fragment,{children:ge?null:(0,s.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{left:pe,top:me,transform:`rotate(${M}deg)`}},"data-test-id":($||"")+"_container",display:"flex",height:ue+2*B,margin:-1,padding:1,position:"absolute",ref:C,rounding:2,width:ce+2*B,zIndex:r.B5,children:[(0,s.jsx)(i.iP,{onTap:f?_e:({event:e})=>{ge||(y({event_type:101,component:228,element:t,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:u}}),ae?R("web_question_sticker_display").anyEnabled&&A(!0):(({event:e})=>{y({event_type:120,component:228,element:h,view_type:3,view_parameter:157,aux_data:{error_message:!H&&U?U:null,story_pin_page_id:u}}),T(!0),n&&(e.stopPropagation(),n())})({event:e}))},rounding:"pill",disabled:ge}),f&&(0,s.jsx)(i.mh,{zIndex:Z,children:(0,s.jsx)(i.J2,{anchor:C.current,idealDirection:"up",onDismiss:_e,positionRelativeToAnchor:!1,_deprecatedShowCaret:!0,size:V?"flexible":"sm",children:V?ye():(0,s.jsx)(i.iP,{onTap:({event:e})=>{e.preventDefault(),V||(y({event_type:101,component:228,element:h,object_id_str:q,view_type:3,view_parameter:157,aux_data:{story_pin_page_id:u}}),ne?j.push(ne):_e())},fullWidth:!0,children:ye()})})}),!!J&&I&&(0,s.jsx)(b,{aggregatedCommentId:J,onDismiss:()=>{A(!1)}})]})})}var I=n(448509),A=n(586046),C=n(622050),j=n(834074);function E({block:e,fontsLoaded:t,pageAspectRatio:n,scaleFactor:a,thumbnail:l}){const{block_style:o,style:r=S.Cc,text:d}=e,{alignment:u,font:p,font_size:m,highlight_color:h,vertical_alignment:g=S.Cc.vertical_alignment}=r,{hex_color:_=S.Cc.hex_color}=null!=r?r:{},[y,v]=(0,c.useState)(0),[f,b]=(0,c.useState)([]),x=p||S.Cc.font,{name:k,default_size:P,letter_spacing:w,line_height:T}=x,E=(0,j.Z)(x),R=Math.round(100*((null==o?void 0:o.width)||100))/1e4,L=Math.round(100*((null==o?void 0:o.height)||100))/1e4,D=Math.round(100*((null==o?void 0:o.x_coord)||0))/1e4,F=Math.round(100*((null==o?void 0:o.y_coord)||0))/1e4;(0,c.useEffect)((()=>{if(t){const e=(0,C.K)({text:d,boxHeight:A.U*L,boxWidth:A.q8*R,font:E,startFontSize:Math.floor(m||P||24)});b(e.lines),v(e.fontSize)}}),[t,d]);const z=y*a,M=h?(0,S.pE)(z,T):{x:0,y:0},O=R*A.q8*a+2*M.x,B=L*A.U*a+2*M.y,Z=D*A.q8*a-M.x,N=l?100*F+"%":F*(A.q8/n)*a-M.y;return(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{left:Z,top:N}},display:"flex",height:B,position:"absolute",width:O,children:(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:(0,I.RK)({alignment:u,verticalAlignment:g})},children:(0,s.jsx)(i.xu,{display:"inlineBlock",maxWidth:"100%",children:(0,s.jsx)("p",{style:(0,I.BN)({fontSize:z,hexColor:_,letterSpacing:w,lineHeight:T,name:k}),children:f.map(((e,t)=>(0,s.jsx)("span",{style:(0,I.xm)({fontSize:z,hasText:e.text.length>0,highlightColor:h||null,lineHeight:T}),children:t===f.length-1?e.text:(0,s.jsxs)(c.Fragment,{children:[e.text," ",(0,s.jsx)("br",{})]})},`paragraphLine-${t}-${(null!=d?d:"").substr(0,9)}`)))})})})})}var R=n(879352),L=n(802071);function D({ownerId:e}){const t=(0,v.ZP)(),n=(0,L.Z)(),a=n.isAuth&&n.id===e;return(0,s.jsxs)(i.xu,{alignItems:"center",color:"tertiary",direction:"column",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:[(0,s.jsx)(i.xv,{color:"inverse",children:a?t._('Your video is processing!', 'closeup.storyPin.videoPlaceholder', 'Let user know that their video is still processing'):t._('This video is still processing!', 'closeup.storyPin.videoPlaceholder', 'Let user know that this video is still processing')}),(0,s.jsx)(i.xv,{color:"inverse",children:t._('Check back in a few minutes.', 'closeup.storyPin.videoPlaceholder', 'Let user know to come back in a couple of minutes to view the video')})]})}var F=n(41162),z=n(719540),M=n(335263);const O=375,B=4,Z=new i.Ry(3);function N({block:e,isActive:t,pwtTrackImageLoad:n,thumbnail:i}){var a,l,o,r,d,c,m,g,_,y,f,b;const x=(0,v.ZP)(),{checkExperiment:k}=(0,P.F)(),S=(null===(a=e.image)||void 0===a||null===(l=a.images)||void 0===l?void 0:l["750x"])||(null===(o=e.image)||void 0===o||null===(r=o.images)||void 0===r?void 0:r["474x"]),w=k("web_px_idea_pin_publish_pwt_publish_before_media_complete_closeup_pwt").anyEnabled,T=h({isUseCache:w,signature:e.image_signature});if(!S&&!T)return null;const I=i?"cover":"none";return w&&T?(0,s.jsx)(p,{alt:x._('Story pin image', 'closeup.storypin.renderer', 'Alt text for story pin image'),fallbackSrc:null!==(d=null===(c=T.media)||void 0===c?void 0:c.src)&&void 0!==d?d:"",isActive:t,naturalHeight:null!==(m=null==S?void 0:S.height)&&void 0!==m?m:1,naturalWidth:null!==(g=null==S?void 0:S.width)&&void 0!==g?g:1,src:null!==(_=null==S?void 0:S.url)&&void 0!==_?_:"",onLoad:n,fit:I}):(0,s.jsx)(u.Z,{alt:x._('Story pin image', 'closeup.storypin.renderer', 'Alt text for story pin image'),isActive:t,naturalHeight:null!==(y=null==S?void 0:S.height)&&void 0!==y?y:1,naturalWidth:null!==(f=null==S?void 0:S.width)&&void 0!==f?f:1,src:null!==(b=null==S?void 0:S.url)&&void 0!==b?b:"",onLoad:n,fit:I})}function U({activePageIndex:e,block:t,closeupStoryPinViewability:n,customEndCard:a,isActive:l,isSplitLayout:o=!1,musicRecordingId:r,muted:d,onEnded:c,onUpdateVideoInfo:u,ownerId:p,pageAspectRatio:m,pageDimensions:g,pageIndex:_,pinId:y,scaleFactor:v,stillLoading:f,videoThumbnailStartTime:b,thumbnail:x=!1}){var k,S;const{block_style:{height:w=100,width:T=100,x_coord:I=0,y_coord:A=0}={},video:C}=t,j=O/m,{height:E,width:L}=g,F=T*O*v/100,z=w*j*v/100,M=I*O*v/100,B=A*j*v/100,Z=T<100?Math.min(Math.max(100,T)-Math.abs(I),T):Math.min(Math.max(T-Math.abs(I),0),100),N=(w<100?Math.min(Math.max(100,w)-Math.abs(A),w):Math.min(Math.max(w-Math.abs(A),0),100))*j*v/100,U=Z*O*v/100,K=Math.max(A,0)*j*v/100,V=Math.max(I,0)*O*v/100,{checkExperiment:H}=(0,P.F)(),G=H("web_px_idea_pin_publish_pwt_publish_before_media_complete_closeup_pwt").anyEnabled,W=h({isUseCache:G&&!C,signature:t.video_signature});if(f)return null;const{media:$}=W||{},{duration:q,src:Y}=$||{},X=G&&!!Y&&!!q,J={video_list:{V_EXP7:{duration:q?1e3*q:0,url:Y}}};if(!C&&!X)return(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{left:V,top:K}},height:N,position:"absolute",width:U,children:(0,s.jsx)(D,{ownerId:p})});return!!((null==C||null===(k=C.video_list)||void 0===k?void 0:k.V_HLSV3_MOBILE)||(null==C||null===(S=C.video_list)||void 0===S?void 0:S.V_720P)||X)&&(0,s.jsx)(i.xu,{height:o?"50%":"100%",overflow:"hidden",position:"relative",children:(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{left:V,top:K}},height:x?E:N,overflow:"hidden",position:"absolute",width:x?L:U,children:(0,s.jsx)(R.Z,{activePageIndex:e,blockHeight:x?E:z,blockPosition:{left:M,top:B},blockWidth:x?L:F,closeupStoryPinViewability:n,customEndCard:a,isPlaying:l,musicRecordingId:r,muted:d,onEnded:c,onUpdateVideoInfo:u,pageIndex:_,pinId:y,roundCorners:z>=E&&F>=L,video:C||J,videoThumbnailStartTime:b})})})}function K({activePageIndex:e,block:t,closeupStoryPinViewability:n,customEndCard:a,fontsLoaded:l,isActive:o,isSplitLayout:r=!1,musicRecordingId:c,muteVideos:u,onEnded:p,onFlyoutOpen:m,onImageLoaded:h,onUpdateVideoInfo:g,ownerId:_,pageAspectRatio:y,pageHeight:v,pageIndex:f,pageWidth:b,pinId:x,previewOnly:k,productPins:P,stillLoading:w=!1,thumbnail:I=!1,transform:A,videoPinProgress:C,videoThumbnailStartTime:j}){const{block_style:{height:R=100,width:L=100,x_coord:D=0,y_coord:B=0}={},interactive_sticker_type:Z=null}=t,K=(0,z.g)(),V=(0,F.E)(),H=()=>{K&&o&&(K.addBinaryAnnotation("pin.id",x,"STRING"),K.addBinaryAnnotation("video",!1,"BOOL"),K.stop()),V&&o&&(V.addBinaryAnnotation("pin.id",x,"STRING"),V.addBinaryAnnotation("video",!1,"BOOL"),V.removeConstraint(M._z),V.markConstraintComplete(M.pM)),h&&h()};if(0===R||0===L)return null;const G=b/O;switch(t.type){case S.h8.PARAGRAPH:case S.h8.HEADING:return(0,s.jsx)(E,{block:t,fontsLoaded:l,scaleFactor:G,pageAspectRatio:y,thumbnail:I});case S.h8.VIDEO:return(0,s.jsx)(U,{activePageIndex:e,block:t,closeupStoryPinViewability:n,customEndCard:a,isActive:o,isSplitLayout:r,musicRecordingId:c,muted:u,onEnded:p,onUpdateVideoInfo:g,ownerId:_,pageAspectRatio:y,pageDimensions:{height:v,width:b},pageIndex:f,pinId:x,scaleFactor:G,stillLoading:w,videoThumbnailStartTime:j,thumbnail:I});case S.h8.IMAGE:const{scaleX:h=1,scaleY:F=1}=A||{};return(0,s.jsx)(i.xu,{overflow:"hidden",position:"absolute",dangerouslySetInlineStyle:{__style:{height:`${R}%`,left:D*h+"%",top:B*F+"%",width:`${L}%`}},children:(0,s.jsx)(N,{block:t,isActive:o,pwtTrackImageLoad:H,thumbnail:I})});case S.h8.MENTION_STICKER:return!k&&(0,s.jsx)(T,{block:{...t},elementType:12120,onFlyoutOpen:m,pageAspectRatio:y,pageIndex:f,scaleFactor:G,tooltipElementType:12121,videoPinProgress:C});case S.h8.GENERIC_STICKER:return!k&&(e=>{const t=5===Z,n=t?12827:12858,i=t?12828:12859;return(0,s.jsx)(T,{block:{...e},elementType:n,onFlyoutOpen:m,pageIndex:f,pageAspectRatio:y,scaleFactor:G,tooltipElementType:i,videoPinProgress:C})})(t);case S.h8.PRODUCT_STICKER:return!k&&(0,s.jsx)(T,{block:{...t},elementType:12223,onFlyoutOpen:m,pageAspectRatio:y,pageIndex:f,productPins:P,scaleFactor:G,tooltipElementType:12224,videoPinProgress:C});case S.h8.VTO_MAKEUP_STICKER:return!k&&(0,s.jsx)(T,{block:{...t},elementType:12561,onFlyoutOpen:m,pageAspectRatio:y,pageIndex:f,scaleFactor:G,tooltipElementType:12561,videoPinProgress:C});case S.h8.COMMENT_REPLY_STICKER:return t.type===S.h8.COMMENT_REPLY_STICKER&&!k&&(0,s.jsx)(d,{block:t,scaleFactor:G,pageAspectRatio:y});default:return null}}},635408:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(463031);const a=[i.h8.COMMENT_REPLY_STICKER,i.h8.GENERIC_STICKER,i.h8.HEADING,i.h8.IMAGE,i.h8.MENTION_STICKER,i.h8.PARAGRAPH,i.h8.PRODUCT_STICKER,i.h8.VIDEO,i.h8.VTO_MAKEUP_STICKER];function l({storyPinBlocks:e=[],blocksToRender:t=a}){const n=[],l=[],o=[];return e.forEach((e=>{t.includes(e.type)?e.type===i.h8.PARAGRAPH||e.type===i.h8.HEADING?l.push(e):o.push(e):n.push(e)})),o.push(...l),{nonRenderableBlocks:n,textBlocks:l,blocks:o}}},101789:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),a=n(883119),l=n(536042),o=n(245410),r=n(282802),s=n(549201),d=n(785893);function c({children:e,heading:t}){const n=(0,s.ml)(),{checkExperiment:c}=(0,o.F)(),{isAuthenticated:u,isBot:p}=(0,r.B)(),m=n&&c(u?"closeup_auth_mweb_collapsable_modules":"closeup_unauth_mweb_collapsable_modules").anyEnabled,[h,g]=(0,i.useState)(m&&!p),_=()=>{g(!h)},y=(0,l.ZP)();return m?(0,d.jsxs)(a.kC,{direction:"column",dataTestId:"collapsible-layout",children:[(0,d.jsxs)(a.kC,{flex:"grow",justifyContent:"between",alignItems:"center",children:[(0,d.jsx)(a.X6,{size:"300",accessibilityLevel:2,children:(0,d.jsx)(a.xu,{"data-test-id":"collapsible-layout-heading",display:"inlineBlock",children:t})}),(0,d.jsx)(a.xu,{"data-test-id":"collapse-button",display:"inlineBlock",children:(0,d.jsx)(a.hU,{accessibilityLabel:y._('Show more details drop-down', 'Closeup.common.CollapsibleLayout', 'Collapse the content wrapped in the layout'),icon:h?"arrow-down":"arrow-up",onClick:_,size:"sm"})})]}),!h&&(0,d.jsx)(i.Fragment,{children:e})]}):(0,d.jsxs)(a.kC,{direction:"column",dataTestId:"collapsible-layout",children:[(0,d.jsxs)(a.X6,{align:"start",size:"400",accessibilityLevel:2,children:[(0,d.jsx)(a.xu,{"data-test-id":"collapsible-layout-heading",display:"inlineBlock",children:t}),(0,d.jsx)(a.xu,{"data-test-id":"collapse-button",display:"inlineBlock",marginStart:1,children:(0,d.jsx)(a.hU,{accessibilityLabel:y._('Show more details drop-down', 'Closeup.common.CollapsibleLayout', 'Collapse the content wrapped in the layout'),icon:h?"arrow-down":"arrow-up",onClick:_,size:"md"})})]}),!h&&(0,d.jsx)(i.Fragment,{children:e})]})}},342693:(e,t,n)=>{n.d(t,{n:()=>i});const i="300"},44081:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),a=n(883119),l=n(342693),o=n(536042),r=n(785893);function s({children:e,maxLines:t=10}){const n=(0,i.useRef)(null),[s,d]=(0,i.useState)({isFirstLoad:!0,isTruncated:!1}),c=(0,o.ZP)(),{isFirstLoad:u,isTruncated:p}=s;return(0,i.useEffect)((()=>{var e;u&&n.current&&((e=n.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&d({isFirstLoad:!1,isTruncated:!0})}),[u,p]),(0,r.jsxs)(a.xu,{position:"relative","data-test-id":"truncated-text",children:[(0,r.jsx)(a.xv,{ref:n,lineClamp:u||p?t:0,inline:!0,children:e}),p&&(0,r.jsx)(a.xu,{position:"absolute",display:"block",width:"100%",bottom:!0,children:(0,r.jsxs)(a.kC,{flex:"grow",children:[(0,r.jsx)(a.xu,{display:"inlineBlock",width:"120px",height:"14px"}),(0,r.jsx)(a.xu,{"data-test-id":"more-button",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{background:"white"}},children:(0,r.jsx)(a.iP,{fullWidth:!1,onTap:()=>d({...s,isTruncated:!1}),children:(0,r.jsx)(a.xv,{inline:!0,size:l.n,weight:"bold",children:c._(' \u2026 more', 'closeup.TruncatedTextContent.moreLabel', 'Expand content label')})})}),(0,r.jsx)(a.xu,{display:"inlineBlock",flex:"grow",dangerouslySetInlineStyle:{__style:{background:"white"}}})]})})]})}},47034:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),a=n(785893);function l(e,t="300"){return e.split(new RegExp(/(#\S*)/)).map(((e,n)=>{const l=`${n}-${e}`;return e.includes("#")?(0,a.jsx)(i.xv,{size:t,color:"link",inline:!0,children:(0,a.jsx)(i.rU,{underline:"none",display:"inline",href:`/search/pins/?q=${encodeURIComponent(e.replace("#",""))}`,children:e})},l):(0,a.jsx)("span",{children:e},l)}))}},340906:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(245410),a=n(549201),l=n(802071),o=n(329689),r=n(384722);const s="sce_lightswitch_organic",d="sce_lightswitch_monetized",c=Object.freeze({dweb:{organic:"web_sce_organic_pinbuilder_dep",monetized:"web_sce_monetized_pinbuilder_dep"},mweb:{organic:"mweb_sce_organic_pinbuilder_dep",monetized:"mweb_sce_monetized_pinbuilder_dep"}});function u(e){const t=(0,a.HG)(),{checkExperiment:n}=(0,i.F)(),u=(0,o.Z)(),p=(0,l.Z)(),m=(0,r.lJ)(p,u),h=c[t?"dweb":"mweb"];return e&&!m&&(n(s),n(d)),!m&&(n(h.organic).anyEnabled||n(h.monetized).anyEnabled)}},639356:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),a=n(883119),l=n(388011),o=n(536042),r=n(41162),s=n(785893);function d({content:e,header:t,maxHeight:n,onClose:l,onOpen:r,previewContent:d,previewContentHeight:c,arrowDirection:u}){const[p,m]=(0,i.useState)(!1),[h,g]=(0,i.useState)(0),_=(0,i.useRef)(null),y=(0,o.ZP)();(0,i.useLayoutEffect)((()=>{if(void 0!==n)return;if(!_.current)return;const{height:e}=_.current.getBoundingClientRect();e>h&&g(Math.ceil(e))}),[h,n]);const v=u||"arrow-forward";return(0,s.jsx)(a.iP,{onTap:e=>{m(!p),l&&p&&l(e),r&&!p&&r(e)},children:(0,s.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #efefef",borderBottom:"1px solid #efefef"}},paddingY:d?3:0,children:[(0,s.jsxs)(a.xu,{display:"flex",alignItems:"center",justifyContent:"between",paddingY:d?1:5,children:[(0,s.jsx)(a.xv,{weight:"bold",size:"300",children:t}),(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.3s ease-in-out",transform:p?`rotate(${"arrow-down"===v?"180deg":"-90deg"})`:""}},children:(0,s.jsx)(a.JO,{accessibilityLabel:y._('Expand icon', 'accordion.actionButton', 'accessibility label on accordion'),color:"default",icon:v})})]}),(0,s.jsxs)(a.xu,{"data-test-id":"accordion-panel",opacity:p||d?1:0,height:!p&&d?c:p?n||h:0,overflow:void 0===n?"hidden":"auto",marginBottom:p&&!d?5:0,marginEnd:d?7:0,dangerouslySetInlineStyle:{__style:{transition:"all 0.3s ease-in-out, visibility 0s linear "+(p?"0s":"0.3s"),visibility:p||d?"visible":"hidden"}},children:[(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{display:p?"none":"block"}},children:d}),(0,s.jsx)(a.xu,{opacity:p||d?1:0,dangerouslySetInlineStyle:{__style:{visibility:p?"visible":"hidden",transition:"all 0.3s ease-in-out, visibility 0s linear "+(p||d?"0s":"0.3s")}},ref:_,children:e})]})]})})}var c=n(356332),u=n(293017);const p=({onOpen:e,structuredDescription:t,type:n})=>{const l=(0,o.ZP)(),p=(0,r.E)(),m=(0,i.useCallback)((()=>{p&&p.markConstraintComplete("description")}),[p]),h=(0,i.useRef)(null),[g,_]=(0,i.useState)(!1);(0,i.useEffect)((()=>{var e;(h.current&&((e=h.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)||t.length>1)&&_(!0)}),[h,t]);const y="expandable"===n&&t[0].type===u.X.PARAGRAPH,v=y?(0,s.jsx)(a.xv,{ref:h,lineClamp:1,size:"200",children:t[0].content}):null,f=l._('Product Details', 'productDetails.accordionHeader.text', 'text in tap area to open product description accordion panel');return!g&&v?(0,s.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #efefef",borderBottom:"1px solid #efefef"}},paddingY:3,children:[(0,s.jsx)(a.xu,{paddingY:1,children:(0,s.jsx)(a.xv,{weight:"bold",size:"300",children:f})}),(0,s.jsx)(a.xu,{marginEnd:6,marginBottom:1,children:v})]}):(0,s.jsx)(d,{header:f,content:(0,s.jsx)(a.xu,{paddingY:y?0:1,children:(0,s.jsx)(c.Z,{descriptions:t,onLoad:m})}),onOpen:e,previewContent:v,previewContentHeight:y?20:0,arrowDirection:"expandable"===n?"arrow-down":"arrow-forward"})},m=({isOpen:e,onOpen:t,structuredDescription:n})=>{var l;const[d,u]=(0,i.useState)(!1),p=(0,o.ZP)(),m=(0,i.useRef)(null),h=(0,r.E)(),g=(0,i.useCallback)((()=>{h&&m.current&&h.markConstraintComplete("description")}),[h]),_=d&&!e,y=e?p._('See less', 'productDescription.productDescriptionPreview.cta', 'CTA label for collapsing the description'):p._('See more', 'productDescription.productDescriptionPreview.cta', 'CTA label for expanding the description');return(0,i.useLayoutEffect)((()=>{!m.current||Number.isNaN(m.current.offsetHeight)||Number(m.current.offsetHeight)<150||d||u(!0)}),[d,null===(l=m.current)||void 0===l?void 0:l.offsetHeight]),(0,s.jsxs)(a.xu,{display:m.current?"block":"visuallyHidden",paddingY:1,"data-test-id":"product-description-preview",children:[(0,s.jsx)(a.xv,{size:"300",weight:"bold",children:p._('Product Details', 'productDescription.productDescriptionPreview.header', 'header for the product description')}),(0,s.jsxs)(a.xu,{marginTop:2,marginBottom:_?0:2,position:"relative",children:[(0,s.jsx)(a.xu,{height:_?150:"auto",overflow:_?"hidden":"visible",ref:m,children:(0,s.jsx)(c.Z,{descriptions:n,onLoad:g})}),d&&(0,s.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundImage:"linear-gradient(to bottom, rgba(255, 255, 255, 0), #ffffff)",transition:"opacity 200ms ease"}},height:150,opacity:_?1:0,position:"absolute",width:"100%"})]}),d&&(0,s.jsx)(a.iP,{onTap:t,children:(0,s.jsx)(a.xv,{size:"200",weight:"bold",children:y})})]})};function h(e){const{commerceData:t,structuredDescription:n,type:a="accordion",viewParameter:o}=e,{logContextEvent:r}=(0,l.v)(),[d,c]=(0,i.useState)(!1);(0,i.useEffect)((()=>{r({event_type:120,component:13597,view_type:3,view_parameter:o,aux_data:{...t}})}),[]);const u=()=>{c(!d),r({event_type:101,component:13597,view_type:3,element:d?13278:13277,view_parameter:o,aux_data:{...t}}),r({event_type:101,component:13597,view_type:3,element:10492,view_parameter:o,aux_data:{...t}})};return 0===n.length?null:"preview"===a?(0,s.jsx)(m,{...e,isOpen:d,onOpen:u}):(0,s.jsx)(p,{...e,onOpen:u})}},355182:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(341027),l=n(536042),o=n(785893);function r({colorOverride:e,isSoldOut:t,isStale:n,productDetails:r,showSalesPrice:s,type:d,weight:c="bold"}){const{maxPrice:u,minPrice:p,price:m,standardPrice:h}=r,g=!!m&&!!h&&m!==h;let _="100";"pdpPlusHeading"===d?_="400":"heading"===d?_="500":"pdpPlusMobileHeading"===d&&(_="300");const y=(0,l.ZP)(),v=y._('See price on site', 'product.price.stale', 'Product is stale'),f=y._('Sold out', 'product.price.soldOut', 'Product is sold out');return n?(0,o.jsx)(i.xv,{size:_,color:"subtle",weight:"bold",children:v}):(0,o.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[t&&(0,o.jsx)(i.xu,{"data-test-id":"product-sold-out-text",marginEnd:2,children:(0,o.jsx)(i.xv,{size:_,color:"subtle",weight:"bold",children:f})}),(!!m||!!p||!!u)&&(0,o.jsx)(i.xv,{color:e||(g?"shopping":"default"),size:_,weight:c,children:(0,o.jsx)("span",{children:(0,a.Z)({maxPrice:u,minPrice:p,price:m})})}),g&&!s&&(0,o.jsx)(i.xu,{marginStart:1,children:(0,o.jsx)(i.xv,{color:"subtle",size:_,weight:["pdpPlusHeading","pdpPlusMobileHeading"].includes(d)?"normal":c,children:(0,o.jsx)("span",{style:{textDecoration:"line-through"},children:h})})})]})}},139488:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(883119),a=n(667294),l=n(536042),o=n(630089),r=n(993926),s=n(549201),d=n(196039),c=n(785893);function u(){const e=(0,l.ZP)();return e._('Free shipping', 'closeup.product.shipping', 'product shipping info')}function p({freeShippingPrice:e}){const t=(0,l.ZP)();return(0,o.nk)(t._('Free shipping with {{ shippingPrice }}+', 'closeup.product.shipping', 'product shipping info'),{shippingPrice:e}).join("")}function m(){const e=(0,l.ZP)();return e._('Shipping info', 'closeup.product.shipping', 'product shipping info')}function h({clickthroughFn:e}){const t=(0,l.ZP)(),[n,o]=(0,a.useState)(!1),r=(0,s.HG)(),u=(0,a.useRef)(null),p=()=>{o(!n)},m=t._('Check the merchant\'s site for shipping to your region', 'closeup.product.shipping', 'Text on how the user can get more shipping information for the product'),h=t._('Visit site', 'closeup.product.shipping', 'Button to visit the merchant site'),g=r?(0,c.jsx)(i.J2,{anchor:u.current,onDismiss:p,idealDirection:"right",children:(0,c.jsx)(i.xu,{padding:5,rounding:4,children:(0,c.jsx)(i.xv,{children:m})})}):(0,c.jsx)(i.Io,{onDismiss:p,zIndex:d.lp,size:"auto",heading:"",children:(0,c.jsxs)(i.xu,{alignItems:"center",direction:"column",marginStart:10,marginEnd:10,display:"flex",children:[(0,c.jsx)(i.xu,{marginBottom:5,children:(0,c.jsx)(i.xv,{size:"400",weight:"bold",align:"center",children:m})}),(0,c.jsx)(i.zx,{text:h,accessibilityLabel:h,size:"lg",onClick:e})]})});return(0,c.jsxs)(i.xu,{display:"flex",alignItems:"center",marginStart:1,children:[(0,c.jsx)(i.iP,{ref:u,onTap:p,children:(0,c.jsx)(i.JO,{accessibilityLabel:t._('Show shipping information', 'closeup.product.shipping', 'Accessibility label for showing more shipping information'),color:"default",icon:"info-circle",size:14})}),n&&g]})}function g({clickthroughFn:e,customStyles:t,showPrevDot:n,freeShippingPrice:a,freeShippingValue:l,showShippingCountryDisclaimer:o}){const s=n?[""]:[],{color:d="subtle",size:g="200"}=t||{};if(!Number.isFinite(l)&&!o)return null;let _;return 0===l?_=(0,c.jsx)(u,{}):a?_=(0,c.jsx)(p,{freeShippingPrice:a}):o&&(_=(0,c.jsx)(m,{})),_&&s.push((0,c.jsxs)(i.kC,{direction:"row",children:[_,o&&(0,c.jsx)(h,{clickthroughFn:e})]})),0===s.length?null:(0,c.jsx)(i.xv,{color:d,size:g,children:(0,c.jsx)(r.Z,{color:d,items:s})})}var _=n(734417),y=n(31407),v=n(282802);function f({count:e,rating:t}){return Boolean(t&&"None"!==t&&Number.isFinite(e))}const b=({rating:e,textSize:t,type:n})=>{if("single"===n){const n=parseFloat(e);return Number.isNaN(n)?null:(0,c.jsxs)(i.kC,{alignItems:"center",children:[(0,c.jsx)(y.A,{fill:"full",width:12}),(0,c.jsx)(i.xv,{size:t,children:n.toFixed(1)})]})}return(0,c.jsx)(y.Z,{rating:e,width:12})},x=({bracket:e,count:t,countFormat:n,countType:a,marginStart:r,textSize:s,underline:d})=>{const{locale:u}=(0,v.B)(),p=(0,l.ZP)(),m=(0,_.Z)();if(null==t)return null;let h=m(u,t,{shortform:!0,shortform_maximum_fraction_digits:1});if("text"===n){const e="review"===a?p.ngettext('{{ count }} review', '{{ count }} reviews', t, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total reviews count'):p.ngettext('{{ count }} rating', '{{ count }} ratings', t, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total ratings count');h=(0,o.nk)(e,{count:t}).join("")}return e&&(h=`(${h})`),(0,c.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:d?"1px solid gray":"none"}},marginStart:r,children:(0,c.jsx)(i.xv,{color:d?"subtle":"default",size:s,underline:d,children:(0,c.jsx)(i.xu,{"data-test-id":"ratings-count-text",display:"inlineBlock",children:h})})})};function k({bracket:e,count:t,countFormat:n,countType:a,rating:l,textSize:o,underline:r}){return f({count:t,rating:l})?(0,c.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(b,{rating:l,textSize:o,type:"multiple"}),(0,c.jsx)(x,{bracket:e,count:t,countFormat:n,countType:a,textSize:o,underline:r})]}):null}const P=({count:e,countFormat:t,ratingValue:n,shippingInfo:a})=>(0,c.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,c.jsx)(k,{count:e,countFormat:t,rating:n,textSize:"200"}),(0,c.jsx)(i.xu,{marginTop:f({count:e,rating:n})?1:0,children:(0,c.jsx)(g,{customStyles:{color:"subtle",size:"200"},freeShippingPrice:null==a?void 0:a.freeShippingPrice,freeShippingValue:null==a?void 0:a.freeShippingValue})})]}),S=({clickthroughFn:e,count:t,countType:n,countFormat:a,hideSeparationDot:l,bracket:o,ratingValue:r,shippingInfo:s,shipsToUserCountry:d})=>{const u=!1===d;return(0,c.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:1,wrap:!0,children:[(0,c.jsx)(k,{bracket:o,count:t,countFormat:a,countType:n,rating:r,textSize:"300"}),(0,c.jsx)(i.xu,{marginStart:f({count:t,rating:r})&&l?2:0,children:(0,c.jsx)(g,{clickthroughFn:e,customStyles:{color:"default",size:"300"},showPrevDot:f({count:t,rating:r})&&!l,freeShippingPrice:null==s?void 0:s.freeShippingPrice,freeShippingValue:null==s?void 0:s.freeShippingValue,showShippingCountryDisclaimer:u})})]})};function w(e){return e.isGridView?(0,c.jsx)(P,{...e}):(0,c.jsx)(S,{...e})}},341027:(e,t,n)=>{function i({maxPrice:e,minPrice:t,price:n}){return e&&t?`${t}-${e}`:n}n.d(t,{Z:()=>i})},820623:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var i=n(939809),a=n(536042),l=n(550766),o=n(785893);function r({controllerOptions:e,iconColor:t,iconOnly:n,buttonText:r,tabIndex:s=0}){const d=(0,a.ZP)();return(0,o.jsx)(l.Z,{...e,children:({handleSendShareFlyoutButtonClick:e})=>(0,o.jsx)(i.Z,{accessibilityLabel:d._('Send', 'Accessible label for button to send this pin', 'Accessible label for button to send this pin'),buttonText:r,handleClick:()=>e(),icon:"share",iconColor:t,iconOnly:n,tabIndex:s,testId:"closeup-share-button"})})}},649413:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(667294),a=n(883119),l=n(690108);var o=n(330325),r=n(914205),s=n(560954),d=n(536042),c=n(630089),u=n(837792),p=n(785893);const m=u.K_+"?source=block_dialogue";function h(e){return e.map((({full_name:e})=>e))}const g=function({users:e,onClose:t,onSubmit:n}){const i=(0,d.ZP)(),l=(0,p.jsx)("strong",{children:(0,s.Z)(h(e),i)},"userlist");return(0,p.jsxs)("form",{method:"post",children:[(0,p.jsxs)(a.xu,{padding:8,children:[(0,p.jsx)(a.xv,{children:(0,c.nk)(i._('If you block {{ users }}, you won\u2019t be able to follow  each other or interact with each other\u2019s Pins.', 'description of blocking users', 'description of blocking users'),{users:l})}),(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),(0,p.jsx)(a.xv,{children:(0,p.jsx)(a.rU,{display:"inlineBlock",href:m,underline:"hover",children:i._('Learn more', 'link to learn more about blocking', 'link to learn more about blocking')})})]}),(0,p.jsx)(a.xu,{padding:2,children:(0,p.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"end",gap:{row:1,column:0},children:[(0,p.jsx)(a.zx,{fullWidth:!0,onClick:t,text:i._('Cancel', 'UserBlock.Cancel', 'cancel form')}),(0,p.jsx)(a.zx,{fullWidth:!0,color:"red",onClick:()=>{n()},text:i._('Block', 'UserBlock.Submit', 'submit form to block users'),type:"submit"})]})})]})};var _=n(802071);const y=({deleteAndCloseConversation:e,flagReason:t,flagType:n,onClose:m,selectedReason:y,status:v,users:f,blockContext:b})=>{const x=(0,d.ZP)(),[k,P]=(0,i.useState)({}),{setModalTitle:S,setStatus:w}=(0,o.d)(),T=(0,_.Z)(),{id:I}=T.isAuth?T:{},A=f.filter((({id:e})=>k[e])),C=A.length>0;(0,i.useEffect)((()=>{(()=>{let e;[r.qb.SUBMITTED,r.qb.PROCESSING].includes(v)?e=x.ngettext('Block this person?', 'Block these people?', A.length, 'BlockAndUnfollow', 'Confirmation text when blocking users (plural)'):n===r.Vm.CONVERSATION&&(e=v===r.qb.COMPLETED?(0,c.nk)(x._('You\u2019ve blocked {{usernames}}', 'BlockAndUnfollow', 'title of modal after user has been blocked'),{usernames:(0,s.Z)(h(A),x).join("")}).join(""):x._('Thanks for your report', 'BlockAndUnfollow', 'title at end of report flow')),S(e)})()}),[v]),(0,i.useEffect)((()=>{w(C?r.qb.SELECTED:r.qb.STARTED)}),[k]);const j=f.filter((({id:e})=>e!==I)),E=[r.qb.STARTED,r.qb.COMPLETED].includes(v);return(0,p.jsx)("form",{method:"post",children:[r.qb.SUBMITTED,r.qb.PROCESSING].includes(v)?(0,p.jsx)(g,{onClose:()=>{w(r.qb.SELECTED)},onSubmit:()=>(w(r.qb.PROCESSING),Promise.all(Object.keys(k).filter((e=>k[e])).map((e=>function({userId:e,blockSource:t,blockContext:n}){l.Z.create("UserBlockResource",{blocked_user_id:e,block_source:t,block_context:n}).callCreate()}({userId:e,blockSource:"message_report",blockContext:b})))).finally((()=>{w(r.qb.COMPLETED)}))),users:A}):(0,p.jsxs)(a.xu,{padding:8,children:[(0,p.jsx)(a.xu,{children:v!==r.qb.COMPLETED?(()=>{let e;"harassingOther"===y?e=(0,c.nk)(x._('We remove content that identifies and attacks private people because we consider it to be bullying. We also don\u2019t allow content that reveal someone\u2019s personally identifiable information.  Learn more about our  {{ communityGuidelines }}.', 'confirmation message after reporting harassment', 'confirmation message after reporting harassment'),{communityGuidelines:(0,p.jsx)(a.rU,{display:"inlineBlock",href:u.Ms,underline:"hover",children:x._('Community Guidelines', 'link to community guidelines for harassment', 'link to community guidelines for harassment')},"policyLink")}):"harassingPublicFigure"===y?e=x._('Please note that we won\u2019t necessarily take down stuff that attacks public figures.', 'message shown after reporting harrassment', 'message shown after reporting harrassment'):"harassingFriend"===y?e=x._('Before we can review this Pin, we need to hear from the person who\u2019s being harassed. Please have your friend report this Pin to us.', 'message shown after reporting harrassment', 'message shown after reporting harrassment'):["spam","policies","hurtfulContent"].includes(t)&&(e=x._('We\u2019ll take a look at this Pin and delete it if it goes against our policies.', 'confirmation message after reporting a pin', 'confirmation message after reporting a pin'));const n=x.ngettext('You can also block this person.', 'You can also block these people.', j.length, 'description to block people', 'description to block people');return(0,p.jsxs)(i.Fragment,{children:[e&&(0,p.jsx)(a.xu,{marginBottom:8,children:(0,p.jsx)(a.xv,{children:e})}),(0,p.jsx)(a.xu,{marginBottom:8,children:(0,p.jsx)(a.xv,{children:n})}),(0,p.jsx)(a.xu,{marginBottom:8,children:j.map((({id:e,full_name:t})=>(0,p.jsx)(a.XZ,{id:"blockPinner"+e,checked:Boolean(k[e]),label:(0,c.nk)(x._('Block {{ pinnerName }}', 'BlockAndUnfollow', 'form option to block a pinner'),{pinnerName:t}).join(""),onChange:({checked:t})=>{P({...k,[e]:t})},helperText:x._('You won\u2019t be able to send each other messages or interact with each other\u2019s Pins.', 'BlockAndUnfollow', 'explanation of blocking a user')},e)))})]})})():C&&(0,p.jsx)(a.xu,{marginBottom:8,children:(0,p.jsx)(a.xv,{children:x._('You won\u2019t be able to follow each other or interact with each other\u2019s pins.', 'BlockAndUnfollow', 'message describing what blocking means')},"blockingConfirmation")})}),(0,p.jsxs)(a.xu,{children:[v!==r.qb.COMPLETED&&(0,p.jsx)(a.xu,{marginBottom:8,children:(0,p.jsx)(a.xv,{size:"100",children:(0,c.nk)(x._('Learn more about {{ linkToTopic }}', 'BlockAndUnfollow', 'footer link to learn more about a topic'),{linkToTopic:(0,p.jsx)(a.rU,{display:"inlineBlock",href:u.K_,underline:"hover",children:x._('blocking', 'BlockAndUnfollow', 'footer link to learn more about blocking')},"policyLink")})})}),(0,p.jsx)(a.xu,{children:(0,p.jsx)(a.zx,{fullWidth:!0,color:"red",onClick:E?()=>{m(),v===r.qb.COMPLETED&&(null==e||e())}:()=>{P(k),w(r.qb.SUBMITTED)},text:E?x._('Done', 'Block.Complete', 'confirm reporting flow is done & close modal'):x._('Block', 'BlockAndUnfollow', 'submit users to block')})})]})]})})};function v({flagOptions:e,flow:t,handleClose:n,handleNext:i,selectedReason:l,showPrimaryAction:o,submitButton:s}){const c=(0,d.ZP)();if(t===r.Zw.REPORT){var u;if(r.qb.PROCESSING===status||null!==(u=e.getFlagOption(l))&&void 0!==u&&u.isTerminalReason)return s;if(o)return(0,p.jsx)(a.zx,{fullWidth:!0,color:"red",disabled:void 0===l,onClick:i,text:c._('Next', 'go to the next view in the report flow', 'go to the next view in the report flow')})}else if(t===r.Zw.END)return(0,p.jsx)(a.zx,{fullWidth:!0,color:"red",onClick:n,text:c._('Got it', 'confirm reporting flow is done & close modal', 'confirm reporting flow is done & close modal')});return null}function f({flow:e,flagReason:t}){const n=(0,d.ZP)();if(e===r.Zw.REPORT){if("attacks"===t)return(0,p.jsx)(a.xv,{size:"100",children:(0,c.nk)(n._('Learn more about our {{ linkToTopic }}', 'footer link to learn more about community guidelines', 'footer link to learn more about community guidelines'),{linkToTopic:(0,p.jsx)(a.rU,{target:"blank",href:u.Ms,children:(0,p.jsx)(a.xv,{inline:!0,color:"error",size:"100",weight:"bold",children:n._('Community Guidelines', 'name of footer link to community guidelines', 'name of footer link to community guidelines')})},"policyLink")})});if("policies"===t)return(0,p.jsxs)("p",{children:[(0,p.jsx)(a.xv,{size:"100",children:(0,c.nk)(n._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,p.jsx)(a.rU,{target:"blank",href:u.Ms+"#sub-section-adult-content",children:(0,p.jsx)(a.xv,{inline:!0,color:"error",size:"100",children:n._('our nudity policies', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})}),(0,p.jsx)(a.xv,{size:"100",children:(0,c.nk)(n._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,p.jsx)(a.rU,{target:"blank",href:u.Ms+"#sub-section-dangerous-goods-and-activities",children:(0,p.jsx)(a.xv,{inline:!0,color:"error",size:"100",children:n._('our policies on hurtful content', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})}),(0,p.jsx)(a.xv,{size:"100",children:(0,c.nk)(n._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,p.jsx)(a.rU,{target:"blank",href:u.Ms+"#sub-section-violence",children:(0,p.jsx)(a.xv,{inline:!0,color:"error",size:"100",children:n._('our policies on gore', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})})]});if("spam"===t||void 0===t)return(0,p.jsx)(a.xv,{size:"100",children:(0,c.nk)(n._('Learn about {{ linkToTopic }}', 'footer link to learn more about a topic', 'footer link to learn more about a topic'),{linkToTopic:(0,p.jsx)(a.rU,{target:"blank",href:u.Ms,children:(0,p.jsx)(a.xv,{inline:!0,color:"error",size:"100",weight:"bold",children:"spam"===t?n._('our spam policies', 'name of footer link to policy', 'name of footer link to policy'):n._('our policies', 'name of footer link to policy', 'name of footer link to policy')})},"policyLink")})})}return null}function b({arrayOfData:e,handleSelectReason:t,selectedReason:n}){const i=(0,d.ZP)();return(0,p.jsx)(a.xu,{padding:2,children:(0,p.jsx)(a.FX,{id:"flag-option-radio-group",legend:i._('Flag legends', 'flag_legend', 'Flag legends'),legendDisplay:"hidden",children:e.map(((e,i)=>{const{condition:l}=e;return void 0===l||l?function(e,t,n,i){const{text:l,value:o,category:r}=e;return(0,p.jsx)(a.xu,{paddingY:2,children:(0,p.jsx)(a.FX.RadioButton,{checked:n===o,id:o,onChange:({checked:e})=>t(e,o,r),name:"flagReason",value:o,label:l})},i)}(e,t,n,i):null}))})})}class x{constructor(e){this.config=e,this.configMap=function(e){const t={};for(const n in e)e[n].forEach((e=>{const{value:i}=e;if(Object.prototype.hasOwnProperty.call(t,i))throw new Error("Duplicate key in FlagOptions config: "+i);t[i]={...e,parentOption:n}}));return t}(e)}getFlagOption(e){return e?this.configMap[e]:null}renderFlagLabels(e){const{flagReason:t,onSelectReason:n,selectedReason:i}=e;return(0,p.jsx)(b,{arrayOfData:this.config[t],handleSelectReason:n,selectedReason:i})}}var k=n(88622);function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S extends i.Component{constructor(...e){super(...e),P(this,"flagOptions",new x(this.props.flagOptionsConfig)),P(this,"renderContent",(()=>{const{content:e,flow:t,onSelectReason:n,selectedReason:i}=this.props;return e||(t===r.Zw.REPORT?this.flagOptions.renderFlagLabels({flagReason:this.props.flagReason||"__default",onSelectReason:n,selectedReason:i}):t===r.Zw.END?(0,p.jsx)(a.xv,{children:this.props.i18n._('We\u2019ll use your feedback to make your Pinterest experience better.', 'final message in reporting flow', 'final message in reporting flow')}):void 0)}))}componentDidUpdate(e){const{flow:t,onCompletedReport:n,onCompletedBlock:i}=e;if(this.props.flow!==t)switch(t){case r.Zw.REPORT:n&&n();break;case r.Zw.BLOCK:i&&i()}}render(){const{accessibilityModalLabel:e,deleteAndCloseConversation:t,flagType:n,flow:i,status:l,modalTitle:o,onClose:s,selectedReason:d,submitButton:c,flagReason:u,showPrimaryAction:m,users:h,blockContext:g}=this.props;return(0,p.jsx)(k.ZP,{accessibilityModalLabel:e,heading:o,onDismiss:s,size:"md",footer:i!==r.Zw.BLOCK?(0,p.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,p.jsx)(a.xu,{flex:"grow",children:(0,p.jsx)(f,{flagReason:u,flow:i})}),(0,p.jsx)(a.xu,{padding:1,children:i===r.Zw.REPORT?(0,p.jsx)(a.zx,{fullWidth:!0,onClick:void 0===u?this.props.onClose:()=>{var e,t;null===(e=(t=this.props).onRevert)||void 0===e||e.call(t)},text:void 0===u?this.props.i18n._('Cancel', 'cancel form', 'cancel form'):this.props.i18n._('Back', 'previous step in a form', 'previous step in a form')}):null}),(0,p.jsx)(a.xu,{padding:1,children:(0,p.jsx)(v,{flagOptions:this.flagOptions,flow:i,handleClose:this.props.onClose,handleNext:()=>{var e,t;null===(e=(t=this.props).onNext)||void 0===e||e.call(t)},selectedReason:d,showPrimaryAction:!!m,submitButton:c})})]}):void 0,children:(0,p.jsx)(a.xu,{children:i===r.Zw.BLOCK?(0,p.jsx)(y,{deleteAndCloseConversation:t,flagReason:u,flagType:n,onClose:s,selectedReason:d,status:l,users:h,blockContext:g}):this.renderContent()})})}}function w(e){const t=(0,d.ZP)();return(0,p.jsx)(S,{...e,i18n:t})}},330325:(e,t,n)=>{n.d(t,{N:()=>d,d:()=>s});var i=n(667294),a=n(914205),l=n(583592),o=n(785893);const{Provider:r,useHook:s}=(0,l.Z)("Flag"),d=({children:e})=>{const[t,n]=(0,i.useState)(),[l,s]=(0,i.useState)(a.Zw.REPORT),[d,c]=(0,i.useState)(a.qb.STARTED),[u,p]=(0,i.useState)(),[m,h]=(0,i.useState)(),g=(0,i.useMemo)((()=>({flagReason:m,flow:l,status:d,selectedReason:u,modalTitle:t,setFlagReason:h,setFlow:s,setModalTitle:n,setStatus:c,setSelectedReason:p})),[t,l,d,u,m]);return(0,o.jsx)(r,{value:g,children:e})}},281203:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(667294),a=n(702664),l=n(883119),o=n(649413),r=n(330325),s=n(914205),d=n(536042),c=n(837792),u=n(198541),p=n(952239),m=n(785893);const h="ignoreThisPin",g="IP",_="policies",y="attacks";function v({aggregatedPinDataId:e,didItDataId:t,onClose:n,pinId:v,username:f,users:b}){const x=(0,d.ZP)(),[k,P]=(0,i.useState)([]),[S,w]=(0,i.useState)(),[T,I]=(0,i.useState)(),A=(0,a.useDispatch)(),{flow:C,modalTitle:j,selectedReason:E,setFlow:R,setModalTitle:L,setSelectedReason:D,setStatus:F,status:z}=(0,r.d)();(0,i.useEffect)((()=>{L((()=>{if(C===s.Zw.REPORT)switch(T){case y:return x._('What\'s going on?', 'title for report content flow', 'title for report content flow');case _:return x._('What\'s wrong with this Try?', 'title for report content flow', 'title for report content flow');case g:return x._('Intellectual Property', 'title for report content flow for IP complaints', 'title for report content flow for IP complaints');default:return x._('What\'s wrong with this Try?', 'title for the report content flow', 'title for the report content flow')}else if(C===s.Zw.END&&k.includes("notUseful"))return x._('Thanks for letting us know!', 'title at end of report flow when content is not useful', 'title at end of report flow when content is not useful');return""})())}),[k,C,T]);const M=(0,m.jsx)(l.zx,{fullWidth:!0,color:"red",onClick:()=>{if(F(s.qb.PROCESSING),E===h)R(s.Zw.BLOCK),F(s.qb.STARTED);else{const n=[...k,E];P(n),((e,t,n,i,a)=>{A((0,p.Th)(e,t,n,i,a))})(e,n,t,S,f),k.includes("notUseful")?(R(s.Zw.END),F(s.qb.STARTED)):(R(s.Zw.BLOCK),F(s.qb.STARTED))}},text:x._('Report content', 'button to report content', 'button to report content')});return(0,m.jsx)(o.Z,{accessibilityModalLabel:x._('Report conversation', 'Pin.DidIt.Report', 'Accessibility label for report pin did it'),content:"IP"===T?(0,m.jsx)(l.xu,{mdDisplay:"flex",justifyContent:"center",children:(0,m.jsxs)(l.xu,{mdColumn:9,children:[(0,m.jsx)(l.xu,{padding:2,marginStart:2,children:(0,m.jsx)(l.xv,{align:"center",color:"default",weight:"bold",children:x._('If you\u2019ve found content that you believe violates your intellectual property, you can fill out our copyright complaint form.', 'explanation of IP complaint process', 'explanation of IP complaint process')})}),(0,m.jsx)(l.xu,{padding:2,children:(0,m.jsx)(l.ZP,{href:(0,u.Z)(c.GE,{pin_id:v,user_did_it_id:t}),color:"red",text:x._('File a report', 'link to DMCA form', 'link to DMCA form'),target:"blank"})})]})}):null,flagType:s.Vm.DID_IT,flow:C,modalTitle:j,onClose:n(!0),onNext:()=>{I(E),P([...k,E]),D()},onRevert:()=>{const e=k[k.length-1],t=k.slice(0,-1);D(e),I(t[t.length-1]),P(t),w(),F(void 0===e?s.qb.STARTED:s.qb.SELECTED)},onSelectReason:(e,t,n)=>{e&&(D(t),F(s.qb.SELECTED),w(n))},showPrimaryAction:T!==g,submitButton:M,status:z,selectedReason:E,flagReason:T,users:b,blockContext:null!=e?e:"",flagOptionsConfig:{__default:[{text:x._('It isn\'t useful or relevant', 'tried-it reporting flow', 'tried-it reporting flow'),value:"ignoreThisPin",isTerminalReason:!0,category:"ignoreThisPin"},{text:x._('It shouldn\'t be on Pinterest', 'tried-it reporting flow', 'tried-it reporting flow'),value:_,isTerminalReason:!1},{text:x._('It\'s spam', 'tried-it reporting flow', 'tried-it reporting flow'),value:"spam",isTerminalReason:!0,category:"spam"},{text:x._('It\'s my intellectual property', 'tried-it reporting flow', 'tried-it reporting flow'),isTerminalReason:!1,value:"IP"}],ignoreThisPin:[],policies:[{text:x._('It\'s sexually explicit', 'tried-it reporting flow', 'tried-it reporting flow'),value:"nudity",isTerminalReason:!0,category:"nudity"},{text:x._('It\'s self-harm', 'an option on tried-it reporting flow', 'an option on tried-it reporting flow'),value:"self-harm",isTerminalReason:!0,category:"self-harm"},{text:x._('It\'s hate speech', 'tried-it reporting flow', 'tried-it reporting flow'),value:"hate-speech",isTerminalReason:!0,category:"hate-speech"},{text:x._('It\'s harassment or bullying', 'tried-it reporting flow', 'tried-it reporting flow'),value:"attacks",isTerminalReason:!1,category:"attacks"},{text:x._('It\'s graphic violence', 'tried-it reporting flow', 'tried-it reporting flow'),value:"gore",isTerminalReason:!0,category:"graphic-violence"}],attacks:[{text:x._('It\'s a photo of me or my child', 'tried-it reporting flow', 'tried-it reporting flow'),value:"harassingMeOrMyChild",isTerminalReason:!0,category:"attacks"},{text:x._('It identifies and attacks me or someone I know', 'tried-it reporting flow', 'tried-it reporting flow'),value:"harassingMeOrAFriend",isTerminalReason:!0,category:"attacks"},{text:x._('Something else', 'tried-it reporting flow', 'tried-it reporting flow'),value:"harassingOther",isTerminalReason:!0,category:"attacks"}],IP:[],spam:[]}})}},914205:(e,t,n)=>{n.d(t,{Vm:()=>l,Zw:()=>i,qb:()=>a});const i={REPORT:"REPORT",BLOCK:"BLOCK",END:"END"},a={STARTED:"STARTED",SELECTED:"SELECTED",SUBMITTED:"SUBMITTED",PROCESSING:"PROCESSING",COMPLETED:"COMPLETED"},l={CONVERSATION:"CONVERSATION",DID_IT:"DID_IT"}},987867:(e,t,n)=>{n.d(t,{Z:()=>j});var i=n(667294),a=n(883119),l=n(40660),o=n(820623),r=n(388011),s=n(133636),d=n(536042),c=n(785893);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p={overlay:{__style:{backgroundColor:"#000"}}};class m extends i.PureComponent{constructor(...e){super(...e),u(this,"handleRestartVideo",(({event:e,dangerouslyDisableOnNavigation:t})=>{var n,i;e.stopPropagation(),null===(n=(i=this.props).onRestartVideo)||void 0===n||n.call(i,{event:e,dangerouslyDisableOnNavigation:t}),l.Z.increment("web.video.endcard.share",1,{status:"restart",variant:"enabled_send_first"})})),u(this,"handleShareVideo",(()=>{const{onToggleFlyout:e,isFlyoutOpen:t,pinId:n,requireAuth:i,logContextEvent:a}=this.props;t&&l.Z.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"}),a({event_type:101,component:179,object_id_str:n,view_type:3,view_parameter:156,element:11731}),i?i():e&&e()})),u(this,"handleExternalSend",(()=>{l.Z.increment("web.video.endcard.share",1,{status:"shareSheetOpen",variant:"enabled_send_first"})})),u(this,"renderReplayButton",(()=>(0,c.jsx)(a.iP,{accessibilityLabel:this.props.i18n._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),onTap:this.handleRestartVideo,rounding:2,children:(0,c.jsxs)(a.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,c.jsx)(a.xu,{marginEnd:3,children:(0,c.jsx)(a.JO,{accessibilityLabel:this.props.i18n._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),icon:"refresh",color:"inverse",size:18})}),(0,c.jsx)(a.X6,{color:"light",overflow:"normal",size:"400",children:this.props.i18n._('Watch again', 'Clickable label when pressed restarts the video', 'Clickable label when pressed restarts the video')})]})}))),u(this,"renderShareButton",(()=>{const{gridDescription:e,imageSrc:t,isFlyoutOpen:n,onFlyoutDismiss:i,pinId:l}=this.props;return(0,c.jsx)(a.iP,{accessibilityLabel:this.props.i18n._('Send', 'end.video.send.icon.label', 'Clickable label when pressed opens share sheet after video is finished'),onTap:this.handleShareVideo,rounding:2,children:(0,c.jsxs)(a.xu,{alignItems:"center",display:"flex",padding:2,justifyContent:"center",children:[(0,c.jsx)(o.default,{controllerOptions:{flyoutDisplayOptions:{shownWithinMasonry:!0},loggingOptions:{component:179,element:72,onExternalSend:this.handleExternalSend,viewType:3},isFlyoutOpen:n,onFlyoutDismiss:i,onToggleFlyout:()=>{},sendObject:{type:"pin",description:e,id:l,imageUrl:t,url:`/pin/${l}/`}},iconOnly:!0,iconColor:"white",tabIndex:-1}),(0,c.jsx)(a.xu,{children:(0,c.jsx)(a.X6,{color:"light",overflow:"normal",size:"400",children:this.props.i18n._('Send', 'end.video.send.icon.label', 'Clickable label when pressed opens share sheet after video is finished')})})]})})}))}componentDidMount(){const{pinId:e,logContextEvent:t}=this.props;l.Z.increment("web.video.endcard.share",1,{status:"land",variant:"enabled_send_first"}),t({event_type:13,component:179,object_id_str:e,view_type:3,view_parameter:156,element:11731})}render(){const{backgroundImage:e,naturalHeight:t,naturalWidth:n,pinTitle:i}=this.props;return(0,c.jsx)(a.xu,{children:(0,c.jsxs)(a.Ee,{alt:i||"",naturalHeight:t,naturalWidth:n,src:e,children:[(0,c.jsx)(a.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,dangerouslySetInlineStyle:p.overlay}),(0,c.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",direction:"column",children:(0,c.jsxs)(a.xu,{position:"absolute",children:[(0,c.jsx)(a.xu,{children:this.renderShareButton()}),(0,c.jsx)(a.xu,{alignSelf:"center",children:this.renderReplayButton()})]})})]})})}}function h(e){const{logContextEvent:t}=(0,r.v)(),n=(0,d.ZP)(),i=(0,s.Z)();return(0,c.jsx)(m,{...e,i18n:n,requireAuth:i,logContextEvent:t})}const g=({backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:i,pinTitle:l})=>{const o=(0,d.ZP)();return(0,c.jsx)(a.xu,{children:(0,c.jsxs)(a.Ee,{alt:l||"",naturalHeight:t,naturalWidth:n,src:e,children:[(0,c.jsx)(a.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:p.overlay}),(0,c.jsx)(a.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",top:!0,left:!0,height:"100%",width:"100%",children:(0,c.jsx)(a.xu,{children:(0,c.jsx)(a.iP,{onTap:i,rounding:2,children:(0,c.jsxs)(a.xu,{alignItems:"center",display:"flex",padding:2,children:[(0,c.jsx)(a.hU,{accessibilityLabel:o._('Replay', 'closeupVideo.endCard.ReplayButton', 'Button when pressed restarts the video'),icon:"refresh",iconColor:"white",size:"md"}),(0,c.jsx)(a.X6,{color:"light",overflow:"normal",size:"400",children:o._('Replay', 'closeupVideo.endCard.ReplayButton', 'Button when pressed restarts the video')})]})})})})]})})};var _=n(969327),y=n(41162),v=n(719540),f=n(622200),b=n(282802),x=n(463031),k=n(634004),P=n(911386),S=n(886365),w=n(335263),T=n(714557),I=n(197083);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class C extends i.Component{constructor(...e){super(...e),A(this,"state",{controls:"always"===this.props.showControls&&!this.props.disabled,fullscreen:!1,playing:!(0,_.G6)(this.props.requestContext.userAgent.browserName)&&(!!this.props.autoplay&&!this.props.disabled),ready:!1,seeking:!1,showEndCard:!1,volume:this.props.muted||this.props.shouldMute?0:1,videoStartTime:this.props.videoStartTime||0}),A(this,"setVideoPwtLoadingStop",((e=!1)=>{if(!f.Z)return;const{storyPinStepStopwatch:t,pinId:n,pwtSurfaceContext:i}=this.props;t&&(e||t.addAnnotation("video.startup.end"),t.addBinaryAnnotation("pin.id",n,"STRING"),t.addBinaryAnnotation("video",!0,"BOOL"),t.addBinaryAnnotation("preload",e,"BOOL"),t.addSubspan({name:"perceived_video_load",endTime:f.Z.now()}),t.stop()),i&&(e||i.addAnnotation("video.startup.end"),i.addBinaryAnnotation("pin.id",n,"STRING"),i.addBinaryAnnotation("video",!0,"BOOL"),i.markConstraintComplete(w._z),i.addSubspan("perceived_video_load",null,f.Z.now()),"story_pin"===i.getMetricId().segment&&i.removeConstraint(w.pM))})),A(this,"componentDidMount",(()=>{const{customThumbnail:e,video:t,preferMp4:n}=this.props,{mp4:i}=t,a=t.hlsv3||t.hls||null,{thumbnail:l}=n&&i||a||{},o=(r=e||l)&&document.querySelector(`video[poster="${r}"]`)||null;var r;4===(null==o?void 0:o.ready)&&(this.setState({ready:!0}),this.props.autoplay&&this.setVideoPwtLoadingStop(!0))})),A(this,"componentDidUpdate",((e,t)=>{this.props.videoStartTime&&this.props.videoStartTime!==e.videoStartTime&&this.setState({videoStartTime:this.props.videoStartTime}),!1===e.isPlaying&&this.props.isPlaying&&this.setState({playing:!0,controls:"never"!==this.props.showControls}),e.isPlaying&&!1===this.props.isPlaying&&this.setState({playing:!1}),e.autoplay!==this.props.autoplay&&(this.setState({playing:!!this.props.autoplay}),this.props.autoplay&&this.state.ready&&this.setVideoPwtLoadingStop(!0)),e.muted!==this.props.muted&&this.setState({volume:this.props.muted?0:1}),"never"===this.props.showControls&&t.controls&&this.setState({controls:!1}),(t.controls||t.playing)&&this.props.disabled&&this.setState({playing:!1,controls:!1}),!t.playing&&this.state.playing&&this.props.onPlay&&this.props.onPlay()})),A(this,"handleTouch",(()=>{const{seeking:e}=this.state,{disabled:t}=this.props;e||t||this.setState((e=>({playing:!e.playing})))})),A(this,"handleShowControls",(()=>this.setState({controls:!0}))),A(this,"handleHideControls",(()=>this.setState({controls:!1}))),A(this,"handleReady",(()=>{const{ready:e,playing:t}=this.state,{autoplay:n,disabled:i}=this.props;n&&!e&&this.setVideoPwtLoadingStop(),this.setState({ready:!0}),(0,_.G6)(this.props.requestContext.userAgent.browserName)&&!t&&n&&!i&&this.setState({playing:!0})})),A(this,"handleEnded",(({event:e})=>{const{customThumbnail:t,customEndCard:n,pinId:i,setCurrentVideo:a,loop:l,onEnded:o}=this.props;var r;e.stopPropagation(),l||(this.setState({playing:!1}),(r=t)&&r.endsWith(".gif")||n||(this.setState({showEndCard:!0,videoStartTime:0}),a({pinId:i,isPromoted:!1,currentTime:0})),this.state.fullscreen&&this.exitFullscreen()),o&&o()})),A(this,"handlePause",(({event:e})=>{e.stopPropagation(),this.setState({playing:!1})})),A(this,"handlePlay",(({event:e})=>{e.stopPropagation(),this.setState({playing:!0})})),A(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{e.stopPropagation(),this.setState({fullscreen:t})})),A(this,"handlePlayheadDown",(({event:e})=>{this.setState({seeking:!0})})),A(this,"handlePlayheadUp",(({event:e})=>{setTimeout((()=>{this.setState({seeking:!1})}),500)})),A(this,"handleRestartVideo",(({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})})),A(this,"handleShareRestartVideo",(({event:e})=>{e.stopPropagation(),this.setState({playing:!0,showEndCard:!1})})),A(this,"handleVolumeChange",(({event:e,volume:t})=>{const{shouldMute:n}=this.props;e.stopPropagation(),n||this.setState({volume:t})})),A(this,"exitFullscreen",(()=>{const{document:e}=window;(e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement)&&(e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.msExitFullscreen&&e.msExitFullscreen())})),A(this,"renderCloseupVideoEndCard",((e,t,n,i)=>{const a={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleShareRestartVideo},l={backgroundImage:e,naturalHeight:t,naturalWidth:n,onRestartVideo:this.handleRestartVideo},{flyoutShareProps:o}=this.props,r={gridDescription:o?o.gridDescription:"",imageSrc:o?o.imageSrc:"",isFlyoutOpen:!!o&&o.isFlyoutOpen,onFlyoutDismiss:o?o.onFlyoutDismiss:()=>{},onToggleFlyout:o?o.onToggleFlyout:()=>{},pinId:o?o.pinId:""};return i?(0,c.jsx)(g,{...l}):(0,c.jsx)(h,{...r,...a})}))}render(){const{autoplay:e,closeupStoryPinViewability:t,contextLogData:n={component:179,is_closeup_video:!0,objectId:this.props.pinId,view:3,viewParameter:156},customThumbnail:i,isPromoted:l,loop:o,onTimeChange:r,objectFit:s,preferMp4:d,preload:u,requestContext:p,roundingOverride:m,showControls:h,variant:g,video:y,videoThumbnailStartTime:v}=this.props;n.is_closeup_video=!0;const{controls:f,fullscreen:b,playing:k,showEndCard:P,volume:S,videoStartTime:w}=this.state,A=y.hlsv3||y.hls||null;if(!A&&!y.mp4)return null;const{mp4:C}=y,j=d&&C&&C.url||A&&[{type:"video/m3u8",src:A.url}]||void 0,{height:E,thumbnail:R,width:L}=d&&C||A||{},D=i||R;let F;return F=null!=m?m:"default"===g?0:"storyPin"===g?x.yR:2,(0,c.jsx)(a.zd,{willChangeTransform:!((0,_.G6)(p.userAgent.browserName)&&b),rounding:F,wash:!0,children:P?this.renderCloseupVideoEndCard(null!=D?D:"",null!=E?E:1,null!=L?L:1,l):(0,c.jsx)(a.iP,{accessibilityLabel:this.props.i18n._('Pause or play video', 'pin.closeup.video.tap', 'tap area to pause or play video'),onMouseEnter:"hover"===h?this.handleShowControls:void 0,onMouseLeave:"hover"===h?this.handleHideControls:void 0,onTap:this.handleTouch,rounding:2,children:(0,c.jsx)(I.ZP,{contextLogData:{...n,video_id:this.props.video.id},aspectRatio:(null!=L?L:1)/(null!=E?E:1),closeupStoryPinViewability:t,captions:"",controls:f,hlsConfig:{startLevel:T.V},isAutoPlay:!!e,objectFit:s,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onControlsPause:this.handlePause,onControlsPlay:this.handlePlay,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onTimeChange:r,onVolumeChange:this.handleVolumeChange,preferMp4:d,playing:k,onPlay:()=>{},onPlayError:()=>{},preload:u,poster:D,src:j,videoStartTime:w||v,volume:S,loop:o})})})}}function j(e){const t=(0,d.ZP)(),n=(0,b.B)(),a=(0,v.g)(),l=(0,y.E)(),{seekTime:o}=(0,k.Hx)(),{pinId:r,isPromoted:s}=e,{appUI:u,setCurrentVideo:p}=(0,S.I)(),{videosAutoplaying:m}=u,{organicVideosAutoplaying:h,promotedVideosAutoplaying:g}=m,_=s?g[r]:h[r],f=(0,P.Z)(),x=parseInt(f.t||0,10),[w,T]=(0,i.useState)((null==_?void 0:_.currentTime)||0);return(0,i.useEffect)((()=>{let e=w;x>0&&(e=x),o&&(e=o),T(e)}),[o,x,w]),(0,c.jsx)(C,{...e,i18n:t,isPlaying:!_||!_.paused,pwtSurfaceContext:l,requestContext:n,setCurrentVideo:p,storyPinStepStopwatch:a,videoStartTime:w})}A(C,"defaultProps",{loop:!1,showControls:"hover"})},411132:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),a=n(883119),l=n(88622),o=n(536042),r=n(630089),s=n(785893);const d=({cancelBlockCallback:e,onBlock:t,onBlockCallback:n,openModalCallback:d,size:c,user:u})=>{const p=(0,o.ZP)(),[m,h]=(0,i.useState)(!1),g=()=>{h(!1)},{username:_,full_name:y,blocked_by_me:v}=null!=u?u:{};return(0,s.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:!v&&(0,s.jsxs)(a.xu,{children:[(0,s.jsx)(a.iP,{onTap:()=>{h(!0),null==d||d()},children:(0,s.jsx)(a.X6,{size:c||"400",children:p._('Block', 'BlockButton.Heading.Block', 'Blocking an user means you won\'t be able to follow each other or interact with each other\'s Pins')})}),(0,s.jsxs)(l.ZP,{accessibilityModalLabel:"",isOpen:m,onDismiss:g,mobileHideCloseIcon:!0,type:"block_button",children:[(0,s.jsx)(a.xu,{paddingX:3,paddingY:5,children:(0,s.jsx)(a.X6,{accessibilityLevel:1,size:"500",children:(0,r.nk)(p._('Block {{ full_name }}?', 'BlockButton.FullName.Block', 'full_name: user full name to block'),{full_name:y})})}),(0,s.jsx)(a.xu,{marginBottom:3,marginStart:2,marginEnd:2,children:(0,s.jsx)(a.xv,{children:(0,r.nk)(p._('If you block {{full_name}} ({{username}}),\n                          you won\u2019t be able to follow each other\n                          or interact with each other\u2019s Pins.', 'BlockButton.Description.Block', 'full_name:user full name to block, username: username to block, Warning about blocking a user'),{full_name:y,username:_})})}),(0,s.jsx)(a.xu,{marginBottom:2,marginStart:2,marginEnd:2,children:(0,s.jsx)(a.zx,{fullWidth:!0,color:"red",text:p._('Block', 'BlockButton.Action.Block', 'Action to block user'),onClick:()=>{if(u){const{id:e,first_name:n=""}=u;null==t||t(e,n,p)}g(),null==n||n()}})}),(0,s.jsx)(a.xu,{marginStart:2,marginEnd:2,children:(0,s.jsx)(a.zx,{fullWidth:!0,color:"gray",text:p._('Cancel', 'BlockButton.Action.Cancel', 'Action to cancel blocking a user'),onClick:()=>{g(),null==e||e()}})})]})]})})}},40045:(e,t,n)=>{n.d(t,{Z:()=>i});const i={AMP_TRACKING_DOMAIN:"amp.pinterest.com",BoardPrivacy:{SECRET:"secret",PUBLIC:"public",PROTECTED:"protected"},BoardType:{PROTECTED:"protected"},BulkAction:{MOVE:"bulkMove",COPY:"bulkCopy",CREATE_SECTION:"bulkCreateSection",DELETE:"bulkDelete"},MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION:500,MAX_CHARS_FOR_BOARD_TITLE:50,MAX_CHARS_FOR_FIRST_NAME:30,MAX_FETCH_NUM_FOLLOWERS_PER_PAGE:50,MAX_STORED_VISITED_PIN_PAGES:10,VIDEO_IFRAME_ID:"video-iframe"}},874261:(e,t,n)=>{n.d(t,{Z:()=>l});n(441143);var i=n(785893);class a{static factory(e){return e instanceof a?e:new a(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function l(e){const{css:t,unsafeCSS:n,...l}=e,o=String(t||"")||n||"";return!!o?(0,i.jsx)("style",{...l,dangerouslySetInnerHTML:{__html:String(a.factory(o))}}):null}},767874:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(536042),a=n(785893);function l({fillColor:e,size:t,noCircle:n}){const l=(0,i.ZP)();return(0,a.jsxs)("svg",{height:t,style:{display:"block"},viewBox:n?"3 3 70 70":"-3 -3 82 82",width:t,children:[(0,a.jsx)("title",{children:l._('Pinterest logo', 'Accessibility label for Pinterest icon', 'Accessibility label for Pinterest icon')}),n?null:(0,a.jsx)("circle",{cx:"38",cy:"38",fill:e?"transparent":"white",r:"40"}),(0,a.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:null!=e?e:"#e60023",fillRule:"evenodd"})]})}},633917:(e,t,n)=>{n.d(t,{N:()=>o,Z:()=>l});var i=n(883119),a=n(785893);function l({children:e,fullWidth:t}){return(0,a.jsx)(i.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},children:e})}function o({children:e,enabled:t}){return t?(0,a.jsx)(l,{children:e}):e}},670640:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(167912),a=n(690108),l=n(125715),o=n(970588),r=n(49387),s=n(17330),d=n(198541),c=n(911386);const u={open(e){var t;const n=(i=e,u._validParams.reduce(((e,t)=>(i&&Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t]),e)),{}));var i;const a=u._getDialogType(e),p=u.generateFbRef(null!==(t=e.unauthId)&&void 0!==t?t:""),m=e.object_type&&e.object_id&&"feed"===a;let h=(0,s.Z)(e.path);const g=(0,c.Z)();if(g.ptrf&&(h=(0,d.Z)(h,{ptrf:g.ptrf})),m&&(h=(0,d.Z)(h,{fb_ref:p})),n.method=a,"feed"===n.method){const t=(0,l.Z)({width:e.width,height:e.height});let i="http://www.facebook.com/sharer/sharer.php?u="+h;n.picture&&(i+="&picture="+n.picture),n.name&&(i+="&title="+n.name),n.description&&(i+="&description="+n.description),n.caption&&(i+="&caption="+n.caption),window.open(encodeURI(i),"sharer",t)}else"send"===n.method?n.link=h:"share"===n.method&&(n.href=h),(0,r.default)((t=>{t.getLoginStatus((()=>{if("send"===n.method){t.ui(n);let i,a=10;const l=setInterval((()=>{i=function(){if(!document)return;const e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe")).reduce(((e,t)=>t instanceof HTMLIFrameElement?e.concat([t]):e),[]);return e.length?(e.slice(0,e.length-1).forEach((e=>{var t;return null===(t=e.parentNode)||void 0===t?void 0:t.removeChild(e)})),e[e.length-1]):void 0}(),!i&&a||(clearInterval(l),i&&u.executeMessengerCallback(i,e.callback)),a-=1}),1e3)}else"share"===n.method&&t.ui(n,(t=>{m&&t&&!t.error_message&&(0,o.Z)({url:`/v3/log/facebook/feed_share/${e.object_type||""}/${e.object_id||""}/${p}`,method:"PUT",data:{showError:!1}}),e.callback&&e.callback(t)}))}))}),e.viewer)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback(e,t){let n=10;const i=setInterval((()=>{const{width:t}=e.style;"0px"!==t&&n||(clearInterval(i),e.style.width="575px"),n-=1}),1e3);t&&t()},generateFbRef(e){let t="";for(;t.length<20;)t+=Math.floor(65535*Math.random()).toString(16);return e+":"+t},_getDialogType:e=>u._validOptions.includes(e.type)?e.type:"feed"},p=u;function m(e,t,n){const i=function(e,t){const n=window.screen.width,i=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((n-e)/2)+",top="+(i>t?Math.round((i-t)/2):0)}(t,n);window.open(e,void 0,i)}const h={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog(e){m(h._getWindowUrl(e.share_path,e.share_text),h.DIALOG_WIDTH,h.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,d.Z)("https://social-plugins.line.me/lineit/share",{url:e?(0,s.Z)(e):void 0,text:t})},g=h,_={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog(e){m(_._getWindowUrl(e.tweet_path,e.tweet_text),_.DIALOG_WIDTH,_.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,d.Z)("https://twitter.com/intent/tweet",{via:"pinterest",url:e?(0,s.Z)(e):void 0,text:t||void 0})},y=_;var v,f;const b=3,x=void 0!==v?v:v=n(295971),k=void 0!==f?f:f=n(134167),P=()=>{const e=(0,i.useRelayEnvironment)();return async(t,n)=>await new Promise(((a,l)=>(0,i.fetchQuery)(e,k,{invite_category:n.toString(),url:t}).subscribe({next:e=>{var t,n,i,l,o,r,s,d,c;return a({invite_code:null!==(t=null===(n=e.v3CreateShareLinkQuery)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.inviteCode)&&void 0!==t?t:"",invite_url:null!==(l=null===(o=e.v3CreateShareLinkQuery)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.inviteUrl)&&void 0!==l?l:"",title:null!==(s=null===(d=e.v3CreateShareLinkQuery)||void 0===d||null===(c=d.data)||void 0===c?void 0:c.title)&&void 0!==s?s:""})},error:e=>l(e)})))},S=()=>{const e=(0,i.useRelayEnvironment)();return async(t,n,a,l)=>{const o={invite_category:t,invite_object:n,invite_channel:a};return await new Promise(((t,n)=>(0,i.fetchQuery)(e,x,{inviteType:JSON.stringify(o),objectId:l}).subscribe({next:e=>{var n,i,a,l,o,r,s,d,c;return t({invite_code:null!==(n=null===(i=e.v3InviteUserExternalQuery)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.inviteCode)&&void 0!==n?n:"",invite_url:null!==(l=null===(o=e.v3InviteUserExternalQuery)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.inviteUrl)&&void 0!==l?l:"",title:null!==(s=null===(d=e.v3InviteUserExternalQuery)||void 0===d||null===(c=d.data)||void 0===c?void 0:c.title)&&void 0!==s?s:""})},error:e=>n(e)})))}};function w(){const e={pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8,search:0},t=P(),n=S();function i(t){return e[t]||0}function l(e,t){const n=i(e.object_type),l=e.invite_channel,o=null==e.invite_category?b:e.invite_category,r=e.object_id;return a.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:o,invite_object:n,invite_channel:l},invite_code:t,object_id:r,client_tracking_params:e.client_tracking_params}).callCreate()}function o(e){const a=i(e.object_type),l=e.invite_channel,o=null==e.invite_category?b:e.invite_category;return 10===o&&e.path?t(e.path,o):n(o,a,l.toString(),e.object_id)}return{ObjectTypeToInviteObject:e,logShareInvite:function(e,t){t&&l(e,t.invite_code)},createShareInviteData:o,shareFacebookInvite:function(e){const{options:t,unauthId:n,viewer:i}=e;return o(t).then((e=>{const a=e.invite_url,o=e.invite_code;if(a){const r={type:"share",object_type:t.object_type,object_id:t.object_id,name:t.name,caption:e.title,description:t.description,path:a,picture:t.picture,callback(e){e&&!e.error_message&&l(t,o)}};p.open({...r,display:"popup",unauthId:n,viewer:i})}return Promise.resolve(e)}),(e=>Promise.reject(e)))},shareTwitterInvite:function(e){const t=i(e.object_type);return o(e).then((n=>{const i=n.invite_url,a=n.invite_code;let o=e.description;return 6===t&&e.name&&(o=e.name),o.trim()||(o=`${n.title}\n`),i&&y.openDialog({tweet_path:i,tweet_text:o}),l(e,a),Promise.resolve(n)}),(e=>Promise.reject(e)))},shareLineInvite:function(e){const t=i(e.object_type);return o(e).then((n=>{const i=n.invite_url,a=n.invite_code;let o=e.description;return 6===t&&e.name&&(o=e.name),o.trim()||(o=`${n.title}\n`),i&&g.openDialog({share_path:i,share_text:o}),l(e,a),Promise.resolve(n)}),(e=>Promise.reject(e)))},shareFbMessengerInvite:function(e){const{options:t,unauthId:n,viewer:i}=e;return o(t).then((e=>{const a=e.invite_url,o=e.invite_code;return a&&p.open({type:"send",object_type:t.object_type,object_id:t.object_id,name:t.name,caption:e.title,description:t.description,path:a,picture:t.picture,callback(e){e&&e.success&&l(t,o)},display:"popup",unauthId:n,viewer:i}),Promise.resolve(e)}),(e=>Promise.reject(e)))}}}},824439:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(477288);const a=e=>`@keyframes shopButtonSlideInThenOut {\n    0% {\n      width: 0px;\n    }\n\n    15% {\n      width: ${e+i.I6}px;\n    }\n\n    85% {\n      width: ${e+i.I6}px;\n    }\n\n    100% {\n      width: 0px;\n    }\n  }\n\n  @keyframes shopButtonSlideIn {\n    0% {\n      width: 48px;\n    }\n\n    100% {\n      width: ${e+i.Nv}px;\n    }\n  }\n\n  @keyframes shopButtonSlideOut {\n    0% {\n      width: ${e+i.Nv}px;\n    }\n\n    100% {\n      width: 48px;\n    }\n  }\n\n  @keyframes revealShopText {\n    from {\n      clip-path: inset(0 100% 0 0);\n    }\n    to {\n      clip-path: inset(0 0 0 0);\n    }\n  }\n\n\n  @keyframes stelaSlideIn {\n    0% {\n        opacity: 0;\n    }\n\n    100% {\n        opacity: 1;\n    }\n}\n\n@keyframes stelaSlideOut {\n    0% {\n        opacity: 1;\n    }\n\n    100% {\n        opacity: 0;\n    }\n}\n\n@keyframes stelaSlideInThenOut {\n    0% {\n        opacity: 0;\n    }\n\n    15% {\n        opacity: 0;\n    }\n\n    25% {\n        opacity: 1;\n    }\n\n    50% {\n        opacity: 1;\n    }\n\n    75% {\n        opacity: 1;\n    }\n\n    85% {\n        opacity: 0;\n    }\n\n    100% {\n        opacity: 0;\n    }\n}\n\n  `},477288:(e,t,n)=>{n.d(t,{I6:()=>a,Nv:()=>i,RZ:()=>l,ZG:()=>r,b9:()=>o});const i=44,a=24,l=446,o=36,r=20},882973:(e,t,n)=>{n.d(t,{Pw:()=>i,SB:()=>a,ZP:()=>o,x9:()=>l});const i=80,a=56,l=e=>"phone"===e?a:i;function o(e,t){return t?0:l(e)}},94080:(e,t,n)=>{n.d(t,{Z:()=>h});n(167912);var i,a=n(883119),l=n(825389),o=n(536042),r=n(630089),s=n(98736),d=n(618569),c=n(272109),u=n(785893);const p=void 0!==i?i:i=n(114572);function m({pin:e,onClose:t,zIndex:n}){var i,l,p,m;const h=null==e||null===(i=e.board)||void 0===i?void 0:i.name,g="protected"===(null==e||null===(l=e.board)||void 0===l?void 0:l.privacy)?null:null==e||null===(p=e.board)||void 0===p?void 0:p.url,_=(0,o.ZP)(),y=(0,d.Z)(),v=g&&h?{boardName:h,boardUrl:g,username:g.split("/")[1]}:null;return(0,c.Z)((()=>{var t;null!=e&&null!==(t=e.description)&&void 0!==t&&t.trim()||v||(0,s.My)("lop.dweb.plp.more_info.empty")})),(0,u.jsx)("div",{"data-test-id":"more-information-modal",style:{backgroundColor:"rgba(85, 85, 85, 0.9)",color:"#333",height:"100vh",left:0,position:"fixed",top:0,WebkitFontSmoothing:"antialiased",width:"100vw",zIndex:n||2},onClick:()=>{y({action:"click",item:"close-more-information-modal"}),t()},children:(0,u.jsxs)(a.xu,{as:"section",color:"default",dangerouslySetInlineStyle:{__style:{left:"50%",top:"50%",transform:"translate(-50%, calc(-50% - 32px))",paddingBottom:"10px"}},onClick:e=>e.stopPropagation(),position:"absolute",rounding:2,width:414,children:[(0,u.jsxs)(a.xu,{display:"flex",height:60,justifyContent:"end",dangerouslySetInlineStyle:{__style:{borderBottom:"solid 1px #efefef",padding:"0 24px"}},children:[(0,u.jsx)("div",{onClick:()=>t(),onKeyUp:()=>t(),role:"button",style:{cursor:"pointer",fill:"#767676",marginTop:"20px"},tabIndex:"0",children:(0,u.jsx)(a.xu,{"data-test-id":"close-more-information-modal",children:(0,u.jsx)(a.JO,{accessibilityLabel:_._('Cancel', 'close modal icon', 'close modal icon'),icon:"cancel",inline:!0,size:18})})}),(0,u.jsx)(a.xu,{marginTop:5,position:"absolute",dangerouslySetInlineStyle:{__style:{fontSize:"21px",fontWeight:"bold",left:"50%",transform:"translateX(-50%)"}},children:_._('More information', 'more information label', 'more information label')})]}),(0,u.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{maxHeight:"calc(60vh - 60px)",overflowY:"auto",padding:"0 24px 24px 24px"}},children:[!(null==e||!e.description)&&(0,u.jsx)("h2",{style:{fontSize:"16px",marginTop:"15px"},children:e.description}),!!v&&(0,u.jsx)(a.xu,{marginTop:3,children:(0,u.jsx)(a.xv,{children:(0,r.nk)(_._('Find this Pin and more on {{ board_link }} by {{ profile_link }}.', 'Link to pin\'s board and board\'s owner', 'Link to pin\'s board and board\'s owner'),{board_link:(0,u.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,u.jsx)(a.rU,{display:"inlineBlock",href:v.boardUrl,onClick:()=>(0,s.NC)("click_vase_modal_board",!0),underline:"hover",children:v.boardName},"board-link")}),profile_link:(0,u.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,u.jsx)(a.rU,{display:"inlineBlock",href:`/${v.username}/`,onClick:()=>(0,s.NC)("click_vase_modal_profile",!0),underline:"hover",children:(null==e||null===(m=e.pinner)||void 0===m?void 0:m.fullName)||v.username},"profile-link")})})})})]})]})})}function h({pinKey:e,...t}){const{data:n}=(0,l.k5)(p,e,{type:"pin",useLegacyAdapter:e=>({board:e.board&&{name:e.board.name,privacy:e.board.privacy,url:e.board.url},description:e.description,pinner:e.pinner&&{fullName:e.pinner.full_name}})});return n&&(0,u.jsx)(m,{...t,pin:n})}},793085:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),a=n(883119),l=n(563962),o=n(536042),r=n(262600),s=n(785893);const d={sm:12,md:16,lg:20,xl:24};function c({isVerifiedMerchant:e,size:t,showText:n,showVerifiedIdentity:c,inspirationalBadges:u,inspirationalBadgesColor:p}){const m=(0,o.ZP)(),[h,g]=(0,i.useState)(!1),{dangerousInlineStyle:_,iconColor:y}=(0,r.W)(!!e),v=(0,l.Z)();return(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(a.iP,{onTap:()=>{v({component:13534,element:11717,event_type:102}),g(!0)},rounding:"circle",children:(0,s.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:_,display:"flex","data-test-id":"verified-badge-icon",children:[(0,s.jsx)(a.JO,{accessibilityLabel:e?m._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'):m._('Badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),icon:"workflow-status-ok",color:y,inline:!0,size:d[t]}),n&&!c&&(0,s.jsx)(a.xu,{marginStart:2,children:(0,s.jsx)(a.xv,{color:"shopping",inline:!0,weight:"bold",children:(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:_,children:m._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})})]})}),(e||n&&!c)&&(0,s.jsx)(r.Z,{showModal:h,setShowModal:g,inspirationalBadges:u,inspirationalBadgesColor:p})]})}},262600:(e,t,n)=>{n.d(t,{W:()=>u,Z:()=>p});var i=n(667294),a=n(883119),l=n(770130),o=n(563962),r=n(88622),s=n(536042),d=n(837792),c=n(785893);const u=e=>{const t=e?"shopping":"error";return{iconColor:t,dangerousInlineStyle:{__style:{color:t}}}};function p({inspirationalBadges:e=[],inspirationalBadgesColor:t,showModal:n,setShowModal:p}){const m=(0,s.ZP)(),[h,g]=(0,i.useState)(!0),{dangerousInlineStyle:_,iconColor:y}=u(!0),v=(0,o.Z)();return(0,i.useEffect)((()=>{n&&h&&(g(!1),v({event_type:13,component:13534}))}),[n]),(0,c.jsx)(r.ZP,{accessibilityModalLabel:m._('Verified merchant information', 'creator.verifiedMerchant.accessibilityModalLabel', 'Accessibility label for modal informing about a verified merchant'),isOpen:n,mobileAccessibilityCloseIconLabel:m._('Close', 'Close modal window', 'Close modal'),onDismiss:()=>{v({component:13534,element:11716,event_type:102}),p(!1)},type:"verified_merchant_modal",children:(0,c.jsx)(a.xu,{padding:3,children:(0,c.jsxs)(a.xu,{display:"flex",direction:"column",padding:2,"data-test-id":"verified-badge-modal",children:[(0,c.jsx)(a.xu,{display:"flex",dangerouslySetInlineStyle:_,justifyContent:"center",children:(0,c.jsx)(a.JO,{accessibilityLabel:m._('Merchant verification badge icon', 'creator.verifiedMerchant.modalIcon', 'Badge indicating that a merchant or user is verified'),color:y,icon:"workflow-status-ok",size:24})}),(0,c.jsx)(a.xu,{marginTop:4,children:(0,c.jsx)(a.xv,{color:"shopping",weight:"bold",align:"center",children:(0,c.jsx)(a.xu,{dangerouslySetInlineStyle:_,children:m._('Verified merchant', 'creator.verifiedMerchant.modalHeader', 'this merchant is a verified merchant')})})}),(0,c.jsx)(a.xu,{marginTop:4,marginBottom:4,children:(0,c.jsx)(a.xv,{align:"center",overflow:"normal",children:m._('This retailer meets Pinterest\'s Merchant Guidelines', 'creator.verifiedMerchant.modalText.', 'this merchant is a verified merchant')})}),e.map((e=>(0,c.jsxs)(a.xu,{display:"flex",direction:"column",marginTop:4,children:[(0,c.jsx)(a.kC,{alignItems:"stretch",justifyContent:"center",children:(0,c.jsx)(a.xv,{overflow:"noWrap",size:"100",weight:"bold",children:(0,c.jsx)(a.xu,{display:"inlineBlock",rounding:1,paddingX:2,paddingY:2,dangerouslySetInlineStyle:{__style:(0,l.ym)(t)},"data-test-id":"verified-badge-modal-inspirational-badge",children:e.label})})}),(0,c.jsx)(a.xu,{marginTop:2,children:(0,c.jsx)(a.xv,{align:"center",overflow:"normal",children:e.description})})]},e.id))),(0,c.jsx)(a.xu,{display:"flex",marginTop:8,justifyContent:"center",width:"100%","data-test-id":"verified-badge-modal-learn-more",children:(0,c.jsx)(a.ZP,{accessibilityLabel:m._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com'),target:"blank",size:"lg",href:d.vB,text:m._('Learn more', 'creator.verifiedMerchant.buttonText', 'learn more about the verified merchant program by visiting help.pinterest.com')})})]})})})}},78309:(e,t,n)=>{n.d(t,{$N:()=>h,Cu:()=>_,GY:()=>d,MZ:()=>o,NR:()=>u,Vn:()=>c,bC:()=>g,fm:()=>i,kM:()=>l,q6:()=>a,qp:()=>s,uV:()=>p,ug:()=>m,xL:()=>r});const i={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},a={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},l={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},o={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce",PREMMERCE:"Premmerce",SEGMENT:"Segment",BRANCH:"Branch",HIGHTOUCH:"Hightouch",EULERIAN:"Eulerian",ADOBE_CDP:"Adobe Real-Time CDP",ADOBE_COMMERCE:"Adobe Commerce",SALESFORCE_COMMERCE_CLOUD:"Salesforce Commerce Cloud"},r={GTM:"GTM",SHOPIFY:"SHOPIFY",WORDPRESS:"WORDPRESS",WOOCOMMERCE:"WOOCOMMERCE",TEALIUM:"TEALIUM"},s={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",PINTEREST_EVENT_HISTORY:"PINTEREST_EVENT_HISTORY"},d={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},c={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},u={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",CAMPAIGN_ID:"campaign_id"},p="604800",m="86400",h={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"},g="click",_="view"},521262:(e,t,n)=>{n.d(t,{ZP:()=>o,m_:()=>l});var i=n(40660),a=n(78309);function l(e,t,n,i){const l=new URLSearchParams;l.append(a.NR.SOURCE_EVENT_ID,e);const o=t?"https://"+new URL(t).hostname:"";return l.append(a.NR.DESTINATION,o),l.append(a.NR.EXPIRY,n?a.uV:a.ug),l.append(a.NR.PRIORITY,n?a.NR.CLICK_PRIORITY:a.NR.VIEW_PRIORITY),i&&l.append(a.NR.CAMPAIGN_ID,i),l.append(a.NR.SOURCE_EVENT_TYPE,n?a.bC:a.Cu),"/attribution_source/?"+l.toString()}async function o(e,t,n,a,o,r){if(["Pin","pinImpressions"].includes(e)&&t&&n){i.Z.increment("webapp.arapi.view.funnel",.1,{status:"start",appType:r});try{var s;if(null===(s=window.document.featurePolicy)||void 0===s||!s.allowsFeature("attribution-reporting"))return void i.Z.increment("webapp.arapi.view.funnel",.1,{status:"skipped",message:"attribution-reporting is not enabled",appType:r});const e={eventSourceEligible:!0,triggerEligible:!1},t=l(n,a||"",!1,o);if(!(await window.fetch(t,{keepalive:!0,attributionReporting:e})).ok)throw new Error("server request failed.");i.Z.increment("webapp.arapi.view.funnel",.1,{status:"success",appType:r})}catch(d){i.Z.increment("webapp.arapi.view.funnel",.1,{status:"failed",error:d.name,appType:r})}}else i.Z.increment("webapp.arapi.view.funnel",.1,{status:"missing_param",appType:r})}},387977:(e,t,n)=>{function i(e){return"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame")||e&&e(),window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{e&&e()}))}))}n.d(t,{Z:()=>i})},798198:(e,t,n)=>{n.d(t,{CC:()=>i,Ll:()=>l,XF:()=>a});const i=(e,t)=>((e,t,n)=>({x:Math.floor(e*Math.cos(n)),y:Math.floor(t*Math.sin(n))}))(t/2,e/2,2*Math.random()*Math.PI),a=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,l=e=>["@-webkit-keyframes","@keyframes"].map((t=>e.map((e=>t+" "+e)).join("\n"))).join("\n")},651575:(e,t,n)=>{n.d(t,{Z:()=>m});n(167912);var i,a=n(883119),l=n(825389),o=n(536042),r=n(98736),s=n(618569),d=n(785893);const c=void 0!==i?i:i=n(327511),u=()=>{const e=(0,o.ZP)();return(0,d.jsx)(a.xv,{size:"300",children:e._('Featured in Pinterest\'s article', 'Title of suggesting articles module in the pin.', 'unauth.main_pin.featured_in_articles')})};function p({isDesktop:e,pin:t}){const n=(0,o.ZP)(),i=(0,s.Z)(),{_id:l,mainImageUrl:c,title:p,urlPath:m}=(null==t?void 0:t.relatedArticle)||{};if(!(l||c||p||m))return null;const h=()=>{(0,r.tj)("mweb.unauth.featured_in_article_text.plp.touch",{article_id:l}),i({action:"click",item:"pin-featured-in-article"})};return(0,d.jsxs)(a.xu,{marginTop:10,children:[(0,d.jsx)(a.iz,{}),!e&&(0,d.jsx)(a.xu,{marginTop:4,marginBottom:-2,children:(0,d.jsx)(u,{})}),(0,d.jsxs)(a.xu,{display:"flex",direction:"row",marginBottom:4,marginTop:4,children:[(0,d.jsx)(a.xu,{alignSelf:"center",children:(0,d.jsx)(a.zd,{width:48,height:48,rounding:3,children:c&&(0,d.jsx)(a.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:c})})}),(0,d.jsxs)(a.xu,{marginStart:2,marginEnd:2,alignSelf:"center",children:[e&&(0,d.jsx)(u,{}),(0,d.jsx)(a.rU,{href:m||"",underline:"none",tapStyle:"compress",onClick:()=>h(),children:(0,d.jsx)(a.xv,{size:"300",weight:"bold",overflow:"normal",children:p})})]}),(0,d.jsx)(a.xu,{"data-test-id":"view-button",marginStart:"auto",children:(0,d.jsx)(a.ZP,{fullWidth:!0,href:m||"",size:"lg",text:n._('View', 'Button that takes the user from a pin to the article the pin is featured on', 'unauth.main_pin.view_featured_in_articles'),onClick:()=>h()})})]})]})}const m=({pinKey:e,...t})=>{const{data:n}=(0,l.k5)(c,e,{type:"pin",useLegacyAdapter:e=>({relatedArticle:e.related_article&&{_id:e.related_article.id,mainImageUrl:e.related_article.main_image_url,title:e.related_article.title,urlPath:e.related_article.url_path}})});return n&&(0,d.jsx)(p,{...t,pin:n})}},969327:(e,t,n)=>{n.d(t,{G6:()=>l,i7:()=>o,oi:()=>i,u$:()=>a,un:()=>s,vU:()=>r});const i=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),a=e=>e?e.includes("Chrome")?i.CHROME:e.includes("Safari")?i.SAFARI:e.includes("Firefox")?i.FIREFOX:e.includes("Opera")?i.OPERA:e.includes("IE")?i.IE:e.includes("Edge")?i.EDGE:i.OTHER:i.OTHER;function l(e){return a(e)===i.SAFARI}function o(e){return a(e)===i.CHROME}function r(e){return a(e)===i.FIREFOX}function s(e){return a(e)===i.EDGE}},865173:(e,t,n)=>{n.d(t,{Z:()=>a,v:()=>i});const i=()=>"undefined"!=typeof navigator&&"getInstalledRelatedApps"in navigator;async function a(){if(!i())return[];try{return await navigator.getInstalledRelatedApps()}catch(e){return[]}}},603801:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294);function a(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function l(){return window.innerWidth}function o(){return window.innerHeight}function r(){return null}function s(){const e=(0,i.useSyncExternalStore)(a,o,r),t=(0,i.useSyncExternalStore)(a,l,r);return null!==e&&null!==t?{height:e,width:t}:null}},770130:(e,t,n)=>{n.d(t,{Bu:()=>h,Dm:()=>r,I:()=>y,NG:()=>p,QP:()=>c,S4:()=>d,Xe:()=>u,_f:()=>m,eT:()=>g,hm:()=>_,yQ:()=>s,ym:()=>f});var i=n(9507);const a=Object.freeze({AFRICAN_AMERICAN_OR_BLACK:"african_american_or_black",BLACK_AFRICAN_DIASPORA:"black_african_diaspora",HISPANIC_OR_LATINX:"hispanic_or_latinx",NATIVE_OR_INDIGENOUS:"native_or_indigenous",ABORIGINAL_OR_INDIGENOUS:"aboriginal_or_indigenous",NATIVE_AMERICAN_OR_ALASKA_NATIVE_OR_INDIGENOUS_PEOPLES:"native_american_or_alaska_native_or_indigenous_peoples",ASIAN_OR_PACIFIC_ISLANDERS:"asian_or_pacific_islanders",ASIAN:"asian",LGBTQ:"lgbtq",MIDDLE_EASTERN:"middle_eastern",TURKISH:"turkish",ROMA:"roma",MIDDLE_EASTERN_TURKISH_ROMA:"middle_eastern_turkish_roma",NORTH_AFRICAN:"north_african",MIDDLE_EASTERN_OR_NORTH_AFRICAN:"middle_eastern_or_north_african",NONE:"none"}),l=Object.freeze({PERSON_OF_COLOR:"person_of_color",LGBTQ:"lgbtq",DISABILITY:"disability",WOMAN:"woman",NONE:"none"}),o=Object.freeze({INVESTED_IN_GOOD:"invested_in_good",ECO_FRIENDLY:"eco_friendly",RESPONSIBLY_SOURCED:"responsibly_sourced",INCLUSIVE:"inclusive",PERSONAL_TOUCH:"personal_touch"}),r=[...Object.keys(a).map((e=>a[e])),...Object.keys(l).map((e=>l[e]))],s=[...Object.keys(o).map((e=>o[e]))],d=3,c=["#EFEFEF","#F8E3D1","#F6F1C1","#DDEEAF","#C9F2EE","#DBD5F4","#EFBCEE"],u={business_diversity_labels:[],created_at:"",disapproval_reasons:[],is_inspirational:!1,review_criteria:[],review_labels:[],updated_at:"",inspirational_badge_selection:{badgeColor:c[0],badgeOptOut:[]},is_eligible_for_storefront_badges:!1,badge_details:[],profile_badges:[]},p="https://help.pinterest.com/article/merchant-details",m="https://help.pinterest.com/business/article/add-merchant-details-to-your-profile";function h({verifiedMerchant:e}){var t,n;const i=null==e?void 0:e.isVerifiedMerchant,a=null==e||null===(t=e.inspirational_signal)||void 0===t?void 0:t.is_inspirational,l=null==e||null===(n=e.inspirational_signal)||void 0===n?void 0:n.is_eligible_for_storefront_badges;return Boolean(i&&a&&l)}function g(e){return e.badge_details?e.badge_details.map((e=>e.id)):[]}function _(e){return(null==e?void 0:e.profile_badges)||[]}function y(e,t,n){return t&&n?t.map((e=>n.find((t=>t.id===e.trim())))).filter(Boolean):[]}function v(e){const t=(0,i.oo)(e);if(!t)return"white";const[n,a,l]=t;return(0,i.DW)(n,a,l)<=i.I?"white":"black"}function f(e){const t=e||c[0];return{backgroundColor:t,color:v(t)}}},572559:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(38823);function a({carouselData:e,images:t,product:n,shouldUnifyImageSizes:a}){var l;return null!=n&&null!==(l=n.additional_images)&&void 0!==l&&l.length?(0,i.Z)(t,n.additional_images,null==e?void 0:e.index,a,n.id):e||void 0}},346190:(e,t,n)=>{function i(e,t=!1){if(!e)return null;if(t){if(e["736x"]&&e["736x"].url)return e["736x"];if(e["564x"]&&e["564x"].url)return e["564x"]}else{if(e["564x"]&&e["564x"].url)return e["564x"];if(e["736x"]&&e["736x"].url)return e["736x"]}return e["474x"]&&e["474x"].url?e["474x"]:e["236x"]&&e["236x"].url?e["236x"]:null}n.d(t,{Z:()=>i})},38823:(e,t,n)=>{n.d(t,{Z:()=>l});const i=["236x","474x","564x","736x"];function a(e){function t(e,{imageKey:t,height:n,width:i}){return e.images&&e.images[t]&&(e={...e,images:{...e.images,[t]:{...e.images[t],height:n,width:i}}}),e}const n=i.map((function(t){const n=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].height||1/0))),i=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].width||1/0)));return{imageKey:t,height:n,width:i}}));return e.map((e=>n.reduce(t,e)))}function l(e,t,n,i,l){const o=[...e?[{images:e}]:[],...(null!=t?t:[]).map((({canonical_images:e,image_signature:t})=>({images:e||void 0,image_signature:t||void 0})))];return{carousel_slots:i?a(o):o,index:n||0,id:l}}},946618:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(739425);const a=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,l=(e,t)=>t?e.substring(t.length).split("/")[0]:e,o=({boardUrl:e,path:t,pinId:n,pinnerUserName:o,query:r,search:s,storyPinDataId:d})=>{var c;if(!t)return"";let u="";switch(t){case"/":case"/homefeed/":return"UserHomefeedResource";case o&&`/${o}/pins/`:return"UserPinsResource";case o&&`/${o}/`:case/\/_activity\//.test(t)&&t:return"UserActivityPinsResource";case/\/_created\//.test(t)&&t:return d?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(t)&&t:return"UserDiscoveredPinsResource";case/\/_shop\//.test(t)&&t:return"StoreFrontFeedResource";case/\/_saved\//.test(t)&&t:return"BoardlessPinsResource";case o&&`/${o}/_shopping_list/`:return"ShoppingListFeedResource";case/\/visual-search\//.test(t)&&t:return"VisualLiveSearchResource";case/\/pin\//.test(t)&&t:u="/pin/";const p=l(t,u);if(n!==p)return`RelatedPinFeedResource_${p}`;break;case/\/search\//.test(t)&&t:if(s){return`SearchResource_${((0,i.mB)(s,{shouldDecode:!1}).q||"").toLowerCase()}`}if(r)return`SearchResource_${encodeURIComponent(r.q||"").toLowerCase()}`;break;case/\/categories\//.test(t)&&t:u="/categories/";return`CategoryFeedResource_${l(t,u)}`;case/\/discover\/topics\//.test(t)&&t:return"CategoryFeedResource";case/\/news_hub\//.test(t)&&t:u="/news_hub/";return`NewsHubDetailsResource_${l(t,u)}`;case/\/_tools\/more-ideas\//.test(t)&&t:return"BoardContentRecommendationResource";case/\/topics\//.test(t)&&t:u="/topics/";return`TopicFeedResource_${l(t,u)}`;case o&&`/${o}/products/`:return"StoreFrontFeedResource";case/\/source\//.test(t)&&t:u="/source/";return`DomainFeedResource_${l(t,u)}`;case/\/explore\//.test(t)&&t:u="/explore/";return`SearchResource_${l(t,u)}`;case e:case!!e&&/\/more_ideas\//.test(t)&&t:return"BoardFeedResource";case e&&t.indexOf(e)>-1&&t:return"BoardSectionPinsResource";case/\/following\//.test(t)&&t:return"FollowingFeedResource";case/\/brand_catalog\//.test(t)&&t:return"BrandCatalogFeedResource";case a.test(t)&&t:return`TodayArticleFeedResource_${(null===(c=t.match(a))||void 0===c?void 0:c[2])||"unknown"}`;case/\/today\//.test(t):return"TodayTabResource";case/\story_feed\//.test(t)&&t:if(s){const{feed_type:e,request_params:t}=(0,i.mB)(s);return`StoryFeedResource_${e}_${t}`}}return""},r=({boardUrl:e,location:t,pinId:n,pinnerUserName:i,previousHistory:a,storyPinDataId:l,trackingParams:r,trackingParamsMap:s={}})=>{if(!n||!r||!t)return;if(!s)return`${null!=r?r:""}~0`;const{pathname:d,search:c,query:u}=t,p=o({boardUrl:e,path:d,pinId:n,pinnerUserName:i,query:u,search:c,storyPinDataId:l,trackingParams:r,trackingParamsMap:s}),m=Object.keys(s);let h;if((d||"").startsWith("/pin/")){const e=m.find((e=>"PinResource"!==e));h=e?s[e]:s.PinResource}else h=s[p];let g;if(!h&&a&&a.length){const t=(e=>{let t=null==e?void 0:e.pathname;return t?(t.match(/\/search\//)&&null!=e&&e.search&&(t+=e.search),t.toLowerCase()):""})(a[a.length-1].location);g=o({boardUrl:e,path:t,pinId:n,pinnerUserName:i,query:u,search:c,storyPinDataId:l,trackingParams:r,trackingParamsMap:s}),h=s[g]}return h||(h=`${r||""}~0`),h}},222443:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(616550),a=n(946618),l=n(525104);function o(){const e=(0,l.S6)(),t=(0,i.useLocation)();return(n,i)=>{let l;const o=e(n);if(null!=i&&i.shouldTrackForPrevLocation){const e=(null==o?void 0:o.tracking_params_map)||{},t=Object.keys(e).find((e=>"PinResource"!==e));o&&(l=t?e[t]:e.PinResource)}else if(o){var r,s;l=(0,a.Z)({boardUrl:null===(r=o.board)||void 0===r?void 0:r.url,location:t,pinId:o.id,pinnerUserName:null===(s=o.pinner)||void 0===s?void 0:s.username,storyPinDataId:o.story_pin_data_id,trackingParams:o.tracking_params,trackingParamsMap:o.tracking_params_map})}return l}}},59089:(e,t,n)=>{function i({isHiddenPin:e,isUnsafePin:t}){return!e&&!t}n.d(t,{Z:()=>i})},9507:(e,t,n)=>{n.d(t,{DW:()=>l,I:()=>a,oo:()=>i,zI:()=>o});const i=e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t&&[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]},a=.18,l=(e,t,n)=>.2126*(e/255)**2.2+.7151*(t/255)**2.2+.0721*(n/255)**2.2,o=e=>{const t=e.replace("#","");return(299*parseInt(t.substr(0,2),16)+587*parseInt(t.substr(2,2),16)+114*parseInt(t.substr(4,2),16))/1e3<155}},496484:(e,t,n)=>{n.d(t,{Z:()=>de});var i=n(883119),a=n(667294),l=n(702664),o=n(473727),r=n(914939),s=n(330325),d=n(281203),c=n(870243),u=n(536042),p=n(785893);const m=({isQuestion:e,name:t,size:n,src:a})=>{const l=(0,u.ZP)();return(0,p.jsxs)(i.xu,{position:"relative",children:[(0,p.jsx)(c.qE,{size:n,src:a,name:t}),e&&(0,p.jsxs)(i.xu,{position:"absolute",right:!0,bottom:!0,marginEnd:-1,marginBottom:-1,width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center",children:[(0,p.jsx)(i.xu,{position:"absolute",children:(0,p.jsx)(i.JO,{icon:"speech",color:"dark",accessibilityLabel:l._('Q and A comment', 'comment.userAvatar.creator.q&aIndicator', 'question mark icon indicator background that comment is Q&A')})}),(0,p.jsx)(i.xu,{position:"absolute",children:(0,p.jsx)(i.JO,{icon:"question-mark",color:"light",size:8,accessibilityLabel:l._('Q and A comment', 'comment.userAvatar.creator.q&aIndicator', 'question mark icon indicator background that comment is Q&A')})})]})]})},h=({color:e,isMarkedHelpful:t})=>{const n=(0,u.ZP)();return(0,p.jsx)(i.JO,{color:t?"brandPrimary":e,accessibilityLabel:n._('Helpful', 'comment.button.helpful', 'mark or unmark comment as helpful'),icon:void 0,size:12,dangerouslySetSvgPath:{__path:"M21 13.5C21 14.604 20.104 15.5 19 15.5C20.104 15.5 21 16.396 21 17.5C21 18.604 20.104 19.5 19 19.5H16.75C17.717 19.5 18.5 20.284 18.5 21.25C18.5 22.216 17.717 23 16.75 23H10.5C6.357 23 3 19.642 3 15.5C3 13.386 3.878 11.479 5.286 10.116C7.357 7.907 8.502 5.034 8.502 2C8.502 0.896 9.396 0 10.502 0C11.605 0 12.502 0.896 12.502 2C12.502 3.906 12.147 5.758 11.504 7.5H19C20.104 7.5 21 8.396 21 9.5C21 10.604 20.104 11.5 19 11.5C20.104 11.5 21 12.396 21 13.5ZM21 13.5C21 14.604 20.104 15.5 19 15.5C20.104 15.5 21 16.396 21 17.5C21 18.604 20.104 19.5 19 19.5H16.75C17.717 19.5 18.5 20.284 18.5 21.25C18.5 22.216 17.717 23 16.75 23H10.5C6.357 23 3 19.642 3 15.5C3 13.386 3.878 11.479 5.286 10.116C7.357 7.907 8.502 5.034 8.502 2C8.502 0.896 9.396 0 10.502 0C11.605 0 12.502 0.896 12.502 2C12.502 3.906 12.147 5.758 11.504 7.5H19C20.104 7.5 21 8.396 21 9.5C21 10.604 20.104 11.5 19 11.5C20.104 11.5 21 12.396 21 13.5Z"},inline:!0})};var g=n(932845),_=n(123228),y=n(388011),v=n(550140),f=n(245410),b=n(63262),x=n(802071),k=n(329689),P=n(421461),S=n(384722),w=n(76008),T=n(952239),I=n(16393),A=n(274796),C=n(613352);const j=({aggregatedPinDataId:e,anchor:t,closeupAttributionId:n,comment:o,dismiss:r,isOpen:s,isReply:d,onEdit:c,onReportTry:m,onShowBlockUserModal:h,parentId:j,pinnerId:E,pinId:R})=>{const L=(0,u.ZP)(),D=(0,l.useDispatch)(),{logContextEvent:F}=(0,y.v)(),{showToast:z}=(0,b.F9)(),{checkExperiment:M}=(0,f.F)(),{anyEnabled:O}=M("web_m10n_business_access_orbac_ga"),{anyEnabled:B}=M("dweb_dynamic_photo_comment_reporting"),{toggleAggregatedCommentHighlight:Z}=(0,w.nf)(),N=(0,g.Z)(),[U,K]=(0,a.useState)(!1);(0,a.useEffect)((()=>{K(s)}),[s,K]);const V=(0,x.Z)(),H=(0,k.Z)(),G=(0,P.Z)(),{reportComment:W}=(0,C.f)(),$=null!=n?n:"",q=o.user.id,Y=V.isAuth&&$===V.id,X="userdiditdata"===o.type,J=(0,S.q6)(V,null!=E?E:"",O?H:{}),Q=(0,S.D3)(V,q,O?H:{}),ee=(0,S.D3)(V,$,O?H:{}),te=V.isAuth&&(o.tagged_users||[]).filter((({id:e})=>e===V.id)).length>0,ne=e=>()=>{(async e=>{try{await Z({aggregatedCommentId:o.id,pinId:R,isHighlighted:e}),F({event_type:101,component:13712,element:e?12475:12474,view_type:220,aux_data:{creator_id:q}}),z((({hideToast:t})=>(0,p.jsx)(v.ZP,{primaryAction:{accessibilityLabel:L._('Undo comment highlight or comment highlight removal', 'unifiedComment.unifiedCommentContainer.commentHighlightToast.a11yUndoButton', 'Undo comment highlight or comment highlight removal'),label:L._('Undo', 'unifiedComment.unifiedCommentContainer.commentHighlightToast.undoButton', 'Undo comment highlight or comment highlight removal'),size:"lg",onClick:()=>{Z({aggregatedCommentId:o.id,pinId:R,isHighlighted:!e})}},onHide:t,text:e?L._('Highlight removed', 'unifiedComment.unifiedCommentContainer.commentHighlightRemovalToast', 'Toast that tells user that they have successfully removed a comment highlight.'):L._('Comment highlighted', 'unifiedComment.unifiedCommentContainer.commentHighlightToast', 'Toast that tells user that they have successfully highlighted a comment.')})))}catch(t){t.message&&z((({hideToast:e})=>(0,p.jsx)(v.ZP,{onHide:e,text:t.message,type:"error"})))}})(e)},ie=e=>()=>{e(),r()};if(!s)return null;const ae={highlight:L._('Highlight', 'Highlight a community post or comment', 'Highlight a community post or comment'),removeHighlight:L._('Remove highlight', 'Remove highlight for a community post or comment', 'Remove highlight for a community post or comment'),edit:L._('Edit', 'Edit a community post or comment', 'Edit a community post or comment'),delete:L._('Delete', 'Delete a community post or comment', 'Delete a community post or comment'),reportContent:L._('Report this content', 'Report a community post or comment', 'Report a community post or comment'),removeMention:L._('Remove @mention', 'closeup.activityItem.removeMention', 'Button that allows user to remove their @mention in a comment on a pin'),reportForNetzDG:L._('Report comment for NetzDG', 'commentOverflowMenu.option.reportForNetzDG', 'Report comment - NetzDG'),blockUser:L._('Block user', 'closeup.activityItem.blockUser', 'Block comment author')},le=new i.Ry(1);return U&&(0,p.jsx)(i.xu,{onFocus:e=>e.stopPropagation(),children:(0,p.jsx)(i.Lt,{id:"comment-overflow-popover",anchor:t,idealDirection:"down",onDismiss:r,isWithinFixedContainer:!1,zIndex:le,children:V.isAuth?(0,p.jsxs)(a.Fragment,{children:[!d&&Y&&!o.highlighted_by_pin_owner&&!X&&(0,p.jsx)(i.Lt.Item,{onSelect:ie(ne(!1)),option:{label:ae.highlight,value:ae.highlight},dataTestId:"dropdown-item-highlight"}),!d&&Y&&o.highlighted_by_pin_owner&&!X&&(0,p.jsx)(i.Lt.Item,{onSelect:ie(ne(!0)),option:{label:ae.removeHighlight,value:ae.removeHighlight},dataTestId:"dropdown-item-remove-highlight"}),Q&&(0,p.jsx)(i.Lt.Item,{onSelect:ie(c),option:{label:ae.edit,value:ae.edit},dataTestId:"dropdown-item-edit"}),(Q||ee)&&(0,p.jsx)(i.Lt.Item,{onSelect:ie((()=>{"aggregatedcomment"===o.type?N({aggregatedCommentId:o.id,aggregatedPinId:null!=e?e:"",feedType:d?"aggregatedComments":A.Z.UNIFIED_COMMENTS,orbacSubjectId:G,parentId:j,type:d?_.Rv.REPLY_TO_AGGREGATED:_.Rv.TOP,updateParentCommentCount:!0,pinId:R}):D((0,T.lg)({aggregatedPinDataId:null!=e?e:"",feedType:A.Z.UNIFIED_COMMENTS,id:o.id,isOwnedByMe:!0,pinId:null!=R?R:"",username:o.user.username,updateParentDidItCount:!0}))})),option:{label:ae.delete,value:ae.delete},dataTestId:"dropdown-item-delete"}),!Q&&!J&&(0,p.jsx)(i.Lt.Item,{onSelect:ie((()=>{"aggregatedcomment"===o.type||B?W(o.id,j,o.type):"userdiditdata"===o.type&&m()})),option:{label:ae.reportContent,value:ae.reportContent},dataTestId:"dropdown-item-report"}),te&&(0,p.jsx)(i.Lt.Item,{onSelect:ie((()=>{D((0,I.Q)(o.id)),z((({hideToast:e})=>(0,p.jsx)(v.ZP,{onHide:e,text:L._('@mention removed!', 'unifiedComment.unifiedCommentContainer.mentionRemovalToast', 'Toast that tells user that they have successfully removed the @mention of them in the comment')})))})),option:{label:ae.removeMention,value:ae.removeMention},dataTestId:"dropdown-item-remove-mention"}),!Q&&(0,p.jsx)(i.Lt.Item,{onSelect:ie((()=>{K(!1),h(),F({component:14349,event_type:9406})})),option:{label:ae.blockUser,value:ae.blockUser},dataTestId:"dropdown-item-block-user"})]}):(0,p.jsx)(i.Lt.Link,{href:"https://policy.pinterest.com/de/netzdg/",option:{label:ae.reportForNetzDG,value:ae.reportForNetzDG},dataTestId:"dropdown-item-report-for-netzdg"})})})};var E=n(639210),R=n.n(E),L=n(118949),D=n.n(L);const F={containerStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)"},helpfulLabelStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)",right:"50%",transform:"translateX(50%)"},helpfulStyle:{backgroundImage:`url(${R()})`},lovedLabelStyle:{boxShadow:"0 0px 8px rgba(0, 0, 0, 0.1)",left:"50%",transform:"translateX(-50%)"},lovedStyle:{backgroundImage:`url(${D()})`}},z=({setHelpful:e,setLoved:t})=>{const n=(0,u.ZP)(),[l,o]=(0,a.useState)(!1),[r,s]=(0,a.useState)(!1),d=e=>()=>{o(e)},c=e=>()=>{s(e)};return(0,p.jsxs)(i.xu,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:F.containerStyle},"data-test-id":"comment-reaction-tray-background",display:"flex",height:25,justifyContent:"center",padding:1,position:"relative",rounding:"pill",width:43,children:[(0,p.jsx)(i.iP,{fullHeight:!0,onMouseDown:t,onMouseEnter:c(!0),onMouseLeave:c(!1),children:(0,p.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:F.lovedStyle},"data-test-id":"comment-reaction-tray-loved-emoji",height:18,marginBottom:r?3:1,position:"absolute",width:18,children:r&&(0,p.jsx)(i.xu,{top:!0,color:"selected",dangerouslySetInlineStyle:{__style:F.lovedLabelStyle},marginTop:-7,paddingX:1,paddingY:1,position:"absolute",rounding:"pill",children:(0,p.jsx)(i.xv,{color:"inverse",overflow:"noWrap",size:"100",weight:"bold",children:n._('Love', 'comment.button.loved', 'loved reaction')})})})}),(0,p.jsx)(i.iP,{fullHeight:!0,onMouseDown:e,onMouseEnter:d(!0),onMouseLeave:d(!1),children:(0,p.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:F.helpfulStyle},"data-test-id":"comment-reaction-tray-helpful-emoji",height:18,marginBottom:l?3:1,position:"absolute",width:18,children:l&&(0,p.jsx)(i.xu,{top:!0,color:"selected",dangerouslySetInlineStyle:{__style:F.helpfulLabelStyle},marginTop:-7,paddingX:1,paddingY:1,position:"absolute",rounding:"pill",children:(0,p.jsx)(i.xv,{color:"inverse",overflow:"noWrap",size:"100",weight:"bold",children:n._('Helpful', 'comment.button.helpful', 'helpful reaction')})})})})]})};var M=n(746985),O=n.n(M),B=n(55997),Z=n.n(B);const N={helpfulStyle:{backgroundImage:`url(${O()})`},lovedStyle:{backgroundImage:`url(${Z()})`}},U=({response:e})=>{const t=14===e.reaction_type,n=1===e.reaction_type,a=e.user.is_private_profile?e.user.first_name:e.user.full_name;return(0,p.jsxs)(i.kC,{alignItems:"center",children:[(0,p.jsx)(i.iP,{role:"link",href:`/${e.user.username}/`,children:(0,p.jsxs)(i.kC,{alignItems:"center",children:[(0,p.jsx)(i.xu,{maxWidth:40,children:(0,p.jsx)(c.qE,{outline:!0,accessibilityLabel:"",name:a,size:"sm",src:e.user.image_medium_url})}),(0,p.jsx)(i.xu,{marginStart:2,maxWidth:80,children:(0,p.jsx)(i.xv,{color:"inverse",size:"100",weight:"bold",children:a})})]})}),(0,p.jsxs)(i.xu,{alignContent:"end",display:"flex",padding:2,children:[n&&(0,p.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:N.lovedStyle},"data-test-id":"comment-reaction-tray-loved-emoji",height:16,width:16}),t&&(0,p.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:N.helpfulStyle},"data-test-id":"comment-reaction-tray-helpful-emoji",height:16,width:16})]})]})};var K=n(819079);const V=["userreaction.id","userreaction.reaction_type","userreaction.user()","user.first_name","user.full_name","user.id","user.image_medium_url","user.is_private_profile","user.username"],H=({commentId:e,isMarkedHelpfulByMe:t,isLovedByMe:n})=>{var l,o;const r=(0,x.Z)(),s=(0,K.Z)({name:"ApiResource",options:{url:`/v3/aggregated_comments/${e}/reacted_by/`,field_sets:V}});let d=null===(l=s.data)||void 0===l?void 0:l.filter((e=>e.user.id!==r.id));if((n||t)&&d){d=[{id:e,reaction_type:n?1:14,user:{first_name:r.isAuth?r.firstName:"",full_name:r.isAuth?r.fullName:"",id:r.isAuth?r.id:"",image_medium_url:r.isAuth?r.imageMediumUrl:"",is_private_profile:!!r.isAuth&&!!r.isPrivateProfile,username:r.isAuth?r.username:""}},...d]}const c=(0,a.useRef)(null);return(0,a.useEffect)((()=>{const{current:e}=c,t=()=>{s.isFetching||(s.isAtEnd?null==e||e.removeEventListener("scroll",t):s.fetchMore())};return null==e||e.addEventListener("scroll",t),()=>{null==e||e.removeEventListener("scroll",t)}}),[s]),(0,p.jsx)(i.xu,{color:"selected",maxHeight:140,overflow:"scroll",ref:c,rounding:2,width:180,children:null===(o=d)||void 0===o?void 0:o.map((e=>(0,p.jsx)(i.xu,{"data-test-id":"reaction-list-single-user",margin:3,children:(0,p.jsx)(U,{response:e})},e.id)))})};var G=n(154522);const W=({commentId:e,dismissReactionList:t,helpfulCount:n,isMarkedHelpfulByMe:l,isLovedByMe:o,isReactionListOpen:r,lovedCount:s,onReactionCountHover:d,onToggleHelpful:c,onToggleLove:m})=>{const h=(0,u.ZP)(),g=(0,a.useRef)(),[_,y]=(0,a.useState)(!1);let v=!1,f=(s||0)+(n||0);l&&o&&(f-=1);const b=e=>()=>{y(e)},x=()=>{v=!0,d()},k=()=>{v=!1,setTimeout((()=>{v||t()}),1e3)},P=(0,p.jsx)(i.xu,{"data-test-id":"comment-reaction-container-entry-point",children:_?(0,p.jsx)(i.iP,{onMouseLeave:b(!1),onMouseDown:b(!1),children:(0,p.jsx)(z,{setHelpful:c(!0),setLoved:m(!0)})}):(0,p.jsx)(i.iP,{onMouseEnter:b(!0),children:(0,p.jsx)(i.JO,{accessibilityLabel:h._('React', 'comment.actionbar.react', 'accessibility label entry point to react to a comment'),color:"subtle",icon:"heart-outline",size:16})})});return(0,p.jsxs)(i.kC,{alignItems:"center",gap:{row:1,column:0},children:[l||o?(0,p.jsx)(i.iP,{onMouseDown:()=>{c(!1)(),m(!1)()},children:(0,p.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${o?Z():O()})`}},"data-test-id":o?"comment-reaction-container-loved-emoji":"comment-reaction-container-helpful-emoji",height:16,width:16})}):P,f>0&&(0,p.jsxs)(a.Fragment,{children:[(0,p.jsx)(i.iP,{onMouseEnter:x,onMouseLeave:k,children:(0,p.jsx)(i.xu,{"data-test-id":"comment-reaction-container-reaction-count",ref:g,children:(0,p.jsx)(i.xv,{color:"subtle",inline:!0,size:"200",weight:"bold",children:f})})}),r&&(0,p.jsx)(i.mh,{zIndex:G.lI,children:(0,p.jsx)(i.J2,{anchor:g.current,idealDirection:"down",onDismiss:t,positionRelativeToAnchor:!1,children:(0,p.jsx)(i.iP,{onMouseEnter:x,onMouseLeave:k,children:(0,p.jsx)(H,{commentId:e,isMarkedHelpfulByMe:l,isLovedByMe:o})})})})]})]})};var $=n(394366),q=n(630089);function Y(e){const{featuredCommentId:t,parentId:n,parentType:o,isDesktop:r,isLoading:s,isReadOnly:d,openOverflowMenu:c,replyingToCommentId:m,toggleHelpful:h,toggleLike:g,toggleReplyComposer:_,isORBACProfileManager:y,isVideo:v,storyPinDataId:f,pinId:b,closeupAttributionId:x,aggregatedPinDataId:k,closeupAttributionUsername:P,pinnerId:S,reactionListCommentId:T,showReactionListForComment:I,viewParameter:C}=e,j=(0,u.ZP)(),E=(0,w.lV)(),R=(0,l.useSelector)((({feeds:e})=>{const t=e[`${A.Z.AGGREGATED_COMMENT_REPLIES}:${n}`]||[],i=e[`${A.Z.AGGREGATED_COMMENTS}:${n}`]||[];return t.concat(i).reduceRight(((e,{id:t})=>{const n=E[t];return n?[...e,n]:e}),[])})),[L,D]=(0,a.useState)(1),F=L===R.length;return(0,p.jsxs)(a.Fragment,{children:[R.length>1&&(0,p.jsx)(i.iP,{onTap:()=>{D(F?0:R.length)},children:(0,p.jsxs)(i.xu,{marginBottom:4,children:[(0,p.jsx)(i.xu,{display:"inlineBlock",marginEnd:2,children:(0,p.jsx)(i.xv,{color:"subtle",size:"200",weight:"bold",children:""})}),(0,p.jsx)(i.xv,{inline:!0,color:"subtle",size:"100",weight:"bold",children:F?j._('Hide replies', 'comment.button.hideReplies', 'hide comment replies'):(0,q.nk)(j.ngettext('View {{ commentCount }} reply', 'View {{ commentCount }} replies', R.length, 'comment.button.showReplies', 'show comment replies'),{commentCount:R.length})})]})}),(0,p.jsx)(de,{comments:R.slice(0,L),commentsDisabled:!1,featuredCommentId:t,gapSize:2,isDesktop:r,isLoading:s,isReadOnly:d,openOverflowMenu:c,toggleReplyComposer:_,parentId:n,parentType:o,replyingToCommentId:m,toggleHelpful:h,toggleLike:g,userAvatarSize:"sm",isORBACProfileManager:y,isVideo:v,storyPinDataId:f,pinId:b,closeupAttributionId:x,aggregatedPinDataId:k,closeupAttributionUsername:P,pinnerId:S,showReactionListForComment:I,reactionListCommentId:T,viewParameter:C})]})}var X=n(606900),J=n(62152),Q=n(315219),ee=n(282802),te=n(575794),ne=n(738318),ie=n(94339),ae=n(953595),le=n(446191);const oe=25;function re(e){var t,n,c,g;const{aggregatedPinDataId:P,closeupAttributionId:I,closeupAttributionUsername:A,comment:C,featuredCommentId:E,isDesktop:R,isReadOnly:L,isVideo:D,openOverflowMenu:F,toggleReplyComposer:z,parentId:M,parentType:O=ne.o.pin,pinId:B,storyPinDataId:Z,replyingToCommentId:N,showReactionListForComment:U,toggleHelpful:K,toggleLike:V,userAvatarSize:H,isORBACProfileManager:G,pinnerId:re,reactionListCommentId:se,viewParameter:de}=e,{user:{id:ce,first_name:ue,id:pe,image_medium_url:me,username:he},id:ge,image_signatures:_e,is_translatable:ye,comment_count:ve,helpful_count:fe,tags:be=[]}=C,[xe,ke]=(0,a.useState)(!1),Pe=xe&&C.translatedText||C.text,Se=!ye||""===C.translatedText;let we=!1,Te=0,Ie=!1;const Ae=!!C.marked_helpful_by_me;let Ce;const je=!L,Ee=[C.user];let Re="",Le=new Date;"aggregatedcomment"===C.type?(we=C.highlighted_by_pin_owner,Te=C.reaction_counts[1],Ie=C.reaction_by_me>0,Ee.push(...C.tagged_users),Re=`${he} ${Pe}`,Le=new Date(C.created_at)):(Ce=(C.images[0]||{})["150x150"],Re=`${he} ${C.details}`,Le=new Date(C.done_at));const De=(0,u.ZP)(),Fe=(0,x.Z)(),{logContextEvent:ze}=(0,y.v)(),{country:Me}=(0,ee.B)(),{checkExperiment:Oe}=(0,f.F)(),{showToast:Be}=(0,b.F9)(),Ze=(0,l.useDispatch)(),Ne=(0,a.useRef)(),{anyEnabled:Ue}=Oe("web_m10n_business_access_orbac_ga"),Ke=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","EU"].includes(Me),Ve=1===C.comment_tag,He=(0,k.Z)(),Ge=Ue?(0,S.lJ)(Fe,He):"",{nativeEngagementsHiddenForUser:We}=(0,ie.G)(),{aggregatedCommentsHiddenForUser:$e,translateAggregatedComment:qe,updateAggregatedComment:Ye}=(0,w.nf)(),Xe=(0,r.Z)(),Je="userdiditdata"===C.type,Qe=(0,J.Z)(),et=ye&&Oe("dweb_comment_translations").anyEnabled,tt=Je&&Oe("dweb_photo_commenting").anyEnabled,nt=Je&&R&&Oe("dweb_photo_comment_replies").anyEnabled,it=Je&&!R&&Oe("mweb_photo_comment_replies").anyEnabled,at=Je&&Oe("mweb_photo_commenting").anyEnabled,lt=nt||it,ot=[{offset:0,length:he.length,color:"darkGray"},...be.map((e=>({...e,offset:(e.offset||0)+he.length+1,color:"shopping"})))],rt={SHOW_TRANSLATION:De._('Show translation', 'comment.translateButton.showTranslation', 'text for translation button when translation is available'),TRANSLATING:De._('Translating...', 'comment.translateButton.translating', 'text for translation button while translating'),SHOW_ORIGINAL:De._('Show original', 'comment.translateButton.showOriginal', 'text for translation button after translating')},st=(0,a.useRef)(rt.SHOW_TRANSLATION),[dt,ct]=(0,a.useState)(!1),[ut,pt]=(0,a.useState)(!1),[mt,ht]=(0,a.useState)(!1),[gt,_t]=(0,a.useState)(!1),[yt,vt]=(0,a.useState)(!1),[ft,bt]=(0,a.useState)(!1),[xt,kt]=(0,a.useState)(_.A9.NONE),Pt=e=>()=>{pt(e)};(0,a.useEffect)((()=>{et&&ze({event_type:10416,view_type:3,view_parameter:de,component:"pin"===O?13696:13697})}),[ze,O,et,de]),(0,a.useEffect)((()=>{ve>0&&Ze((0,te.U)("aggregatedcomment"===C.type?"AggregatedCommentReplyFeedResource":"DidItCommentsResource",{options:{isUnifiedComment:!0,objectId:ge,redux_normalize_feed:!0}}))}),[C.type,ge]);const St=O.toLowerCase()===ne.o.aggregatedComment.toLowerCase()||O.toLowerCase()===ne.n.didIt.toLowerCase(),wt=Object.values(ne.n).includes(O.toLowerCase()),Tt=C.user.first_name||"",It=e=>()=>{ct(e),bt(e),e||ze({component:14349,event_type:9408})},At=e=>()=>{vt(!e)},Ct=()=>{kt(_.A9.NONE)};(0,a.useEffect)((()=>{xe&&Se&&(ke(!xe),Be((({hideToast:e})=>(0,p.jsx)(v.ZP,{onHide:e,text:De._('Error - couldn\'t translate', 'comment.couldNotTranslate.toast', 'error toast that shows after unsuccessful translation'),type:"error"}))))}),[xe,Se]),st.current=xe?C.translatedText?rt.SHOW_ORIGINAL:rt.TRANSLATING:rt.SHOW_TRANSLATION;const jt=Ce&&(0,p.jsx)(i.xu,{marginTop:1,marginBottom:!R&&at?2:4,children:(0,p.jsx)(i.zd,{width:150,height:150,rounding:2,wash:!0,children:(0,p.jsx)(i.Ee,{alt:null!==(t=Ce.url)&&void 0!==t?t:"",src:null!==(n=Ce.url)&&void 0!==n?n:"",color:"#efefef",naturalWidth:null!==(c=Ce.width)&&void 0!==c?c:1,naturalHeight:null!==(g=Ce.height)&&void 0!==g?g:1},Ce.url)})});return(0,p.jsxs)(a.Fragment,{children:[(0,p.jsx)(i.$j,{show:mt,accessibilityLabel:"Loading comment"}),!ut&&!mt&&(0,p.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,p.jsx)(i.xu,{marginEnd:2,children:(0,p.jsx)(o.rU,{to:`/${he}/`,children:(0,p.jsx)(m,{isQuestion:Ve,name:ue||he||"",size:H,src:null!=me?me:""})})}),(0,p.jsxs)(i.kC,{flex:"grow",justifyContent:"start",direction:"column",children:[(0,p.jsxs)(i.kC,{justifyContent:"between",children:[(0,p.jsx)(i.kC.Item,{minWidth:0,children:(0,p.jsxs)(i.kC,{direction:"column",children:[!R&&at&&jt,(0,p.jsx)(X.Z,{isFirstTaggedUserAuthor:!0,shouldShowFirstNameOnly:!0,taggedUsers:Ee,tags:ot,text:Re}),(R||!R&&!at)&&jt,et&&(0,p.jsx)(i.xu,{marginTop:2,marginBottom:2,children:(0,p.jsx)(i.iP,{onTap:()=>(xe||C.translatedText||qe(C.id),xe||st.current!==rt.SHOW_TRANSLATION?xe&&st.current===rt.SHOW_ORIGINAL&&ze({event_type:10418,view_type:3,view_parameter:de,component:"pin"===O?13696:13697}):ze({event_type:10417,view_type:3,view_parameter:de,component:"pin"===O?13696:13697}),void ke(!xe)),children:(0,p.jsx)(i.xv,{color:"subtle",size:"300",weight:"bold",children:st.current})})})]})}),E===ge&&(0,p.jsx)(i.xu,{alignSelf:"center",color:"primary",height:8,rounding:"pill",minWidth:8})]}),we&&(0,p.jsx)(i.xu,{marginTop:4,marginBottom:3,children:(0,p.jsx)(i.xv,{size:"100",children:(0,q.nk)(De._('Highlighted by @{{ closeupAttributionUsername }}', 'comment.highlighted.label', 'label on comment that has been highlighted by the Pin creator'),{closeupAttributionUsername:A})})}),(je||Ke)&&(0,p.jsxs)(i.xu,{alignItems:"center",display:"flex",height:oe,justifyContent:"between",position:"relative",children:[(0,p.jsxs)(i.kC,{alignItems:"center",gap:{row:5,column:0},children:[!L&&(0,p.jsx)(i.xv,{color:"subtle",size:"200",children:Qe(Le,!0)}),!L&&(!G||Ue)&&(!Je||lt)&&(0,p.jsx)(i.iP,{onTap:()=>{z&&z(C,M,O)},children:(0,p.jsx)(i.xv,{color:"subtle",size:"200",weight:"bold",children:De._('Reply', 'comment.button.reply', 'entry point to reply to comment')})}),!L&&!Je&&!G&&(R?(0,p.jsx)(W,{commentId:ge,dismissReactionList:()=>{U(void 0)},helpfulCount:fe,isMarkedHelpfulByMe:Ae,isLovedByMe:Ie,lovedCount:Te,onReactionCountHover:()=>{U(ge),ze({event_type:9906,component:"pin"===O?13696:13697,view_type:3,view_parameter:de})},onToggleHelpful:e=>()=>{Ae!==e&&K(ge,!e)()},onToggleLove:e=>()=>{Ie!==e&&V(ge,!e)()},isReactionListOpen:se===ge}):(0,p.jsxs)(i.xu,{display:"flex",alignItems:"center","data-test-id":"reactions-likeWithCountButton",children:[(0,p.jsx)(i.hU,{accessibilityLabel:De._('Like', 'comment.button.like', 'like or unlike comment'),icon:"heart",iconColor:Ie?"red":"gray",size:"xs",onClick:V(ge,Ie)}),Te>0&&(0,p.jsx)(i.xv,{color:"subtle",size:"100",weight:"bold",children:Te})]})),!(Fe.id===pe&&Ve)&&(!G||Ue)&&(0,p.jsx)(i.xu,{ref:Ne,children:(0,p.jsx)(i.hU,{accessibilityLabel:De._('More', 'comment.button.more', 'see more options for comment'),icon:"ellipsis",iconColor:"gray",size:"xs",onClick:()=>{R?ct(!dt):F&&F(C)}})})]}),!L&&!Je&&!G&&!R&&(0,p.jsx)(i.xu,{children:(0,p.jsx)(i.iP,{fullWidth:!1,onTap:K(ge,Ae),children:(0,p.jsxs)(i.kC,{height:"100%",alignItems:"center",gap:{row:1,column:0},children:[(0,p.jsx)(h,{color:"subtle",isMarkedHelpful:Ae}),(0,p.jsx)(i.xv,{color:"subtle",size:"200",weight:"bold",children:De._('Helpful', 'comment.button.helpful', 'mark or unmark comment as helpful')}),fe>0&&(0,p.jsx)(i.xv,{color:"subtle",size:"100",weight:"bold",children:fe})]})})})]})]})]}),R&&(0,p.jsxs)(a.Fragment,{children:[ut&&(0,p.jsx)(i.xu,{marginTop:3,children:(0,p.jsx)($.Z,{commentWarningModalState:xt,dismissCommentWarningModal:Ct,initialText:"aggregatedcomment"===C.type?C.text:C.details,initialTags:C.tags,isReplyEditor:wt,onAddItem:async({contentMarkdown:e,force:t,tags:n})=>{ht(!0);try{tt?await Ze((0,T.IU)({id:C.id,details:e,pinId:null!=B?B:"",image_signatures:null!=_e?_e:[]})):await Ye({commentId:C.id,force:t,orbacSubjectId:Ge,tags:n,text:e})}catch(i){if([Q.ky,Q.LJ].includes(i.code)&&R)return kt(i.code===Q.ky?_.A9.WARNING:_.A9.BLOCK),ht(!1),!1}return pt(!1),ht(!1),!0},onCancelItem:Pt(!1),objectType:ne.o.aggregatedComment,postedPhoto:Ce,showCommentComposer:!0,statusType:"textInFlightNested",viewParameter:de})}),N===ge&&(0,p.jsx)(i.xu,{marginTop:3,marginStart:St?0:12,children:(0,p.jsx)($.Z,{commentWarningModalState:xt,dismissCommentWarningModal:Ct,initialText:St?`${Tt} `:"",initialTags:St?[{offset:0,object_id:ce,length:Tt.length,tag_type:1}]:[],isReplyEditor:wt,onAddItem:async({contentMarkdown:e,force:t,tags:n})=>{let i,a;_t(!0);let l=C.id;if(St&&(i=O.toLowerCase()===ne.n.didIt,l=M,a=C.id),l)try{await Xe({force:t,fromUnifiedComment:!0,objectType:Je||i?ne.o.didIt:ne.o.aggregatedComment,objectId:l,orbacSubjectId:Ge,tags:n,text:e,replyToCommentId:a})}catch(o){if([Q.ky,Q.LJ].includes(o.code)&&R)return kt(o.code===Q.ky?_.A9.WARNING:_.A9.BLOCK),_t(!1),!1}return z&&z(void 0),_t(!1),!0},onCancelItem:()=>{z&&z()},objectType:ne.o.aggregatedComment,showCommentComposer:!0,statusType:"textInFlightNested",viewParameter:de})})]}),(ve>0||gt)&&(0,p.jsx)(i.xu,{marginStart:12,marginTop:4,children:(0,p.jsx)(Y,{featuredCommentId:E,isDesktop:R,isLoading:gt,isReadOnly:L,parentId:ge,parentType:C.type,replyingToCommentId:N,toggleReplyComposer:z,openOverflowMenu:F,toggleHelpful:K,toggleLike:V,isORBACProfileManager:G,pinId:B,closeupAttributionId:I,isVideo:D,storyPinDataId:Z,aggregatedPinDataId:P,closeupAttributionUsername:A,pinnerId:re,showReactionListForComment:U,reactionListCommentId:se,viewParameter:de})}),R&&(!L||Ke)&&(0,p.jsx)(j,{anchor:Ne.current,comment:C,dismiss:()=>{ct(!1)},isOpen:dt,isReply:St,onEdit:Pt(!0),onReportTry:At(!1),onShowBlockUserModal:It(!0),parentId:M,closeupAttributionId:I,pinnerId:re,pinId:B,aggregatedPinDataId:P}),yt&&(0,p.jsx)(s.N,{children:(0,p.jsx)(d.Z,{aggregatedPinDataId:P,didItDataId:ge,onClose:At,pinId:null!=B?B:"",username:he,users:[C.user]})}),ft&&(0,p.jsx)(ae.Z,{firstName:null!=ue?ue:"",onBlockUser:()=>{Ze((0,le.Ge)({id:ce,orbacSubjectId:Ge,blockSource:"comment",blockContext:ge})),$e(ce),We(ce),ze({event_type:101,component:13712,element:87,view_type:220,aux_data:{creator_id:Fe.isAuth?Fe.id:null}}),ze({component:14349,event_type:9407}),bt(!1),Be((({hideToast:e})=>(0,p.jsx)(v.ZP,{onHide:e,text:(0,q.nk)(De._('You\'ve blocked {{ username }}', 'comment.blockAuthor.toast', 'confirmation toast that shows after user blocks comment author'),{username:he}).join("")})))},onClearModal:It(!1)})]})}var se=n(833122);function de(e){const{aggregatedPinDataId:t,comments:n,commentsDisabled:a,featuredCommentId:l,gapSize:o=6,isDesktop:r,isLoaded:s=!1,isLoading:d=!1,isReadOnly:c,openOverflowMenu:m,toggleReplyComposer:h,parentId:g,parentType:_,replyingToCommentId:y,toggleHelpful:v,toggleLike:b,userAvatarSize:k,isORBACProfileManager:P,isVideo:S,storyPinDataId:w,pinId:T,closeupAttributionId:I,closeupAttributionUsername:A,pinnerId:C,showReactionListForComment:j,reactionListCommentId:E,viewParameter:R}=e,L=(0,u.ZP)(),{isAuth:D}=(0,x.Z)(),{checkExperiment:F}=(0,f.F)(),z=!D&&r&&F("web_unauth_comment_upsell_copy").anyEnabled;let M;return M=w?"story":S?"video":"pin",a?(0,p.jsx)(i.xu,{alignSelf:"center",width:"100%","data-test-id":"comments-disabled-label",children:(0,p.jsx)(i.xv,{align:r?"start":"center",color:"subtle",children:L._('Comments are turned off for this Pin', 'commentThread.disabledState.message', 'Comments are turned off or disabled for this pin')})}):n.length>0?(0,p.jsxs)(i.kC,{dataTestId:"aggregated-comment-list",direction:"column",gap:{row:0,column:o},maxHeight:"100%",width:"100%",children:[n.map(((e,n)=>(0,p.jsx)(se.F,{impressionAuxFields:{commentId:e.id,pinId:T,pinOwnerUserId:I,pinType:M,parentId:g,parentType:_,commentType:"aggregatedComment"},componentType:"pin"===_?13696:13697,impressionType:"Comment",loggingId:e.id,slotIndex:n,viewType:r?3:98,children:({impressionTrackerRef:n})=>(0,p.jsx)(i.xu,{ref:n,"data-test-id":"commentThread-comment",children:(0,p.jsx)(re,{comment:e,isDesktop:r,featuredCommentId:l,isReadOnly:c,parentId:g,parentType:_,openOverflowMenu:m,replyingToCommentId:y,toggleReplyComposer:h,toggleHelpful:v,toggleLike:b,userAvatarSize:k,isORBACProfileManager:P,aggregatedPinDataId:t,closeupAttributionUsername:A,closeupAttributionId:I,pinId:T,storyPinDataId:w,isVideo:S,pinnerId:C,showReactionListForComment:j,reactionListCommentId:E,viewParameter:R})})},e.id))),(0,p.jsx)(i.$j,{accessibilityLabel:L._('Comments loading', ' - ', ' -- '),show:d})]}):(0,p.jsxs)(i.xu,{alignSelf:"center",width:"100%",children:[(0,p.jsx)(i.$j,{accessibilityLabel:L._('Comments loading', ' - ', ' -- '),show:d}),s&&(D||z)&&(0,p.jsx)(i.xv,{align:r?"start":"center",color:"subtle",children:L._('No comments yet! Add one to start the conversation.', 'commentThread.emptyState.message', 'comment thread empty state message')})]})}},394366:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),a=n(497088),l=n(785893);const o=(0,i.lazy)((()=>n.e(43231).then(n.bind(n,243231))));function r(e){return(0,l.jsx)(a.Z,{fallback:null,children:(0,l.jsx)(o,{...e})})}},606900:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),a=n(785893);const l=({isFirstTaggedUserAuthor:e,shouldShowFirstNameOnly:t,tags:n,taggedUsers:l,text:o})=>{const r=(e,t)=>(0,a.jsx)(i.xv,{inline:!0,overflow:"normal",children:e},t);return(0,a.jsx)("span",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:(()=>{if(!n.length||!l||n.length!==l.length)return r(o,"1");let s=0,d=[];return n.forEach(((n,c)=>{const u=o.substring(s,n.offset);s=n.offset+n.length;const p=o.substring(n.offset,s);d=d.concat(r(u,`${c}a`)).concat(((n,o,r,s)=>(0,a.jsx)(i.xv,{color:n,inline:!0,weight:"bold",overflow:"normal",children:(0,a.jsx)(i.rU,{href:`/${l[r].username}`,display:"inlineBlock",underline:"hover",children:t||0===r&&e?l[r].first_name||l[r].username[0]:o})},s))(n.color,p,c,`${c}b`))})),d=d.concat(r(o.substring(s),"2")),(0,a.jsx)(i.xv,{inline:!0,overflow:"normal",children:d})})()})}},123228:(e,t,n)=>{n.d(t,{A9:()=>s,LH:()=>a,Rv:()=>l,TJ:()=>o,iB:()=>i,pW:()=>r});const i=48,a=i+8,l=Object.freeze({TOP:0,REPLY_TO_TRIED:1,REPLY_TO_AGGREGATED:2}),o="comment_featured_ids",r="did_it_featured_ids",s={NONE:"none",WARNING:"warning",BLOCK:"block"}},560954:(e,t,n)=>{n.d(t,{Z:()=>m,w:()=>h});var i=n(630089);const a=e=>e._('{{ first }}', 'Generic message that lists 1 item', 'Generic message that lists 1 item (ex: Stevie)'),l=e=>e._('{{ first }} and {{ second }}', 'Generic message that lists 2 items', 'Generic message that lists 2 items (ex: Stevie and Michael)'),o=e=>e._('{{ first }}, {{ second }} and {{ third }}', 'Generic message that lists 3 items', 'Generic message that lists 3 items (ex: Stevie, Michael and Cyndi)'),r=e=>e._('{{ first }}, {{ second }}, {{ third }} and {{ fourth }}', 'Generic message that lists 4 items', 'Generic message that lists 4 items (ex: Stevie, Michael, Cyndi and Bob)'),s=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}', 'Generic message that lists 5 items', 'Generic message that lists 5 items (ex: Stevie, Michael, Cyndi, Bob and Bruce)'),d=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}', 'Generic message that lists 6 items', 'Generic message that lists 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and Lionel)'),c=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}', 'Generic message that lists 7 items', 'Generic message that lists 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and Tina)'),u=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others', 'Generic message that lists more than 6 items', 'Generic message that lists more than 6 items (ex: Stevie, Michael, Cyndi, Bob, Bruce and 2 others)'),p=e=>e._('{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others', 'Generic message that lists more than 7 items', 'Generic message that lists more than 7 items (ex: Stevie, Michael, Cyndi, Bob, Bruce, Lionel and 2 others)');function m(e,t){const n={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],remaining:e.length-5};switch(e.length){case 0:return[];case 1:return(0,i.nk)(a(t),n);case 2:return(0,i.nk)(l(t),n);case 3:return(0,i.nk)(o(t),n);case 4:return(0,i.nk)(r(t),n);case 5:return(0,i.nk)(s(t),n);case 6:return(0,i.nk)(d(t),n);default:return(0,i.nk)(u(t),n)}}function h(e,t){const n={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-6};switch(e.length){case 0:return[];case 1:return(0,i.nk)(a(t),n);case 2:return(0,i.nk)(l(t),n);case 3:return(0,i.nk)(o(t),n);case 4:return(0,i.nk)(r(t),n);case 5:return(0,i.nk)(s(t),n);case 6:return(0,i.nk)(d(t),n);case 7:return(0,i.nk)(c(t),n);default:return(0,i.nk)(p(t),n)}}},388011:(e,t,n)=>{n.d(t,{B:()=>s,v:()=>r});var i=n(788241),a=n(583592),l=n(785893);const{Provider:o,useHook:r}=(0,a.Z)("ContextLogger");function s({children:e,value:t}){const{setViewContextData:n}=(0,i.sV)();return t.injectSetViewContextDataFromHook=n,(0,l.jsx)(o,{value:t,children:e})}},563962:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(388011);const a=()=>(0,i.v)().logContextEvent},541842:(e,t,n)=>{n.d(t,{Z:()=>i});const i=()=>1e6*Date.now()},377234:(e,t,n)=>{n.d(t,{F6:()=>u,Hs:()=>c,Yc:()=>s,vs:()=>d});var i=n(667294),a=n(611756),l=n(98736);const o="theme",r="dark"===(0,a.qn)(o),s=()=>r;function d(){const[e,t]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{t(s())}),[t]),e}const c=()=>{(0,a.Nh)(o,"dark"),(0,l.My)("mweb.dark_mode.enable"),window.location.reload()},u=()=>{(0,a.L_)(o),(0,l.My)("mweb.dark_mode.disable"),window.location.reload()}},117651:(e,t,n)=>{function i(e){const t=Math.round(e/1e3),n=t%60;return Math.floor(t/60)+":"+(n<10?"0":"")+n}n.d(t,{Z:()=>i})},560544:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>Math.floor(new Date(e).getTime()/1e3)},758360:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),a=n(973935);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends i.Component{constructor(...e){super(...e),l(this,"observer",null),l(this,"handleVisibilityChanged",((e,t)=>{this.props.onVisibilityChange(e,t)}))}componentDidMount(){const e=a.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return i.Children.only(this.props.children)}}const r=o},583121:(e,t,n)=>{n.d(t,{Bx:()=>a,N4:()=>o,is:()=>r,lt:()=>i,oM:()=>l});const i=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),a=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),l=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),o=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.'),r=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},402833:(e,t,n)=>{n.d(t,{g:()=>o,t:()=>l});var i=n(667294);const a=(0,i.createContext)(null),l=a.Provider,o=()=>(0,i.useContext)(a)},243370:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),a=n(616550),l=n(402833),o=n(911386);const r=e=>{const t=(0,a.useLocation)(),n=(0,l.g)();(0,i.useEffect)((()=>{if(n){const{showDesktopSignupModal:i,pinLinkClickHandler:a}=n,{mt:l,l:r,showsignup:s}=(0,o.Z)(t.search);l?i({signupFlow:"login"===l?{type:"login"}:{type:"signup"},attributionLabel:"navigation_1",container:e,reason:"UPSELL_LOGIN_OR_SIGNUP"}):s?i({signupFlow:{type:"signup"},attributionLabel:"closeup_query_param_showSignup",source:"defaultSource",reason:"UPSELL_LOGIN_OR_SIGNUP"}):r&&a&&a()}}),[e,t,!!n])}},133636:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(583121),a=n(536042),l=n(393599);const o=()=>{const{loginForMore:e,viewer:t,limitedLoginModalSubheader:n}=(0,l.H)(),o=(0,a.ZP)();return"AUTH"===t.type?null:t=>{null==e||e.setVisible(!0),null==n||n.setText((null==t?void 0:t.loginModalHeader)||(0,i.lt)(o))}}},737311:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),a=n(40660),l=n(391297);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r extends i.Component{constructor(...e){super(...e),o(this,"state",{error:null,info:null}),o(this,"resetError",(()=>{this.setState({error:null,info:null})}))}componentDidCatch(e,t){try{var n;const{name:t}=this.props,i=this.props.type||"secondary";(0,l.T)({extraData:null!==(n=e.extraData)&&void 0!==n?n:{},errorBoundary:t,errorBoundaryType:i,message:e.message,name:e.name,stack:e.stack}),a.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(i){a.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:t})}render(){const{renderErrorState:e}=this.props,{error:t,info:n}=this.state;return t&&n?e?e({error:t,info:n,resetError:this.resetError}):null:this.props.children}}},604094:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(737311).Z},33476:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),a=n(702664),l=n(527386),o=n(216702),r=n(785893);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),s(this,"state",{hasCompleted:[],hasDismissed:[]}),s(this,"view",(()=>{const{experience:e,isBackendExperience:t,targeting:n,viewExperience:i,viewExperienceObject:a}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",a(e)):n?i(e.placement_id,e.experience_id,n):i(e.placement_id,e.experience_id))})),s(this,"complete",(e=>{const{completeExperience:t,completeExperienceObject:n,experience:i,isBackendExperience:a,preventRemoval:l,targeting:o}=this.props,r=e||1;if(i&&!this.state.hasCompleted.includes(i.experience_id)){const{placement_id:e,experience_id:s}=i||{},d=l||2===r;(1===r||d)&&e&&s&&(a?n(i,d):o?t(e,s,d,o):t(e,s,d),this.setState((e=>({hasCompleted:[...e.hasCompleted,s]}))))}})),s(this,"dismiss",(()=>{const{dismissExperience:e,dismissExperienceObject:t,experience:n,isBackendExperience:i,preventRemoval:a,targeting:l}=this.props,{placement_id:o,experience_id:r}=n||{};n&&!this.state.hasDismissed.includes(r)&&(i?t(n):l?e(o,r,!!a,l):e(o,r,!!a),this.setState((e=>({hasDismissed:[...e.hasDismissed,r]}))))})),s(this,"shouldRenderExperience",(()=>{const{experience:e}=this.props;if(e){const{eligibleIds:t,eligibleTypes:n,predicate:i,transitionType:a}=this.props,{experience_id:l,type:o}=e;if(t&&t.includes(l))return!0;if(null==t||!t.length){if(i&&i(e))return!0;if(n&&n.includes(o))return!0;if(a&&a===o)return!0}}return!1}))}componentDidMount(){if(this.props.disableAutoView)return;const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=e.experience,n=this.props.experience;n&&this.shouldRenderExperience()&&(t&&t.experience_id===n.experience_id||this.view())}render(){const{children:e,experience:t,disableAutoView:n}=this.props;return t&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...n?{view:this.view}:Object.freeze({})}):i.Children.only(e):null}}function c(e){const t=(0,a.useSelector)((({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0))),n=(0,a.useDispatch)();return(0,r.jsx)(d,{...e,experience:t,completeExperience:(e,t,i,a)=>n((0,l.CK)(e,t,i,!1,{},a)),completeExperienceObject:(e,t)=>n((0,o.Tl)(e,t)),dismissExperience:(e,t,i,a)=>n((0,l.Qu)(e,t,i,void 0,a)),dismissExperienceObject:e=>n((0,o.CF)(e)),viewExperience:(e,t,i)=>n((0,l.UT)(e,t,!1,!1,void 0,i)),viewExperienceObject:e=>n((0,o.dy)(e))})}s(d,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},220590:(e,t,n)=>{n.d(t,{F:()=>p,M:()=>u});var i=n(667294),a=n(702664),l=n(14890),o=n(583592),r=n(527386),s=n(256558),d=n(785893);const{Provider:c,useHook:u}=(0,o.Z)("ExperienceContext");function p({children:e}){const[t,n]=(0,i.useReducer)(((e,t)=>{if("MOUNT_PLACEMENT"===t.type)return{...e,[t.payload]:!0};if("UNMOUNT_PLACEMENT"===t.type){const n={...e};return delete n[t.payload],n}return e}),{}),o=(0,a.useDispatch)(),u=(0,a.useSelector)((e=>e.experiences)),p=(0,i.useMemo)((()=>{const e=(0,l.bindActionCreators)({completeExperience:r.CK,dismissExperience:r.Qu,fetchAllExperiences:r.fO,fetchAllExperiencesMulti:s.NW,fetchExperienceForPlacements:r.pz,mountPlacement:r.N,triggerExperimentsForPlacement:r.kd,viewExperience:r.UT},o);return{...e,mountPlacement:(t,...i)=>{e.mountPlacement(t,...i),n({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:e=>{n({type:"UNMOUNT_PLACEMENT",payload:e})}}}),[o,n]),m=(0,i.useMemo)((()=>({experiences:u,mountedPlacements:t,...p})),[u,t,p]);return(0,d.jsx)(c,{value:m,children:e})}},527386:(e,t,n)=>{n.d(t,{CK:()=>m,N:()=>v,Qu:()=>h,UT:()=>p,YX:()=>y,d9:()=>g,fO:()=>d,kd:()=>_,pz:()=>c});var i=n(40660),a=n(690108),l=n(703688),o=n(256558),r=n(970588);let s;const d=(e,t)=>n=>{const i=t?{extra_context:e,targeting:t}:{extra_context:e};return a.Z.create("UserExperiencePlatformResource",i).callGet().then((e=>e.resource_response?n((0,o.OD)(e.resource_response.data)):void 0))},c=(e,t,n,i)=>(r,d)=>{if(t)return Promise.resolve();if(i&&(s=i),1===e.length){const t=e[0],i=d().experiences[t],a=(null==i?void 0:i.extraContext)||null;if(JSON.stringify(a)===JSON.stringify(n)||(0,l.E3)(i)&&!(n&&Object.keys(n).length>0))return Promise.resolve()}return a.Z.create("UserExperienceResource",{placement_ids:e,extra_context:n||null,targeting:i}).callGet().then((e=>e.resource_response?r((0,o.cL)(e.resource_response.data)):void 0))},u=(e,t)=>(n,i,l,r=!1,c,u)=>(p,m)=>{const{experiences:h,experiencesMulti:g}=m();let _=null,y=!0;var v;r||(y=h[n]&&h[n].experience_id===i,_=y?h[n]:Array.isArray(g[n])&&(null===(v=g[n])||void 0===v?void 0:v.find((e=>e.experience_id===i))));if(_&&_.experience_id===i||r&&n&&i){const r=a.Z.create(e,{placed_experience_id:`${n}%3A${i}`,extra_context:null!=c?c:{},targeting:u}),m=y?o.Yb:o.xW;switch(t){case"dismissed":return r.callDelete().then((()=>{p(m(n,i,t)),p(d(void 0,s))}));case"completed":return r.callUpdate().then((()=>{l||(p(m(n,i,t)),p(d(void 0,s)))}));case"viewed":return p(m(n,i,t)),r.callUpdate().then((()=>{1000162===n&&p(d())}));case"completedWithoutHomefeed":return r.callUpdate().then((()=>{l||p(m(n,i,t))}));default:return Promise.resolve()}}return Promise.resolve()},p=u("UserExperienceViewedResource","viewed"),m=u("UserExperienceCompletedResource","completed"),h=u("UserExperienceResource","dismissed"),g=u("UserExperienceCompletedResource","completedWithoutHomefeed"),_=(e,t)=>(n,a)=>{const{experiences:l}=a(),o=l[e];o&&o.triggerable_placed_exps&&o.triggerable_placed_exps.length&&o.triggerable_placed_exps.forEach((n=>{const[,a]=n.split(":");let l=t;o.metadata&&o.metadata[a]&&(l={...t,...o.metadata[a]}),(0,r.Z)({url:`/v3/experiences/${n.replace(":","%3A")}/trigger/`,method:"PUT",data:l?{extra_context:JSON.stringify(l,null,1)}:{}}).then((()=>{((e,t,n={})=>{i.Z.increment(`${e}.${t}`,1,n)})("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:a})}))}))},y=e=>(t,n)=>{t(_(e));const{experiences:i}=n();return i[e]},v=(e,t,n)=>i=>{n&&(s=n),i(_(e,t)),t&&Object.keys(t).length>0&&i(c([e],!1,t,n))}},216702:(e,t,n)=>{n.d(t,{CF:()=>r,Tl:()=>o,dy:()=>s});var i=n(690108),a=n(527386);const l=(e,t)=>(n,l)=>o=>{if(n&&n.id){const r=i.Z.create(e,{placed_experience_id:n.id,extra_context:{}});switch(t){case"dismissed":r.callDelete().then((()=>{o((0,a.fO)())}));break;case"completed":r.callUpdate().then((()=>{l||o((0,a.fO)())}));break;case"viewed":r.callUpdate()}}},o=l("UserExperienceCompletedResource","completed"),r=l("UserExperienceResource","dismissed"),s=l("UserExperienceViewedResource","viewed")},703688:(e,t,n)=>{function i(e){return!!e&&0!==e.type}n.d(t,{A0:()=>l,E3:()=>i,MQ:()=>a});const a=(e,t,n)=>{const a=e[n];return t[n]&&i(a)?a:null};function l(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}},488897:(e,t,n)=>{n.d(t,{$S:()=>i,V$:()=>a,_4:()=>o,iY:()=>r,mR:()=>l});const i="REFRESH_ALL_EXPERIENCES_MULTI",a="UPDATE_EXPERIENCE_MULTI",l="FETCH_EXPERIENCES",o="REFRESH_ALL_EXPERIENCES",r="UPDATE_EXPERIENCE"},256558:(e,t,n)=>{n.d(t,{NW:()=>o,OD:()=>s,Yb:()=>r,cL:()=>d,xW:()=>l});var i=n(690108),a=n(488897);const l=(e,t,n)=>({type:a.V$,payload:{placementId:e,experienceId:t,status:n}}),o=e=>t=>i.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then((e=>{return e.resource_response?t((n=e.resource_response.data,{type:a.$S,payload:{experiencesMulti:n}})):void 0;var n})),r=(e,t,n)=>({type:a.iY,payload:{placementId:e,experienceId:t,status:n}}),s=e=>({type:a._4,payload:{experiences:e}}),d=e=>({type:a.mR,payload:{experiences:e}})},765456:(e,t,n)=>{n.d(t,{_:()=>d,a:()=>c});var i=n(667294),a=n(702664),l=n(618446),o=n.n(l),r=n(527386),s=n(282802);const d=({extraContext:e,id:t,shouldUsePlacedExperience:n=!0})=>{const l=(0,i.useRef)(),d=(0,a.useDispatch)(),{isBot:c}=(0,s.B)(),u=(0,a.useSelector)((e=>e.experiences[t]));return(0,i.useEffect)((()=>{d((0,r.kd)(t))}),[d,u,t]),(0,i.useEffect)((()=>{n||o()(l.current,e)||(d((0,r.pz)([t],c,e)),l.current=e)}),[d,e,c,t,n]),u},c=e=>(d(e),(0,a.useSelector)((t=>t.experiencesMulti[e.id])))},125715:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{const[t,n]=[(null==e?void 0:e.width)||580,(null==e?void 0:e.height)||400],[i,a]=[window.screen.width,window.screen.height];return["scrollbars=yes","resizable=yes","toolbar=no","location=yes",`width=${t}`,`height=${n}`,`left=${Math.round((i-t)/2)}`,`top=${a>n?Math.round((a-n)/2):0}`].join(",")}},621982:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(537347),a=n.n(i),l=n(40660);function o(e){if("undefined"==typeof window||!document.head)return l.Z.increment("load_fonts.failure",1,{failure_reason:"window undefined"}),Promise.reject(new Error("Window is undefined or no head on the document. Unable to load fonts"));const{head:t}=document,n=[];return e.forEach((e=>{e.styles.forEach((i=>{var l;let o=document.querySelector(`#${null!==(l=e.fontFamily)&&void 0!==l?l:""}-${i.name}`);if(!o){var r;if(o=document.createElement("style"),o.setAttribute("id",`${null!==(r=e.fontFamily)&&void 0!==r?r:""}-${i.name}`),t.appendChild(o),e.format&&i.fontUrl&&o&&o.sheet){var s;o.sheet.insertRule(`\n            @font-face {\n              font-family: "${null!==(s=e.fontFamily)&&void 0!==s?s:""}";\n              font-style: "${i.fontStyle}";\n              font-weight: "${i.fontWeight}";\n              src: url("${i.fontUrl}") format("${e.format}");\n            }\n          `,0)}n.push(new(a())(e.fontFamily,{style:i.fontStyle,weight:i.fontWeight}).load())}}))})),Promise.all(n).then((()=>{Promise.resolve()})).catch((e=>{l.Z.increment("load_fonts.failure",1,{failure_reason:"unsuccessful load"}),Promise.reject(e)}))}},570476:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),a=n(883119);const l=(0,i.createContext)();var o=n(785893);function r(e){(0,i.useContext)(l);const{alt:t,color:n,children:r,crossOrigin:s,decoding:d,elementTiming:c,fetchPriority:u,fit:p,loading:m,naturalHeight:h,naturalWidth:g,onError:_,onLoad:y,role:v,sizes:f,src:b,srcSet:x}=e;return(0,o.jsx)(a.Ee,{alt:t,color:n,crossOrigin:s,decoding:d,elementTiming:c,fetchPriority:u,fit:p,loading:m,naturalHeight:h,naturalWidth:g,onError:_,onLoad:y,role:v,sizes:f,src:b,srcSet:x,children:r})}},88622:(e,t,n)=>{n.d(t,{ZP:()=>d,b7:()=>o.b7,bN:()=>r,p4:()=>s});var i=n(240684),a=n(549201),l=n(785893),o=n(467105);const r=(0,i.ZP)({resolved:{},chunkName:()=>"DesktopModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(51879).then(n.bind(n,943072)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 943072}}),s=(0,i.ZP)({resolved:{},chunkName:()=>"MobileModal",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(72430).then(n.bind(n,894121)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 894121}});function d(e){const t=(0,a.ZP)(),n=void 0===e.isOpen||e.isOpen;if("desktop"===t&&n){const{isOpen:t,mobileAccessibilityCloseIconLabel:n,mobileAllowScroll:i,mobileHideCloseIcon:a,mobileIsFullscreen:o,mobileIsSlideUp:s,type:d,mobileIsFooter:c,zIndex:u,...p}=e;return(0,l.jsx)(r,{...p})}const{allowClickAndDrag:i,allowMediaPlay:o,allowScroll:d,role:c,size:u,_dangerouslyDisableScrollBoundaryContainer:p,...m}=e;return(0,l.jsx)(s,{...m,isOpen:n})}},943072:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var i=n(667294),a=n(883119),l=n(467105),o=n(906215),r=n(455788),s=n(785893);function d({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,allowClickAndDrag:d,allowMediaPlay:c,allowScroll:u,children:p,closeOnOutsideClick:m,footer:h,heading:g,onDismiss:_,role:y,size:v,subHeading:f}){(0,i.useEffect)((()=>(o.Z.pause(),function(){o.Z.resume()})),[]);return(0,s.jsx)(a.mh,{zIndex:l.b7,children:(0,s.jsx)(r.Z,{allowClickAndDrag:d,allowEsc:!0,allowMediaPlay:c,allowScroll:u,children:(0,s.jsx)(a.u_,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,closeOnOutsideClick:m,heading:g,footer:h,onDismiss:()=>{o.Z.resume(),_()},role:y,size:v,subHeading:f,padding:"none",children:p})})})}},894121:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var i=n(667294),a=n(883119),l=n(387977),o=n(467105),r=n(536042),s=n(906215),d=n(282802),c=n(455788),u=n(98736),p=n(549201),m=n(886365),h=n(785893);const g=()=>{if(document.body){const{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}},_=()=>{if(document.body){const{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}};function y({accessibilityModalLabel:e,align:t="center",allowScroll:n=!1,children:y,closeOnOutsideClick:v=!0,footer:f,heading:b,mobileAccessibilityCloseIconLabel:x,mobileHideCloseIcon:k,mobileIsFullscreen:P,isOpen:S,mobileIsSlideUp:w,mobileIsFooter:T,onDismiss:I,zIndex:A,subHeading:C,type:j}){const E=(0,r.ZP)(),{isRTL:R}=(0,d.B)(),L=(0,i.useRef)(!1),[D,F]=(0,i.useState)(!1),{setAppFocusState:z}=(0,m.I)(),M=(0,p.ZP)();(0,i.useEffect)((()=>{(0,u.My)(`mweb_unauth.mobile_modal.${j||"unknown_type"}.did_mount.is_open.${String(!!S)}`)}),[S,j]),(0,i.useEffect)((()=>(L.current=(0,l.Z)((()=>{L.current&&F(!0)})),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&L.current&&(window.cancelAnimationFrame(L.current),L.current=null)})),[]),(0,i.useEffect)((()=>(S?(s.Z.pause(),z(!1)):(s.Z.resume(),z(!0)),()=>{S&&(s.Z.resume(),z(!0))})),[z,S]),(0,i.useEffect)((()=>{const e=S&&!n;return e&&g(),()=>{e&&_()}}),[S,n]);return S?(0,h.jsx)(c.Z,{children:(0,h.jsx)(a.mh,{children:(0,h.jsxs)(a.xu,{"aria-label":e,display:"inlineBlock",zIndex:A||o.ZM,position:"relative",role:"dialog",children:[(0,h.jsx)(a.iP,{accessibilityLabel:E._('Mobile Signup Modal Mask', 'mweb.signup_modal.mask', 'The acessibility label for the mask of mobile signup modal'),onTap:({event:e})=>{e.clientX&&e.clientY&&(0,u.tj)(`mweb_unauth.mobile_modal.wash_tap.${j||"unknown_type"}.with_dismissal`,{x:e.clientX,y:e.clientY}),v&&I()},tapStyle:"none",children:(0,h.jsx)(a.xu,{height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new a.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}}})}),(0,h.jsxs)(a.xu,{position:"fixed",color:"default","data-test-id":"mobile-signup-mask",dangerouslySetInlineStyle:w?(0,o.Vf)({isFullscreen:P,isTablet:"tablet"===M,isShowing:D,isRelatedInterestsModal:"related_interests_modal"===j}):(0,o.JN)({variant:P?"fullscreen":"tablet"===M?"tablet":T?"footer":"signup"===j?"signup":void 0}),children:[(0,h.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",width:"100%",gap:{row:2,column:0},children:[x&&!k?(0,h.jsx)(a.xu,{padding:2,"data-test-id":"mobile-modal-cancel-button",children:(0,h.jsx)(a.hU,{accessibilityLabel:x,iconColor:"darkGray",icon:"cancel",onClick:I,padding:4,size:"sm"})}):null,b?(0,h.jsx)(a.kC.Item,{flex:"grow",children:(0,h.jsx)(a.kC,{direction:"column",alignItems:"center",justifyContent:"center",children:(0,h.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:x&&!k?{marginRight:R?-10:50,marginLeft:R?50:-10}:{}},children:[P?b:(0,h.jsx)(a.xv,{align:t,weight:"bold",size:"400",children:b}),C?(0,h.jsx)(a.xv,{align:t,children:C}):null]})})}):null]}),(0,h.jsxs)(a.xu,{overflow:"auto",children:[y,f]})]})]})})}):null}},467105:(e,t,n)=>{n.d(t,{JN:()=>d,Vf:()=>c,ZM:()=>r,b7:()=>o,i_:()=>s});var i=n(883119),a=n(377234),l=n(360675);const o=new i.Ry(1e3),r=new i.H3([l.Z]),s=12,d=({variant:e})=>{let t;return t="fullscreen"===e?{touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"}:"tablet"===e?{border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1}:"footer"===e?{border:(0,a.Yc)()?void 0:"1px solid #efefef",bottom:0,boxShadow:"0 0 16px rgba(0,0,0, 0.16)",left:0,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}:"signup"===e?{border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"8px",right:"8px",background:"#FFFFFF"}:{border:(0,a.Yc)()?void 0:"1px solid #efefef",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1,left:"0px",bottom:0,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",overflow:"hidden",borderRadius:"32px 32px 0 0"},{__style:t}},c=({isFullscreen:e,isTablet:t,isShowing:n,isRelatedInterestsModal:i})=>{let l={border:(0,a.Yc)()?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},o=n?"translateY(0)":"translateY(100vh)";return l.height=e?"100vh":"",t&&i&&(l={...l,width:425,left:"50%",transform:"translateX(-50%)"},o=n?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...l,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:o}}}},550140:(e,t,n)=>{n.d(t,{UZ:()=>c,Vg:()=>d,ZP:()=>u});var i=n(667294),a=n(883119),l=n(549201),o=n(272109),r=n(785893);const s=2e3,d=200,c=({deviceType:e,hiding:t,visible:n})=>{const i="desktop"===e;let a=0,l=i?"translateY(200px)":"translateY(-200px)",o="opacity 0.1s ease-in-out",r="hidden";return n&&!t&&(a=1,l="translateY(0)",o="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",r="visible"),n&&t&&(l="scale(1.1)",o="opacity transform 0.2s"),{opacity:a,pointerEvents:"auto",position:"relative",marginTop:i?10:0,transform:l,transition:o,visibility:r}};function u({_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,text:n,primaryAction:u,dismissButton:p,helperLink:m,thumbnail:h,type:g,dataTestId:_,duration:y=s,onHide:v,href:f,onClick:b,openNewPage:x,imageUrl:k}){var P;const S=(0,l.ZP)(),[w,T]=(0,i.useState)(!1),[I,A]=(0,i.useState)(!1),C=(0,i.useRef)(),j=()=>{T(!0),C.current=setTimeout(v,d)},E=()=>{C.current=setTimeout(j,y)},R=()=>{C.current&&clearTimeout(C.current)};let L;(0,o.Z)((()=>(setTimeout((()=>A(!0)),100),E(),R))),k&&(L={image:(0,r.jsx)(a.Ee,{alt:"string"==typeof n?n:`${n[0]} ${n[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:k})});const D=(0,r.jsx)(a.FN,{_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,primaryAction:u,text:n,thumbnail:null!==(P=L)&&void 0!==P?P:h,type:g,dismissButton:p,helperLink:m}),{marginTop:F,opacity:z,pointerEvents:M,position:O,transform:B,transition:Z,visibility:N}=c({deviceType:S,hiding:w,visible:I});return(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transform:B,transition:Z,visibility:N,pointerEvents:M}},"data-test-id":null!=_?_:"toast",onMouseEnter:R,onMouseLeave:E,opacity:z,position:O,marginTop:F,display:"flex",children:f?(0,r.jsx)(a.iP,{role:"link",href:f,onTap:({event:e})=>null==b?void 0:b(e),target:x?"blank":null,rounding:"pill",children:D}):D})}},870243:(e,t,n)=>{n.d(t,{qE:()=>r,u_:()=>s.ZP});var i=n(883119),a=n(785893);const l=(e,t)=>{const n=null==e?void 0:e.includes("images/user/default");return Boolean(n&&t)};function o({accessibilityLabel:e,name:t,outline:n,size:o,src:r,verified:s}){return(0,a.jsx)(i.qE,{accessibilityLabel:e,name:t,outline:n,size:o,src:l(r,t)?void 0:r,verified:s})}o.displayName="Avatar";const r=o;var s=n(88622);n(550140)},310072:(e,t,n)=>{function i(e){return`${e.userAgent.isMobile?"mobile":"desktop"}.${e.country}.${e.userAgent.platform}.${e.userAgent.browserName}`.replace(/ /g,"_")}n.d(t,{Z:()=>i})},356193:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(465001),a=n(785893);function l({children:e,fragment:t,fragmentKey:n}){return n?(0,a.jsx)(i.Z,{fragment:t,fragmentKey:n,children:e}):e(null)}},465001:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(167912);function a({children:e,fragment:t,fragmentKey:n}){return e((0,i.useFragment)(t,n))}},448709:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),a=n(497088),l=n(785893);function o({useGraphQLAdapter:e,useLegacyAdapter:t}){const n=({children:t,data:n})=>t({enabled:!0,data:e(n)}),o=({children:e,data:n})=>e({enabled:!1,data:t(n)});return function({children:e,input:t}){var r;const s=t.enabled?(0,l.jsx)(n,{data:t.data,children:e}):(0,l.jsx)(o,{data:t.data,children:e}),d=null!==(r=t.suspense)&&void 0!==r&&r.dangerouslyServerRender?i.Suspense:a.Z;return t.suspense?(0,l.jsx)(d,{fallback:t.suspense.fallback,children:s}):s}}},825389:(e,t,n)=>{n.d(t,{JI:()=>s,Sv:()=>o,k5:()=>d,uf:()=>r});var i=n(702664),a=n(167912),l=n(525104);function o(e,t,{useGraphQLAdapter:n,useLegacyAdapter:i}){if("deprecated"===t.type)return{data:i(t.data),childDataKey:t};const l=(0,a.useFragment)(e,t.data);return{data:n(l),childDataKey:{type:"graphqlRef",data:l}}}function r(e,t,{useLegacyAdapter:n}){return o(e,t,{useGraphQLAdapter:e=>e,useLegacyAdapter:n})}function s(e,t,n){let a;switch(n.type){case"article":a=e=>{const t=(0,i.useSelector)((({articles:t})=>t[e]));return t?n.useLegacyAdapter(t):null};break;case"story":a=e=>{const t=(0,i.useSelector)((({stories:t})=>t[e]));return t?n.useLegacyAdapter(t):null};break;default:a=e=>{const t=(0,l.S6)()(e);return t?n.useLegacyAdapter(t):null}}return o(e,t,{useGraphQLAdapter:n.useGraphQLAdapter,useLegacyAdapter:a})}function d(e,t,n){return s(e,t,{...n,useGraphQLAdapter:e=>e})}},81660:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),a=n(167912),l=n(244311);function o(e,t,n){var o;const r=null===(o=null==n?void 0:n.suspendOnRefetch)||void 0===o||o,s=(0,a.useRelayEnvironment)(),[d,c]=(0,i.useState)({fetchKey:0,fetchPolicy:"store-or-network"}),[u,p]=(0,i.useState)(!1),m=(0,i.useCallback)((()=>{u||(r?c((e=>({fetchKey:e.fetchKey+1,fetchPolicy:"network-only"}))):(p(!0),(0,l.fetchQuery)(s,e,t).subscribe({complete:()=>{p(!1),c((e=>({fetchKey:e.fetchKey+1,fetchPolicy:"store-only"})))},error:()=>{p(!1)}})))}),[s,u,e,r,t]);return{data:(0,a.useLazyLoadQuery)(e,t,d),isRefetching:u,refetch:m}}},24286:(e,t,n)=>{n.d(t,{$H:()=>o,$q:()=>f,D6:()=>d,KN:()=>x,Lo:()=>a,OS:()=>m,P2:()=>_,Wv:()=>b,ZZ:()=>u,g5:()=>p,jC:()=>r,lX:()=>g,nW:()=>h,oX:()=>y,qG:()=>v,tG:()=>l,yF:()=>i,yc:()=>c,yt:()=>s});const i=236,a=2*i/3,l=175,o=24,r=4,s=8,d=2,c=2,u=14,p=16,m=5,h=12,g=16,_=24,y=16,v=-1,f=(e=!1,t=!1)=>e?t?g:h:_,b=({contentVisibleItemCount:e,gap:t,width:n})=>e||n?(n-(e-1)*t)/e:i,x=(e,t,n,i,a=u)=>{const l=e+a;return`\n@media (min-width: ${t*l}px) and (max-width: ${(n+1)*l-1}px) {\n  ${i}\n}\n`}},13596:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(734417),a=n(282802),l=n(785893);const o=({currency:e,maximumFractionDigits:t,minimumFractionDigits:n,shortform:o,shortformMaximumFractionDigits:r,formatStyle:s,uplimit:d,value:c})=>{const u=(0,i.Z)();return(0,l.jsx)(a.LC,{children:i=>u(i.locale||"en-US",c,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:n,shortform:o,shortform_maximum_fraction_digits:r,style:s,uplimit:d})})}},187309:(e,t,n)=>{n.d(t,{Z:()=>i});const i=["AT","BE","BG","HR","CH","CY","CZ","DK","EE","FI","FR","DE","GB","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE"]},62152:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(736409),a=n(536042),l=n(630089);function o(){const e=(0,a.ZP)();return function(t,n){const a=new Date(t),o=new Date-a,r=Math.floor(o/i.FS),s=Math.floor(o/i.UK),d=Math.floor(o/i.F4),c=Math.floor(o/i.VL),u=Math.floor(o/i.N1),p=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', r, ' - ', ' -- '),m=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', s, ' - ', ' -- '),h=e.ngettext('{{ days }} day ago', '{{ days }} days ago', d, ' - ', ' -- '),g=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', c, ' - ', ' -- '),_=e.ngettext('{{ years }} year ago', '{{ years }} years ago', u, ' - ', ' -- '),y=e.ngettext('{{ minutes }}m', '{{ minutes }}m', r, 'minutes ago abbreviated', 'minutes ago abbreviated'),v=e.ngettext('{{ hours }}h', '{{ hours }}h', s, 'hours ago abbreviated', 'hours ago abbreviated'),f=e.ngettext('{{ days }}d', '{{ days }}d', d, 'days ago abbreviated', 'days ago abbreviated'),b=e.ngettext('{{ weeks }}w', '{{ weeks }}w', c, 'weeks ago abbreviated', 'weeks ago abbreviated'),x=e.ngettext('{{ years }}y', '{{ years }}y', u, 'years ago abbreviated', 'years ago abbreviated');return u>0?(0,l.nk)(n?x:_,{years:u}).join(""):c>0?(0,l.nk)(n?b:g,{weeks:c}).join(""):d>0?(0,l.nk)(n?f:h,{days:d}).join(""):s>0?(0,l.nk)(n?v:m,{hours:s}).join(""):r>0?(0,l.nk)(n?y:p,{minutes:r}).join(""):e._('Just now', ' - ', ' -- ')}}},536042:(e,t,n)=>{n.d(t,{ZP:()=>r,oz:()=>l,q6:()=>a});var i=n(583592);const{Provider:a,Consumer:l,useHook:o}=(0,i.Z)("i18n"),r=o},734417:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(536042),a=n(493851);const l=(e,t)=>{const n=t||0,i=10**n,a=+(n?e*i:e).toFixed(8),l=Math.floor(a),o=a-l,r=o>.5-1e-8&&o<.5+1e-8?l%2==0?l:l+1:Math.round(a);return n?r/i:r},o=({maximumFractionDigits:e,minimumFractionDigits:t,style:n,currency:i})=>{const a={maximumFractionDigits:e,minimumFractionDigits:t};return n?{...a,style:n,..."currency"===n?{currency:i,currencyDisplay:"symbol"}:{}}:a},r=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0},s=(e,t)=>{if(t){const{minimumFractionDigits:n,maximumFractionDigits:i}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==n&&void 0!==i)return{minimumFractionDigits:n,maximumFractionDigits:i}}return{minimumFractionDigits:2,maximumFractionDigits:2}};function d(){const e=(0,i.ZP)();return(t,n,i)=>{let d=0,c=0;const u=i&&i.style||void 0,p=i&&i.shortform||!1,m=i&&i.uplimit||void 0,h=i&&i.currency||void 0,g=!!m&&n>=m,_=m&&g?m:n;if("currency"===u){const{minimumFractionDigits:e,maximumFractionDigits:n}=s(t,h);d=void 0===i||void 0===i.maximum_fraction_digits?n:i.maximum_fraction_digits,c=void 0===i||void 0===i.minimum_fraction_digits?e:i.minimum_fraction_digits}else d=void 0===i||void 0===i.maximum_fraction_digits?0:i.maximum_fraction_digits,c=void 0===i||void 0===i.minimum_fraction_digits?0:i.minimum_fraction_digits;if(p&&_>999&&(d=void 0===i||void 0===i.shortform_maximum_fraction_digits?2:i.shortform_maximum_fraction_digits,c=0),d<c)return String(_);let y=_,v="";const f=[{"100M":{value:1e8,localeKey:e._('', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],b=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],x=/^zh|ja|ko/.test(t);if(p&&_>999){const e=x?f:b;for(let t=0;t<e.length;t+=1){const n=Object.keys(e[t])[0],i=e[t][n].value;if(_>=i){y=l(_/i*Math.pow(10,d))/Math.pow(10,d),v=e[t][n].localeKey;break}}}if(null==y)return"";const k=y.toLocaleString([r(t)&&"ar-SA"!==t?t:"en-US"],o({maximumFractionDigits:d,minimumFractionDigits:c,currency:h,style:u}));return v&&v.length>0?(0,a.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:k,numberSuffix:v})+(g?"+":""):k+(g?"+":"")}}},833122:(e,t,n)=>{n.d(t,{F:()=>s,Z:()=>r});var i=n(667294),a=n(388011),l=n(906215);const o={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704}};function r({carouselData:e,closeupImpressionType:t,closeupNavigationType:n,componentType:r,contextLogData:s,clientTrackingParams:d,elementType:c,impressionAuxFields:u,inImpressionExp:p,impressionType:m,impressionsFramework:h,isPaused:g,loggingId:_,objectIdStr:y,slotIndex:v,trackCarousel:f,viewData:b,viewParameter:x,viewType:k}){const{logContextEvent:P}=(0,a.v)(),S=h||l.Z,w=(0,i.useRef)(null),T=i=>{const a=o[m],l=a.idType;let p={clientTrackingParams:d,endTime:i.endTime,[l]:_,slotIndex:v,time:i.startTime,renderDuration:i.endTime-i.startTime,type:t,...u,forcedExit:"removed"===i.forcedExit?0:void 0};var h,g,S,T;"Pin"===m&&(p={...p,pinCellWidth:(null===(h=w.current)||void 0===h?void 0:h.getBoundingClientRect().width)||0,pinCellHeight:(null===(g=w.current)||void 0===g?void 0:g.getBoundingClientRect().height)||0,windowWidth:null===(S=window)||void 0===S?void 0:S.innerWidth,windowHeight:null===(T=window)||void 0===T?void 0:T.innerHeight});const I={component:r,object_id_str:y,view_type:k,view_data:b||{},view_parameter:x};if(f){if(e){var A,C,j;P({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...p,carouselDataId:Number(e.id),carouselSlotId:(null===(A=e.carousel_slots)||void 0===A?void 0:A[null!==(C=e.index)&&void 0!==C?C:0])&&Number(e.carousel_slots[null!==(j=e.index)&&void 0!==j?j:0].id),slotIndex:e.index}]},...I,aux_data:{...s}})}}else P({clientTrackingParams:d,event_type:a.eventType,...I,element:c,event_data:{[a.impressionType]:"Story"===m?p:[p]},aux_data:{closeup_navigation_type:n,...s}})},I=(0,i.useCallback)((()=>{try{w.current instanceof HTMLElement&&S.start(w.current).onExitViewport(T).setDebugId(_||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),[w.current]);(0,i.useEffect)((()=>(p&&!S.inExperiment&&S.setExperimentStatus(!0),g||I(),()=>{w.current instanceof HTMLElement&&S.stop(w.current)})),[I]);const A=(0,i.useRef)(g);return(0,i.useEffect)((()=>{A.current&&!g&&I(),A.current=g}),[g,I]),w}const s=({children:e,...t})=>e({impressionTrackerRef:r(t)})},121633:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z3:()=>p,LU:()=>m,ZP:()=>h});const a=1e6,l=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,o={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},r={},s={background:"#FF8A8A",transform:"scale(.98)"},d={init:e=>({transform:`scale(${r[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[o.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[o.exit]:s,[o.stopped]:s,[o.paused]:s,[o.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class c{constructor(e){i(this,"setMutationObserver",(e=>(this.mutationObserver=e,this))),i(this,"startMutationObserver",(e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)})),i(this,"stopMutationObserver",(()=>{this.mutationObserver&&this.mutationObserver.disconnect()})),i(this,"handleIntersectionChange",(e=>{const t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){const e=Date.now();this.startTime=e,this._debug(o.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach((e=>e()))}else!t&&this.inViewport&&(this._debug(o.exit,!0),this.exitCallbacks.forEach((e=>e(this.toJSON()))));this.inViewport=t})),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,l&&Object.assign(this.node.style,d.init(e)),this}pause(){return this.inViewport&&(this._debug(o.paused,!0),this.exitCallbacks.forEach((e=>e(this.toJSON())))),this}resume(){if(this.inViewport){const e=Date.now();this._debug(o.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(o.stopped,!0),this.exitCallbacks.forEach((t=>t(this.toJSON(e))))),this}toJSON(e=""){return{startTime:this.startTime*a,endTime:Date.now()*a,forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:(Date.now()-this.startTime)/1e3+" seconds"}}_debug(e,t){if(l)switch(window.console.log(` ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),d[e]&&Object.assign(this.node.style,d[e]),e){case o.flushed:case o.paused:case o.exit:r[this.debugId]=!0}}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const p=!0,m=!1;class h{constructor(){u(this,"_delegateChange",(e=>{e.forEach((e=>{const t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)}))})),u(this,"_handleMutations",((e,t)=>{const n=this.mutationObservers.get(t);n&&n.offsetHeight<1&&n&&this.stop(n,"removed")})),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=m,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){const n=this.activeImpressions.get(e);var i;n&&(n.stop(t),this.mutationObservers.delete(n.mutationObserver),n.stopMutationObserver(),this.activeImpressions.delete(e),null===(i=window.activeImpressions)||void 0===i||i.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){var n;t=new c(e),this.activeImpressions.set(e,t),null===(n=window.activeImpressions)||void 0===n||n.set(e,t),this.observer.observe(e);const i=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(i)),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=p){this.paused||(Array.from(this.activeImpressions.values()).forEach((e=>e.pause())),this.paused=!0,this.pausePriority===m&&(this.pausePriority=e))}resume(e=p){e===m&&this.pausePriority===p||this.paused&&(Array.from(this.activeImpressions.values()).forEach((e=>e.resume())),this.paused=!1,this.pausePriority=m)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){const e=Array.from(this.topObstructions).reduce(((e,t)=>{const{bottom:n}=t.getBoundingClientRect();return n>e?n:e}),0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce(((e,t)=>{const{top:n}=t.getBoundingClientRect();return n<e?n:e}),window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){const n={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,n),Array.from(this.activeImpressions.values()).forEach((e=>this.observer.observe(e.node))),this.topHeight=e,this.bottomHeight=t}}}},906215:(e,t,n)=>{n.d(t,{Z:()=>i});const i=new(n(121633).ZP)},630089:(e,t,n)=>{n.d(t,{Wc:()=>s,bF:()=>c,nk:()=>r,r7:()=>u});var i=n(667294),a=n(785893);function l(e,t,n){return e.split(n).map((e=>{if(e.match(n)){const n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e}))}const o=/(\{\{\s*\w+\s*\}\})/g;function r(e,t){return l(e,t,o)}function s(e,t){return l(e,t,o).join("")}const d=/(\{\s*\w+\s*\})/g;function c(e,t){return l(e,t,d)}const u=({text:e})=>Array.isArray(e)?e.map(((e,t)=>(0,a.jsx)(i.Fragment,{children:e},t))):e},149596:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{constructor(...e){super(...e),a(this,"ref",(0,i.createRef)()),a(this,"observer",null),a(this,"handleVisibilityChanged",((e,t)=>{this.props.onVisibilityChange(e,t)}))}componentDidMount(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}componentWillUnmount(){null!==this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}render(){return this.props.children(this.ref)}}const o=l},17206:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(970588),a=n(739425);const l=(e=(()=>{}))=>{const t=(0,a.mB)(window.location.search),{invite_code:n}=t;if(!n)return void e(t);const l=encodeURIComponent(n),o=encodeURIComponent(l);(0,i.Z)({url:"/v3/invite_code/attribution/land/",method:"POST",data:{invite_code:o}})}},619795:(e,t,n)=>{n.d(t,{U:()=>p});var i=n(40660);const a="nic_v3",l=`${a}=1a`,o=`${a}=1b`,r=[l,o],s=["invite_code","invite","board_invite_code","sender"],d=e=>!!s.find((t=>e.includes(t))),c=e=>{return e.pathname.includes("/pin/")&&!d(e.search)&&(t=e.search,!r.find((e=>t.includes(e))));var t},u=(e,t,n=!1,r)=>{if(!c(e))return;const s=n?"mweb":"web";if(t){i.Z.increment(`${s}.${a}.social_tracking_pin_non_invite.insert.attempt`);try{const d=((e,t,n)=>{const i=(e.search?"&":"?")+(n?o:l)+t;return e.pathname+e.search+i})(e,t,n);i.Z.increment(`${s}.${a}.social_tracking_pin_non_invite.insert.success`),r(d)}catch(d){i.Z.increment(`${s}.${a}.social_tracking_pin_non_invite.insert.caught_exception`)}}else i.Z.increment(`${s}.${a}.social_tracking_pin_non_invite.insert.no_encrypted_id`)},p=(e,t,n,l,o)=>{const r=n?"mweb":"web";i.Z.increment(`${r}.${a}.social_tracking_pin_non_invite.attempt`);try{!n&&l&&c(e)?(i.Z.increment(`${r}.${a}.social_tracking_pin_non_invite.search_string_eligible`),((e,t,n=!1,i)=>{u(e,"",n,i)})(e,0,n,o)):(s=e.search,d(s)||(e=>e.includes("sender"))(s)||!s.includes(a)||i.Z.increment(`${r}.${a}.social_tracking_pin_non_invite.search_string_land`))}catch(p){i.Z.increment(`${r}.${a}.social_tracking_pin_non_invite.caught_exception`)}var s}},110417:(e,t,n)=>{n.d(t,{Rq:()=>l,Vf:()=>o,jd:()=>r,k8:()=>d,oy:()=>s});var i=n(457628),a=n(791045);const l=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,o=28,r=e=>window.innerHeight>=748&&l(e),s=function(){return!("undefined"==typeof window||!window.navigator)&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)},d=e=>{if(s()){const t=i.U2(a.oj);e.experimentsClient.flush(),t||(i.t8(a.oj,String(!0),(0,i.kZ)(a.oj)),"undefined"!=typeof window&&window.location.reload(!0))}}},525571:(e,t,n)=>{n.d(t,{Z:()=>a});const i=28;function a(e){if(!e)return!1;const t=new Date(e);return t.setDate(t.getDate()+i),(new Date).getTime()<t.getTime()}},948196:(e,t,n)=>{function i(e){return"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)}n.d(t,{Z:()=>i})},5342:(e,t,n)=>{n.d(t,{Z:()=>a});const i=28;function a(e,t,n=i){if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;let a;a=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;const l=new Date,o=a?new Date(a):l;return o.setDate(o.getDate()+n),(new Date).getTime()<o.getTime()}},731048:(e,t,n)=>{n.d(t,{Z:()=>i});const i={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},943795:(e,t,n)=>{n.r(t),n.d(t,{DEFAULT_HEIGHT:()=>c,DEFAULT_PADDING_Y:()=>u,FixedFooter:()=>v,FixedHeader:()=>y});var i=n(667294),a=n(883119),l=n(377234),o=n(906215),r=n(107577),s=n(245410),d=n(785893);const c=64,u=3,p=100,m=44,h="0px 0px 8px rgba(0, 0, 0, 0.1)",g="1px solid #efefef";function _({children:e,footerConfig:t,headerConfig:n,height:r,hideOnScroll:m,hideOnScrollState:{isHidden:_,updateHiddenState:y},noPadding:v,paddingY:f=u,type:b,zIndex:x}){const{headerLimitedOverflow:k,ignoreObstructions:P,zIndexForGestaltBug:S}=n||{},{appUpsellFooterConfig:w,footerInLego:T,navFooterConfig:I}=t||{},A=!!w,C="header"===b?"top":"bottom",{anyEnabled:j}=(0,s.F)().checkExperiment("hfp_hf_ssr_mweb",{dangerouslySkipActivation:!0}),E=(0,l.vs)(),R=j?E:(0,l.Yc)(),L=(0,i.useRef)(null),D=(0,i.useRef)(null);(0,i.useEffect)((()=>{try{if(!P){const e=L.current;D.current=k&&e&&Array.isArray(e.children)?e.children[0]:e,D.current instanceof HTMLElement&&o.Z.addObstruction(C,D.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{P||D.current instanceof HTMLElement&&o.Z.removeObstruction(C,D.current)}}),[P,k,C,R]);const F="top"===C?"relative":"fixed",z=v?0:f,M=(null!=r?r:c)+((null==n?void 0:n.overrideTop)||0),O=m||I?{transition:T?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",..._?{transform:`translateY(${"top"===C?-M:M}px)`,opacity:T?0:1}:Object.freeze({})}:{},B="relative"!==F||null!=n&&n.noGutter?0:2,Z=B?-B:0,N=R?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)";let U,K;return R&&("header"===b?U=-1:K=-1),(0,d.jsx)(a.xu,{ref:L,dangerouslySetInlineStyle:{__style:{top:U,bottomStyle:K,...!x||S?{zIndex:S||1}:Object.freeze({}),...k?{background:"transparent",overflow:"hidden",paddingBottom:p,marginBottom:-p,pointerEvents:"none"}:Object.freeze({}),...null!=n&&n.hasBorder?{borderBottom:g}:Object.freeze({}),...null!=t&&t.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...O}},zIndex:S?void 0:x,"data-test-id":b,display:A?"flex":void 0,height:r&&!T?r:void 0,position:F,bottom:"footer"===b,top:"header"===b,left:!0,right:!0,marginStart:T?"auto":Z,marginEnd:T?"auto":Z,onTransitionEnd:()=>{(m||I)&&D.current&&(_?o.Z.removeObstruction(C,D.current):o.Z.addObstruction(C,D.current))},width:T||"fixed"!==F?void 0:"100%",children:(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:(null==n?void 0:n.isTranslucent)&&N||(null==n?void 0:n.isTransparentBackground)&&"transparent"||"var(--color-background-default)",height:T?A?void 0:null!=r?r:c:"100%",boxShadow:T?h:void 0,marginBottom:!T||null!=I&&I.docked?void 0:16,...k?{pointerEvents:"auto"}:Object.freeze({}),...null!=n&&n.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},paddingX:("footer"!==b||v?0:4)+B,paddingY:z,position:"relative",width:I?I.footerWidth:A?void 0:"100%",rounding:!T||null!=I&&I.docked?void 0:"pill",display:T||null!=t&&t.alignCenter?"flex":void 0,marginStart:T?"auto":void 0,marginEnd:T?"auto":void 0,alignItems:null!=t&&t.alignCenter?"center":void 0,children:"function"==typeof e?e({updateHiddenState:y}):e})})}function y({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:n,isTranslucent:i,isTransparentBackground:l,noGutter:o,overrideTop:s,useRoundedCorners:c,zIndexForGestaltBug:p,...h}){const{noPadding:g,paddingY:y=u,zIndex:v}=h,f=g?0:y;return(0,d.jsx)(a.Le,{top:s||0,height:t?m+2*f*4:void 0,zIndex:v||void 0,children:(0,d.jsx)(r.Z,{hideOnScroll:h.hideOnScroll,children:a=>(0,d.jsx)(_,{...h,hideOnScrollState:a,type:"header",headerConfig:{isTranslucent:i,isTransparentBackground:l,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:n,noGutter:o,overrideTop:s,zIndexForGestaltBug:p,useRoundedCorners:c}})})})}function v({alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,hasTopShadow:i,navFooterConfig:a,...l}){return(0,d.jsx)(r.Z,{appUpsellFooterConfig:t,hideOnScroll:l.hideOnScroll,navFooterConfig:null==a?void 0:a.scrollConfig,children:o=>(0,d.jsx)(_,{...l,hideOnScrollState:o,type:"footer",footerConfig:{alignCenter:e,appUpsellFooterConfig:t,footerInLego:n,hasTopShadow:i,navFooterConfig:a}})})}},107577:(e,t,n)=>{n.d(t,{Z:()=>r,m:()=>o});var i=n(667294),a=n(552369);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o=20;class r extends i.Component{constructor(...e){var t;super(...e),l(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!(null===(t=this.props.navFooterConfig)||void 0===t||!t.isDockedNavOnPlp)}),l(this,"lastScrollPos",0),l(this,"updateHiddenState",(e=>{this.reqAnimationId=window.requestAnimationFrame((()=>{this.setState({isHidden:e})}))})),l(this,"handleScroll",(0,a.Z)((()=>{var e;const{appUpsellFooterConfig:t,navFooterConfig:n}=this.props,{isHidden:i}=this.state,a=window.scrollY,l=a-this.lastScrollPos;let r="none";const{scrollHeight:s,clientHeight:d}=document.documentElement||{};if(!Number.isNaN(s)&&!Number.isNaN(d))if(l<0){const e=window.scrollMinY||0;r=a<=Math.abs(e+Math.max(l,o))?"start":"none"}else{r=a>=(window.scrollMaxY||s-d)-Math.max(l,o)?"end":"none"}const c=null!=n&&n.isModal?0:55;if(t)if(l>o&&i&&a>=500){t.shouldShowAfterScroll()&&(this.updateHiddenState(!1),null==n||n.onScroll(!1))}else(l<-o&&!i||a<=c)&&(this.updateHiddenState(!0),null==n||n.onScroll(!0));else null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp?"start"===r&&!i||a<=c?(this.updateHiddenState(!0),null==n||n.onScroll(!0)):(a>c||"end"===r)&&i&&(this.updateHiddenState(!1),null==n||n.onScroll(!1)):(l<-o||"start"===r)&&i||a<=c?(this.updateHiddenState(!1),null==n||n.onScroll(!1)):(l>o||"end"===r)&&!i&&(this.updateHiddenState(!0),null==n||n.onScroll(!0));this.lastScrollPos=a}),30))}componentDidMount(){try{var e;(this.props.hideOnScroll||null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(t){window.console.error(t),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){var e;(this.props.hideOnScroll||null!==(e=this.props.navFooterConfig)&&void 0!==e&&e.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){var t,n,i,a;!e.hideOnScroll&&this.props.hideOnScroll||(null===(t=e.navFooterConfig)||void 0===t||!t.isDockedNavOnPlp)&&null!==(n=this.props.navFooterConfig)&&void 0!==n&&n.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||null!==(i=e.navFooterConfig)&&void 0!==i&&i.isDockedNavOnPlp&&(null===(a=this.props.navFooterConfig)||void 0===a||!a.isDockedNavOnPlp))&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){const{children:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state;return e({isHidden:!(null!=t&&t.forceShow)&&n,updateHiddenState:this.updateHiddenState})}}},265259:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),a=n(24286),l=n(319689),o=n(549201),r=n(785893);const s=({children:e,roundedForLargeDevice:t})=>{const n="phone"!==(0,o.ZP)()&&t;return(0,l.V)()?(0,r.jsx)(i.xu,{marginStart:-a.D6,marginEnd:-a.D6,rounding:n?6:void 0,overflow:n?"hidden":void 0,children:(0,r.jsx)(l.C,{value:!1,children:e})}):e}},993869:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var i=n(883119),a=n(24286),l=n(110417),o=n(319689),r=n(282802),s=n(785893);const d=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:n=!1,hasGutter:d=!0,height:c,showKeychainError:u=!1,useViewport:p=!1})=>{const m=(0,r.B)(),h=(0,l.jd)(m.userAgent.platform)?l.Vf:0;return(0,s.jsx)(i.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:p?`calc(100vh - ${h}px)`:c,paddingX:d?a.D6:void 0,paddingY:n||u?void 0:3,children:(0,s.jsx)(o.C,{value:!!d,children:e})})}},319689:(e,t,n)=>{n.d(t,{C:()=>l,V:()=>o});var i=n(667294);const a=(0,i.createContext)(!1),l=a.Provider,o=()=>(0,i.useContext)(a)},354428:(e,t,n)=>{n.d(t,{Se:()=>y,iw:()=>f,gV:()=>g,G3:()=>b,Gj:()=>v,Jd:()=>h,$3:()=>_});var i=n(965533),a=n(457628),l=n(791045),o=n(970588),r=n(250307);const s=e=>"string"!=typeof e&&e?e.state:null;var d=n(845098),c=n(48040),u=n(957733),p=n(625168),m=n(795142);const h=()=>{window&&window.focus(),document.activeElement&&document.activeElement.blur()},g=({isOffsiteUrl:e,event:t})=>!e&&(t.metaKey||t.ctrlKey),_=({location:e,pinId:t,surface:n})=>!!n&&!m.ZF.includes(n)||e.pathname.includes(t),y=(e,t)=>{var n,i;const o=Math.round(1e3*Math.random())+"",r=Math.round(1e3*Math.random())+"";a.t8((0,l.GS)(o),r);const s={token:`${o}-${r}`,url:e,...t&&!t.params?t.queryParams:{pin:null!==(n=null==t?void 0:t.params.pinId)&&void 0!==n?n:void 0,csr:null==t||!t.params.csrId||null!==(i=t.params)&&void 0!==i&&i.pinId?void 0:t.params.csrId,client_tracking_params:null==t?void 0:t.params.clientTrackingParams,aux_data:null!=t&&t.params.auxData?JSON.stringify(t.params.auxData):void 0}};return`/offsite/?${(0,d.Z)(s)}`},v=(e,t)=>{(0,i.Z)(y(e,t),!0)},f=async({clientTrackingParams:e,href:t,isMounted:n,pinId:i,spamCheckCallback:a})=>{const l=await(0,o.Z)({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:e,pin_id:i,url:t}});if(!l.resource_response.error&&n){const e=l.resource_response.data||{},{message:t,redirect_status:n,url:i}=e;a({blocked:["blocked","suspicious","porn"].includes(n),message:t,redirectStatus:n,sanitized_url:i})}},b=({event:e,onHistoryChange:t,href:n,history:a,target:l})=>{const o=(0,r.Z)(n),d=s(n),m=(0,c.Z)(o);m===p.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===l?(0,i.Z)(o,"blank"===l):a&&m===p.Z.SAME_ORIGIN&&(a.push((0,u.Z)({url:o}),null!=d?d:{}),t&&t({event:e}))}},599551:(e,t,n)=>{n.d(t,{Z:()=>p,p:()=>m});var i=n(667294),a=n(616550),l=n(946618),o=n(354428),r=n(300657),s=n(250307),d=n(28630),c=n(554318),u=n(935340);function p(e){var t,n,p;const{externalData:m,href:h,onHistoryChange:g,target:_}=e,[y,v]=(0,i.useState)(null),[f,b]=(0,i.useState)(!1),x=(0,a.useHistory)(),k=(0,a.useLocation)(),P=(0,s.Z)(h),S=(0,d.Z)({url:P}),{showWarning:w}=null!==(t=(0,c.s)())&&void 0!==t?t:{},{pin:T,surface:I}=m||{},A=T?(0,l.Z)({boardUrl:null===(n=T.board)||void 0===n?void 0:n.url,location:k,pinId:T.entityId,pinnerUserName:null===(p=T.pinner)||void 0===p?void 0:p.username,storyPinDataId:T.storyPinDataId,trackingParams:T.trackingParams,trackingParamsMap:T.trackingParamsMap}):null,C=(0,r.Z)();return(0,i.useEffect)((()=>(b(!0),()=>{b(!1)})),[]),(0,i.useEffect)((()=>{S&&T&&null===y&&f&&(!T.promoter||T.isDownstreamPromotion)&&(0,o.$3)({location:k,pinId:T.entityId,surface:I})&&(0,o.iw)({clientTrackingParams:A,isMounted:f,pinId:T.entityId,spamCheckCallback:e=>v(e),href:P})}),[A,T,I,P,S,f,k,y]),({event:e})=>{var t;(0,o.gV)({isOffsiteUrl:S,event:e})||(e.preventDefault(),h?S||null!=m&&m.dangerouslyForceOffsiteUrl?C({auxData:null==m?void 0:m.auxData,clientTrackingParams:A,pin:(null==m?void 0:m.pin)&&{attributionSourceId:m.pin.attributionSourceId,campaignId:m.pin.campaignId,isPromoted:m.pin.isPromoted,pinPromotionId:m.pin.pinPromotionId},pinId:null==m||null===(t=m.pin)||void 0===t?void 0:t.entityId,queryParams:null==m?void 0:m.queryParams,showWarning:w,spamCheck:y,url:P}):(0,o.G3)({event:e,href:h,history:x,onHistoryChange:g,target:"blank"===_?"blank":null}):(0,u.nP)("link_navigation_empty_href",{sampleRate:1,tags:{route:k.pathname}}))}}const m=({children:e,...t})=>e({handleClick:p(t)})},300657:(e,t,n)=>{n.d(t,{Z:()=>u,t:()=>c});var i=n(758579),a=n(78309),l=n(521262),o=n(969327),r=n(388011),s=n(354428),d=n(204926);const c=()=>{const{logContextEvent:e}=(0,r.v)();return({attributionSourceId:t,auxData:n,campaignId:r,clientTrackingParams:d,href:c,isPromoted:u,pinId:p,pinPromotionId:m})=>{var h;if(!u)return!1;const g=(0,i.Z)(),_=(0,s.Se)(c,{params:{pinId:p,csrId:null,clientTrackingParams:d,auxData:n}}),y=null!==(h=null==g?void 0:g.userAgent.browserName)&&void 0!==h?h:"";if((0,o.G6)(y)){var v,f;const{group:n}=null!==(v=null==g?void 0:g.experimentsClient.checkExperiment("m10n_event_conversion_measurement"))&&void 0!==v?v:{},i=null!=g&&null!==(f=g.userAgent)&&void 0!==f&&f.browserVersion?g.userAgent.browserVersion:"0.0",l=parseFloat(i.split(".")[0]+"."+i.split(".")[1]);if(t&&l>=14.1&&["enabled_safari"].includes(n))return((e,t,n)=>{const i=document.createElement("a");i.setAttribute("href",t),i.setAttribute("target","_blank"),i.setAttribute("rel","noopener nofollow noreferrer"),i.style.cursor="pointer",i.style.display="block",i.setAttribute(a.$N.ATTRIBUTION_SOURCE_ID,e),i.setAttribute(a.$N.ATTRIBUTE_DESTINATION,n),i.setAttribute(a.$N.ATTRIBUTE_ON,n),i.click()})(t,_,c),e({event_type:101,clientTrackingParams:d,object_id_str:p||"",aux_data:{pin_id:p||"",click_measurement_ppid:m||"",click_measurement_campaign_id:r||"",is_pcm:!0,attribution_source_id:t,page_url:c}}),!0}else if((0,o.i7)(y)){var b,x;const{group:n}=null!==(b=null==g?void 0:g.experimentsClient.checkExperiment("m10n_event_conversion_measurement_chrome"))&&void 0!==b?b:{},i=null!=g&&null!==(x=g.userAgent)&&void 0!==x&&x.browserVersion?parseInt(g.userAgent.browserVersion.split(".")[0],10):0;if(void 0!==t&&i>=101&&["enabled"].includes(n)){const n=null!=t?t:"0";return((e,t,n,i)=>{const o=(0,l.m_)(e,n,!0,i),r=document.createElement("a");r.setAttribute("href",t),r.setAttribute("target","_blank"),r.setAttribute("rel","noopener nofollow noreferrer"),r.style.cursor="pointer",r.style.display="block",r.setAttribute(a.NR.SOURCE,o),r.click()})(n,_,c,r),e({event_type:101,clientTrackingParams:d,object_id_str:p||"",aux_data:{pin_id:p||"",click_measurement_ppid:m||"",click_measurement_campaign_id:r||"",is_arapi:!0,attribution_source_id:n,page_url:c}}),!0}}return!1}},u=e=>{const t=c();return({auxData:n,clientTrackingParams:i,pin:a,pinId:l,queryParams:o,showWarning:r,spamCheck:c,url:u})=>{"undefined"!=typeof window&&window.Windows?(0,d.Z)(u,{clientTrackingParams:i,pinId:l,hasPin:!!a,auxData:n}):a||null!=e&&e.isFromClickthroughLink?null!=c&&c.blocked?null==r||r(c):a&&t({attributionSourceId:a.attributionSourceId,auxData:n,campaignId:a.campaignId?String(a.campaignId):null,clientTrackingParams:i,href:u,isPromoted:a.isPromoted,pinId:l,pinPromotionId:a.pinPromotionId?String(a.pinPromotionId):null})||(0,s.Gj)(u,{params:{pinId:l,clientTrackingParams:i,auxData:n}}):(0,s.Gj)(u,o?{queryParams:o}:{params:{pinId:l}})}}},307052:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(40660);const a=20,l=100,o=.01;function r(e,t){return new Promise(((n,r)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)n();else{const t=setInterval((()=>{window.FB||e===a?(clearInterval(t),n()):(e+=1,i.Z.increment(`mweb.loadScript.facebook.tries_${e}`,o))}),l)}else if("GSI"===t)if(window.google)n();else{const t=setInterval((()=>{window.google||e===a?(clearInterval(t),n()):(e+=1,i.Z.increment(`mweb.loadScript.gsi.tries_${e}`,o))}),l)}else n()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",(()=>n())),t.addEventListener("error",r),document.getElementsByTagName("head")[0].appendChild(t)}}))}},279409:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(948196);function a(e,t=!1){return n=>{if(!(0,i.Z)(n))return t&&Array.isArray(n)?n.map(a(e,t)):n;const l={};return Object.keys(n).forEach((o=>{const r=e(n[o],o);(0,i.Z)(n[o])||t&&Array.isArray(n[o])?l[r]=a(e,t)(n[o]):l[r]=n[o]})),l}}function l(e,t=!1){const n=(t,n)=>e(n);return e=>a(n,t)(e)}},532465:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>o});const a=new class{constructor(){i(this,"onResumeListeners",[]),i(this,"onPauseListeners",[]),i(this,"inExp",!1),i(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter((t=>t!==e))}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter((t=>t!==e))}getAppState(){return this.windowInFocus?0:void 0}},l=e=>{if(e.isHidden){const{reason:t}=e;a.windowInFocus=!1,a.onPauseListeners.forEach((e=>e(t)))}else a.windowInFocus=!0,a.onResumeListeners.forEach((e=>e()))};setTimeout((()=>{window.addEventListener("beforeunload",(()=>l({isHidden:!0,reason:"beforeunload"}))),window.addEventListener("focus",(()=>l({isHidden:!1}))),window.addEventListener("blur",(()=>l({isHidden:!0,reason:"blur"}))),window.addEventListener("pageshow",(()=>l({isHidden:!1}))),window.addEventListener("pagehide",(()=>l({isHidden:!0,reason:"pagehide"}))),void 0!==document.hidden?document.addEventListener("visibilitychange",(()=>l(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",(()=>l(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1)}),0);const o=a},7997:(e,t,n)=>{n.d(t,{Z:()=>i});const i=({hasRecipe:e,hasArticle:t,i18n:n})=>e?n._('Make it', 'pinPage.pinActionBar.Makeit.Button', 'Text on a button that lets users visit the source of the pin'):t?n._('Read it', 'pinPage.pinActionBar.Readit.Button', 'Text on a button that lets users visit the source of the pin'):n._('Visit', 'pinPage.pinActionBar.visitButton', 'Text on a button that lets users visit the source of the pin')},624417:(e,t,n)=>{function i({embedSrc:e,embedType:t,imagesUrls:n,preferredResolution:i,excludeOriginals:a}){if(!e&&!t&&!n)return"";if("gif"===t)return e||"";if(!n)return"";if(i){const e="474x"===i&&n["474x"]||"236x"===i&&n["236x"]||n["736x"];if(e)return e}const l=Object.keys(n).reduce(((e,t)=>{try{const i=t.split("x")[0];return Number.isNaN(Number(i))?{...e,[t]:n[t]}:{...e,[i]:n[t]}}catch(i){return e}}),{}),o=Object.keys(l);a&&"orig"===o[o.length-1]&&o.pop();return l[o.pop()]||""}n.d(t,{Z:()=>i})},740494:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(465991);const a=e=>(e||"").trim().replace(/\s+/g," "),l=({storyPinDataId:e,pinDescription:t,richMetadataDescription:n,richSummaryDisplayName:l,closeupDescription:o,closeupUnifiedDescription:r,seoDescription:s,seoNoindexReason:d})=>{if(d&&i.eg.has(d))return a(s);return!!e?a(t):a((0,i.eK)({richMetadataDescription:n,richSummaryDisplayName:l,closeupUnifiedDescription:r}).description)||a(r||"")||a(o)||a(t)||a(n)||""}},150875:(e,t,n)=>{n.d(t,{Z:()=>l});const i=800,a=400;function l(){let e=i,t=a;return"undefined"!=typeof window&&(e=window.innerHeight,t=window.innerWidth),{windowHeight:e,windowWidth:t}}},898252:(e,t,n)=>{n.d(t,{NK:()=>_,P6:()=>l,VX:()=>r,ZE:()=>h,Zt:()=>g,_J:()=>d,_S:()=>y,cL:()=>p,jL:()=>s,oN:()=>a,rM:()=>m,sV:()=>c,sY:()=>u});var i=n(505204);const a=5e3,l=a/i.gJ,o=["Uploaded by user"],r=(e,t)=>t&&t.products&&t.products.length>0||(null==e?void 0:e.products)&&e.products.length>0||!1,s=(e,t)=>!!t&&!e,d=e=>!!e&&5!==e,c=e=>["email","messages","deep_linking"].includes(e),u=e=>!!e&&"gif"===e,p=({embedSrc:e,embedSubtype:t,embedType:n})=>!!e&&!u(n)&&!(e=>"pinstory"===e)(t),m=({link:e,mobileLink:t,trackedLink:n})=>!t&&!n&&!e,h=e=>/pin.it/gim.test(e||""),g=({link:e,mobileLink:t,origImageUrl:n,trackedLink:i})=>t||i||e||n||"",_=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function y(e){for(const t of o)if(e===t)return!1;return!0}},465991:(e,t,n)=>{n.d(t,{eg:()=>o,kt:()=>h,rw:()=>p,fs:()=>d,eK:()=>c,Ly:()=>u,BY:()=>m,bN:()=>g,RC:()=>r,EU:()=>s});const i=/\s\s+/g,a=e=>e.replace(i," ");var l=n(371362);const o=Object.freeze(new Set(["sensitive_raw_pin_text","is_sensitive_rich_pin_description","is_sensitive_rich_pin_title","is_sensitive_board_title"])),r=({storyPinDataMetadataPinTitle:e,pinTitle:t})=>e||t,s=(e,t)=>e?e.trim().length>t?(0,l.ZP)(e.trim(),t).trim():e.trim():"",d=({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:l})=>{const o=l||e,r=s(t,200);return r||(n||(i||(a&&o?o:null)))},c=e=>{const{richSummaryDisplayName:t}=e,n=e.pinJoinVisualAnnotation||[],i=e.pinJoinAnnotationsWithLinks||{},o=e.richMetadataDescription||"",r=e.closeupUnifiedDescription||"",s=n.map((e=>(i||{})[e]||{name:e,url:""}));let d="";const c=(t||"").toLocaleLowerCase().trim(),u=o.toLocaleLowerCase().trim(),p=r.toLocaleLowerCase().trim();return r&&r.length>3&&p!==c?d=r:o&&o.length>3&&u!==c&&(d=o),d&&(d=a((0,l.ZP)(d,496)).trim()),{description:d,annotationsWithLinks:s}},u=({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:l,pinJoinVisualAnnotation:r,seoNoindexReason:s,seoTitle:c})=>o.has(null!=s?s:"")?c:d({pinTitle:e,gridTitle:t,richSummaryDisplayName:n,richMetadataTitle:i,storyPinDataId:a,storyPinDataMetadataPinTitle:l})||(null==r?void 0:r[0])||e,p=(e,t,n,i,a)=>{const l=(o=e,"string"==typeof o?o:"").trim();var o;let r="";const s=(e,t)=>t&&t.length>0?`${e} ${t.join(", ")}`:e;return r=i&&i.trim().length?s(i.trim(),n):a&&a.trim().length?a.trim():l?s(l,n):n?n.join(", "):"",r},m=e=>`/pin/${e}/`,h=(e,t)=>{const n=`Pinterest video from ${t}: `.concat(e);return""===t?e:n},g=({pinId:e,seoUrl:t})=>t&&"string"==typeof t?t:m(e)},769705:(e,t,n)=>{n.d(t,{Z:()=>o});n(167912);var i,a=n(825389);const l=void 0!==i?i:i=n(417429),o=e=>{const{data:t}=(0,a.uf)(l,e,{useLegacyAdapter:e=>{var t,n,i,a,l,o,r,s,d;return{imageSpec_60x60:(null==e||null===(t=e.images)||void 0===t?void 0:t["60x60"])&&{url:e.images["60x60"].url},imageSpec_136x136:(null==e||null===(n=e.images)||void 0===n?void 0:n["136x136"])&&{url:e.images["136x136"].url},imageSpec_170x:(null==e||null===(i=e.images)||void 0===i?void 0:i["170x"])&&{url:e.images["170x"].url},imageSpec_236x:(null==e||null===(a=e.images)||void 0===a?void 0:a["236x"])&&{url:e.images["236x"].url},imageSpec_474x:(null==e||null===(l=e.images)||void 0===l?void 0:l["474x"])&&{url:e.images["474x"].url},imageSpec_564x:(null==e||null===(o=e.images)||void 0===o?void 0:o["564x"])&&{url:e.images["564x"].url},imageSpec_736x:(null==e||null===(r=e.images)||void 0===r?void 0:r["736x"])&&{url:e.images["736x"].url},imageSpec_600x315:(null==e||null===(s=e.images)||void 0===s?void 0:s["600x315"])&&{url:e.images["600x315"].url},imageSpec_orig:(null==e||null===(d=e.images)||void 0===d?void 0:d.orig)&&{url:e.images.orig.url}}}});return[["60x60",t.imageSpec_60x60],["136x136",t.imageSpec_136x136],["170x",t.imageSpec_170x],["236x",t.imageSpec_236x],["474x",t.imageSpec_474x],["564x",t.imageSpec_564x],["736x",t.imageSpec_736x],["600x315",t.imageSpec_600x315],["orig",t.imageSpec_orig]].reduce(((e,[t,n])=>n?{...e,[t]:n.url}:e),{})}},600268:(e,t,n)=>{n.d(t,{NC:()=>l,Rc:()=>r,WK:()=>d,X9:()=>a,b9:()=>i,f9:()=>s,gu:()=>o});const i="pin-builder-font-faces",a="system-font-faces",l="pin-builder-education-font-faces",o="licensed",r="system",s="brand",d=4},140523:(e,t,n)=>{n.d(t,{Z:()=>i});const i={STARTED:1,FINISHED:2}},937633:(e,t,n)=>{n.d(t,{k:()=>P});var i=n(667294),a=n(702664),l=n(690108),o=n(970588);const r=["etsy","facebook","microsoft","twitter","google","instagram","youtube","dropbox"];function s({network:e,data:t,requestContext:n}){if(r.includes(e))return l.Z.create("UserSocialNetworkResource",{network:e,data:t}).callCreate();const i=`/v3/connect/${e}/`,a=((e,t,n)=>{let i;switch(e){case"facebook":const{facebookToken:e}=n;i=t?{facebook_id:t.id,facebook_token:e}:Object.freeze({});break;case"gplus":i=t?{one_time_code:t.one_time_code,redirect_uri:t.redirect_uri||void 0}:Object.freeze({});break;case"line":i=t?{line_id_token:t.line_id_token,line_access_token:t.line_access_token}:Object.freeze({});break;default:i=Object.freeze({})}return i})(e,t,n);return(0,o.Z)({url:i,method:"PUT",data:a})}var d=n(820997),c=n(125715),u=n(310072),p=n(947326),m=n(684113),h=n(837792),g=n(98736);let _=Object.freeze({});const y=({i18n:e,network:t,callbacks:n,requestContext:i,inAnyGoogleLocaleFixExperiment:a})=>{if(n={error:()=>{},complete:()=>{},...n},(0,g.My)(`auth_web.social_connect.${t}.${(0,u.Z)(i)}`),"gplus"===t||"google"===t)(0,g.My)("auth_web.social_connect.google.migration"),async function(e,t){var n,i;await(0,m.Px)(void 0,t||void 0);const a=null===(n=window.google)||void 0===n||null===(i=n.accounts)||void 0===i?void 0:i.oauth2;a&&a.initCodeClient({client_id:h.v3,scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile",ux_mode:"popup",callback:e}).requestCode()}((e=>{n.success({one_time_code:e.code,redirect_uri:"postmessage"})}),a?i.language:void 0);else if("line"===t){const{locale:e}=i;(0,p.Z)(e,n)}else{const i=window.open("/connect/"+t+"/","",(e=>{switch(e){case"dropbox":return"width=600,height=800";case"instagram":return(0,c.Z)({width:580,height:580});case"etsy":return(0,c.Z)({width:580,height:775});case"youtube":return(0,c.Z)({width:605,height:640});default:return(0,c.Z)()}})(t));if(!i)return d.Z.showError(e._('You must enable popups!', ' - ', ' -- ')),void(n.error&&n.error(Object.freeze({})));_={..._,[t]:n}}};window.addEventListener("message",(e=>{const t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");if(e.origin!==t)return;const n=e.data;if(n&&"social-connect-complete"===n.type){const t=e.data;t.network&&(e=>{const{network:t}=e;if(!_[t])return;const{[t]:{error:n,success:i,complete:a},...l}=_;_={...l},"error"===e.type?null==n||n(Object.freeze({message:"Please do not close the window when claiming your account!"})):i("facebook"===e.network?{id:e.profile.id}:{one_time_code:e.one_time_code,redirect_uri:e.redirect_uri}),null==a||a()})(t)}}));var v=n(245410),f=n(282802),b=n(756513),x=n(802071);class k{constructor({invalidateResource:e,requestContext:t,viewer:n,inAnyGoogleLocaleFixExperiment:i}){this.getUserId=()=>n.isAuth?n.id:"",this.getUsername=()=>n.isAuth?n.username:"",this.isLimitedLogin=()=>n.isLimitedLogin,this.invalidateResource=e,this.requestContext=t,this.inAnyGoogleLocaleFixExperiment=i}handleConnect(e,t,n,i){const a=t=>{("connect"===t.type?s({network:e,data:t.data,requestContext:this.requestContext}):(0,o.Z)({url:`/v3/connect/${e}/`,method:"DELETE"})).then((e=>{var t;const i={user_id:this.getUserId(),username:this.getUsername(),field_set_key:"social_connect"};this.invalidateResource("UserResource",i),l.Z.create("UserResource",i).callGet(),null===(t=n.success)||void 0===t||t.call(n,e)}),(e=>{var t;e&&"object"==typeof e&&(null===(t=n.error)||void 0===t||t.call(n,{api_error_code:e.api_error_code,code:e.code,message:e.message}))})).finally((()=>{var e;null===(e=n.complete)||void 0===e||e.call(n)}))};t?this.isLimitedLogin()?a({type:"connect"}):y({network:e,callbacks:{success:e=>a({type:"connect",data:e}),error:n.error,complete:n.complete},i18n:i,requestContext:this.requestContext,inAnyGoogleLocaleFixExperiment:this.inAnyGoogleLocaleFixExperiment}):a({type:"disconnect"})}}function P(){const e=(0,a.useDispatch)(),t=(0,f.B)(),n=(0,x.Z)(),{checkExperiment:l}=(0,v.F)(),o=l("mweb_google_button_locale_fix").anyEnabled||l("dweb_google_button_locale_fix").anyEnabled;return(0,i.useMemo)((()=>new k({invalidateResource:(t,n)=>e((0,b.jB)(t,n)),requestContext:t,viewer:n,inAnyGoogleLocaleFixExperiment:o})),[e,o,t,n])}},947326:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(457628),a=n(791045),l=n(611756);var o=n(837792),r=n(739425),s=n(845098),d=n(619277);const c="undefined"!=typeof window,u=c?`${window.location.origin}/oauth/line/redirect`:"",p=({origin:e,data:t})=>t&&e===window.location.origin?String(t):null,m=({url:e,key:t})=>{if(!e.startsWith(window.location.origin)||t!==d.MM)return null;const n=(0,l.qn)(d.MM);return(0,l.L_)(d.MM),n};function h(e,t){var n;if(!c)return void(null===(n=t.error)||void 0===n||n.call(t,{message:"Window is undefined"}));let l;const d=function(e=5){const t="abcdefghijklmnopqrstuvwxyz1234567890";return new Array(e).fill("").map((()=>t[Math.floor(36*Math.random())])).join("")}(10),h=async e=>{if(!e.isTrusted)return;const n=e instanceof MessageEvent?p(e):m(e),o=(0,r.mB)(n);if(o.state&&o.code&&o.state===d){l&&!l.closed&&l.close();try{const e=await fetch("/oauth/line/verify",{headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-csrftoken":`${String(i.U2(a.fS))}`},method:"POST",body:(0,s.Z)({code:o.code,redirect_uri:u})}),n=await e.json(),{id_token:l,access_token:r}=n;var c;if(l&&r)t.success({line_id_token:l,line_access_token:r});else null===(c=t.error)||void 0===c||c.call(t,{message:"No tokens returned"})}catch(y){var g;null===(g=t.error)||void 0===g||g.call(t,y)}finally{var _;l&&!l.closed&&l.close(),window.removeEventListener("message",h),window.removeEventListener("storage",h),null===(_=t.complete)||void 0===_||_.call(t)}}};window.addEventListener("message",h),window.addEventListener("storage",h),l=window.open(`https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=${o.z}&redirect_uri=${encodeURIComponent(u)}&state=${d}&ui_locales=${e}&scope=profile%20openid%20email`,"_blank")}},450667:(e,t,n)=>{n.d(t,{GH:()=>s,JF:()=>_,Jb:()=>m,MI:()=>g,_V:()=>d,sl:()=>u,we:()=>p});var i=n(560544),a=n(970588),l=n(307052),o=n(710197),r=n(98736);const s="274266067164",d=e=>{const t=["public_profile","email","user_friends"];return e?t:[...t,"user_birthday"]},c=["picture.type(large)","id","first_name","last_name","email","gender"],u=e=>{e&&(0,r.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,r.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:s,status:!0,xfbml:!0,version:"v2.7"})):e?(0,r.dy)({event:"global_object_not_found",provider:"facebook"}):(0,r.My)("pcons.non_autologin.fb.global_object_not_found")},p=(e,t)=>{t&&(0,r.dy)({event:"load_script_start",provider:"facebook"});return(0,l.Z)((0,o.Z)(e),"FACEBOOK").then((()=>u(t)))},m=()=>new Promise((e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)})),h=({userID:e,accessToken:t,data:{birthday:n,email:a,first_name:l,gender:o,last_name:r,picture:s}})=>({type:"facebook",facebook_id:e,facebook_token:t,birthday:n?(0,i.Z)(n):void 0,email:a,first_name:l,gender:o,image_url:s&&!s.data.is_silhouette?s.data.url:void 0,last_name:r});async function g(e,t){const n=(await(0,a.Z)({url:"/v3/facebook/profile_data/",method:"POST",data:{access_token:e,pii_safe_birthday:!0,fields:t?c:[...c,"birthday"]}})).resource_response.data||{};return(0,r.My)(n?"pcons.facebook_user.non_empty_user_data_returned":"pcons.facebook_user.empty_user_data_returned"),{access_token:e,birthday:n.birthday,email:n.email,first_name:n.first_name,gender:n.gender,id:n.id,last_name:n.last_name,picture:n.picture}}const _=e=>new Promise((t=>{window.FB.login(t,{scope:d(e).join(",")})})).then((t=>((e,t,n)=>new Promise(((i,a)=>{if("connected"!==e.status)return void a({status:e.status||"unknown"});const{userID:l,accessToken:o}=e.authResponse;g(o,t).then((e=>{i({creds:{facebook_id:l,facebook_token:o,facebook_autologin:(null==n?void 0:n.autologin)||!1},signupOptions:h({userID:l,accessToken:o,data:e})})}),a)})))(t,e)))},49387:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var i=n(970588),a=n(307052),l=n(140523),o=n(710197),r=n(837792),s=n(98736);let d=!1;const c=(e,t,n="en-US",u)=>{u&&(0,s.dy)({event:"load_script_start",provider:"facebook"}),(0,a.Z)((0,o.Z)(n),"FACEBOOK").then((()=>{u&&(0,s.dy)({event:"load_script_success",provider:"facebook"});const n=window.FB;n?(d||(u&&(0,s.dy)({event:"initialize_library",provider:"facebook"}),n.init({appId:r.GH,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",(()=>{(e=>e.isAuth&&!!e.facebookId&&!e.isLimitedLogin)(t)&&c((e=>{if(!e.getUserID())return;const t=e.getAccessToken();t&&(0,i.Z)({url:"/v3/connect/facebook/",method:"POST",data:{facebook_token:t}})}),t)})),d=!0,window.fb_init=l.Z.FINISHED),e(n)):u&&(0,s.dy)({event:"global_object_not_found",provider:"facebook"})})),window.fb_init=l.Z.STARTED},u=c},710197:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},684113:(e,t,n)=>{n.d(t,{Fm:()=>o,OY:()=>s,PL:()=>c,Px:()=>r,mK:()=>u,ru:()=>d});var i=n(307052),a=n(837792),l=n(98736);const o=()=>{var e,t,n;return null===(e=window)||void 0===e||null===(t=e.google)||void 0===t||null===(n=t.accounts)||void 0===n?void 0:n.id},r=(e,t)=>(0,i.Z)("https://accounts.google.com/gsi/client"+(t?`?hl=${t}`:""),null!=e&&e.unsafe?null:"GSI"),s=({autoSelect:e,itpSupport:t},n)=>{var i;null===(i=o())||void 0===i||i.initialize({auto_select:null!=e&&e,client_id:a.v3,callback:n,cancel_on_tap_outside:!1,context:"use",itp_support:t})},d=({buttonRef:e,isDesktop:t,locale:n})=>{const i=o();if(i&&e.current){const t=e.current.offsetWidth;i.renderButton(e.current,{locale:n,size:"large",shape:"pill",text:"continue_with",theme:"outline",width:t+"px",click_listener:()=>(0,l.EX)({event:"start",provider:"google"})})}else(0,l.My)((t?"unauth_web":"unauth_mweb")+".gsi_button.not_initialized")},c=e=>"auto"===e?"AUTO_LOGIN":e.startsWith("btn")?"SIGN_IN_WITH_GOOGLE_BUTTON":"ONE_TAP_PROMPT",u=e=>{switch(e){case"SIGN_IN_WITH_GOOGLE_BUTTON":return"gsi_btn";case"ONE_TAP_PROMPT":return"onetap_btn";default:return"other"}}},617285:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(245410);const l=()=>{const e=(0,a.F)();return(0,i.useCallback)((()=>{e.flush()}),[e])}},950695:(e,t,n)=>{n.d(t,{kf:()=>_,l5:()=>h,of:()=>p,xC:()=>g,yz:()=>m});var i=n(667294),a=n(40660),l=n(583592),o=n(500797),r=n(272109),s=n(567648),d=n(785893);const{Provider:c,useMaybeHook:u}=(0,l.Z)("PwaContext"),p=({children:e,initialContext:t})=>{const[n,l]=(0,i.useState)(null),s=t||{pwaType:"unknown",twaType:null},u=s.pwaType;(0,r.Z)((()=>{const e=(0,o.FB)(window)||"unknown";l(e),u!==e&&a.Z.increment("pwa.type_mismatch",1,{serverPwaType:u,clientPwaType:e,conflict:"unknown"!==u&&"unknown"!==e})}));const p="unknown"===u&&n?n:u,{twaType:m}=s,h=(0,i.useMemo)((()=>({pwaType:p,twaType:m})),[p,m]);return(0,d.jsx)(c,{value:h,children:e})},m=()=>{var e;const t=u();return null!==(e=null==t?void 0:t.pwaType)&&void 0!==e?e:"unknown"},h=()=>{var e;const t=u();return null!==(e=null==t?void 0:t.twaType)&&void 0!==e?e:null},g=()=>"android-twa"===m(),_=()=>{const e=m(),t=(0,s.Z)();return"unknown"===e&&t?null:"windows"===e}},397352:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),a=(n(883119),n(570476)),l=n(785893);const o=(e,t,n)=>{const a=(0,i.useRef)(null),l=(0,i.useRef)(null);(0,i.useEffect)((()=>{if(e!==a.current||n&&n!==l.current){a.current=e;const n=(i=e,document.querySelector(`img[src="${i}"]`)||null);null!=n&&n.complete&&t()}var i;l.current=n}),[e,t,n])};function r({alt:e,children:t,color:n,elementTiming:i,isActive:r=!1,naturalHeight:s,naturalWidth:d,onLoad:c,src:u,fit:p="none"}){return o(u,c,r),(0,l.jsx)(a.Z,{alt:e,color:n,elementTiming:i,naturalHeight:s,naturalWidth:d,onLoad:c,src:u,fit:p,children:t})}},677263:(e,t,n)=>{n.d(t,{cA:()=>B,fM:()=>Z,N5:()=>N});var i=n(667294),a=n(616550),l=n(938790),o=n(39008);const r=e=>{switch(e){case"/":return"homefeed";case"/pin/:id":case"/pin/:id/sent":return"pin_closeup";case"/pin/:id/visual-search":return"flashlight";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/search/:scope":return"search";case"/ideas/:interest/:id":return"topic";default:return null}},s=e=>{switch(e){case"/pin/:id":case"/pin/:id/sent":return"pin_closeup";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/ideas/:interest/:id":return"topic";default:return null}};var d=n(574155),c=n(938085),u=n(40660),p=n(845092),m=n(335741),h=n(768337),g=n(813107),_=n(154174);const y=e=>Number(e.toFixed(2));var v=n(994405);const f={pin_closeup:{LCP:"pin_closeup_lcp",FID:"pin_closeup_fid",INP:"pin_closeup_inp"},board:{LCP:"board_lcp",FID:"board_fid",INP:"board_inp"},other_profile:{LCP:"other_profile_lcp",FID:"other_profile_fid",INP:"other_profile_inp"},topic:{LCP:"topic_lcp",FID:"topic_fid",INP:"topic_inp"}},b=["CA","GB","DE","FR","AU","JP","BR","MX"],x=({surface:e,pwtStaticContext:t})=>{switch(e){case"pin_closeup":return[(0,v.Uw)({isDesktop:"desktop"===t.deviceType,viewerType:(t.isBot?"bot":t.isAuthenticated&&"auth")||"unauth"}),t.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth"];case"board":return[t.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth"];default:return[]}},k=({pwtStaticContext:e,surface:t})=>{const n=(({pwtStaticContext:e,surface:t})=>{const n=(0,p.Jx)({annotateExperiments:x({surface:t,pwtStaticContext:e}),annotateResourceTimingForSurface:t,annotateMarks:["initialAppLoad","RenderReactContainer",...e.isAuthenticated?[]:["firstClientRenderUnauthPageWrapper","mountUnauthPageWrapper"],..."pin_closeup"===t?["firstClientRenderCloseupPage","firstClientRenderCloseupImage"]:[]],name:f[t].LCP,pwtStaticContext:e}),i=(0,p.Jx)({name:f[t].FID,pwtStaticContext:e}),a=(0,p.Jx)({name:f[t].INP,pwtStaticContext:e});return(e,t)=>{"LCP"===e?n.stop(t):"FID"===e?i.stop(t):"INP"===e&&a.stop(t)}})({pwtStaticContext:e,surface:t}),{isAuthenticated:i,isBot:a,isSocialBot:l,deviceType:o,country:r,fullPath:s,browserName:d,osName:v}=e,k={},P=(c,p,m)=>{if(!k[c]){k[c]=!0;const y=(0,g.Z)(e),f=`${y}.${t}.${c}`,x=`${y}.tags.${t}.${c}`;let P;if(P="iOS"===v&&"Chrome"===d?"iOS_Chrome":"CrUX","LCPCount"===c)u.Z.count(`${f}.sum`,p,1),u.Z.increment(`${f}.size`,1);else{const e=(0,h.Z)(r),d=(0,_.Z)(s);"FID"===c||"FIDStartTime"===c?(u.Z.timing(`${f}`,p,1),u.Z.timing(`${x}`,p,1,{timingBucket:null==m?void 0:m.timingBucket,isAuth:i,CrUXSegment:P,region:e,...d&&{pinType:d}})):"INP"===c?(u.Z.timing(`${f}`,p,1),u.Z.timing(`${x}`,p,1,{isAuth:i,CrUXSegment:P,region:e})):(u.Z.timing(`${f}`,p,1),u.Z.timing(`${x}`,p,1,{isAuth:i,CrUXSegment:P,region:e,...d&&{pinType:d}})),!i&&b.includes(r)&&(({botType:e,deviceType:t,isChrome:n,region:i})=>{const a=`pwtlogger.${e}.${t}`,l=["all",...i?[i.toLowerCase()]:[]],o=["all",...n?["chrome"]:[]],r=[];return l.forEach((e=>{o.forEach((t=>{r.push(`${a}.region_${e}.browser_${t}`)}))})),r})({botType:(l?"socialBot":a&&"bot")||"nonbot",deviceType:o,isChrome:!0,region:e}).forEach((e=>{u.Z.timing(`${e}.tags.growthSEO.${t}_${c}`,p,1,{country:r})})),n(c,p)}}};(0,c.Tx)((({value:e})=>{const t=(0,m.Af)();let n;n=e<=100?"Good":e>100&&e<=300?"Needs Improvement":"Poor",P("FID",y(e),{timingBucket:n}),t&&P("FIDStartTime",y(t),{timingBucket:n})})),(0,c.Tb)((({value:e})=>{P("LCPCount",(0,m.Kj)()),P("LCP",(e=>10*Math.round(e/10))(e))})),(0,c.Y)((({value:e})=>P("FCP",e))),(0,c.Z8)((({value:e})=>P("INP",e)))};var P=n(763795),S=n(39983);const w=(0,n(30482).XV)("LayoutShiftDebugger"),T=e=>e instanceof HTMLElement&&e.dataset&&(e.dataset.layoutShiftBoundaryId||e.dataset.testId)||e.parentNode&&T(e.parentNode)||null,I=e=>Math.round(1e3*e);let A=[];const C=({staticContext:e,getCurrentRoute:t,getLastNavigationTime:n})=>{const i=(0,p.Jx)({annotateMarks:["initialAppLoad","RenderReactContainer"],name:"cumulative_layout_shift",pwtStaticContext:e});let a=0;const l=e=>{a=e.timeStamp};window.addEventListener("scroll",l),window.addEventListener("beforeunload",(()=>{window.removeEventListener("scroll",l)}));const o=`${(0,g.Z)(e)}.CLS`,r=()=>(e=>{let t=Object.freeze({}),n=0;A.forEach((({value:e,shift:{sources:i},route:a,params:l,hadRecentNavigation:o,hadRecentScroll:r,isAuth:s})=>{if(n+=e,!i||!i.length)return;const d=e/i.length;i.forEach((({node:e})=>{const n=e?T(e)||"ROOT":"NODE_REMOVED",i=l&&l.scope?l.scope:"none",c={route:a,searchScope:i,boundaryId:n,hadRecentNavigation:o,hadRecentScroll:r,isAuth:s},u=JSON.stringify(c);t={...t,[u]:{score:((t[u]||{}).score||0)+d,tags:c}}}))})),Object.keys(t).forEach((n=>{const{score:i,tags:a}=t[n];u.Z.count(`${e}.shifts`,I(i),1,{...a})})),w("Debug CLS boundaries",n,t,A),A=[]})(o);let s,d=0,m=0,h=0;(0,c.kz)((({entries:i,value:l})=>{if(h=l||0,i.length){const{path:o,params:r}=t();s=n();const c=i[0].startTime,u=d!==c,p=u?i:i.slice(m);u&&(d=c),A=A.concat(p.map((t=>({value:l,shift:t,route:o,params:r,hadRecentNavigation:s>0&&s+500>t.startTime,hadRecentScroll:a>0&&a+500>t.startTime,isAuth:e.isAuthenticated})))),m=i.length}}),!0);const _=setInterval((()=>{if(A.length){r();const t=(e=h)<=.1?"good":e<=.25?"adequate":"poor";u.Z.count(`${o}.${t}`,1,1),i.stop(I(h))}var e}),1e3);window.addEventListener("beforeunload",(()=>{clearInterval(_),0===h&&i.abort("no_shifts_detected")}))};let j=null;const E=(e,t)=>{let n,i=0,a=0,l=null,o=null,r=null,s=null,d=[];const c=()=>{a+=1,r=window.requestAnimationFrame(c)},u=()=>{if(s){const n=d.some((e=>null!==l&&l-e>0&&l-e<=500)),a=t(),{isAuthenticated:r}=e;if(n){const t=(0,p.Jx)({name:"scroll_session",pwtStaticContext:e});if(!t)return;const n={surface:a,isAuthenticated:r};if(null===l||null===o||0===i)if(null===l&&null===o)t.error("no_duration",n);else if(null==l)j=o,t.error("no_start",n);else if(null==o){let e;e=j&&l-j<750?"no_end.outside_window":"no_end.single_event",t.error(e,n)}else t.error("no_frames",n);else{j=o;const e=o-l,s=e/i;0===s?t.error("zero_value",n):s<0?t.error("negative_value",n):(t.addBinaryAnnotation("surface",a,"STRING"),t.addBinaryAnnotation("isAuthenticated",r,"BOOL"),t.addBinaryAnnotation("duration_ms",e,"I32"),t.addBinaryAnnotation("total_frames_rendered",i,"I16"),t.stop(s))}}else(0,P.A9)("WARN.scroll_session.not_user",{tags:{isAuthenticated:r,surface:a}})}window.cancelAnimationFrame(r),i=0,a=0,d=[],o=null,l=null,s=null},m=({timeStamp:e})=>{n&&clearTimeout(n),n=setTimeout(u,500),null===s?(s=100*Math.random()<10,s&&(r=window.requestAnimationFrame(c),l=e)):s&&(o=e,i+=a,a=0)},h=({timeStamp:e})=>{d.push(e)};["wheel","pointerdown","keydown"].forEach((e=>{window.addEventListener(e,h,{passive:!0,capture:!0})})),window.addEventListener("scroll",m,{passive:!0}),window.addEventListener("pagehide",(()=>{window.removeEventListener("scroll",m),["wheel","pointerdown","keydown"].forEach((e=>{window.removeEventListener(e,h)}))}))};var R=n(353335),L=n(785893);const D=(0,i.createContext)(null),F=(0,i.createContext)(null),z=()=>{(0,P.A9)("totalSessionVolume"),window.performance?["clearMarks","clearMeasures","clearResourceTimings","getEntries","getEntriesByName","getEntriesByType","mark","measure","now","setResourceTimingBufferSize"].forEach((e=>{window.performance[e]||(0,P.A9)(`not_supported.window.performance.${e}`)})):(0,P.A9)("not_supported.window.performance"),window.PerformanceObserver||(0,P.A9)("not_supported.window.PerformanceObserer"),(0,d.v)()||(0,P.A9)("not_supported.grid_profiler")},M=()=>{var e;return null!==(e=window.performance)&&void 0!==e&&e.now?window.performance.now():null},O=e=>["/advertiser/"].reduce(((t,n)=>e.includes(n)||t),!1);function B({children:e,immutableLocation:t,resourceTimingCacheSize:n,routerHistoryAction:d,staticContext:c}){const u=(0,i.useRef)(null),p=(0,i.useRef)(null),h=(0,i.useRef)(t),g=(0,i.useRef)(!0),{path:_,params:y}=(0,a.useRouteMatch)(),v=(0,i.useRef)(_),f=(0,i.useRef)(y),b=!c.isCachedRender&&(0,l.Z)(c.deviceType);(0,i.useEffect)((()=>{v.current=_}),[_]),(0,i.useEffect)((()=>{f.current=y}),[y]),(0,i.useEffect)((()=>{if((0,R.X_)({size:n||1e3}),(0,m.UQ)(),z(),g.current=!1,b&&!o.is&&(E(c,(()=>r(v.current)||v.current||"UNKNOWN_SURFACE")),"Chrome"===c.browserName)){C({staticContext:c,getCurrentRoute:()=>({path:v.current,params:f.current}),getLastNavigationTime:()=>p.current||0});const e=s(v.current);e&&k({pwtStaticContext:c,surface:e})}}),[]);if(O(t.pathname)?h.current.pathname!==t.pathname:h.current!==t){h.current=t,p.current=M();const{current:e}=p;if(!g.current){const t=!u.current;(0,P.A9)("routeStart",{tags:{action:d}}),(0,R.Eg)(t),(0,m.Ux)(t),(0,m.on)(),(0,S.tl)();const{customBufferSize:n,defaultBufferSize:i}=(0,R.LH)();e&&((0,P.A9)("routeStart.customBufferSize",{count:n}),(0,P.A9)("routeStart.defaultBufferSize",{count:i}),u.current={time:e,action:d})}}return(0,L.jsx)(D.Provider,{value:b?c:null,children:(0,L.jsx)(F.Provider,{value:u.current,children:e})})}const Z=()=>(0,i.useContext)(F),N=()=>(0,i.useContext)(D)},77494:(e,t,n)=>{n.d(t,{Z:()=>$});var i=n(667294),a=n(532465),l=n(93501),o=n(30482),r=n(763795),s=n(39983),d=n(677263),c=n(41162),u=n(372453),p=n(363959),m=n(324e3),h=n(583077);const g=({constraintMap:e,initialNavTiming:t,annotations:n})=>({...n,...(0,h.jh)("constraint_",e),...(0,h.jh)("mark_",(0,s.gQ)()),...(0,h.jh)("browser_",{...t?(0,h.D3)(t):{},...(0,h.rX)()})});var _=n(577491),y=n(335741),v=n(769916);const f=(e,t)=>{const{firstInputDelay:n}=(0,y.v2)();return[...e.map((e=>(0,_.Z)(e,t))).filter(Boolean),...n?[{name:"fid",id:(0,v.Z)(),parentId:t,startTime:n.startTime,endTime:n.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]]};var b=n(40660),x=n(813107);const k=({eventPrefix:e,endTime:t,tags:n,resourceArr:i,resourceType:a="allResources"})=>{const l=i.length;if(l>0&&"object"==typeof i[0]&&!Array.isArray(i[0])){const o=[...i].sort(((e,t)=>e.fetchStart-t.fetchStart)),r=[...i].sort(((e,t)=>e.responseEnd-t.responseEnd));let s=1;const d=t/5;let c=0;for(;s<=5;){let t=0;for(;c<=l-1&&o[c].fetchStart<=d*s;)c+=1,t+=1;b.Z.gauge(`${e}.tags.${a}.fetchStartInterval${s}of5`,t,.2,n),b.Z.gauge(`${e}.${a}.fetchStartInterval${s}of5`,t,.2),s+=1}const u={zeroPercentInFlight:o[0].fetchStart,twentyFivePercentInFlight:o[Math.floor(l/4)].fetchStart,fiftyPercentInFlight:o[2*Math.floor(l/4)].fetchStart,seventyFivePercentInFlight:o[3*Math.floor(l/4)].fetchStart,hundredPercentInFlight:o[l-1].fetchStart,twentyFivePercentComplete:r[Math.floor(l/4)].responseEnd,fiftyPercentComplete:r[2*Math.floor(l/4)].responseEnd,seventyFivePercentComplete:r[3*Math.floor(l/4)].responseEnd,hundredPercentComplete:r[l-1].responseEnd};for(const t in u)u[t]&&(b.Z.timing(`${e}.tags.${a}.${t}`,u[t],.2,n),b.Z.timing(`${e}.${a}.${t}`,u[t],.2))}},P=({annotateExperiments:e,endTime:t,entries:n,metricId:i,pwtStaticContext:a})=>{const l=`${(0,x.Z)(a)}.${i.surface}`,o=[l];e&&e.forEach((e=>{const t=a.getExperimentGroup(e)||"null";o.push(`${l}.${e}.${t}`)}));const r={lcpTimingBucket:(e=>{let t;return t=e<=2500?"Good":e>2500&&e<=4e3?"Needs Improvement":"Poor",t})((0,y.Bn)())||"unknown",isAuthenticated:a.isAuthenticated,navigationType:i.navigationType},s=Array.from(n.filter((e=>"number"==typeof e.encodedBodySize&&e.encodedBodySize>=1e4&&e.responseEnd<=t))),d=[],c=[],u=[],p=[],m=[];s.forEach((e=>{"img"===e.initiatorType?d.push(e):"css"===e.initiatorType?c.push(e):"script"===e.initiatorType?u.push(e):"xmlhttprequest"===e.initiatorType?p.push(e):"link"===e.initiatorType&&e.name.includes("i.pinimg.com")&&m.push(e)})),o.forEach((e=>{k({eventPrefix:e,endTime:t,tags:r,resourceArr:s}),k({eventPrefix:e,endTime:t,tags:r,resourceArr:d,resourceType:"image"}),k({eventPrefix:e,endTime:t,tags:r,resourceArr:c,resourceType:"css"}),k({eventPrefix:e,endTime:t,tags:r,resourceArr:u,resourceType:"scripts"}),k({eventPrefix:e,endTime:t,tags:r,resourceArr:p,resourceType:"xhr"}),k({eventPrefix:e,endTime:t,tags:r,resourceArr:m,resourceType:"preloadedImage"})}))};var S=n(353335);const w=({annotateExperiments:e,annotations:t,binaryAnnotations:n,constraintMap:i,endTime:a,imageTimings:l,metricId:o,pwtStaticContext:r,startTime:s,traceId:d,spans:c})=>{const h=(0,S.Cg)();let _;"initial_app_load"===o.navigationType&&(_=(0,p.Z)());const y=l.map((({name:e})=>e)),v=h.map((e=>(0,m.p)(e,y))).filter((({timing:e})=>!(({startTime:e,responseEnd:t},n)=>e>n.endTime||!!t&&t<n.startTime||e<n.startTime-100)(e,{startTime:s,endTime:a})));return"board"!==o.surface&&"pin_closeup"!==o.surface||P({annotateExperiments:e,endTime:a,entries:h,metricId:o,pwtStaticContext:r}),{type:"COMPLETE",traceId:d,startTime:s,endTime:a,spans:f(v,d).concat(c),annotationMap:g({constraintMap:i,initialNavTiming:_,annotations:t}),binaryAnnotationMap:(0,u.rA)({annotateExperiments:e,binaryAnnotations:n,entries:h,metricId:o,performanceResources:v,pwtEndTime:a,pwtStaticContext:r})}};let T=!1;const I=(e,t)=>e&&t?T?((0,r.H)("duplicated_initial_app_load_surface_pwt"),(0,v.Z)()):(T=!0,t):(0,v.Z)();var A=n(591614),C=n(361905);const j=e=>{const t=performance.getEntriesByType("resource").filter((e=>e.name.includes("i.pinimg"))).reduce(((e,t)=>{const n=t.name.replace(".jpg","").split("/");return{[n[n.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}}),{});[...Array.from(document.getElementsByTagName("img")).map((e=>{const n=e.src.replace(".jpg","").split("/"),i=n[n.length-1];if(t[i]){var a;const n=(null===(a=(0,C.rZ)(e))||void 0===a?void 0:a.width)||1,l=t[i].downloadSize;return{fileName:i,renderedSize:n,downloadedSize:l,ratio:l/n}}return{fileName:i,renderedSize:1,downloadedSize:1,ratio:1}})),...Array.from(document.querySelectorAll('div[role="img"]')).map((e=>{const n=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),i=n[n.length-1];if(t[i]&&e instanceof HTMLDivElement){var a;const n=(null===(a=(0,C.rZ)(e))||void 0===a?void 0:a.width)||1,l=t[i].downloadSize;return{fileName:i,renderedSize:n,downloadedSize:l,ratio:l/n}}return{fileName:i,renderedSize:1,downloadedSize:1,ratio:1}}))].forEach((t=>{const{ratio:n,fileName:i,downloadedSize:a}=t;t.ratio>1.05&&(0,r.A9)(`checkImageRatio.${e}`,{count:Math.round(10*n)/10,tags:{fileName:`${a}_${i}`}})}))};var E=n(622200),R=n(282802);const L=(e,t)=>{const n=(0,i.useRef)(t);return{getState:()=>n.current,dispatch:t=>{n.current=e(n.current,t)}}};var D=n(694952),F=n(935340),z=n(785893);const M=["initial_app_load","client_route_push"],O=(0,o.XV)("PwtSurface"),B="NavigationComplete",Z="VisuallyComplete",N=(e,t)=>{e.isSampled&&(0,A.Z)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:t}})},U=e=>{if(e.metricConfig.constraints.every((t=>e.constraintMap[t]))){const t=Math.max(...e.metricConfig.constraints.map((t=>e.constraintMap[t])));return((e,t)=>{var n;const{metricConfig:{metricId:i,pwtStaticContext:a,annotateExperiments:o},annotations:d,binaryAnnotations:c,constraintMap:u,startTime:p,imageTimings:m,isSampled:h,spans:g}=e;(0,s.L8)(`PWT_Complete_${(0,l.KJ)(i)}`);const _=I("initial_app_load"===i.navigationType,null===(n=a.serverData)||void 0===n?void 0:n.trace_id),y=w({annotateExperiments:o,annotations:d,binaryAnnotations:c,constraintMap:u,endTime:t,imageTimings:m,metricId:i,pwtStaticContext:a,startTime:p,traceId:_,spans:g});h&&(0,A.Z)({metricId:i,pwtStaticContext:a,result:y});try{j(String(y.binaryAnnotationMap["metricId.surface"].value))}catch(v){(0,r.H)("image_ratio_check_error",{error:v})}return{...e,result:y,status:"DONE"}})(e,t)}return e},K=(e,t)=>{const{constraint:n,time:i}=t,a=(0,l.KJ)(e.metricConfig.metricId);return E.Z?e.metricConfig.constraints.find((e=>e===n))?e.constraintMap[n]?(O(`constraint "${n}" is already complete.`),(0,r.H)("duplicated_constraint_complete",{constraint:n,action:a}),e):(O(`marking constraint "${n}" as complete`),(0,s.ZP)(`constraint_${n}_is_complete`),U({...e,constraintMap:{...e.constraintMap,[n]:i||E.Z.now()}})):(O(`marked constraint "${n}" is not a required constraint.`),e):((0,r.H)("missing_window_performance",{action:a}),e)},V=(e,t)=>{if(O("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{const{metricConfig:n,startTime:i,isSampled:a}=t;if("TIMING"===e.status&&i!==e.startTime&&N(e,"routeUpdatedOnSameSurface"),!n)return{status:"DISABLED",metricConfig:null};const o=(0,l.KJ)(n.metricId);return"TIMING"===e.status&&e.startTime===i&&e.constraintMap[B]?((0,r.H)("duplicated_init_route_action",{action:o}),e):("Other"===n.pwtStaticContext.browserName&&!1===n.metricId.isAuthenticated&&"initial_app_load"===n.metricId.navigationType?((0,r.A9)(`TIMING.${o}`,{tags:{userAgent:null===(s=window)||void 0===s||null===(d=s.navigator)||void 0===d?void 0:d.userAgent}}),(0,r.A9)(`TIMING.sampled.${o}`,{tags:{userAgent:null===(c=window)||void 0===c||null===(u=c.navigator)||void 0===u?void 0:u.userAgent},sampleRate:.5})):((0,r.A9)(`TIMING.${o}`),(0,r.A9)(`TIMING.sampled.${o}`,{sampleRate:.5})),K({status:"TIMING",metricConfig:n,startTime:i,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:a,spans:[]},{constraint:B}));var s,d,c,u})(e,t.payload);if("TIMING"!==e.status)return O(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":N(e,t.reason);const n={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:n};case"ANNOTATE":const{name:i}=t.payload;if(!E.Z)return e;const a=E.Z.now();return O(`adding annotation {${i}: ${a}}`),{...e,annotations:{...e.annotations,[i]:a}};case"BINARY_ANNOTATE":const{name:o,value:s,annotationType:d}=t.payload;return O(`adding binary annotation {${o}: ${s}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[o]:{value:s,type:d}}};case"MARK_CONSTRAINT_COMPLETE":return K(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!E.Z){const t=(0,l.KJ)(e.metricConfig.metricId);(0,r.H)("missing_window_performance",{action:t})}O(`removing constraint "${t}"`);const n=e.metricConfig.constraints.filter((e=>e!==t)),{[t]:i,...a}=e.constraintMap;return U({...e,constraintMap:a,metricConfig:{...e.metricConfig,constraints:n}})})(e,t.payload);case"SET_SEGMENT":return((e,t)=>{if(!E.Z){const t=(0,l.KJ)(e.metricConfig.metricId);(0,r.H)("missing_window_performance",{action:t})}O(`updating pwt segment to "${t}"`);const n={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:n}}})(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{const{payload:{imageTimings:n}}=t;if(0===n.length){N(e,"visuallyComplete_noImages");const t={type:"ABORT",reason:"visuallyComplete_noImages"};return{...e,status:"DONE",result:t}}const i=Math.max(...n.map((e=>e.responseEnd||0)));return K({...e,imageTimings:n},{constraint:Z,time:i})}case"ADD_SUBSPAN":const{startTime:c}=e,{payload:{name:u,startTime:p,endTime:m,annotations:h,binaryAnnotations:g,parentId:_}}=t;return{...e,spans:[...e.spans,{name:u,id:(0,v.Z)(),startTime:p||c,endTime:m,annotationMap:{...h},binaryAnnotationMap:{...g},parentId:_}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,v.Z)(),startTime:E.Z?E.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":const y=e.spans.findIndex((e=>e.name===t.payload.name));return y>-1?(e.spans[y].endTime=E.Z?E.Z.now():0,t.payload.annotations&&(e.spans[y].annotationMap={...e.spans[y].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[y].binaryAnnotationMap={...e.spans[y].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,r.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:const f=(0,l.KJ)(e.metricConfig.metricId);return(0,r.H)("invalid_pwt_surface_action",{action:f}),e}},H=e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}},G=({surface:e,constraints:t,segment:n,measureGridVisuallyComplete:l,annotateExperiments:o,customEnabledNavigationTypes:r,navigationInfo:{clientNavigation:s,navigationType:c},sampleRate:u})=>{const p=(0,i.useRef)("NOT_SET"),m=(0,d.N5)(),{getState:h,dispatch:g}=L(V,{status:"DISABLED",metricConfig:null}),_=(0,R.B)();if(p.current!==s&&(p.current=s,m)){const{isAuthenticated:i}=m,a=e&&c&&(r||M).includes(c)?{metricId:{type:"surface",surface:e,navigationType:c,isAuthenticated:i,segment:n},annotateExperiments:o,constraints:[B,...t||[],...l?[Z]:[]],pwtStaticContext:m}:null;g({type:"INIT_ROUTE",payload:{metricConfig:a,startTime:s?s.time:0,isSampled:!u||Math.random()<u}})}const y=h();if((0,i.useEffect)((()=>{const e=e=>{g({type:"ABORT",reason:e})};a.Z.onSessionPause(e);const t=window.innerHeight,n=window.innerWidth,i=()=>{var e,a,l;const o=Math.abs(window.innerHeight-t),r=Math.abs(window.innerWidth-n),s=window.innerHeight!==t,d=window.innerWidth!==n,c={handler:(0,D.H)(),deviceType:null!==(e=null==m?void 0:m.deviceType)&&void 0!==e?e:"unknown",isAuthenticated:null!==(a=null==m?void 0:m.isAuthenticated)&&void 0!==a?a:"unknown",platform:null!==(l=_.userAgent.platform)&&void 0!==l?l:"unknown"};(0,F.nP)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:{...c,heightChanged:s,widthChanged:d}}),s&&(0,F.S0)("webapp.PwtLogger.resizeHeightDelta",o,{sampleRate:1,tags:c}),d&&(0,F.S0)("webapp.PwtLogger.resizeWidthDelta",r,{sampleRate:1,tags:c}),window.removeEventListener("resize",i);"phone"===(null==m?void 0:m.deviceType)&&(!d&&s&&o<=150||!s&&!d)||"desktop"===(null==m?void 0:m.deviceType)&&!s&&!d?(0,F.nP)("webapp.PwtLogger.skipResizeAbort",{sampleRate:1,tags:{...c,heightChanged:s,widthChanged:d}}):g({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",i),()=>{const t=h();O("handling unmount",t),"TIMING"===t.status&&N(t,"unmount"),a.Z.removePauseListener(e),window.removeEventListener("resize",i)}}),[]),"TIMING"!==y.status||!y.constraintMap[B])return{state:y,context:null};const{startTime:v,metricConfig:f}=y;return{state:y,context:{abort:e=>g({type:"ABORT",reason:e}),addAnnotation:e=>g({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,n)=>g({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:n}}),addSubspan:(e,t,n,i={},a={},l=null)=>g({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:a,parentId:l}}),getId:()=>v,getMetricId:()=>f.metricId,markConstraintComplete:e=>g({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:E.Z?E.Z.now():0}}),removeConstraint:e=>g({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>g({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:f.constraints.includes(Z)?e=>g({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,t={},n={},i=null)=>g({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}}),stopSubspan:(e,t={},n={},i=null)=>g({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:n,parentId:i}})}}},W=()=>{const e=(0,c.E)(),t=!!e;(0,i.useEffect)((()=>{if(t){const t=null==e?void 0:e.getMetricId(),n=t?(0,l.KJ)(t):null;(0,r.H)("nested_pwt_surface",{action:n})}}),[t])};function $({children:e,...t}){var n;const i=(0,d.fM)(),a=H(i),l=[...null!==(n=t.annotateExperiments)&&void 0!==n?n:[]],o={...t,annotateExperiments:l,navigationInfo:{navigationType:a,clientNavigation:i}},{context:r}=G(o);return W(),(0,z.jsx)(c.S,{value:r,children:e})}},41162:(e,t,n)=>{n.d(t,{E:()=>l,S:()=>a});var i=n(583592);const{Provider:a,useMaybeHook:l}=(0,i.Z)("pwtSurfaceContext")},938790:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(574155);const a=()=>{var e;return!(null===(e=window.performance)||void 0===e||!e.timing)};var l=n(622200);function o(e){return!("desktop"===e&&!a())&&(!!l.Z&&(0,i.v)())}},93501:(e,t,n)=>{n.d(t,{KJ:()=>c,Rp:()=>d});const i={id:14,name:"own_profile"},a={id:15,name:"other_profile"},l={initial_app_load:{unauth:{board:{id:114,name:"board_page_interactive"},pin_closeup:{id:113,name:"pin_page_interactive"},other_profile:{id:115,name:"user_page_interactive"},topic:{id:119,name:"topic_page_interactive"},sterling_signup:{id:201,name:"sterling_signup_main_pageload"},sterling_login:{id:202,name:"sterling_login_main_pageload"}},auth:{bizhub:{id:607,name:"bizhub_pinteractive"},homefeed:{id:19,name:"home_feed_pinteractive"},sterling_reporting_overview:{id:219,name:"sterling_reporting_overview_pageload"},sterling_ads_create:{id:221,name:"sterling_adscreate_main_pageload"},sterling_ads_duplicate:{id:206,name:"sterling_adsduplication_main_pageload"},sterling_ads_edit:{id:204,name:"sterling_adsedit_main_pageload"},sterling_billing_profile:{id:203,name:"sterling_billingprofile_main_pageload"},sterling_bulk_editor:{id:205,name:"sterling_bulkeditor_main_pageload"},sterling_pin_builder:{id:222,name:"sterling_adscreate_pinbuilder_pageload"},sterling_recommendations:{id:223,name:"sterling_recommendations_pageload"},sterling_reporting_details:{id:218,name:"sterling_reporting_details_pageload"}}},client_route_push:{unauth:{},auth:{bizhub:{id:608,name:"bizhub_page_render"},homefeed:{id:2,name:"home_feed_render"},search:{id:3,name:"search_feed_render"},search_tab:{id:25,name:"search_tab_render"},pin_closeup:{id:13,name:"pin_closeup_details"},sterling_audiences:{id:224,name:"sterling_audiences_page_user_nav"},sterling_ads_edit:{id:225,name:"sterling_edit_flow_user_nav"},sterling_reporting_overview:{id:226,name:"sterling_reporting_overview_user_nav"},sterling_reporting_details:{id:227,name:"sterling_reporting_details_user_nav"},merchant_catalogs_data_sources:{id:228,name:"merchant_catalogs_data_sources_user_nav"},merchant_catalogs_product_groups:{id:229,name:"merchant_catalogs_product_groups_user_nav"},merchant_catalogs_listings:{id:230,name:"merchant_catalogs_listings_user_nav"},own_profile:i,other_profile:a}},client_route_replace:{unauth:{},auth:{own_profile:i,other_profile:a,sterling_reporting_overview:{id:226,name:"sterling_reporting_overview_user_nav"},sterling_ads_edit:{id:225,name:"sterling_edit_flow_user_nav"},merchant_catalogs_data_sources:{id:228,name:"merchant_catalogs_data_sources_user_nav"},merchant_catalogs_product_groups:{id:229,name:"merchant_catalogs_product_groups_user_nav"},merchant_catalogs_listings:{id:230,name:"merchant_catalogs_listings_user_nav"}}}},o={initial_app_load:{auth:{pin_closeup:{product_detail_page:{id:120,name:"product_details_interactive"},product_detail_page_plus:{id:121,name:"product_details_plus_interactive"}}}},client_route_push:{auth:{pin_closeup:{story_pin:{id:700,name:"story_pin_closeup"},product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}},client_route_replace:{auth:{pin_closeup:{product_detail_page:{id:37,name:"product_details_render"},product_detail_page_plus:{id:38,name:"product_details_plus_render"}}}}},r={board_picker:16,grid_bottom_spinner:12,facebook_autologin:500,google_autologin:501,story_pin_step:701},s=e=>{var t,n;const{navigationType:i,isAuthenticated:a,segment:r,surface:s}=e,d=a?"auth":"unauth",c=null===(t=o[i])||void 0===t||null===(n=t[d])||void 0===n?void 0:n[s];return r&&c&&c[r]||l[i][d][s]},d=e=>{if("stopwatch"===e.type)return r[e.name]||null;const t=s(e);return t?t.id:null},c=e=>{if("stopwatch"===e.type)return e.name;const{navigationType:t,isAuthenticated:n,segment:i,surface:a}=e,l=n?"auth":"unauth",o=s(e);return o?o.name:`${t}_${l}_${a}${i?"_"+i:""}`}},578699:(e,t,n)=>{n.d(t,{w:()=>a});var i=n(938085);const a=function(){let e,t=!1;const n=new Set;return function(a){e?a(e):(n.add(a),t||(t=!0,(0,i.NO)((t=>{e=t;for(const e of n)e(t),n.delete(e)}))))}}()},30482:(e,t,n)=>{n.d(t,{Ex:()=>o,XV:()=>l,v5:()=>a});var i=n(39008);const a=(e,t)=>{i.DQ&&(e.style.outline=`10px solid ${t}`,e.style.outlineOffset="-30px")},l=e=>(t,...n)=>{i.DQ&&console.log("string"==typeof t?`[PWT:${e}] ${t}`:t,...n)},o=e=>t=>{i.jn&&console.log(`[CWV:${e}] ${String(t)}`)}},361905:(e,t,n)=>{n.d(t,{F9:()=>c,LM:()=>s,VZ:()=>l,cQ:()=>u,rZ:()=>o});var i=n(520636),a=n(763795);const l=()=>"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll,o=e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null,r=e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;const t=((e.style||{}).backgroundImage||"").match(/^url\(["'](.*)["']\)$/);return t&&t[1]||null},s=()=>document.querySelector?document.querySelectorAll(i.wc).length:((0,a.H)("missing_document_query_selector"),0),d=(e,t)=>{const n=o(e);if(!n)return(0,a.H)("missing_client_rect"),!1;if(n.width<100&&n.height<100){if(e instanceof HTMLImageElement)return!1;const t=r(e);if(null!=t&&t.endsWith("svg"))return!1}return(({top:e,height:t},{foldY:n,pageYOffset:i})=>{const a=e+i;if(a>=n)return!1;const l=Math.min(t,n-a);return l>.5*t||l>.2*n})(n,t)},c=()=>{const e=(()=>{if(!document.querySelector)return(0,a.H)("missing_document_query_selector"),null;const e=document.querySelectorAll(i.wc);return e[e.length-1]||null})();if(!e)return!1;const t=window.innerHeight||0,n=window.pageYOffset||0;return e.getBoundingClientRect().top+n>=t},u=(e,t,n)=>{if(!document.querySelector)return(0,a.H)("missing_document_query_selector"),[];const l={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},o=[i.Wf,...e?[i.fF]:[],...t?[i.$N]:[]].join(","),s=[...document.querySelectorAll(o)];if(n){const e=[...document.querySelectorAll('div[data-test-id="board-section"]')],t=e=>{const n=[...e.children];!n.length&&e.style.backgroundImage?s.push(e):n.length&&n.forEach((e=>{t(e)}))};e.forEach((e=>{t(e)}))}return s.reduce(((e,n)=>{if((n instanceof HTMLImageElement||n instanceof HTMLDivElement||n instanceof HTMLVideoElement&&t)&&d(n,l)){const t=r(n);if(t){const i=(t||"").replace(/.*\//,"");return e.concat([{element:n,fileName:i}])}}return e}),[])}},520636:(e,t,n)=>{n.d(t,{$N:()=>s,Kb:()=>i,Wf:()=>o,fF:()=>r,wc:()=>l});const i="pwt-grid-item",a=['div[data-grid-item="true"]',"div.Grid__Item",`div[data-test-id="${i}"]`],l=a.join(","),o=a.map((e=>`${e} img`)).join(","),r=a.map((e=>`${e} div[style*=background-image]`)).join(","),s=a.map((e=>`${e} video`)).join(",")},574155:(e,t,n)=>{n.d(t,{Z:()=>k,v:()=>y});var i=n(667294),a=n(93501),l=n(30482),o=n(361905),r=n(763795),s=n(39983),d=n(41162),c=n(353335),u=n(456453);const p=500,m=100,h=6e4,g=6e4,_=(0,l.XV)("GridProfiler"),y=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,o.VZ)(),v=e=>"LAYOUT"===e.status&&p||"TIMING"===e.status&&m||null,f=(e,t)=>{if(!t){const t=(0,o.LM)();if(t===e)return _("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,o.F9)())return _("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}},b=(e,t)=>{let n=0,i=0,a=0,l=0,o=0;return e=e.filter((e=>"pin"===e.type)),t.forEach(((t,r)=>{var s,d,c,u,p,m;const h=t.fileName.split(".")[0];let g;g=e[r],h!==(null===(s=g)||void 0===s?void 0:s.image_signature)&&(g=e.find((e=>h===(null==e?void 0:e.image_signature)))),void 0===g?o+=1:g.is_promoted||"PROMOTED_PIN"===(null===(d=g.recommendation_reason)||void 0===d?void 0:d.reason)||null!==(c=g)&&void 0!==c&&null!==(u=c.promoter)&&void 0!==u&&u.length?a+=1:null!==g.story_pin_data_id&&void 0!==g.story_pin_data_id?n+=1:null!==(p=g)&&void 0!==p&&null!==(m=p.videos)&&void 0!==m&&m.video_list?i+=1:l+=1})),{storyPinCount:n,videoCount:i,adCount:a,imageCount:l,unknownCount:o}},x=(e,t)=>{const n=()=>{window.removeEventListener(e,n),t()};return window.addEventListener(e,n),()=>window.removeEventListener(e,n)};function k({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:n,includeVideos:y=!1,includeSections:k}){const P=(0,d.E)(),S=null==P?void 0:P.getId(),w=null==P?void 0:P.setVisuallyCompleteResult,[T,I]=(0,i.useState)({status:"DISABLED"});(0,i.useEffect)((()=>{I(w?{status:"LAYOUT",failedCount:0,numOfItemsChecked:0}:{status:"DISABLED"})}),[S,w]),(0,i.useEffect)((()=>{if("DISABLED"!==T.status&&(0,s.ZP)(`GridVisuallyCompleteProfiler_${T.status}`),_("new status",T),"LAYOUT"===T.status){const e=x("scroll",(()=>{(0,s.ZP)("scrollDuringLayout")}));return()=>{e()}}return()=>{}}),[T.status]),(0,u.Z)((()=>{if(!P||!w)return;const{abort:i,getMetricId:s}=P,d=s();switch(T.status){case"LAYOUT":{const t=f(T.numOfItemsChecked,e);t.complete?I({status:"TIMING",failedCount:0,pinElements:(0,o.cQ)(n,y,k)}):T.failedCount*p>h?((0,r.A9)(`images.${(0,a.KJ)(d)}.visuallyComplete.maxLayoutAttempt`),i("visuallyComplete_layoutTimeout"),I({status:"DISABLED"})):I({...T,failedCount:T.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{const e=(0,c.Cg)(),n=T.pinElements.length,o=[];let s=0,u=0,p=0;if(T.pinElements.forEach((({element:t,fileName:n})=>{const i=e.find((e=>e.name.endsWith(n)));i?i.responseEnd?(o.push(i),(0,l.v5)(t,"green")):(p+=1,(0,l.v5)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(u+=1,(0,l.v5)(t,"red")):(s+=1,(0,l.v5)(t,"greenyellow"))})),s||p)T.failedCount*m>g?((0,r.A9)(`images.${(0,a.KJ)(d)}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:n,incompleteCount:s,noTimingCount:u,noTimingResponseEndCount:p}}),i("visuallyComplete_timingTimeout"),I({status:"DISABLED"})):I({...T,failedCount:T.failedCount+1});else{if(_(`All ${o.length} images are fetched`),t&&t.length){const e=b(t,T.pinElements);Object.entries(e).forEach((([e,t])=>{P.addBinaryAnnotation(e,t,"I16")})),(0,r.A9)(`${(0,a.KJ)(d)}.pinTypes`,{tags:e})}w({imageTimings:o}),I({status:"DISABLED"}),(0,r.A9)(`images.${(0,a.KJ)(d)}.visuallyComplete.complete`,{tags:{totalImageCount:n,noTimingCount:u}})}break}}}),v(T))}},763795:(e,t,n)=>{n.d(t,{A9:()=>p,DG:()=>c,H:()=>m,S$:()=>h,iF:()=>u});var i=n(40660),a=n(39008),l=n(30482),o=n(549201);const r=(0,l.XV)("logPwtStats");let s=null,d=!0;function c(e){s={browserName:e.userAgent.browserName,browserVersion:e.userAgent.browserVersion,deviceType:(0,o.Mq)(e),isAuthenticated:e.isAuthenticated,isBot:e.isBot,isSocialBot:e.isSocialBot}}const u=e=>{s&&(s.historyAction=e)},p=(e,t={sampleRate:1},n=!0)=>{const l=a.DQ?1:t.sampleRate;if(!s)return r("pwt.metrics_quality.no_context"),void i.Z.increment("pwt.metrics_quality.no_context",l,{eventName:e});const{browserName:o,browserVersion:d,deviceType:c,isBot:u,isSocialBot:p}=s,m=`pwt.${(p?"socialBot":u&&"bot")||"nonbot"}.metrics_quality.${c}.${e}`,h={...t.tags||{},browserName:o,browserVersion:(null==d?void 0:d.split(".")[0])||"0"},{count:g}=t;n&&(r(`${m}: ${"number"==typeof g?g:1}`),t.tags&&r(Object.entries(t.tags))),a.is||i.Z.count(m,"number"==typeof g?g:1,l,h)},m=(e,t)=>p(`ERROR.${null!=t&&t.action?t.action+".":""}${e}`,{tags:t}),h=({appLoadName:e,clientNavName:t},n)=>{if(s){const i="APP_VOLUME.";d?(p(i.concat(e),{tags:{browserSupportsPwtProfiler:!!n}}),d=!1):"PUSH"===s.historyAction&&p(i.concat(t),{tags:{browserSupportsPwtProfiler:!!n}})}else i.Z.increment("pwt.metrics_quality.no_context",1,{eventName:e.concat(`.${t}`)})}},39983:(e,t,n)=>{n.d(t,{Ao:()=>s,BA:()=>d,L8:()=>u,ZP:()=>p,at:()=>a,gQ:()=>r,tl:()=>c});var i=n(622200);const a="masonryPagination";let l={};const o=e=>` ${e}`,r=()=>{const e={};return Object.keys(l).forEach((t=>{(l[t]||[]).slice(0,3).forEach(((n,i)=>{e[i?`${t}_${i+1}`:t]=n}))})),e},s=(e,t)=>(l[e]||[]).filter((e=>e<t)).length,d=(e,t)=>s(e,t)>0,c=()=>{i.Z&&Object.keys(l).forEach((e=>((e,t)=>{const n=o(t);e.clearMarks(n),e.clearMeasures(n)})(i.Z,e))),l={}},u=e=>{i.Z&&(l[e]=(l[e]||[]).concat([i.Z.now()]),((e,t,n,i)=>{const a=o(t);e.measure(a,n,i)})(i.Z,e))},p=e=>{i.Z&&(l[e]=(l[e]||[]).concat([i.Z.now()]),((e,t)=>{const n=o(t);e.mark(n)})(i.Z,e))}},486986:(e,t,n)=>{n.d(t,{cC:()=>l,jy:()=>a,qr:()=>r,sk:()=>o});const i=e=>"number"==typeof e?Math.round(e):e,a=e=>({type:"I16",value:i(e)}),l=e=>({type:"I32",value:i(e)}),o=e=>({type:"STRING",value:e}),r=e=>({type:"BOOL",value:e})},583077:(e,t,n)=>{n.d(t,{D3:()=>l,Hd:()=>s,jh:()=>r,rX:()=>o});var i=n(941314),a=n(335741);const l=e=>({...(0,i.Z)(e),domComplete:e.domComplete||0,domContentLoadedEventEnd:e.domContentLoadedEventEnd||0,domContentLoadedEventStart:e.domContentLoadedEventStart||0,domInteractive:e.domInteractive||0,loadEventEnd:e.loadEventEnd||0,loadEventStart:e.loadEventStart||0}),o=()=>{const{firstInputDelay:e,largestContentfulPaint:t}=(0,a.v2)();return{firstInputDelayStart:(null==e?void 0:e.startTime)||0,firstInputDelayEnd:(null==e?void 0:e.endTime)||0,largestContentfulPaint:t||0}},r=(e,t)=>Object.keys(t).reduce(((n,i)=>({...n,[`${e}${i}`]:t[i]})),{}),s=(e,t)=>Object.keys(e).reduce(((n,i)=>t.includes(i)?{...n,[i]:e[i]}:n),Object.freeze({}))},372453:(e,t,n)=>{n.d(t,{ng:()=>y,rA:()=>f});var i=n(93501),a=n(39983),l=n(486986),o=n(335741),r=n(353335),s=n(910673);const d=(e,t)=>(e||[]).reduce(((e,n)=>({...e,[`experiment.${n}`]:(0,l.sk)(t(n))})),{}),c=(e,t)=>"number"==typeof t?e(t):null,u=e=>e.reduce(((e,t)=>e+t),0),p=(e,t)=>Object.keys(t).reduce(((n,i)=>({...n,[`${e}${i}`]:t[i]})),{}),m=e=>{if(!e.length)return{};const t=e.map((({startTime:e,requestStart:t,responseStart:n,responseEnd:i})=>{const a=t||e;return{startTime:e,requestStart:a,responseStart:n||a,responseEnd:i}})),n=u(t.map((e=>e.requestStart-e.startTime))),i=u(t.map((e=>e.responseStart-e.requestStart))),a=u(t.map((e=>e.responseEnd-e.responseStart))),o=n+i+a,r=u(e.map((e=>e.decodedBodySize||0)));return{decodedBodySize:(0,l.cC)((s=r,Number(Number(s/1024).toFixed(3)))),"duration.all":(0,l.cC)(o),"duration.requestStartToResponseStart":(0,l.cC)(i),"duration.responseStartToResponseEnd":(0,l.cC)(a),"duration.startToRequestStart":(0,l.cC)(n)};var s},h=e=>{const t=e.filter((e=>!!e.responseEnd));return{...e.length?{...m(t),"count.completed":(0,l.cC)(t.length)}:{},"count.all":(0,l.cC)(e.length)}},g=e=>{const t=["timeSecond1","timeSecond2","timeSecond3"],n={timeSecond1:{start:0,end:0,count:0},timeSecond2:{start:0,end:0,count:0},timeSecond3:{start:0,end:0,count:0}},i={script_deferred:[],external:[],visually_complete:[],script:[],css:[],video:[],image:[],xmlhttprequest:[],other:[]};if(e.length){const{requestStart:a,startTime:l}=e[0].timing,o=a||l;n.timeSecond1.start=o,n.timeSecond1.end=o+1e3,n.timeSecond2.start=o+1e3,n.timeSecond2.end=o+2e3,n.timeSecond3.start=o+2e3,n.timeSecond3.end=o+3e3,e.forEach((e=>{const{timing:a}=e;i[e.category]=i[e.category].concat([a]),e.isDeferred&&(i.script_deferred=i.script_deferred.concat([a])),e.isExternal&&(i.external=i.external.concat([a])),e.isVisuallyCompleteRequired&&(i.visually_complete=i.visually_complete.concat([a]));const{requestStart:l,startTime:o,responseEnd:r}=a,s=l||o;t.forEach((e=>{const{start:t,end:i}=n[e];(s>=t&&s<i||s<t&&r>t)&&(n[e].count+=1)}))}))}const a={...p("concurrentRequests.",Object.keys(n).reduce(((e,t)=>e={...e,[t]:(0,l.cC)(n[t].count)}),{}))};return{...Object.keys(i).reduce(((e,t)=>({...e,...p(`resource.${t}.`,h(i[t]))})),a)}},_=(e,t,n)=>{var a;const{devicePixelRatio:o,navigator:d,innerWidth:u,innerHeight:p,performance:m}=window,{deviceMemory:h,hardwareConcurrency:g,platform:_,userAgent:y,connection:v}=d,{memory:f}=m,{appType:b,appVersion:x,browserName:k,browserVersion:P,deviceType:S,isAppShell:w,isAuthenticated:T,isBot:I,isSocialBot:A,locale:C,osName:j,stageName:E}=t,R="desktop"===S?b||5:b||6;let L;const{navigationType:D}=e;let F=null;if("initial_app_load"===D){var z;L=1;const e=null===(z=(0,s.Z)("navigation")[0])||void 0===z?void 0:z.transferSize;F=e?parseFloat((.001*e).toFixed(1)):null}else L=4;return{"app.type":(0,l.jy)(R),"app.version":(0,l.sk)(x),"browser.name":(0,l.sk)(k),"browser.version":(0,l.sk)(P),"cpu.speed":(0,l.jy)(g),"device.memory":(0,l.jy)(h),"device.type":(0,l.jy)(0),"device.typeName":(0,l.sk)(S),"device.version":(0,l.sk)("unknown"),"pwt.cause":(0,l.jy)(L),"net.effectiveType":(0,l.sk)((null==v?void 0:v.effectiveType)||null),"net.downlink":(0,l.cC)(c((e=>10*Math.round(e/10)),null==v?void 0:v.downlink)),"net.downlinkMax":(0,l.cC)(c((e=>10*Math.round(e/10)),null==v?void 0:v.downlinkMax)),"net.rtt":(0,l.cC)(c((e=>10*Math.round(e/10)),null==v?void 0:v.rtt)),"net.speed":(0,l.cC)((0,r.Hv)(n,!1)),"pwt.result":(0,l.jy)(1),"view.type":(0,l.cC)(0),"viewport.height":(0,l.cC)(p||0),"viewport.width":(0,l.cC)(u||0),devicePixelRatio:(0,l.cC)(o||0),isAppShell:(0,l.qr)(w),isAuthenticated:(0,l.qr)(T),isBot:(0,l.qr)(I),isSocialBot:(0,l.qr)(A),locale:(0,l.sk)(C),osName:(0,l.sk)(j),...null!==F&&{htmlResponseSize:(0,l.cC)(F)},nextHopProtocol:(0,l.sk)((null===(a=(0,s.Z)("navigation")[0])||void 0===a?void 0:a.nextHopProtocol)||null),platform:(0,l.sk)(_||null),profilerVersion:(0,l.sk)("3"),pwtActionName:(0,l.jy)((0,i.Rp)(e)),stageName:(0,l.sk)(E),userAgent:(0,l.sk)(y),usedJSHeapSize:(0,l.cC)((null==f?void 0:f.usedJSHeapSize)||0),totalJSHeapSize:(0,l.cC)((null==f?void 0:f.totalJSHeapSize)||0),jsHeapSizeLimit:(0,l.cC)((null==f?void 0:f.jsHeapSizeLimit)||0)}},y=({annotateExperiments:e,metricId:t,pwtStaticContext:n,binaryAnnotations:i={},performanceResourceTimings:a=[]})=>({...d(e,n.getExperimentGroup),..._(t,n,a),...i,stopwatchVersion:(0,l.jy)(1)}),v=(e,t)=>{var n;const{navigator:i}=window,{serviceWorker:r}=i,{surface:s,navigationType:d,isAuthenticated:c}=e,{cumulativeLayoutShiftScore:p,longTaskDurations:m}=(0,o.v2)();return{...m.length?{"longTask.count":(0,l.cC)(m.length),"longTask.maxDuration":(0,l.cC)(Math.max(...m)),"longTask.totalDuration":(0,l.cC)(u(m))}:{},cumulativeLayoutShiftScore:(0,l.cC)(100*p),"masonry.paginationMarkCount":(0,l.cC)((0,a.Ao)(a.at,t)),"metricId.isAuthenticated":(0,l.qr)(c),"metricId.navigationType":(0,l.sk)(d),"metricId.surface":(0,l.sk)(s),resourceBufferClearedCount:(0,l.jy)((0,a.Ao)("resourceBufferCleared",t)),scrollDuringLayout:(0,l.qr)((0,a.BA)("scrollDuringLayout",t)),serviceWorker:(0,l.qr)(r?!!r.controller:null),serviceWorkerState:(0,l.sk)((null==r||null===(n=r.controller)||void 0===n?void 0:n.state)||null)}},f=({annotateExperiments:e,binaryAnnotations:t={},entries:n,metricId:i,performanceResources:a,pwtEndTime:l,pwtStaticContext:o})=>({...t,...g(a),...d(e,o.getExperimentGroup),..._(i,o,n),...v(i,l)})},363959:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(622200);const a=()=>{const[e]=i.Z?i.Z.getEntriesByType("navigation"):[];return e}},324e3:(e,t,n)=>{n.d(t,{i:()=>i,p:()=>o});const i=({name:e,initiatorType:t})=>{switch(t){case"xmlhttprequest":return"xmlhttprequest";case"img":return"image";case"video":return"video";default:{const t=e.split("."),n=(t.length>1&&t.pop()||"").toLowerCase();return["js","mjs"].includes(n)?"script":"css"===n?"css":["mp4","m4v","mov","ts","m3u8"].includes(n)?"video":["bmp","gif","jpg","jpeg","png","tiff","webp","svg"].includes(n)?"image":"other"}}},a=e=>{const t=e.replace(new RegExp(`^${window.location.origin||""}`),""),n=document&&document.querySelector(`script[src='${t}']`);return!!n&&n.hasAttribute("defer")},l=e=>["pinimg","pinterest","pinterdev"].every((t=>!e.includes(`${t}`))),o=(e,t)=>{const n=i(e),{name:o}=e;return{category:n,isDeferred:"script"===n&&a(o),isExternal:l(o),isVisuallyCompleteRequired:"image"===n&&t.includes(o),timing:e}}},591614:(e,t,n)=>{n.d(t,{Z:()=>P});var i=n(334130),a=n(39008),l=n(93501),o=n(30482),r=n(763795);let s=null;const d=(e,t)=>(s=s||{results:[],context:t},s.results.push(e),s);var c=n(486986),u=n(363959),p=n(769916),m=n(910673);const h=(e,t)=>Object.keys(e).reduce(((n,i)=>{const a=e[i];return a?{...n,[i]:{timestamp:t+a}}:n}),{}),g=({span:e,timeOrigin:t})=>{return{id:e.id,parent_id:e.parentId||null,result:1,name:e.name,timestamp:t+e.startTime,duration:e.endTime-e.startTime,annotations:h(e.annotationMap,t),binary_annotations:(n=e.binaryAnnotationMap,Object.keys(n).reduce(((e,t)=>{const i=n[t];if(!i)return e;const{value:a,type:l}=i;return null==a?e:e.concat({name:t,value:a,annotation_type:l})}),[]))};var n},_=(e,{startTime:t,endTime:n,annotationMap:i,binaryAnnotationMap:a,parentId:l,traceId:o})=>({name:`pwt/${e}`,startTime:t,endTime:n,annotationMap:i,binaryAnnotationMap:a,parentId:l,id:o}),y=({annotations:e})=>e.reduce(((e,{key:t,timestamp:n})=>({...e,[`server_${t}`]:{timestamp:n}})),{}),v=(e,t)=>({...e,annotations:{...y(t),...e.annotations},binary_annotations:[...t.binary_annotations,...e.binary_annotations]}),f=({traceId:e,actionName:t,result:n,timeOrigin:i,serverDataToJoin:a})=>{let l=g({span:_(t,n),timeOrigin:i}),o=null;return a&&(l=v(l,a),o=((e,t,n)=>{var i;const a=(0,u.Z)();return(null==a?void 0:a.responseEnd)?v(g({span:{name:"html",startTime:0,endTime:(null==a?void 0:a.responseEnd)||1,annotationMap:{},binaryAnnotationMap:{nextHopProtocol:(0,c.sk)((null===(i=(0,m.Z)("navigation")[0])||void 0===i?void 0:i.nextHopProtocol)||null)},id:e.server_span_id||(0,p.Z)(),parentId:t},timeOrigin:n}),e):null})(a,e,i)),{trace_id:e,spans:[l,...o?[o]:[],...n.spans.map((e=>g({span:e,timeOrigin:i})))]}},b=e=>({debugTrace:a.eD,locale:e.locale,stageName:e.stageName}),x=(0,o.XV)("reportResult"),k=()=>{var e;return null!==(e=window.performance)&&void 0!==e&&e.now?Date.now()-window.performance.now():"unknown"};function P({metricId:e,pwtStaticContext:t,result:n,isAuth:o}){const{serverData:s}=t,c=(0,l.KJ)(e),u=`${n.type}.${c}`,p=`${n.type}.sampled.${c}`,m=void 0!==o&&{tags:{isAuth:o}}||void 0;if((0,r.A9)(n.reason?u.concat(`.${n.reason}`):u,m),(0,r.A9)(n.reason?p.concat(`.${n.reason}`):p,{...m,sampleRate:.5}),"COMPLETE"!==n.type)return void x(`Abort metric ${c}`,n);const h=k();if("unknown"===h)return x(`Unable to convert to absolute times for ${c} due to missing time origin`),void(0,r.A9)(`missingTimeOrigin.${c}`,m);if(a.is&&(window.PWT_LAB_DATA=d(n,t)),n.spans.length&&(n.spans=n.spans.map((e=>(e.parentId||e.id===n.traceId||"network_resources"===e.name||(e.parentId=n.traceId),e)))),!a.is){const a=e.navigationType&&"initial_app_load"===e.navigationType,{traceId:l}=n,o=f({traceId:l,actionName:c,result:n,timeOrigin:h,serverDataToJoin:a&&s||null});(0,i.Z)({type:"POST",url:"/_/_/trace/trace/",data:{report_data:JSON.stringify(o),report_context:JSON.stringify(b(t))}}),x(`PinTrace ${c} will be available shortly: https://pintrace.pinadmin.com/zipkin/traces/${l.toString(16)}`,{duration:n.endTime-n.startTime,result:n,pwtStaticContext:t})}}},941314:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0,unloadEventStart:e.unloadEventStart||0,unloadEventEnd:e.unloadEventEnd||0})},577491:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(486986),a=n(941314),l=n(769916);const o=({category:e,isDeferred:t,isExternal:n})=>[e].concat(t?["deferred"]:[]).concat(n?["external"]:[]).join("_");function r(e,t){const{category:n,timing:r,isDeferred:s,isExternal:d,isVisuallyCompleteRequired:c}=e;return r.responseEnd&&("image"!==n||c)?{name:o(e),id:(0,l.Z)(),parentId:t,startTime:r.startTime,endTime:r.responseEnd,annotationMap:(0,a.Z)(r),binaryAnnotationMap:{category:(0,i.sk)(n),decodedBodySize:(0,i.cC)(r.decodedBodySize||0),initiatorType:(0,i.sk)(r.initiatorType),isDeferred:(0,i.qr)(s),isExternal:(0,i.qr)(d),name:(0,i.sk)(r.name),nextHopProtocol:(0,i.sk)(r.nextHopProtocol),transferSize:(0,i.cC)(r.transferSize||0)}}:null}},912208:(e,t,n)=>{n.d(t,{Z:()=>P});var i=n(667294),a=n(583592),l=n(763795),o=n(677263),r=n(30482),s=n(39983),d=n(583077),c=n(372453),u=n(363959),p=n(324e3),m=n(591614),h=n(577491),g=n(879751),_=n(55941),y=n(769916),v=n(622200);const f=(0,r.XV)("PwtStopwatch"),b=(e,t)=>{if(v.Z){if("start"===t.type&&!e.isTiming){const{name:n,startTime:i,navigationType:a}=t;return(0,l.A9)(`TIMING.${n}`),{isTiming:!0,name:n,isSampled:t.isSampled,startTime:"number"==typeof i?i:v.Z.now(),metricId:{type:"stopwatch",name:n,navigationType:a},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId,spanNameUpdates:e.spanNameUpdates}}if(!e.isTiming){if(!t.bypassIsTimingCheck){const n=t.name||e.name;return f("ignoring action - stopwatch is not actively timing",t),(0,l.A9)(`WARN.${n}.noTiming.${t.type}`),e}f("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t)}if("annotate"===t.type){const n=v.Z.now();return f(`adding annotation {${t.label}: ${n}}`),{...e,annotations:e.annotations.concat([{label:t.label,timestamp:n}])}}if("binaryAnnotate"===t.type)return f(`adding binary annotation {${t.name}: ${String(t.value)}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:t.value,type:t.annotationType}}};if("binaryAnnotateOperation"===t.type){const{value:n,type:i}=t.binaryAnnotationValueAndType;if(e.binaryAnnotations[t.name]){const a=e.binaryAnnotations[t.name].value||0;return f(`operating on binary annotation {\n          name: ${t.name}\n          pervious value: ${String(a)}\n          operand: ${String(n)}\n        }`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n?t.operation(a,n):a,type:i}}}}return{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:n,type:i}}}}if("addSubspan"===t.type){f(`adding subspan {${t.name}}`);-1!==e.spans.findIndex((e=>e.name===t.name))&&f(`WARNING: adding duplicate subspan name {${t.name}}`);const n=t.id||(0,y.Z)();-1!==e.spans.findIndex((e=>e.id===n))&&f(`WARNING: adding duplicate subspan id {${t.name}: ${n}}`);let i=0;return t.startTime?i=t.startTime:e.startTime?i=e.startTime:f(`WARNING: adding subspan {${t.name}} without start time`),{...e,spans:[...e.spans,{name:t.name,id:n,startTime:i,endTime:t.endTime||1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations},parentId:t.parentId}]}}if("subspanStart"===t.type){var n;f(`starting subspan {${t.name}}`);-1!==e.spans.findIndex((e=>e.name===t.name))&&f(`WARNING: starting duplicate subspan name {${t.name}}`);const i=t.id||(0,y.Z)();-1!==e.spans.findIndex((e=>e.id===i))&&f(`WARNING: starting duplicate subspan id {${t.name}: ${i}}`);const a=t.parentName?null===(n=e.spans.find((e=>e.name===t.parentName)))||void 0===n?void 0:n.id:null;return{...e,spans:[...e.spans,{name:t.name,id:i,parentId:t.parentId||a,startTime:v.Z.now(),endTime:1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations}}]}}if("subspanStop"===t.type){if(f(`stopping subspan {${t.name}}`),!t.id){e.spans.reduce(((e,n)=>n.name===t.name?[...e,n]:e),[]).length>1&&(0,l.H)("duplicate_subspan_stop_name",{name:t.name,type:t.type})}const n=t.id?e.spans.findIndex((e=>e.id===t.id)):e.spans.findIndex((e=>e.name===t.name));return n>-1?(e.spans[n].endTime=v.Z.now(),t.annotations&&(e.spans[n].annotationMap={...e.spans[n].annotationMap,...t.annotations}),t.binaryAnnotations&&(e.spans[n].binaryAnnotationMap={...e.spans[n].binaryAnnotationMap,...t.binaryAnnotations})):(0,l.H)("invalid_subspan_stop_name",{name:t.name}),e}if("subspanUpdateName"===t.type){e.spans.reduce(((e,n)=>n.name===t.currentName?[...e,n]:e),[]).length>1&&(0,l.H)("duplicate_subspan_stop_name",{name:t.currentName,type:t.type});const n=e.spans.findIndex((e=>e.name===t.currentName));return n>-1?t.updateWhenStopwatchCompletes?e.spanNameUpdates=[...e.spanNameUpdates,{currentName:t.currentName,newName:t.newName}]:(f(`renaming subspan {${t.currentName}} to {${t.newName}}`),e.spans[n].name=t.newName):(0,l.H)("no_subspan_found_to_rename",{name:t.currentName}),e}if("stop"===t.type&&e.isTiming){const{startTime:n,metricId:i,pwtStaticContext:a,annotations:l,binaryAnnotations:o,isSampled:r,spans:_,traceId:b}=e;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),r){const r=t.stopTime||v.Z.now(),x=[..._.map((t=>{t.endTime===1/0&&(t.endTime=r);const n=e.spanNameUpdates.findIndex((e=>t.name===e.currentName));return n>-1&&(f(`renaming subspan {${t.name}} to {${e.spanNameUpdates[n].newName}}`),t.name=e.spanNameUpdates[n].newName,e.spanNameUpdates=e.spanNameUpdates.filter((e=>e.newName!==t.name))),t}))];if(t.manualAndResourceSpans||0===_.length){const e=(0,y.Z)();x.push({name:"network_resources",id:e,startTime:n,endTime:r,annotationMap:{},binaryAnnotationMap:{},parentId:null},...(t.customStopwatchBuffer||[]).map((t=>(0,h.Z)((0,p.p)(t,[]),e))).filter(Boolean))}const k="initial_app_load"===i.navigationType&&(0,u.Z)(),P={type:"COMPLETE",traceId:b,startTime:n,endTime:r,spans:x,annotationMap:{...(0,g.Z)(l),...(0,d.jh)("browser_",k?(0,d.D3)(k):{}),...(0,d.jh)("mark_",(0,s.gQ)())},binaryAnnotationMap:(0,c.ng)({metricId:i,pwtStaticContext:a,binaryAnnotations:o,performanceResourceTimings:t.customStopwatchBuffer||[]})};(0,m.Z)({metricId:i,pwtStaticContext:a,result:P})}return{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,y.Z)(),spanNameUpdates:[]}}if("error"===t.type){const{error:n,stopwatchPerformanceObserver:i}=t;return n&&(0,l.H)(n),i&&i.disconnect(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,y.Z)(),spanNameUpdates:[]}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();const{metricId:n,pwtStaticContext:i}=e,a=t.reason||"";return(0,m.Z)({metricId:n,pwtStaticContext:i,result:{type:"ABORT",reason:a}}),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,y.Z)(),spanNameUpdates:[]}}}return e},x=({name:e,sampleRate:t,navigationType:n,manualAndResourceSpans:a=!1})=>{const l=(0,o.N5)(),r=(0,i.useRef)([]),s=(0,i.useRef)(null),[d,c]=(0,i.useReducer)(b,{isTiming:!1,name:e,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,y.Z)(),spanNameUpdates:[]});return l?{isTiming:d.isTiming,start:i=>{if(window.PerformanceObserver){const e=1e3;r.current=[],s.current=(0,_.Z)({entryTypes:["resource"]},(t=>{r.current=r.current.concat(t.getEntries()),r.current.length>e&&(r.current=r.current.slice(-e))}))}const a={type:"start",startTime:i,name:e,navigationType:n,pwtStaticContext:l,isSampled:!t||Math.random()<t};return c(a)},stop:e=>c({type:"stop",stopTime:e,stopwatchPerformanceObserver:s.current,customStopwatchBuffer:r.current,manualAndResourceSpans:a}),error:e=>{c({type:"error",stopwatchPerformanceObserver:s.current,error:e})},abort:e=>c({type:"abort",stopwatchPerformanceObserver:s.current,customStopwatchBuffer:r.current,reason:e}),annotate:(e,t,n=!1)=>c({type:"annotate",label:e,parentId:t,bypassIsTimingCheck:n}),binaryAnnotate:(e,t,n,i,a=!1)=>c({type:"binaryAnnotate",name:e,value:t,annotationType:n,parentId:i,bypassIsTimingCheck:a}),binaryAnnotateOperation:({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:a=!1})=>c({type:"binaryAnnotateOperation",name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:a}),addSubspan:({name:e,startTime:t,endTime:n,annotations:i={},binaryAnnotations:a={},parentId:l=null,id:o=null,bypassIsTimingCheck:r=!1})=>c({type:"addSubspan",name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:a,parentId:l,id:o,bypassIsTimingCheck:r}),subspanStart:({name:e,annotations:t={},binaryAnnotations:n={},parentId:i=null,parentName:a=null,id:l=null,bypassIsTimingCheck:o=!1})=>c({type:"subspanStart",name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:a,id:l,bypassIsTimingCheck:o}),subspanStop:({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:a,bypassIsTimingCheck:l=!1})=>c({type:"subspanStop",name:e,annotations:t,binaryAnnotations:n,id:i,parentId:a,bypassIsTimingCheck:l}),subspanUpdateName:({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:i=!0})=>c({type:"subspanUpdateName",currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:i}),getSpans:(e,t)=>d.spans.filter((n=>n[e]===t)),getTraceId:()=>d.traceId}:null};var k=n(785893);const P=({name:e,sampleRate:t,abortOnUnloadOrClientNavigation:n=!0,navigationType:r,manualAndResourceSpans:s=!1})=>{const{Provider:d,useMaybeHook:c}=(0,a.Z)(`Stopwatch_${e}`);return{Provider:function({children:a}){const c=x({name:e,sampleRate:t,navigationType:r,manualAndResourceSpans:s}),u=(0,o.fM)(),p=u?u.time:0,m=(0,i.useRef)(!1),h=null==c?void 0:c.isTiming,g=(0,i.useCallback)((t=>{m.current?(m.current=!1,null==c||c.abort(t)):(0,l.A9)(`WARN.${e}.noTiming.abort`)}),[c]),_=(0,i.useCallback)(((e,t)=>{null==c||c.annotate(e,t)}),[c]),y=(0,i.useCallback)(((e,t,n,i)=>{null==c||c.binaryAnnotate(e,t,n,i)}),[c]),v=(0,i.useCallback)((({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:a})=>{null==c||c.binaryAnnotateOperation({name:e,binaryAnnotationValueAndType:t,operation:n,parentId:i,bypassIsTimingCheck:a})}),[c]),f=(0,i.useCallback)((({name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:a,parentId:l,id:o,bypassIsTimingCheck:r})=>{null==c||c.addSubspan({name:e,startTime:t,endTime:n,annotations:i,binaryAnnotations:a,parentId:l,id:o,bypassIsTimingCheck:r})}),[c]),b=(0,i.useCallback)((({name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:a,id:l,bypassIsTimingCheck:o})=>{null==c||c.subspanStart({name:e,annotations:t,binaryAnnotations:n,parentId:i,parentName:a,id:l,bypassIsTimingCheck:o})}),[c]),P=(0,i.useCallback)((({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:a,bypassIsTimingCheck:l})=>{null==c||c.subspanStop({name:e,annotations:t,binaryAnnotations:n,id:i,parentId:a,bypassIsTimingCheck:l})}),[c]),S=(0,i.useCallback)((({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:i})=>{null==c||c.subspanUpdateName({currentName:e,newName:t,bypassIsTimingCheck:n,updateWhenStopwatchCompletes:i})}),[c]),w=(0,i.useCallback)(((e,t)=>c?c.getSpans(e,t):[]),[c]),T=(0,i.useCallback)((()=>c?c.getTraceId():0),[c]),I=(0,i.useCallback)((t=>{m.current?(m.current=!1,null==c||c.error(t)):(0,l.A9)(`WARN.${e}.noTiming.error`)}),[c]),A=(0,i.useCallback)((e=>{m.current&&(null==c||c.abort("duplicated_init_stopwatch_action")),m.current=!0,null==c||c.start(e)}),[c]),C=(0,i.useCallback)((t=>{m.current?(m.current=!1,null==c||c.stop(t)):(0,l.A9)(`WARN.${e}.noTiming.stop`)}),[c]);(0,i.useEffect)((()=>()=>{n&&g("unloadOrClientNavigation")}),[p]);const j=(0,i.useMemo)((()=>({isTiming:h,abort:g,addAnnotation:_,addBinaryAnnotation:y,binaryAnnotationOperation:v,addSubspan:f,subspanStart:b,subspanStop:P,getSpans:w,getTraceId:T,updateSubspanName:S,stop:C,error:I,start:A})),[h,g,_,y,v,f,b,P,w,T,S,C,I,A]);return(0,k.jsx)(d,{value:j,children:a})},useHook:c}}},845092:(e,t,n)=>{n.d(t,{ku:()=>T,Jx:()=>P,PY:()=>w});var i=n(30482),a=n(763795),l=n(39983),o=n(583077),r=n(372453),s=n(363959),d=n(335741);const c=()=>(0,d.PJ)().reduce(((e,{identifier:t,loadTime:n,renderTime:i})=>e[`${t}_loadTime`]?e[`${t}_dupe_loadTime`]?{...e,[`${t}_dupe_loadTime`]:n,[`${t}_dupe_renderTime`]:i}:e:{...e,[`${t}_loadTime`]:n,[`${t}_renderTime`]:i}),Object.freeze({}));var u=n(941314),p=n(360588),m=n(353335);const h=e=>{if("pin_closeup"===e){const e=(0,p.Z)();return(e=>{const t=(0,m.y0)();return e.reduce(((e,{name:n,match:i})=>t.filter((e=>i(e))).slice(0,2).reduce(((e,t,i)=>({...e,...(0,o.jh)(`${n}${i?"_dupe1":""}_`,(0,u.Z)(t))})),e)),Object.freeze({}))})([{name:"mainImage",match:({name:t})=>t===e},{name:"PinResource",match:({name:e})=>e.includes("PinResource")}])}return{}};var g=n(324e3),_=n(591614),y=n(577491),v=n(154174),f=n(55941),b=n(769916);const x=(0,i.XV)("LightStopwatch"),k={},P=({annotateExperiments:e,annotateMarks:t,annotateResourceTimingForSurface:n,name:i,pwtStaticContext:d})=>{const u=(()=>{let e=[],t=null;if(window.PerformanceObserver){const n=1e3;t=(0,f.Z)({entryTypes:["resource"]},(t=>{e=e.concat(t.getEntries()),e.length>n&&(e=e.slice(-n))}))}return{get:()=>e,disconnect:()=>{t&&t.disconnect()}}})(),p=(0,v.Z)(d.fullPath);let m=!0,P={...p?{pagePath:{value:p,type:"STRING"}}:{}};(0,a.A9)(`TIMING.${i}`,{tags:{isAuth:d.isAuthenticated}});const S={type:"stopwatch",name:i,navigationType:"initial_app_load"},w={abort:e=>{m?(m=!1,(0,_.Z)({metricId:S,pwtStaticContext:d,result:{type:"ABORT",reason:e}})):(0,a.H)("duplicate_abort_action",{action:i})},error:(e,t)=>{const n={...t,action:i};m?(e&&(0,a.H)(e,n),u&&u.disconnect(),m=!1):(0,a.H)("duplicate_error_action",n)},stop:p=>{if(!m)return void(0,a.H)("duplicate_stop_action",{action:i});m=!1,u.disconnect();const v=(0,b.Z)(),f=(0,s.Z)(),x=u.get(),k={type:"COMPLETE",traceId:(0,b.Z)(),startTime:0,endTime:p,spans:[{name:"network_resources",id:v,startTime:0,endTime:p,annotationMap:{},binaryAnnotationMap:{},parentId:null},...x.map((e=>(0,y.Z)((0,g.p)(e,[]),v))).filter(Boolean)],annotationMap:{...(0,o.jh)("resource_",n?h(n):{}),...(0,o.jh)("element_",c()),...(0,o.jh)("mark_",t&&t.length?(0,o.Hd)((0,l.gQ)(),t):{}),...(0,o.jh)("browser_",f?(0,o.D3)(f):{})},binaryAnnotationMap:(0,r.ng)({annotateExperiments:e,metricId:S,pwtStaticContext:d,performanceResourceTimings:x,binaryAnnotations:P})};(0,_.Z)({metricId:S,pwtStaticContext:d,result:k,isAuth:d.isAuthenticated})},addBinaryAnnotation:(e,t,n)=>{x(`adding binary annotation {${e}: ${String(t)}}`),P={...P,[e]:{value:t,type:n}}}};return k[i]=w,w},S=e=>k[e],w=e=>!!S(e),T=({stopwatchName:e,binaryAnnotationName:t,value:n,annotationType:i})=>{const a=S(e);a&&a.addBinaryAnnotation(t,n,i)}},719540:(e,t,n)=>{n.d(t,{T:()=>o,g:()=>r});var i=n(912208);const{Provider:a,useHook:l}=(0,i.Z)({name:"story_pin_step",sampleRate:1}),o=a,r=l},879751:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{let t={};e.forEach((({label:e,timestamp:n})=>{t={...t,[e]:(t[e]||[]).concat([n])}}));let n=Object.freeze({});return Object.keys(t).forEach((e=>{(t[e]||[]).forEach(((t,i)=>{const a=i?`${e}_${i+1}`:e;n={...n,[a]:t}}))})),n}},335741:(e,t,n)=>{n.d(t,{Af:()=>_,Bn:()=>h,Kj:()=>p,PJ:()=>s,UQ:()=>y,Ux:()=>d,on:()=>o,v2:()=>c});var i=n(545225),a=n(55941);const l={cumulativeLayoutShiftScore:0,firstInputDelay:null,longTaskDurations:[],largestContentfulPaint:null,elementTimings:[]},o=()=>{l.longTaskDurations=[]},r=(0,i.Z)((()=>l.elementTimings)),s=()=>r.get(),d=e=>{e&&r.save(),l.elementTimings=[]},c=()=>l;let u=0;const p=()=>u;let m;const h=()=>m;let g;const _=()=>g,y=()=>{(0,a.Z)({type:"element",buffered:!0},(e=>{l.elementTimings=l.elementTimings.concat(e.getEntries().reduce(((e,{identifier:t,loadTime:n,renderTime:i})=>e.concat("string"==typeof t&&"number"==typeof n&&"number"==typeof i?[{identifier:t,loadTime:n,renderTime:i}]:[])),[]))})),(0,a.Z)({entryTypes:["longtask"]},(e=>{e.getEntries().map((e=>l.longTaskDurations.push(e.duration)))}),(()=>o())),(0,a.Z)({type:"first-input",buffered:!0},((e,t)=>{const n=e.getEntries()[0];n&&n.startTime&&n.processingStart&&(l.firstInputDelay={startTime:n.startTime,endTime:n.processingStart},g=l.firstInputDelay.startTime),t.disconnect()}),(()=>{l.firstInputDelay=null})),(0,a.Z)({type:"largest-contentful-paint",buffered:!0},(e=>{const t=e.getEntries(),n=t.length,i=t[n-1];i&&(u=n,l.largestContentfulPaint=i.renderTime||i.loadTime||null,m=i.renderTime||i.loadTime||null)})),(0,a.Z)({type:"layout-shift",buffered:!0},(e=>{e.getEntries().forEach((e=>{e.hadRecentInput||(l.cumulativeLayoutShiftScore+=e.value)}))}))}},768337:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";default:return"OTHER"}}},545225:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{let t=null;return{get:()=>t||e(),save:()=>{t=e()}}}},813107:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>{const{deviceType:t,isBot:n,isSocialBot:i}=e;return`coreWebVitalsLite.v1.${(i?"socialBot":n&&"bot")||"nonbot"}.${t}`}},154174:(e,t,n)=>{function i(e){var t;const n=null!==(t=e.split("?")[0])&&void 0!==t?t:"";if(!n.startsWith("/pin/"))return null;const i=n.split("/")[3];return i?"feedback"===i||"sent"===i?i:null:"default"}n.d(t,{Z:()=>i})},55941:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t,n)=>{if(!window.PerformanceObserver)return null;try{const i=new window.PerformanceObserver(t);return i.observe(e),window.addEventListener("beforeunload",(()=>{i.disconnect()})),n&&window.addEventListener("popstate",(()=>{n()})),i}catch(i){return null}}},360588:(e,t,n)=>{n.d(t,{Z:()=>a,f:()=>i});const i="closeupImage",a=()=>{if(!document.querySelector)return null;const e=document.querySelector('head>link[rel="preload"][as="image"][href^="https://i.pinimg.com/"]');return e instanceof HTMLLinkElement?e.href:null}},769916:(e,t,n)=>{function i(){let e="";for(let t=0;t<15;t+=1){e+="0123456789"[Math.floor(10*Math.random())]}return Number(e)}n.d(t,{Z:()=>i})},353335:(e,t,n)=>{n.d(t,{Cg:()=>g,Eg:()=>y,Hv:()=>f,LH:()=>v,MM:()=>b,X_:()=>p,y0:()=>_});var i=n(39008),a=n(763795),l=n(39983),o=n(324e3),r=n(545225),s=n(55941),d=n(910673);let c;function u(){window.performance&&window.performance.clearResourceTimings&&((0,l.ZP)("resourceBufferCleared"),i.DQ&&console.info("Warning: Clearing resource timings in default buffer."),(0,a.A9)("resourceBufferSize",{count:(0,d.Z)("resource").length}),window.performance.clearResourceTimings())}const p=({size:e})=>{if(window.performance){window.PerformanceObserver?(c=(0,d.Z)("resource"),(0,s.Z)({entryTypes:["resource"]},(t=>{c=(c||[]).concat(t.getEntries()),c.length>e&&(c=c.slice(-e))}))):(window.addEventListener("popstate",(()=>{(0,d.Z)("resource").length>e&&u()})),window.performance.setResourceTimingBufferSize&&window.performance.setResourceTimingBufferSize(e));try{window.performance.onresourcetimingbufferfull=()=>{c||u()}}catch(t){}}},m=()=>c||(0,d.Z)("resource"),h=(0,r.Z)(m),g=m,_=()=>h.get(),y=e=>{e&&h.save(),c&&((0,a.A9)("customBufferSize",{count:c.length}),c=[]),u()},v=()=>({customBufferSize:c?c.length:0,defaultBufferSize:(0,d.Z)("resource").length}),f=(e,t=!0)=>{let n=0,i=0;const l=(r=e.filter((e=>t?!("image"!==(0,o.i)(e)||(e.responseEnd||(n+=1),e.transferSize||(i+=1),!e.responseEnd||!e.transferSize)):!!e.responseEnd&&!!e.transferSize)).map((e=>8*(e.transferSize||0)/((e.responseEnd-e.responseStart)/1e3)/1e3))).length?r.reduce(((e,t)=>e+t),0)/r.length:null;var r;return t&&(n>0&&(0,a.A9)("images.downloadSpeed.noResponseEnd",{tags:{count:n}},!1),i>0&&(0,a.A9)("images.downloadSpeed.transferSize",{tags:{count:i}},!1)),l},b=e=>{if(!e)return"unknown";const t=Math.floor(e/1e3);return t<1?"0-1":t<5?"1-5":t<10?"5-10":t<20?"10-20":t<40?"20-40":t<80?"40-80":"80_or_above"}},910673:(e,t,n)=>{function i(e){var t,n;return(null===(t=window)||void 0===t||null===(n=t.performance)||void 0===n?void 0:n.getEntriesByType)&&window.performance.getEntriesByType(e)||[]}n.d(t,{Z:()=>i})},622200:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(a=window.performance)&&a.clearMarks&&a.clearMeasures&&a.clearResourceTimings&&a.getEntries&&a.getEntriesByName&&a.getEntriesByType&&a.mark&&a.measure&&a.now&&a.setResourceTimingBufferSize?a:null;var a},527319:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(883119),a=n(88622),l=n(536042),o=n(667294),r=n(563962),s=n(870243),d=n(456770),c=n(785893);const u=function({user:e,viewer:t}){const n=(0,l.ZP)(),{full_name:a,image_medium_url:o,domain_url:r,domain_verified:u,is_private_profile:p,reactionType:m,username:h}=e,g=t&&!!t.id&&t.id===e.id,_=p?e.first_name:a,y=d.GY[m],{staticAsset:v}=(0,d.fW)(y,n);return(0,c.jsxs)(i.xu,{display:"flex",justifyContent:"between",paddingX:6,marginTop:6,children:[(0,c.jsx)(i.iP,{role:"link",href:`/${h}/`,children:(0,c.jsxs)(i.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,c.jsx)(i.xu,{width:40,children:(0,c.jsx)(s.qE,{accessibilityLabel:"",name:_,src:o})}),(0,c.jsxs)(i.xu,{display:"flex",direction:"column",paddingX:2,children:[(0,c.jsx)(i.xv,{weight:"bold",children:_}),g&&(0,c.jsx)(i.xv,{size:"200",children:n._('That\'s you', 'Indicates that the viewer is the person in the list', 'Indicates that the viewer is the person in the list')}),!g&&r&&u&&(0,c.jsx)(i.xv,{size:"200",children:r})]})]})}),(0,c.jsx)(i.xu,{padding:2,display:"flex",alignItems:"center",children:(0,c.jsx)(i.xu,{width:26,height:26,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${v})`,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"}}})})]})};var p=n(819079),m=n(184758),h=n(552369),g=n(802071);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y extends o.Component{constructor(...e){super(...e),_(this,"setRef",(e=>{e&&!this.list&&(this.list=e.parentElement,this.list&&this.list.addEventListener("scroll",this.handleScroll))})),_(this,"fetchMore",(()=>{const{feedResource:e}=this.props;e.isFetching||(e.isAtEnd?window.removeEventListener("scroll",this.handleScroll):e.fetchMore())})),_(this,"handleScroll",(0,h.Z)((()=>{const{feedResource:e}=this.props;if(e.isFetching||e.isAtEnd)return;const t=(0,m.Uy)(this.list);(0,m.aZ)(this.list)-(0,m.MX)(this.list)-50<t&&this.fetchMore()}),10))}componentDidMount(){const{logContextEvent:e,logView:t=!0}=this.props;t&&e({event_type:13,view_type:266,view_parameter:3312})}componentWillUnmount(){this.list&&this.list.removeEventListener("scroll",this.handleScroll)}render(){const{feedResource:{data:e,isFetching:t},viewer:n}=this.props;if(e&&e.length>0){const a=e.map((e=>{const{user:t,reaction_type:n}=e;return{...t,reactionType:n}}));return(0,c.jsxs)(i.xu,{marginBottom:6,ref:this.setRef,children:[a.map((e=>(0,c.jsx)(u,{user:e,viewer:n},e.id))),t&&(0,c.jsx)("div",{className:"loadingSpinner",children:(0,c.jsx)(i.$j,{accessibilityLabel:this.props.i18n._('Loading user list', 'Accessibility lable for user list spinner', 'Accessibility lable for user list spinner'),show:!0})})]})}return(0,c.jsx)("div",{className:"loadingSpinner",children:(0,c.jsx)(i.$j,{accessibilityLabel:this.props.i18n._('Loading user list', 'Accessibility lable for user list spinner', 'Accessibility lable for user list spinner'),show:!0})})}}function v(e){const t=(0,l.ZP)(),n=(0,g.Z)(),i=(0,r.Z)(),a=(0,p.Z)({name:"ReactionsResource",options:{pin_id:e.pinId},noCache:!0});return(0,c.jsx)(y,{...e,feedResource:a,viewer:n,i18n:t,logContextEvent:i})}function f({pinId:e,aggregatedReactions:t,totalReactionCount:n,onDismiss:o,logView:r}){const s=(0,l.ZP)(),d=(0,c.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",children:(0,c.jsxs)(i.xu,{display:"flex",direction:"row",alignItems:"center",height:19,paddingY:6,children:[(0,c.jsx)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:t}),(0,c.jsx)(i.xu,{paddingX:1,children:(0,c.jsx)(i.xv,{weight:"bold",children:n})})]})});return(0,c.jsx)(a.ZP,{mobileAccessibilityCloseIconLabel:s._('close modal', 'pin.reactions.reactedUsers', 'accessibility label for modal close icon'),accessibilityModalLabel:s._('Users who have reacted to this.', 'Label for a modal showing a list of users who have reacted to a pin', 'Label for a modal showing a list of users who have reacted to a pin'),heading:d,onDismiss:o,size:"sm",allowScroll:!0,children:(0,c.jsx)(i.xu,{height:"calc(75% - 90px)",children:(0,c.jsx)(v,{pinId:e,logView:r})})})}},467763:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(667294),a=n(883119),l=n(342693),o=n(563962),r=n(13596),s=n(536042),d=n(527319),c=n(456770),u=n(411171),p=n(785893);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends i.PureComponent{constructor(...e){super(...e),m(this,"state",{displayAggregationModal:!1}),m(this,"showAggregationModal",(()=>{const{disableModal:e,logContextEvent:t}=this.props;e||(this.setState({displayAggregationModal:!0}),t({event_type:101,view_type:3,view_parameter:139,component:13458,element:11435,aux_data:{objectId:this.props.pinId}}))})),m(this,"hideAggregationModal",(()=>{this.setState({displayAggregationModal:!1})}))}render(){const{displayAggregationModal:e}=this.state,{isBold:t,isStoryPin:n,paddingY:i,pinId:o,reactionCounts:s}=this.props,m=s?(0,u.At)(s):null,h=s?(0,u.Ud)(s):0,g=!!m&&m.length>0&&m.filter((e=>!!c.GY[e])).map(((e,t)=>{const n=c.GY[e],{gridAsset:i}=(0,c.fW)(n,this.props.i18n);return(0,p.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,p.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${i})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}},height:19,width:19})},t)}));return(0,p.jsxs)(a.xu,{children:[(0,p.jsx)("div",{onClick:this.showAggregationModal,onKeyDown:this.showAggregationModal,role:"presentation",children:!!g&&(0,p.jsx)(a.xu,{display:"inlineBlock",children:(0,p.jsxs)(a.xu,{alignItems:"center",direction:"row",display:"flex",height:n?"auto":19,paddingY:null!=i?i:n?0:6,dangerouslySetInlineStyle:{__style:{cursor:"pointer"}},children:[(0,p.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:g}),(0,p.jsx)(a.xu,{paddingX:1,children:(0,p.jsx)(a.xv,{color:t?"default":"subtle",size:l.n,weight:t?"bold":"normal",children:(0,p.jsx)(r.Z,{value:h,shortform:!0,shortformMaximumFractionDigits:1})})})]})})}),e&&h&&(0,p.jsx)(d.Z,{aggregatedReactions:g,onDismiss:this.hideAggregationModal,pinId:o,totalReactionCount:h})]})}}m(h,"defaultProps",{isBold:!0});const g=function(e){const t=(0,s.ZP)(),n=(0,o.Z)();return(0,p.jsx)(h,{...e,i18n:t,logContextEvent:n})}},456770:(e,t,n)=>{n.d(t,{GY:()=>O,Go:()=>B,Jg:()=>M,fW:()=>Z});var i=n(565304),a=n.n(i),l=n(323161),o=n.n(l),r=n(49198),s=n.n(r),d=n(154621),c=n.n(d),u=n(672374),p=n.n(u),m=n(371659),h=n.n(m),g=n(217649),_=n.n(g),y=n(36855),v=n.n(y),f=n(624645),b=n.n(f),x=n(130133),k=n.n(x),P=n(830783),S=n.n(P),w=n(53357),T=n.n(w),I=n(177564),A=n.n(I),C=n(523254),j=n.n(C),E=n(585053),R=n.n(E),L=n(926025),D=n.n(L),F=n(665728),z=n.n(F);const M=["goodIdea","love","thanks","wow","haha"],O={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},B={7:"yellow-caramellow-50",1:"red-pushpin-100",13:"teal-spabattical-100",11:"orange-firetini-50",5:"purple-mysticool-100"},Z=(e,t,n="darkGray")=>{const i={default:{staticAsset:"white"===n?R():j()},goodIdea:{staticAsset:S(),animatedAsset:a(),gridAsset:h(),label:t._('Good idea', 'Reaction label to tell a creator that their pin is a good idea', 'Reaction label to tell a creator that their pin is a good idea'),htmlStyle:"\n    @keyframes play90 {\n        0% {\n        background-position: 0px 0px;\n        }\n        100% {\n        background-position: -3600px 0px;\n        }\n    }\n    ",animationStyle:"play90 3000ms steps(90) infinite forwards",type:7},haha:{staticAsset:T(),animatedAsset:o(),gridAsset:_(),label:t._('Haha', 'Reaction label to tell a creator that the pinner laughed because of their pin', 'Reaction label to tell a creator that the pinner laughed because of their pin'),htmlStyle:"\n    @keyframes play60 {\n        0% {\n        background-position: 0px 0px;\n        }\n        100% {\n        background-position: -2400px 0px;\n        }\n    }\n    ",animationStyle:"play60 2000ms steps(60) infinite forwards",type:5},love:{staticAsset:A(),animatedAsset:s(),gridAsset:v(),label:t._('Love', 'Reaction label to tell a creator that the pinner loved their pin', 'Reaction label to tell a creator that the pinner loved their pin'),htmlStyle:"\n    @keyframes play90 {\n        0% {\n        background-position: 0px 0px;\n        }\n        100% {\n        background-position: -3600px 0px;\n        }\n    }\n    ",animationStyle:"play90 3000ms steps(90) infinite forwards",type:1},thanks:{staticAsset:D(),animatedAsset:c(),gridAsset:b(),label:t._('Thanks', 'Reaction label to tell a creator thank you', 'Reaction label to tell a creator thank you'),htmlStyle:"\n    @keyframes play60 {\n        0% {\n        background-position: 0px 0px;\n        }\n        100% {\n        background-position: -2400px 0px;\n        }\n    }\n    ",animationStyle:"play60 2000ms steps(60) infinite forwards",type:13},wow:{staticAsset:z(),animatedAsset:p(),gridAsset:k(),label:t._('Wow', 'Reaction label to tell a creator that the pinner was wowed by their pin', 'Reaction label to tell a creator that the pinner was wowed by their pin'),htmlStyle:"\n    @keyframes play90 {\n        0% {\n        background-position: 0px 0px;\n        }\n        100% {\n        background-position: -3600px 0px;\n        }\n    }\n    ",animationStyle:"play90 3000ms steps(90) infinite forwards",type:11}};return i[e]||i.default}},411171:(e,t,n)=>{function i(e){const t=Object.keys(e);if(t.length>0){return t.sort(((t,n)=>e[n]-e[t])).slice(0,3)}return null}function a(e){const t=Object.values(e);if(t.length>0){return t.reduce(((e,t)=>e+t),0)}return 0}function l(e,t,n){var i,a;return!(e.isPromoted||e.isDownstreamPromotion||!(null!==(i=e.videos)&&void 0!==i&&i.entityId||e.storyPinDataId)||t||null!==(a=e.board)&&void 0!==a&&a.isCollaborative&&e.board.collaboratedByMe||n)}n.d(t,{At:()=>i,J6:()=>l,Ud:()=>a})},31407:(e,t,n)=>{n.d(t,{A:()=>s,Z:()=>d});var i=n(667294),a=n(883119),l=n(785893);const o=12,r=3,s=({fill:e,width:t})=>{const n="half"===e?(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(a.xu,{position:"absolute",children:(0,l.jsx)(a.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:o})}),(0,l.jsx)(a.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:o})]}):(0,l.jsx)(a.JO,{accessibilityLabel:"",color:"full"===e?"default":"subtle",icon:"star",size:o});return(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginRight:`${r}px`}},display:"inlineBlock","data-test-id":`rating-star-${e}`,children:n})};function d({max_rating:e,rating:t,width:n}){const i=[],d=parseFloat(e)||5,c=function(e,t){return 5*(t=t<=e?t:e)/e}(d,parseFloat(t)||0);if(Number.isNaN(c))return null;const u=Math.floor(c),p=c-u;return[...Array(u).keys()].forEach((e=>i.push((0,l.jsx)(s,{fill:"full",width:n},e)))),p>=.75?i.push((0,l.jsx)(s,{fill:"full",width:n},i.length)):p>=.25&&i.push((0,l.jsx)(s,{fill:"half",width:n},i.length)),[...Array(5-i.length).keys()].forEach((()=>i.push((0,l.jsx)(s,{fill:"empty",width:n},i.length)))),(0,l.jsx)(a.xu,{position:"relative",display:"inlineBlock",width:d*(o+r),children:i})}},895200:(e,t,n)=>{function i({m:e=0,h:t=0}){let n;return n=t<=0?t:e>45?t+1:e>15?t+.5:t,{m:e,h:t,rm:t>0?0:e,rh:n}}function a(e){const t=Math.floor(e/3600);return i({m:Math.floor(e%3600/60),h:t})}n.d(t,{X:()=>i,u:()=>a})},771028:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(13596),a=n(630089),l=n(785893);function o({m:e,h:t,rm:n,rh:o},r,s){const d=s("closeup_dweb_onepin_title_and_description").anyEnabled;return e&&(!t||o<=0)?(0,a.nk)(d?r._('{{mins}}min', 'closeup.makeRecipeText.minutesLabel', 'Minutes label for Rich Pin Recipe'):r.ngettext('{{mins}} minute', '{{mins}} minutes', n, ' - ', ' -- '),{mins:(0,l.jsx)(i.Z,{maximumFractionDigits:2,value:n},"recipe-minutes")}):t?(0,a.nk)(d?r._('{{hrs}}hr', 'closeup.makeRecipeText.hoursLabel', 'Hours label for Rich Pin Recipe'):r.ngettext('{{hrs}} hour', '{{hrs}} hours', o, ' - ', ' -- '),{hrs:(0,l.jsx)(i.Z,{maximumFractionDigits:2,value:o},"recipe-hours")}):null}},413358:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(630089);function a(e,t){return e<60?(0,i.nk)(t._('{{mins}}min', 'recipe.minutes', 'recipe in minutes. mins: recipe duration in minutes'),{mins:e}):(0,i.nk)(t._('{{hrs}}h {{mins}} min', 'recipe.time', 'recipe time. mins: recipe duration in minutes. hrs: recipe duration in hours'),{mins:e%60,hrs:Math.floor(e/60)})}},31086:(e,t,n)=>{n.d(t,{Z:()=>o,k:()=>l});const i=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","original_referrer","source","top_level_source","top_level_source_depth"]),a=e=>!i.has(e)&&!e.startsWith("__track__");function l(e){return e.split(/([^=]+=[^=]+),/).filter(Boolean).reduce(((e,t)=>{const[n,i]=t.split("=");return e[n]=JSON.parse(i),e}),{})}const o=e=>e?Object.keys("object"==typeof e&&e||{}).filter((e=>"string"==typeof e)).filter(a).sort().map((t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`)).join(","):""},170567:(e,t,n)=>{n.d(t,{UZ:()=>u,Z8:()=>p,my:()=>m});var i=n(667294),a=(n(702664),n(690108)),l=n(583592),o=n(785893);function r(e,t,n){var i;const a=[...null!==(i=t[e][n.payload.name])&&void 0!==i?i:[],n.payload.handler],l={...t};return l[e]={...t[e],[n.payload.name]:a},l}function s(e,t,n){if(!t[e][n.payload.name])return t;const i=t[e][n.payload.name].filter((e=>e!==n.payload.handler)),a={...t};return a[e]={...t[e],[n.payload.name]:i},a}const{Provider:d,useHook:c}=(0,l.Z)("ResourceContext");function u({children:e}){const[{listeners:t,moreListeners:n},l]=(0,i.useReducer)(((e,t)=>{switch(t.type){case"addListener":return r("listeners",e,t);case"addMoreListener":return r("moreListeners",e,t);case"removeListener":return s("listeners",e,t);case"removeMoreListener":return s("moreListeners",e,t);default:return e}}),{listeners:{},moreListeners:{}});a.Z.fetchCompleteCallback=({resource:e,options:n,response:i,normalizedResponse:a,refresh:l,resourceSchema:o})=>{t[e]&&t[e].forEach((t=>t({isRefresh:l,normalizedResponse:a,options:n,schema:o,resource:e,response:i})))},a.Z.fetchMoreCompleteCallback=({resource:e,options:t,response:i,normalizedResponse:a,refresh:l,resourceSchema:o})=>{n[e]&&n[e].forEach((n=>n({isRefresh:l,normalizedResponse:a,options:t,schema:o,resource:e,response:i})))};const c=(0,i.useMemo)((()=>({listenerDispatch:l})),[]);return(0,o.jsx)(d,{value:c,children:e})}function p(e,t){const{listenerDispatch:n}=c();(0,i.useEffect)((()=>(n({type:"addListener",payload:{name:e,handler:t}}),()=>{n({type:"removeListener",payload:{name:e,handler:t}})})))}function m(e,t){const{listenerDispatch:n}=c();(0,i.useEffect)((()=>(n({type:"addMoreListener",payload:{name:e,handler:t}}),()=>{n({type:"removeMoreListener",payload:{name:e,handler:t}})})))}},575794:(e,t,n)=>{n.d(t,{U:()=>u,b:()=>p});var i=n(690108),a=n(31086),l=n(33319),o=n(756513),r=n(782677),s=n(255655);const d=(e,{bookmark:t,options:n,schema:i})=>{const a=i||s.Z[e];return"function"==typeof a?a({resource:e,options:n,bookmark:t}):a};function c({fetchOptions:e,resource:t,retry:n}){return(s,u)=>{var p,m,h;const{bookmark:g,headers:_,options:y,refresh:v,schema:f}=e,b=(0,a.Z)(y);if(null!==(p=u().resources)&&void 0!==p&&null!==(m=p[t])&&void 0!==m&&null!==(h=m[b])&&void 0!==h&&h.fetching&&!n)return Promise.resolve();const x=n?n.bookmark:g,k=x?{...y,bookmarks:[x]}:y;return s((0,o.LQ)(t,y,!0)),i.Z.create(t,k).callGet(void 0,_).then((a=>{const{data:u}=a.resource_response,[p]=a.bookmarks||[];if(Array.isArray(u)&&0===u.length&&p&&p!==l.q){const i=n?n.count:0;if(!(i>=l.s))return s(c({resource:t,fetchOptions:e,retry:{count:i+1,bookmark:p}}))}!function(e,t){"VisualSearchFlashlightUnifiedResource"===e&&(t=t.results)}(t,u);const{normalizedResponse:m,resourceSchema:h}=function({data:e,opts:{bookmark:t,options:n,schema:i},resource:a}){const l=d(a,{bookmark:t,options:n,schema:i});return{normalizedResponse:l&&e?(0,r.Fv)(e,l):null,resourceSchema:l}}({data:u,opts:{bookmark:g,options:y,schema:f},resource:t})||{normalizedResponse:null,resourceSchema:void 0};return g?(s((0,o.Dm)(t,y,a,m,h)),i.Z.fetchMoreCompleteCallback&&i.Z.fetchMoreCompleteCallback({resource:t,options:y,response:a,normalizedResponse:m,refresh:v,resourceSchema:h})):(s((0,o.Sr)(t,y,a,m,v,h)),i.Z.fetchCompleteCallback&&i.Z.fetchCompleteCallback({resource:t,options:y,response:a,normalizedResponse:m,refresh:v,resourceSchema:h})),Promise.resolve()}),(e=>{s((0,o.Tl)(t,y,e))}))}}const u=(e,{bookmark:t,headers:n,options:i,schema:a})=>c({resource:e,fetchOptions:{bookmark:t,headers:n,options:i,refresh:!1,schema:a}}),p=(e,{headers:t,options:n,schema:i})=>c({resource:e,fetchOptions:{headers:t,options:n,refresh:!0,schema:i}})},907276:(e,t,n)=>{function i(e,t){let n;if(e.error){const{httpStatus:i,api_error_code:a,redirectUrl:l}=e.error;if(404===i||401===i&&7===a){n={pathname:t?"/ideas/":"/",state:{showError:!0}}}301===i&&l&&(n={pathname:l})}return n}n.d(t,{Z:()=>i})},857867:(e,t,n)=>{n.d(t,{AF:()=>i,KK:()=>a,aW:()=>r,cR:()=>l,se:()=>s,zP:()=>o});const i="CREATE_COMPLETE",a="FETCHING",l="FETCH_ERROR",o="FETCH_COMPLETE",r="FETCH_MORE_COMPLETE",s="RESOURCE_INVALIDATE"},756513:(e,t,n)=>{n.d(t,{Dm:()=>s,LQ:()=>l,Sr:()=>r,Tl:()=>o,XM:()=>a,jB:()=>d});var i=n(857867);function a(e,t,n,a){return{type:i.AF,payload:{resource:e,options:t,response:n,normalizedResponse:a}}}function l(e,t,n){return{type:i.KK,payload:{resource:e,options:t,isFetching:n}}}const o=(e,t,n)=>({type:i.cR,payload:{resource:e,options:t,error:n}});function r(e,t,n,a,l,o){return{type:i.zP,payload:{isRefresh:l,normalizedResponse:a,options:t,resource:e,response:n,schema:o}}}function s(e,t,n,a,l){return{type:i.aW,payload:{resource:e,options:t,response:n,normalizedResponse:a,schema:l}}}function d(e,t){return{type:i.se,payload:{resource:e,optionsOrOptionsKey:t}}}},819079:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),a=n(702664),l=n(616550),o=n(31086),r=n(282802),s=n(575794),d=n(33319);const c={},u=({httpStatus:e})=>!e||e>=500;function p(e){const{enabledRouteRefresh:t,__unstableEnableSuspenseSupport:n,headers:p,name:m,noCache:h,options:g,schema:_}=null!=e?e:{name:"DisabledResource",options:null},y=!e,v=(0,a.useDispatch)(),f=(0,o.Z)(g),b=(0,i.useRef)(null),x=(0,i.useRef)(),k=(0,l.useHistory)(),P=k&&"POP"!==k.action,S=e=>(e[m]||c)[f]||c,w=(0,a.useSelector)((({resources:e})=>S(e).nextBookmark)),T=(0,a.useSelector)((({resources:e})=>S(e).data)),I=(0,a.useSelector)((({resources:e})=>S(e).auxData)),A=(0,a.useSelector)((({resources:e})=>S(e).error)),C=(0,a.useSelector)((({resources:e})=>Boolean(S(e).fetching))),j=Boolean(A)||void 0!==T,E=j&&!C&&w===d.q,R=Boolean(j&&t&&P&&!y),[L,D]=(0,i.useState)(R),F=(0,i.useCallback)((e=>{b.current=v((0,s.U)(m,{options:g,schema:_,bookmark:e,headers:p}))}),[v,m,f,_,p]),z=()=>{b.current=v((0,s.b)(m,{options:g,schema:_,headers:p}))},{isBot:M}=(0,r.B)(),O=()=>{if(!y&&x.current!==f){const e=void 0===x.current;x.current=f,!j&&!C||e&&A&&u(A)?F():(!M&&h||R)&&z()}};(0,i.useEffect)((()=>{n||O()})),n&&O();const B=(0,i.useCallback)((()=>{y||(z(),D(!0))}),[y,s.b,m,f,p,D]),Z=(0,i.useCallback)((()=>{!w||E||C||y||F(w)}),[y,F,w,E,C]);if(b.current)if(j&&!C)b.current=null;else if(n)throw b.current;const N=(0,i.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:Z,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:B}),U={auxData:I,data:T,error:A,fetchMore:Z,isAtEnd:E,isFetching:C,isLoaded:j,isRefreshing:L,nextBookmark:w,refresh:B};return(0,a.shallowEqual)(U,N.current)||(!L||!N.current.data&&R||(0,a.shallowEqual)(U.data,N.current.data)||(U.isRefreshing=!1,D(!1)),N.current=U),N.current}},85044:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(616550),a=n(988014),l=n(907276),o=n(819079),r=n(802071);function s(e){const t=(0,i.useHistory)(),n=(0,i.useLocation)(),{isAuth:s}=(0,r.Z)(),d=!s&&(0,a.L6)(n),c=(0,o.Z)(e),u=(0,l.Z)(c,d);return u&&t.replace(u.pathname,u.state),c}},662955:(e,t,n)=>{n.d(t,{Z:()=>m,g:()=>p});var i,a=n(167912),l=n(463031),o=n(646081);const r=void 0!==i?i:i=n(277248),s=e=>{var t,n,i,a,l;if(e)return{thumbnail:null!==(t=e.thumbnail)&&void 0!==t?t:void 0,url:null!==(n=e.url)&&void 0!==n?n:void 0,width:null!==(i=e.width)&&void 0!==i?i:void 0,height:null!==(a=e.height)&&void 0!==a?a:void 0,duration:null!==(l=e.duration)&&void 0!==l?l:void 0}},d=e=>{if(!e)return;return{V_720P:s(e.v720P),V_HLSV4:s(e.vHLSV4)}},c=e=>{var t,n,i,a,l,o,r;if(!e)return;return{V_HLSV3_MOBILE:s(null===(t=e.videoListMobile)||void 0===t?void 0:t.vHLSV3MOBILE),V_EXP3:s(null===(n=e.videoListEXP3)||void 0===n?void 0:n.vEXP3),V_EXP4:s(null===(i=e.videoListEXP4)||void 0===i?void 0:i.vEXP4),V_EXP5:s(null===(a=e.videoListEXP5)||void 0===a?void 0:a.vEXP5),V_EXP6:s(null===(l=e.videoListEXP6)||void 0===l?void 0:l.vEXP6),V_EXP7:s(null===(o=e.videoListEXP7)||void 0===o?void 0:o.vEXP7),V_720P:s(null===(r=e.videoList720P)||void 0===r?void 0:r.v720P)}},u=e=>{if(!e)return;const t={height:e.height||void 0,url:e.url||void 0,width:e.width||void 0};return{orig:t,originals:t}},p=({blocks:e})=>{if(!e)return;const t=[];return e.forEach((e=>{if(9===e.blockType){var n;const i={block_type:9,type:"story_pin_text_block",text:null!==(n=e.text)&&void 0!==n?n:void 0};t.push(i)}if(5===e.blockType){var i;const n={block_type:5,type:l.h8.INGREDIENT,name:null!==(i=e.name)&&void 0!==i?i:void 0};t.push(n)}if(6===e.blockType){var a;const n={block_type:6,type:l.h8.SUPPLY,name:null!==(a=e.name)&&void 0!==a?a:void 0};t.push(n)}if(0===e.blockType){var o;const n={block_type:0,type:l.h8.PARAGRAPH,text:null!==(o=e.text)&&void 0!==o?o:void 0};t.push(n)}if(1===e.blockType){var r;const n={block_type:1,type:l.h8.HEADING,text:null!==(r=e.text)&&void 0!==r?r:void 0};t.push(n)}if(3===e.blockType){var s;const n={block_type:3,type:l.h8.VIDEO,text:null!==(s=e.text)&&void 0!==s?s:void 0,video:e.videoData?{video_list:c(e.videoData)}:void 0,video_data:e.videoData?{seo_view_count:e.videoData.seoViewCount}:void 0};t.push(n)}if(2===e.blockType){var d;const n={block_type:2,type:l.h8.IMAGE,text:null!==(d=e.text)&&void 0!==d?d:void 0,image:e.imageSpec_orig?{images:u(e.imageSpec_orig)}:void 0};t.push(n)}if(7===e.blockType){var m;const n={block_type:7,type:"story_pin_list_block",blocks:p({blocks:null!==(m=e.blocks)&&void 0!==m?m:void 0})};t.push(n)}})),t},m=e=>{var t,n,i,l,s,c,m,h,g,_,y,v,f,b,x,k,P,S,w,T,I,A,C,j,E,R,L,D,F,z,M,O,B,Z,N,U,K,V,H,G,W,$,q,Y;const X=(0,a.useFragment)(r,e),J=(e=>e?[["60x60",e.imageSpec_60x60],["136x136",e.imageSpec_136x136],["170x",e.imageSpec_170x],["236x",e.imageSpec_236x],["474x",e.imageSpec_474x],["564x",e.imageSpec_564x],["736x",e.imageSpec_736x],["600x315",e.imageSpec_600x315],["orig",e.imageSpec_orig]].reduce(((e,[t,n])=>({...e,[t]:n&&{dominant_color:n.dominantColor,height:n.height,type:n.type,url:n.url,width:n.width}})),{}):null)(X),Q=(0,o.Z)(X);return{id:X.entityId,title:X.title,grid_title:X.gridTitle,story_pin_data_id:X.storyPinDataId,created_at:X.createdAt,description:X.description,closeup_unified_description:null!==(t=X.closeupUnifiedDescription)&&void 0!==t?t:void 0,price_currency:X.priceCurrency,domain:X.domain,description_html:X.descriptionHtml,aggregated_pin_data:X.aggregatedPinData?{commentCount:X.aggregatedPinData.commentCount}:void 0,embed:X.embed?{src:null!==(n=X.embed.src)&&void 0!==n?n:void 0,subtype:null!==(i=X.embed.subtype)&&void 0!==i?i:void 0,type:null!==(l=X.embed.type)&&void 0!==l?l:void 0}:void 0,board:X.board?{url:null!==(s=X.board.url)&&void 0!==s?s:""}:void 0,rich_summary:X.richSummary?{display_name:X.richSummary.displayName}:void 0,pinner:X.pinner?{username:null!==(c=X.pinner.username)&&void 0!==c?c:void 0,full_name:null!==(m=X.pinner.fullName)&&void 0!==m?m:void 0}:void 0,reaction_counts_data:X.reactionCountsData&&X.reactionCountsData.length>0&&X.reactionCountsData[0].reactionCount?X.reactionCountsData[0].reactionCount:"",share_count:X.shareCount||void 0,rich_metadata:X.richMetadata?{description:X.richMetadata.description,title:X.richMetadata.title,url:X.richMetadata.url,site_name:X.richMetadata.siteName,article:X.richMetadata.article?{date_published:X.richMetadata.article.datePublished}:void 0,products:X.richMetadata.products?X.richMetadata.products.map((e=>({name:e.name,offer_summary:e.offerSummary?{min_price:e.offerSummary.minPrice,price:e.offerSummary.price,max_price:e.offerSummary.maxPrice}:void 0}))):void 0,aggregate_rating:null!==(h=X.richMetadata)&&void 0!==h&&h.aggregateRating?{rating_count:null!==(g=X.richMetadata.aggregateRating.ratingCount)&&void 0!==g?g:void 0,review_count:null!==(_=X.richMetadata.aggregateRating.reviewCount)&&void 0!==_?_:void 0,rating_value:null!==(y=X.richMetadata.aggregateRating.ratingValue)&&void 0!==y?y:void 0}:void 0,recipe:null!==(v=X.richMetadata)&&void 0!==v&&v.recipe?{name:X.richMetadata.recipe.name,from_aggregated_data:null!==(f=X.richMetadata.recipe.fromAggregatedData)&&void 0!==f?f:void 0,cook_times:X.richMetadata.recipe.cookTimes?{cook:X.richMetadata.recipe.cookTimes.cook?{h:X.richMetadata.recipe.cookTimes.cook.h,m:X.richMetadata.recipe.cookTimes.cook.m}:void 0,prep:X.richMetadata.recipe.cookTimes.prep?{h:X.richMetadata.recipe.cookTimes.prep.h,m:X.richMetadata.recipe.cookTimes.prep.m}:void 0,total:X.richMetadata.recipe.cookTimes.total?{h:X.richMetadata.recipe.cookTimes.total.h,m:X.richMetadata.recipe.cookTimes.total.m}:void 0}:void 0,servings_summary:X.richMetadata.recipe.servingsSummary?{serves:X.richMetadata.recipe.servingsSummary.serves,summary:X.richMetadata.recipe.servingsSummary.summary}:void 0,aggregate_rating:X.richMetadata.recipe.aggregateRating?{rating_count:null!==(b=X.richMetadata.recipe.aggregateRating.ratingCount)&&void 0!==b?b:void 0,review_count:null!==(x=X.richMetadata.recipe.aggregateRating.reviewCount)&&void 0!==x?x:void 0,rating_value:null!==(k=X.richMetadata.recipe.aggregateRating.ratingValue)&&void 0!==k?k:void 0,best_rating:null!==(P=X.richMetadata.recipe.aggregateRating.bestRating)&&void 0!==P?P:void 0}:void 0,categorized_ingredients:X.richMetadata.recipe.categorizedIngredients?X.richMetadata.recipe.categorizedIngredients.map((({ingredients:e})=>({ingredients:e?e.map((({amt:e,name:t})=>({amt:e,name:null!=t?t:void 0}))):void 0}))):void 0}:void 0}:void 0,videos:X.videos?{video_list:d(X.videos.videoList),seo_view_count:null===(S=X.videos)||void 0===S?void 0:S.seoViewCount}:void 0,story_pin_data:X.storyPinData?{total_video_duration:null!==(w=X.storyPinData.totalVideoDuration)&&void 0!==w?w:void 0,metadata:X.storyPinData.metadata?{pin_title:null!==(T=X.storyPinData.metadata.pinTitle)&&void 0!==T?T:void 0,template_type:[1,2].includes(X.storyPinData.metadata.templateType)?null===(I=X.storyPinData)||void 0===I||null===(A=I.metadata)||void 0===A?void 0:A.templateType:void 0,basics:null!==(C=X.storyPinData)&&void 0!==C&&null!==(j=C.metadata)&&void 0!==j&&j.basics?{key_value_blocks:X.storyPinData.metadata.basics.keyValueBlocks?X.storyPinData.metadata.basics.keyValueBlocks.map((e=>{var t;return{block_type:8,category_type:null!==(t=e.categoryType)&&void 0!==t?t:void 0,type:"story_pin_key_value_block",value:e.value}})):void 0,list_blocks:null!==(E=X.storyPinData)&&void 0!==E&&null!==(R=E.metadata)&&void 0!==R&&null!==(L=R.basics)&&void 0!==L&&L.listBlocks?X.storyPinData.metadata.basics.listBlocks.map((e=>{var t;return{block_type:7,type:"story_pin_list_block",blocks:p(e),heading:null!==(t=e.heading)&&void 0!==t?t:void 0}})):void 0}:void 0}:void 0,pages:null!==(D=X.storyPinData)&&void 0!==D&&D.pages?X.storyPinData.pages.map((e=>{var t;return{layout:null!==(t=e.layout)&&void 0!==t?t:void 0,blocks:p(e),image:e.imageSpec_orig?{images:u(e.imageSpec_orig)}:void 0,image_adjusted:e.imageAdjustedSpec_orig?{images:u(e.imageAdjustedSpec_orig)}:void 0}})):void 0}:void 0,native_creator:X.nativeCreator?{username:null!==(F=X.nativeCreator.username)&&void 0!==F?F:void 0,full_name:null!==(z=X.nativeCreator.fullName)&&void 0!==z?z:void 0,profile_url:null!==(M=X.nativeCreator.profileUrl)&&void 0!==M?M:void 0,follower_count:null!==(O=X.nativeCreator.followerCount)&&void 0!==O?O:void 0}:void 0,link_domain:X.linkDomain?{official_user:X.linkDomain.officialUser?{full_name:null!==(B=X.linkDomain.officialUser.fullName)&&void 0!==B?B:void 0}:void 0,type:"domain"}:void 0,link:null!==(Z=X.link)&&void 0!==Z?Z:"",tracked_link:null!==(N=X.trackedLink)&&void 0!==N?N:"",seo_title:null!==(U=X.seoTitle)&&void 0!==U?U:"",seo_description:null!==(K=X.seoDescription)&&void 0!==K?K:"",seo_url:null!==(V=X.seoUrl)&&void 0!==V?V:"",seo_noindex_reason:null!==(H=X.seoNoindexReason)&&void 0!==H?H:void 0,repin_count:null!==(G=X.repinCount)&&void 0!==G?G:0,pin_join:X.pinJoin?{seo_canonical_domain:null!==(W=X.pinJoin.seoCanonicalDomain)&&void 0!==W?W:"",seo_canonical_url:null!==($=X.pinJoin.seoCanonicalUrl)&&void 0!==$?$:"",visual_annotation:null!==(q=X.pinJoin.visualAnnotation)&&void 0!==q?q:void 0,annotations_with_links:Q}:void 0,category:null!==(Y=X.category)&&void 0!==Y?Y:"",images:J}}},497088:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),a=n(785893);function l({children:e,fallback:t}){const n=t||null;return(0,a.jsx)(i.Suspense,{fallback:n,children:e})}},643183:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(497088).Z},184758:(e,t,n)=>{function i(e){return e===window?window.innerHeight:e.clientHeight}function a(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}function l(e){return e===window&&document.documentElement?document.documentElement.scrollHeight:e.scrollHeight}function o(e){return e===window?a():e.scrollTop}function r(){window&&window.scroll(0,0)}n.d(t,{MX:()=>o,S$:()=>a,Uy:()=>i,aZ:()=>l,vM:()=>r})},649715:(e,t,n)=>{function i(e){return(e||"").trim().replace(/\s+/g," ")}n.d(t,{Z:()=>i})},466946:(e,t,n)=>{n.d(t,{l:()=>l,r:()=>o});var i=n(667294);const a=(0,i.createContext)(null),l=()=>(0,i.useContext)(a),o=a.Provider},599226:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(402833),a=n(466946);const l=()=>{const e=(0,i.g)(),t=(0,a.l)();return n=>{const{mobileOptions:i,desktopOptions:a,reason:l,attributionLabel:o}=n;e?e.showDesktopSignupModal({signupFlow:"login"===(null==a?void 0:a.modalType)?{type:"login"}:{type:"signup"},reason:l,attributionLabel:o,...null==a?void 0:a.modalOptions}):t&&t.showMobileSignupModal({reason:l,attributionLabel:o,headingType:null==i?void 0:i.headingType})}}},16754:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{x:"0.5",y:"0.5",width:"55",height:"55",rx:"27.5",fill:"white",stroke:"#CDCDCD"}),(0,i.jsx)("path",{d:"M21.773 32.5718C16.3702 32.5718 11.9998 27.9614 11.9998 22.2859C11.9998 16.6104 16.3702 12.0003 21.773 12.0003H31.941C37.3438 12.0003 41.7142 16.6106 41.7142 22.2859C41.7142 27.9613 37.3438 32.5716 31.941 32.5716L21.773 32.5718Z",fill:"#86A9FF"}),(0,i.jsx)("path",{d:"M28.3636 36.7279V42.9999C28.3636 43.5456 27.9241 43.9999 27.3973 43.9999C27.1394 43.9981 26.8936 43.8914 26.7161 43.7044L17.1846 33.8872C15.3178 31.9787 14.2858 29.3656 14.2858 26.6609C14.2858 21.0934 18.6561 16.5712 24.0589 16.5712H34.2269C39.6298 16.5712 44.0001 21.0936 44.0001 26.6609C44.0001 32.2282 39.6298 36.7506 34.2269 36.7506H28.3636V36.7279Z",fill:"#578CFF"}),(0,i.jsx)("path",{d:"M21.7258 32.5713H31.9183C37.3338 32.5713 41.7142 27.8541 41.7142 22.0468C41.7142 21.3593 41.6479 20.6959 41.5382 20.0319C39.7554 17.8988 37.1578 16.5714 34.2738 16.5714H24.0818C18.6663 16.5714 14.2858 21.2886 14.2858 27.096C14.2858 27.7835 14.3521 28.4468 14.4618 29.0868C16.2446 31.22 18.8423 32.5713 21.7263 32.5713H21.7258Z",fill:"#0057CC"})]})}},512403:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#EFEFEF"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1106 19.6408C18.2759 19.551 18.4653 19.5 18.6667 19.5H37.3333C37.5535 19.5 37.7594 19.561 37.9351 19.667C37.9351 19.667 37.9352 19.667 37.9352 19.667L28.7395 27.2024C28.3095 27.5547 27.6905 27.5547 27.2605 27.2024L18.0648 19.667C18.0799 19.6579 18.0951 19.6492 18.1106 19.6408ZM14 20.8611V20.6667C14 18.0893 16.0893 16 18.6667 16H37.3333C39.9107 16 42 18.0893 42 20.6667V20.8611V34.6667C42 37.244 39.9107 39.3333 37.3333 39.3333H18.6667C16.0893 39.3333 14 37.244 14 34.6667V20.8611ZM38.5 23.7292V34.6667C38.5 35.311 37.9777 35.8333 37.3333 35.8333H18.6667C18.0223 35.8333 17.5 35.311 17.5 34.6667V23.7292L25.0422 29.9095C26.7622 31.319 29.2378 31.319 30.9578 29.9096L38.5 23.7292Z",fill:"black"})]})}},269758:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("path",{d:"M56 28C56 12.536 43.464 0 28 0S0 12.536 0 28c0 13.975 10.24 25.56 23.625 27.66V36.094h-7.11V28h7.11v-6.169c0-7.017 4.18-10.893 10.576-10.893 3.064 0 6.268.546 6.268.546v6.891h-3.53c-3.479 0-4.564 2.159-4.564 4.373V28h7.766l-1.242 8.094h-6.524V55.66C45.761 53.56 56 41.975 56 28Z",fill:"#1877F2"}),(0,i.jsx)("path",{d:"M38.9 36.094 40.14 28h-7.765v-5.252c0-2.215 1.085-4.373 4.563-4.373h3.53v-6.89s-3.203-.547-6.267-.547c-6.396 0-10.576 3.876-10.576 10.893V28h-7.11v8.094h7.11V55.66a28.206 28.206 0 0 0 8.75 0V36.094h6.524Z",fill:"#fff"})]})}},871755:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"url(#paint0_linear_4144_9512)"}),(0,i.jsx)("path",{d:"M27.7512 13C23.3085 13 19.0478 14.47 15.9063 17.0867C12.7649 19.7033 11 23.2522 11 26.9526C11.004 29.3596 11.7556 31.7247 13.1816 33.8182C14.6076 35.9117 16.6595 37.6624 19.138 38.9C18.4779 40.3778 17.4878 41.7636 16.2089 43C18.6891 42.5646 21.0173 41.65 23.0123 40.3273C24.5505 40.708 26.1465 40.9027 27.7512 40.9053C32.1939 40.9052 36.4546 39.4352 39.5961 36.8186C42.7375 34.202 44.5024 30.6531 44.5024 26.9526C44.5024 23.2522 42.7375 19.7033 39.5961 17.0867C36.4546 14.47 32.1939 13 27.7512 13Z",fill:"white"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"paint0_linear_4144_9512",x1:"28.4444",y1:"52.2827",x2:"28.4444",y2:"6.94986",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#0CBD2A"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#5BF675"})]})})]})}},894637:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("path",{d:"M28 56c15.464 0 28-12.536 28-28S43.464 0 28 0 0 12.536 0 28s12.536 28 28 28Z",fill:"#00B900"}),(0,i.jsx)("path",{d:"M46.625 26.32c0-8.335-8.354-15.115-18.625-15.115-10.267 0-18.625 6.78-18.625 15.115 0 7.471 6.627 13.73 15.578 14.91.606.13 1.432.401 1.642.92.187.47.122 1.208.06 1.684l-.265 1.596c-.08.471-.373 1.843 1.615 1.003 1.988-.835 10.724-6.314 14.634-10.812 2.693-2.964 3.986-5.969 3.986-9.3Z",fill:"#fff"}),(0,i.jsx)("path",{d:"M24.215 22.293H22.91c-.201 0-.364.163-.364.364v8.115c0 .2.163.364.364.364h1.306c.2 0 .364-.163.364-.364v-8.12a.363.363 0 0 0-.364-.36ZM33.208 22.293H31.9c-.2 0-.364.163-.364.364v4.82l-3.72-5.02c-.009-.015-.018-.024-.027-.038l-.005-.005-.023-.023c-.005 0-.005-.005-.005-.005-.005-.005-.014-.01-.019-.014l-.009-.01c-.005-.004-.014-.008-.019-.013-.004-.005-.009-.005-.009-.005a.036.036 0 0 0-.019-.01c-.004 0-.009-.004-.009-.004-.005-.004-.014-.004-.019-.01-.004 0-.009-.004-.014-.004l-.023-.01c-.005 0-.01 0-.014-.004-.01 0-.014-.005-.019-.005h-.014c-.004 0-.014 0-.018-.004H26.212c-.2 0-.364.163-.364.364v8.115c0 .2.164.364.364.364h1.307c.2 0 .364-.163.364-.364v-4.82l3.724 5.03a.283.283 0 0 0 .093.089s.005 0 .005.005c.01.004.014.009.023.014.005 0 .005.004.01.004.004.005.01.005.018.01.005.004.01.004.02.009.004 0 .008.005.008.005.01.004.02.004.024.009h.004c.028.01.061.014.094.014h1.306c.201 0 .364-.163.364-.364v-8.125a.37.37 0 0 0-.368-.36ZM21.065 29.097h-3.551v-6.445c0-.2-.164-.364-.364-.364h-1.307c-.2 0-.364.163-.364.364v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306a.358.358 0 0 0-.359-.364ZM40.422 24.323c.201 0 .364-.163.364-.364v-1.307c0-.2-.163-.364-.364-.364h-5.217a.353.353 0 0 0-.252.103l-.005.005c0 .004-.004.004-.004.004a.373.373 0 0 0-.103.252v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55c.201 0 .364-.164.364-.364v-1.307c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55v.005Z",fill:"#00B900"})]})}},757551:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){const t=`paint0_radial_3730_649_${Date.now()}`;return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,i.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,i.jsx)("path",{d:"M28 12c-9.012 0-16 6.604-16 15.52 0 4.664 1.912 8.696 5.024 11.48.26.232.42.56.428.912l.088 2.848c.028.908.964 1.5 1.796 1.132l3.176-1.4c.268-.12.572-.14.856-.064 1.46.4 3.012.616 4.632.616 9.012 0 16-6.604 16-15.52S37.012 12 28 12Z",fill:`url(#${t})`}),(0,i.jsx)("path",{d:"m18.392 32.06 4.7-7.456a2.401 2.401 0 0 1 3.472-.64l3.74 2.804a.96.96 0 0 0 1.156-.004l5.048-3.832c.672-.512 1.552.296 1.104 1.012l-4.704 7.452a2.401 2.401 0 0 1-3.472.64l-3.74-2.804a.96.96 0 0 0-1.156.004l-5.048 3.832c-.672.512-1.552-.292-1.1-1.008Z",fill:"#fff"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("radialGradient",{id:t,cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(18.16 43.826) scale(34.8672)",children:[(0,i.jsx)("stop",{stopColor:"#09F"}),(0,i.jsx)("stop",{offset:".61",stopColor:"#A033FF"}),(0,i.jsx)("stop",{offset:".935",stopColor:"#FF5280"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#FF7061"})]})})]})}},916224:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("path",{d:"M28 56C43.464 56 56 43.464 56 28C56 12.536 43.464 0 28 0C12.536 0 0 12.536 0 28C0 43.464 12.536 56 28 56Z",fill:"url(#paint0_linear_3_21)"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.6745 27.7045C20.837 24.1482 26.28 21.8037 29.0034 20.6709C36.7793 17.4366 38.3951 16.8748 39.4482 16.8563C39.6799 16.8522 40.1978 16.9096 40.5332 17.1818C40.8165 17.4116 40.8944 17.7221 40.9317 17.9401C40.969 18.158 41.0155 18.6544 40.9786 19.0423C40.5572 23.4698 38.7339 34.2141 37.8063 39.1729C37.4138 41.2712 36.641 41.9747 35.8928 42.0436C34.2667 42.1932 33.032 40.969 31.4571 39.9366C28.9928 38.3212 27.6006 37.3156 25.2085 35.7393C22.444 33.9175 24.2361 32.9162 25.8116 31.2799C26.2239 30.8517 33.3881 24.3352 33.5268 23.7441C33.5441 23.6701 33.5602 23.3946 33.3965 23.249C33.2328 23.1035 32.9911 23.1533 32.8168 23.1929C32.5696 23.249 28.6328 25.8511 21.0062 30.9992C19.8887 31.7665 18.8766 32.1404 17.9697 32.1208C16.97 32.0992 15.0469 31.5555 13.6172 31.0908C11.8637 30.5208 10.4701 30.2195 10.5914 29.2514C10.6547 28.7472 11.349 28.2316 12.6745 27.7045Z",fill:"white"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("linearGradient",{id:"paint0_linear_3_21",x1:"2800",y1:"0",x2:"2800",y2:"5558.47",gradientUnits:"userSpaceOnUse",children:[(0,i.jsx)("stop",{stopColor:"#2AABEE"}),(0,i.jsx)("stop",{offset:"1",stopColor:"#229ED9"})]})})]})}},343226:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(377234),a=n(785893);function l({size:e=56}){const t=(0,i.vs)();return(0,a.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,a.jsx)("rect",{width:"56",height:"56",rx:"28",fill:t?"white":"#111111"}),(0,a.jsx)("path",{d:"M30.3055 25.8561L40.505 14H38.088L29.2318 24.2945L22.1584 14H14L24.6964 29.5671L14 42H16.4171L25.7695 31.1287L33.2396 42H41.3979L30.3049 25.8561H30.3055ZM26.995 29.7042L25.9112 28.1541L17.288 15.8196H21.0005L27.9595 25.7739L29.0433 27.324L38.0892 40.2632H34.3767L26.995 29.7048V29.7042Z",fill:t?"#111111":"white"})]})}},317218:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#7360F2"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.362 31.327s.57.05.875-.33l.597-.75c.288-.374.984-.61 1.665-.232.902.509 2.067 1.309 2.866 2.054.44.371.542.918.242 1.495l-.002.012a6.278 6.278 0 0 1-1.243 1.53l-.012.009c-.587.489-1.261.773-1.983.538l-.013-.018c-1.296-.367-4.405-1.952-6.386-3.532-3.242-2.558-5.546-6.776-6.183-9.038l-.02-.013c-.235-.724.052-1.398.539-1.984l.01-.01a6.224 6.224 0 0 1 1.53-1.243l.012-.003c.576-.3 1.122-.198 1.494.243.49.505 1.408 1.721 2.054 2.865.378.68.141 1.377-.231 1.664l-.752.598c-.379.306-.33.876-.33.876s1.113 4.207 5.271 5.269Zm6.543-3.488a.405.405 0 0 1-.406-.403c-.018-2.44-.752-4.384-2.178-5.776-1.43-1.393-3.236-2.108-5.37-2.122a.403.403 0 0 1-.4-.408.403.403 0 0 1 .403-.402h.003c2.35.016 4.344.808 5.93 2.352 1.586 1.55 2.402 3.687 2.422 6.35a.406.406 0 0 1-.401.409h-.003Zm-2.127-.832h-.01a.405.405 0 0 1-.395-.414c.032-1.384-.364-2.503-1.208-3.425-.84-.918-1.993-1.42-3.527-1.532a.406.406 0 0 1-.374-.433.406.406 0 0 1 .433-.375c1.725.127 3.093.73 4.065 1.794.977 1.066 1.456 2.409 1.42 3.989a.406.406 0 0 1-.404.396Zm-2.077-.696a.404.404 0 0 1-.404-.386c-.068-1.373-.716-2.045-2.036-2.117a.404.404 0 1 1 .043-.808c1.744.093 2.712 1.092 2.8 2.886a.403.403 0 0 1-.383.423l-.02.002Zm9.09 4.625c-.808 6.503-5.563 6.913-6.44 7.195-.374.12-3.843.982-8.203.698 0 0-3.251 3.92-4.266 4.94-.158.159-.344.223-.469.194-.175-.043-.223-.251-.22-.553l.027-5.354v-.001c-6.35-1.764-5.98-8.394-5.908-11.864.072-3.47.724-6.315 2.661-8.227 3.48-3.152 10.65-2.681 10.65-2.681 6.054.027 8.955 1.85 9.628 2.46 2.234 1.912 3.371 6.49 2.54 13.193Zm-.87-14.817c-.796-.73-4.01-3.064-11.167-3.096 0 0-8.44-.51-12.554 3.267-2.29 2.29-3.096 5.64-3.181 9.797-.085 4.157-.195 11.944 7.311 14.056l.008.002-.005 3.221s-.047 1.306.812 1.572c1.039.322 1.648-.669 2.641-1.738a88.708 88.708 0 0 0 1.863-2.107c5.135.43 9.082-.556 9.532-.701 1.036-.337 6.902-1.088 7.857-8.876.984-8.03-.477-13.106-3.117-15.397Z",fill:"#fff"})]})}},320634:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e=56}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,i.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#25D366"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.206 16.65A15.75 15.75 0 0 0 27.99 12c-8.74 0-15.854 7.113-15.857 15.855a15.821 15.821 0 0 0 2.117 7.927L12 44l8.406-2.205a15.837 15.837 0 0 0 7.577 1.93h.007c8.74 0 15.853-7.114 15.856-15.857a15.76 15.76 0 0 0-4.64-11.218ZM27.99 41.047h-.005c-2.365 0-4.684-.636-6.708-1.837l-.482-.286-4.988 1.309 1.331-4.864-.313-.499a13.146 13.146 0 0 1-2.015-7.014c.003-7.266 5.915-13.178 13.185-13.178a13.09 13.09 0 0 1 9.318 3.865 13.098 13.098 0 0 1 3.856 9.324c-.003 7.267-5.915 13.18-13.179 13.18Zm7.23-9.871c-.397-.199-2.345-1.157-2.708-1.289-.364-.132-.628-.198-.891.198-.264.397-1.024 1.29-1.255 1.554-.231.264-.462.297-.858.099-.396-.199-1.673-.617-3.187-1.966-1.178-1.051-1.973-2.348-2.204-2.745-.231-.397-.024-.611.173-.808.178-.178.397-.463.595-.695.198-.23.264-.396.396-.66.132-.265.066-.496-.033-.695-.098-.198-.89-2.148-1.221-2.941-.322-.773-.649-.668-.892-.68a16.01 16.01 0 0 0-.759-.014c-.264 0-.693.099-1.057.495-.363.397-1.387 1.356-1.387 3.305 0 1.95 1.42 3.835 1.618 4.1.199.264 2.794 4.265 6.769 5.982.945.409 1.683.653 2.259.835.948.302 1.812.26 2.495.157.76-.114 2.344-.958 2.674-1.884.33-.925.33-1.719.23-1.884-.098-.166-.362-.266-.758-.464Z",fill:"#fff"})]})}},868489:(e,t,n)=>{n.d(t,{o$:()=>a,ty:()=>l,vE:()=>o});var i=n(583592);const{Provider:a,MaybeConsumer:l,useMaybeHook:o}=(0,i.Z)("inviteContext")},204125:(e,t,n)=>{n.d(t,{LO:()=>l,Pu:()=>o,cc:()=>i,dB:()=>a,yF:()=>r});const i={10:13098,11:13099,6:13100,5:13101,14:13102,12:13103,15:13104,8:13105,4:13106,1:13107,3:13107,18:13108,19:13109,20:13110,21:13111,22:13112,23:13113,26:13114,27:13115,29:13116,9:13286},a={10:13415,11:13416,6:13417,5:13418,14:13419,12:13420,15:13421,8:13422,4:13423,1:13424,3:13424,18:13425,19:13426,20:13427,21:13428,22:13429,23:13430,26:13431,27:13432,29:13433,9:13434},l={10:13436,11:13437,6:13438,5:13439,14:13440,12:13441,15:13442,8:13443,4:13444,1:13445,3:13445,18:13446,19:13447,20:13448,21:13449,22:13450,23:13451,26:13452,27:13453,29:13454,9:13455},o={10:13457,11:13458,6:13459,5:13460,14:13461,12:13462,15:13463,8:13464,4:13465,1:13466,3:13466,18:13467,19:13468,20:13469,21:13470,22:13471,23:13472,26:13473,27:13474,29:13475,9:13476},r={pin:1,board:2,did_it:6,pinner:3,user:3,today_article:8,follow_invite:3}},455788:(e,t,n)=>{n.d(t,{U:()=>o,Z:()=>r});var i=n(731048),a=n(785893);const l=()=>{},o=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function r({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:n,allowScroll:r,children:s}){const d=e=>function(e,t){t&&e.keyCode===i.Z.ESCAPE||o(e)}(e,t);return(0,a.jsx)("div",{onAbort:o,onAnimationEnd:o,onAnimationIteration:o,onAnimationStart:o,onBlur:l,onCanPlay:n?l:o,onCanPlayThrough:o,onChange:o,onClick:e?l:o,onCompositionEnd:o,onCompositionStart:o,onCompositionUpdate:o,onContextMenu:o,onCopy:o,onCut:o,onDoubleClick:o,onDurationChange:o,onEmptied:o,onEncrypted:o,onEnded:o,onError:o,onFocus:l,onInput:o,onInvalid:o,onKeyDown:d,onKeyPress:d,onKeyUp:d,onLoad:o,onLoadedData:o,onLoadedMetadata:o,onLoadStart:o,onMouseDown:o,onMouseEnter:o,onMouseLeave:o,onMouseMove:e?l:o,onMouseOut:o,onMouseOver:o,onMouseUp:e?l:o,onPaste:o,onPause:o,onPlay:o,onPlaying:o,onProgress:o,onRateChange:o,onScroll:r?l:o,onSeeked:o,onSeeking:o,onSelect:o,onStalled:o,onSubmit:o,onSuspend:o,onTimeUpdate:o,onTouchCancel:o,onTouchEnd:e?l:o,onTouchMove:e?l:o,onTouchStart:e?l:o,onTransitionEnd:o,onVolumeChange:o,onWaiting:o,onWheel:o,children:s})}},657482:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(890304).Z)({type:"session"})},147597:(e,t,n)=>{n.d(t,{$E:()=>v,$:()=>f,ZP:()=>A});var i=n(667294),a=n(883119),l=n(563962),o=n(536042),r=n(245410),s=n(282802),d=n(898252),c=n(505204),u=n(785893);function p({activePageCurrentTime:e,pillHeight:t,progressInfo:n,videoDuration:i}){var l,o;const r=null!==(l=null==n?void 0:n.currentTime)&&void 0!==l?l:0,s=null!==(o=null==n?void 0:n.duration)&&void 0!==o?o:d.P6,p=e||r,m=(null!=i&&i.isVideo?Math.floor(1e4*p/(i.duration/c.gJ))/100:r/s*100)+"%";return(0,u.jsx)(a.xu,{height:t,rounding:"pill",overflow:"hidden",dangerouslySetInlineStyle:{__style:{backgroundColor:v}},children:(0,u.jsx)(a.xu,{height:"100%",color:f,rounding:"pill",dangerouslySetInlineStyle:{__style:{width:m}}})})}var m=n(463031),h=n(634004),g=n(549201),_=n(802071);const y=4,v="rgba(255,255,255,0.24)",f="light",b=1e3,x=.24,k=100,P=10,S=1,w=5,T=()=>{},I=({children:e,setHoveringChange:t,handleMouseDown:n,handleMouseLeave:i,handleTouchStart:l,playhead:r})=>{const s=(0,o.ZP)(),d=!(0,g.HG)();return(0,u.jsx)(a.xu,{alignItems:"center","aria-label":s._('Video scrubber progress bar', 'ideaPin.closeupvideo.videoScrubberLabel', 'Accessibility label for video scrubber progress bar on video idea pins.'),display:"flex",flex:"grow",justifyContent:d?"center":"start",marginBottom:d?0:6,minHeight:"8px",onFocus:t(!0),onMouseDown:n,onMouseLeave:i,onMouseOver:t(!0),onTouchStart:l,onTouchEnd:e=>e.preventDefault(),paddingY:d?6:0,position:"relative",ref:r,role:"progressbar",width:"100%","data-test-id":"bullet-video-progress-bar",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",touchAction:"none"}},children:e})};function A({activePageIndex:e,activePageCurrentTime:t,pageCount:n,progressInfo:o,showEndCard:d,duration:c=0,currentTime:m=0,pageDurations:v=[],handlePlay:A=T,handlePause:j=T,handleVideoScrubbingNewPage:E=T,videoDurations:R=[],viewParameter:L,isInactiveStreamPin:D=!1,isPlaying:F=!1,setVideoProgress:z,shouldShowPlayhead:M=!1,pinId:O=""}){const B=!(0,g.HG)(),Z=(0,i.useRef)(null),{checkExperiment:N}=(0,r.F)(),{isRTL:U}=(0,s.B)(),[K,V]=(0,i.useState)(!1),[H,G]=(0,i.useState)(F),[W,$]=(0,i.useState)(),q=(0,l.Z)(),{isSeekingIdeaPin:Y}=(0,h.Hx)(),{updateSeekTime:X,updateSeekingIdeaPin:J}=(0,h.RC)(),Q=(0,_.Z)().isAuth,ee=(0,i.useCallback)(((t,i)=>{if(!D&&i<=n){if(i!==e&&E(i),z){var a;const{isVideo:e}=R[i];z({currentTime:t/b,duration:e?null!==(a=null==o?void 0:o.duration)&&void 0!==a?a:S:w,pinId:O})}X(t/b,O)}q({event_type:101,view_type:3,view_parameter:L,component:14302})}),[e,E,D,q,n,O,null==o?void 0:o.duration,z,X,R,L]),te=m/c*k+"%",ne=v.map((e=>(e.duration||0)/c/P+"%")),ie=(0,i.useMemo)((()=>{let e=0;return v.map((({duration:t})=>{const n=t+e,i={min:e,max:n};return e=n,i}))}),[v]),ae=B&&N(Q?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,le=K?"0 1.2px":"0 1px",oe=e=>()=>V(e),re=(0,i.useCallback)((e=>{if(Z.current){const{left:t=0,right:n=0,width:i=0}=Z.current.getBoundingClientRect(),a=(U?Math.max(0,Math.min((n-e)/i,1)):Math.max(0,Math.min((e-t)/i,1)))*c*b,l=ie.findIndex((e=>a>=e.min&&a<=e.max));ee(a-ie[l].min,l)}}),[c,ee,ie,U]),se=()=>{Y||(G(F||d),J(!0))},de=(0,i.useCallback)((e=>{Y&&re(e.pageX)}),[re,Y]),ce=(0,i.useCallback)((e=>{if(Y){e.preventDefault();const t=Array.from(e.changedTouches).find((e=>e.identifier===W));t&&re(t.pageX)}}),[Y,re,W]),ue=(0,i.useCallback)((()=>{J(!1),oe(!1),$(void 0),H&&A()}),[J,A,H]),pe=(0,i.useCallback)((e=>{Array.from(e.changedTouches).find((e=>e.identifier===W))&&(J(!1),oe(!1),$(void 0)),H&&A()}),[A,H,W,J]);(0,i.useEffect)((()=>(Y&&!D&&(window.addEventListener("mousemove",de),window.addEventListener("mouseup",ue),window.addEventListener("touchmove",ce),window.addEventListener("touchend",pe)),()=>{window.removeEventListener("mousemove",de),window.removeEventListener("mouseup",ue),window.removeEventListener("touchmove",ce),window.removeEventListener("touchend",pe)})),[de,ue,pe,ce,D,Y,re,W]);const me=n=>n<e||d?(0,u.jsx)(a.xu,{height:y,color:f,rounding:"pill"}):e===n&&o?(0,u.jsx)(p,{activePageCurrentTime:t,pillHeight:y,progressInfo:o,videoDuration:R[n]}):(0,u.jsx)(a.xu,{height:y,color:f,rounding:"pill",dangerouslySetInlineStyle:{__style:{opacity:x}}});return(0,u.jsxs)(I,{setHoveringChange:oe,handleMouseDown:e=>{se(),F&&j(),re(e.pageX)},handleMouseLeave:()=>{oe(!1)},handleTouchStart:e=>{se(),oe(!0);const t=e.changedTouches[0];$(t.identifier),F&&j(),re(t.pageX)},playhead:Z,children:[M&&(K||Y||B)&&(0,u.jsx)(C,{currentTime:t,inRemoveRelatedStreamsExp:ae,isMobile:B,isRTL:U,isSeeking:Y,scrubberWidth:te}),new Array(n).fill().map(((e,t)=>(0,u.jsx)(a.xu,{flex:"grow",width:ne.length===n?ne[t]:"auto",dangerouslySetInlineStyle:{__style:{margin:le}},children:(0,u.jsx)(a.xu,{"data-test-id":"idea-pin-video-progress-bar",rounding:"pill",dangerouslySetInlineStyle:{__style:{transition:"all .1s"}},children:me(t)})},`${O}-${t}`)))]})}const C=({currentTime:e=0,inRemoveRelatedStreamsExp:t,isMobile:n,isRTL:i,isSeeking:l,scrubberWidth:o})=>{const r=n&&l;return(0,u.jsxs)(a.xu,{position:"relative","data-test-id":"video-progress-bar",dangerouslySetInlineStyle:{__style:i?{right:o}:{left:o}},children:[r&&!t&&(0,u.jsx)(a.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{top:"-32px"}},marginStart:-3,children:(0,u.jsx)(a.xv,{color:"light",size:"100",children:(0,m.Lc)(e)})}),(0,u.jsx)(a.xu,{position:"absolute",rounding:"pill",height:y,color:f,children:(0,u.jsx)(a.xu,{rounding:"circle",marginStart:-2,width:12,height:12,color:"light",dangerouslySetInlineStyle:{__style:{marginTop:-6}}})})]})}},634004:(e,t,n)=>{n.d(t,{Wr:()=>p,Hx:()=>h,RC:()=>m});var i=n(667294),a=n(583592);const l="";var o=n(681468),r=n(133244),s=n(785893);const d=()=>Promise.resolve().then(n.bind(n,681468)),{Provider:c,useHook:u}=(0,a.Z)("IdeaPinVideoPlayer");function p({children:e}){const[t,n]=(0,r.Z)(d,o.initialState),a=(0,i.useMemo)((()=>({dispatch:n,ideaPinVideoPlayerControls:t})),[n,t]);return(0,s.jsx)(c,{value:a,children:e})}function m(){const{dispatch:e}=u();return(0,i.useMemo)((()=>({updateSeekTime:(t,n)=>{e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t,pinId:n||l}})},clearSeekTime:t=>{e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:t||l}})},updateSeekingIdeaPin:t=>{e(t?{type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t}}:{type:"UPDATE_SEEKING_IDEA_PIN",payload:{isSeekingIdeaPin:t,seekTime:void 0}})},updateCurrentTime:t=>{e({type:"UPDATE_CURRENT_TIME",payload:{currentTime:t}})},updateDuration:t=>{e({type:"UPDATE_DURATION",payload:{duration:t}})}})),[e])}function h(){const{ideaPinVideoPlayerControls:e}=u();return e}},681468:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a,initialState:()=>i});const i={seekTime:void 0,seekTimes:{},isSeekingIdeaPin:!1,currentProgressInfo:{currentTime:0,duration:0}};function a(e=i,t){switch(t.type){case"UPDATE_SEEK_TIME":return{...e,seekTimes:{...e.seekTimes,[t.payload.pinId]:t.payload.seekTime},seekTime:t.payload.seekTime};case"CLEAR_SEEK_TIME":return{...e,seekTimes:{},seekTime:void 0};case"UPDATE_SEEKING_IDEA_PIN":return{...e,isSeekingIdeaPin:t.payload.isSeekingIdeaPin};case"UPDATE_CURRENT_TIME":return{...e,currentProgressInfo:{...e.currentProgressInfo,currentTime:t.payload.currentTime}};case"UPDATE_DURATION":return{...e,currentProgressInfo:{...e.currentProgressInfo,duration:t.payload.duration}};default:return e}}},463031:(e,t,n)=>{n.d(t,{Cc:()=>p,Gf:()=>_,LX:()=>a,Lc:()=>v,Ls:()=>m,Rf:()=>s,YL:()=>r,ap:()=>l,h8:()=>c,jH:()=>y,pE:()=>d,s5:()=>g,tQ:()=>u,yR:()=>o});var i=n(883119);const a={w:9,h:16},l=a.w/a.h,o=8,r=10,s=5e3;function d(e,t=1){return{x:(null!=e?e:24)/5,y:(null!=e?e:24)*(t-1)}}const c={COMMENT_REPLY_STICKER:"story_pin_comment_reply_block",GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},u=[c.IMAGE,c.VIDEO],p={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1,font:{default_size:28,id:"1",key:"Graphik-Regular.otf",letter_spacing:-.4,line_height:1.25,name:"Teaspoon",url:"https://s.pinimg.com/story_pins/fonts/Graphik-Regular.otf"},font_size:28},m=new i.Ry(1),h=new i.Ry(5),g=new i.H3([h]),_=new i.H3([g]),y=new i.Ry(1e3),v=e=>{const t=Math.floor(e||0),n=Math.floor(t/60),i=t-60*n;return`${n<10?`${n}`:n}:${i<10?`0${i}`:i}`}},448509:(e,t,n)=>{n.d(t,{BN:()=>c,RK:()=>d,d3:()=>p,tq:()=>m,xm:()=>u});var i=n(667294),a=n(621982),l=n(463031),o=n(550542),r=n(272109);const s=(e,t)=>{const n=(0,l.pE)(e,t);return`${n.y}px ${n.x}px`},d=({alignment:e,verticalAlignment:t})=>{const n={alignItems:"flex-start",display:"flex",height:"100%",justifyContent:"start",textAlign:"left",width:"100%"};return 1===t?n.alignItems="center":2===t&&(n.alignItems="flex-end"),1===e&&(n.justifyContent="center",n.textAlign="center"),n},c=({fontSize:e,hexColor:t,highlightColor:n,letterSpacing:i,lineHeight:a,name:l})=>({fontSize:e,letterSpacing:i,color:t,fontFamily:l,margin:0,maxHeight:"100%",textShadow:!n&&t&&"#ffffff"===t.toLowerCase()?"0px 1px 4px rgba(0, 0, 0, 0.2)":void 0,wordBreak:"break-word",...n?{backgroundColor:n,borderRadius:e/5,padding:s(e,a)}:{}}),u=({fontSize:e,hasText:t,highlightColor:n,lineHeight:i})=>({...n?{backgroundColor:t?n:void 0,borderRadius:e/5,padding:s(e,i)}:{}}),p=({letterSpacing:e,lineHeight:t,name:n,url:i})=>({fontFamily:n,fontGroup:"",fontOverrides:{letterSpacing:e,lineHeight:t,textTransform:!1},format:"truetype",defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"normal",fontUrl:i}]}),m=({hasPin:e,pages:t,limitToSingleFont:n})=>{const[s,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)((()=>!!e&&(0,o.X7)(t))),m=()=>{const e=t.reduce(((e,t)=>{var i;let a=(null==t||null===(i=t.blocks)||void 0===i?void 0:i.filter((e=>[l.h8.PARAGRAPH,l.h8.HEADING].includes(e.type))))||[];return n&&a.length>1&&(a=[a[0]]),a.forEach((t=>{var n;const i=(null===(n=t.style)||void 0===n?void 0:n.font)||l.Cc.font,{name:a=""}=i;e[a]||(e[a]=i)})),e}),{});if(Object.keys(e).length>0){const t=Object.keys(e).map((t=>{const n=e[t];return p({letterSpacing:n.letter_spacing,lineHeight:n.line_height,name:n.name,url:n.url})}));(0,a.Z)(t),d(!0)}};return(0,r.Z)((()=>{m()})),(0,r.Z)((()=>{c||m()})),(0,i.useEffect)((()=>{c||u((0,o.X7)(t))}),[c,t]),{fontsLoaded:s,mediaDataReceived:c}}},551897:(e,t,n)=>{function i({currentTime:e,endTime:t,startTime:n}){return!("number"==typeof n&&"number"==typeof t&&n>=0&&t>0&&n<t)||n<=e&&e<=t}n.d(t,{Z:()=>i})},550542:(e,t,n)=>{n.d(t,{B7:()=>o,X7:()=>r,n4:()=>l});var i=n(463031);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=(e,t)=>{const n=/^\d{1,3}\.\d{1,3}(?:\.\d{1,6})?$/;if(null==e||!e.match(n)||null==t||!t.match(n))return null;const i=null==e?void 0:e.split("."),a=null==t?void 0:t.split("."),l=Math.max((null!=i?i:"").length,(null!=a?a:"").length);for(let s=0;s<l;s+=1){var o,r;const e=s<(null!==(o=null==i?void 0:i.length)&&void 0!==o?o:0)?parseInt(null==i?void 0:i[s],10):0,t=s<(null!==(r=null==a?void 0:a.length)&&void 0!==r?r:0)?parseInt(null==a?void 0:a[s],10):0;if(e<t)return-1;if(e>t)return 1}return 0};class o{constructor(e,t,n){a(this,"start",Date.now()),a(this,"paused",!1),this.onProgress=e,this.onComplete=t,this.duration=n,this.remaining=n,"undefined"!=typeof window&&(this.intervalId=window.setInterval((()=>{const e=this.paused?this.duration-this.remaining:this.duration-this.remaining+(Date.now()-this.start);this.onProgress(e/this.duration)}),500),this.resume())}currentTime(){return this.duration-this.remaining}pause(){this.paused=!0,window.clearTimeout(this.timerId),this.remaining-=Date.now()-this.start;const e=this.duration-this.remaining;this.onProgress(e/this.duration)}resume(){this.paused=!1,this.start=Date.now(),window.clearTimeout(this.timerId),this.timerId=window.setTimeout(this.onComplete,this.remaining)}clear(){window.clearTimeout(this.timerId),window.clearInterval(this.intervalId)}}const r=e=>e.some((e=>{var t;return(null!==(t=null==e?void 0:e.blocks)&&void 0!==t?t:[]).some((e=>e.type===i.h8.IMAGE&&!!e.image||e.type===i.h8.VIDEO&&(!!e.video||!!e.video_signature)))}))},729522:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(540975);const a=/\{\{\s*(\w+)\s*\}\}/g,l=(e,t)=>(0,i.Z)(a,e,t)},686473:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},614481:(e,t,n)=>{n.d(t,{Z:()=>a});const i=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,a=e=>i.test(e)},51536:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t)=>e.length>t?e.substr(0,t-3).trim()+"":e},540975:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t,n)=>t?t.replace(e,((e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:"")):""},493851:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(729522),a=n(686473);const l=(e,t)=>{const n={};return Object.keys(t).forEach((e=>{n[e]=t[e]?(0,a.Z)(t[e].toString()):""})),(0,i.Z)(e,n)}},371362:(e,t,n)=>{n.d(t,{ZP:()=>o});const i=80,a="",l=!1;function o(e,t=i,n=a,o=l){let r;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||o)r=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);r=e.substring(0,n)}return r=r.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),r+n}},716793:(e,t,n)=>{function i(e){return e.replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))}n.d(t,{Z:()=>i})},99220:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(667294),a=n(758360),l=n(310561),o=n(282802),r=n(114935),s=n(291986),d=n(583592);const{Provider:c,useMaybeHook:u}=(0,d.Z)("timeSpentContext");var p=n(393729),m=n(525104),h=n(785893);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends i.Component{constructor(e){super(e),g(this,"componentWillUnmount",(()=>{this.unregisterComponent()})),g(this,"getContext",(()=>{const{clientTrackingParams:e,component:t,element:n,objectId:i,timeSpentContext:a,view:l,viewParameter:o}=this.props;return{view:l||(null==a?void 0:a.view),viewParameter:o||(null==a?void 0:a.viewParameter),component:t||(null==a?void 0:a.component),element:n,objectId:i||(null==a?void 0:a.objectId),clientTrackingParams:e||(null==a?void 0:a.clientTrackingParams),getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}})),g(this,"getLoggerContext",(()=>{const e={...this.getContext()};return delete e.getParentUuid,e})),g(this,"getParentId",(()=>{const{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){const t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0})),g(this,"getUuid",(()=>this.state.timedPair?this.state.timedPair.uuid:void 0)),g(this,"getTimedPair",(()=>this.state.timedPair)),g(this,"setTimedPair",(e=>this.setState({timedPair:e}))),g(this,"isRegistered",!1),g(this,"registerComponent",(()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0})),g(this,"unregisterComponent",(()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)})),g(this,"handleVisibilityChange",(e=>{const{intersectionRatio:t}=e[0],{bottom:n,left:i,right:a,top:l}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===n&&0===i&&0===a&&0===l?this.unregisterComponent():this.registerComponent())})),this.state={timedPair:new s.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,r.Z)(e.auxData,this.props.auxData)&&(0,r.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){const{children:e}=this.props;return(0,h.jsx)(c,{value:this.getContext(),children:(0,h.jsx)(a.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:i.Children.only(e)})})}}function y(e){var t;const n=(0,l.Hv)(),a=u(),r=(0,p.w)(),s=(0,m.H0)(),{requestIdentifier:d=""}=(0,o.B)(),c={app_instance_id:d.slice(0,8),...null!==(t=e.auxData)&&void 0!==t?t:{}};return(0,i.useEffect)((()=>{null==r||r.setHistoryStackContext(n)}),[n,r]),(0,i.useEffect)((()=>{null==r||r.setPins(null!=s?s:{})}),[s,r]),r?(0,h.jsx)(_,{...e,auxData:c,timeSpentContext:a,timeSpentManager:r,children:e.children}):e.children}y.displayName="TimeSpent";const v=y},348448:(e,t,n)=>{n.d(t,{w:()=>m});var i=n(40660),a=n(946618),l=n(291986),o=n(911386);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let s=null;const d={ACTIVE:"ACTIVE",PAUSED:"PAUSED"},c=()=>window&&window.performance&&window.performance.now?`(Time: ${(window.performance.now()/1e3).toFixed(3)}s)`:"",u=e=>{let t=!1;return(...n)=>{t||(t=!0,e(...n))}},p={};function m({contextLogger:e,shouldExtractTrackingParams:t}){if(s)return s;const n=(n,i,l)=>{if(t&&l&&n){let e;const{pair_id:t,event_type:d}=n;if(4703===d&&t&&p[t])n.clientTrackingParams=p[t];else{var o;const c=n.object_id_str,u=c?l[c]:null,m=null==i||null===(o=i.current)||void 0===o?void 0:o.location,h=null==i?void 0:i.previous;var r,s;if(u&&m)e=(0,a.Z)({boardUrl:null===(r=u.board)||void 0===r?void 0:r.url,location:m,pinId:u.id,pinnerUserName:null===(s=u.pinner)||void 0===s?void 0:s.username,previousHistory:h,storyPinDataId:u.story_pin_data_id,trackingParams:u.tracking_params,trackingParamsMap:u.tracking_params_map})||`${u.tracking_params||""}~0`,n.clientTrackingParams=e,4702===d&&t&&(p[t]=e)}}e.logContextEvent(n)},m=new Map,h=(0,o.Z)()&&(0,o.Z)().debug_timespent,g=h?console:{error:(...e)=>{},log:(...e)=>{},group:(...e)=>{},groupEnd:(...e)=>{}};console.group||(g.group=(...e)=>console.log(...e),g.groupEnd=(...e)=>{});return s=new class{constructor(){r(this,"appTimedPair",null),r(this,"clickthroughProperties",null),r(this,"historyStackContext",null),r(this,"offsiteTimedPair",null),r(this,"offsiteTimedPairForegroundId",null),r(this,"pins",Object.freeze({})),r(this,"addEventListeners",(()=>{let e,t;"undefined"!==document.hidden?(e="hidden",t="visibilitychange"):"undefined"!==document.msHidden?(e="msHidden",t="msvisibilitychange"):"undefined"!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange");const n=t=>{document[e]?this.unregisterApp(!1,void 0,t):document.hasFocus()&&this.registerApp()};t&&document.addEventListener(t,n,!1),window.addEventListener("focus",this.registerApp),window.addEventListener("blur",(e=>this.unregisterApp(!1,void 0,e)));const a=u((e=>this.unregisterApp(!0,void 0,e)));window.addEventListener("beforeunload",a),window.addEventListener("pagehide",a);const l=navigator&&navigator.userAgent.toLowerCase();l&&l.includes("macintosh")&&l.includes("chrome")&&window.addEventListener("popstate",(t=>{document.hasFocus()||document[e]||i.Z.increment("chrome_mac_back_forward_button",1)}))})),r(this,"storeClickthroughProperties",(e=>{this.clickthroughProperties&&i.Z.increment("webapp.metrics.clickthroughs.overwritten",1,{previousView:this.clickthroughProperties.view_type,previousViewParameter:this.clickthroughProperties.view_parameter,nextView:e.view_type,nextViewParameter:e.view_parameter}),this.clickthroughProperties=e})),r(this,"clearClickthroughProperties",(()=>{this.clickthroughProperties=null,this.offsiteTimedPair=null,this.offsiteTimedPairForegroundId=null})),r(this,"registerApp",(()=>{g.group("App Foreground",c()),null==this.appTimedPair?(this.appTimedPair=new l.Z,this.appTimedPair.start(),this._unpauseAllComponents(),this._endOffsiteTimedPair(),null!==this.appTimedPair&&void 0!==this.appTimedPair&&n({event_type:4700,pair_id:this.appTimedPair.uuid},this.historyStackContext,this.pins)):g.error("TimedPair already exists for app."),g.groupEnd()})),r(this,"unregisterApp",((t=!1,i=!1,a)=>{g.group("App Background",c());const{appTimedPair:l}=this;if(null!=l){this._pauseAllComponents();const e=l.end();this._startOffsiteTimedPair(),n({event_type:4701,duration_ns:e,pair_id:l.uuid},this.historyStackContext,this.pins),this.appTimedPair=null}else g.error("No TimedPair found for app.");const o=["beforeunload","pagehide"],r=o.includes(null==a?void 0:a.type),s=o.includes(null==a?void 0:a.pauseReason);(r||s)&&this._endOffsiteTimedPair(),i||e.flushContextEvents(null!=t&&t),g.groupEnd()})),r(this,"_activateComponent",(e=>{g.group("Activating component",c()),h&&g.log(e.getContext());const t=e.getTimedPair();if(t){t.start();const{view:i,viewParameter:a,component:l,element:o,objectId:r,clientTrackingParams:s}=e.getLoggerContext();n({event_type:4702,view_type:i,view_parameter:a,component:l,element:o,object_id_str:r,view_data:e.props.viewData,pair_id:t.uuid,clientTrackingParams:s,aux_data:{time_spent_foreground_pairid:this.appTimedPair&&this.appTimedPair.uuid,time_spent_parent_pairid:e.getParentId(),...e.props.auxData}},this.historyStackContext,this.pins)}g.groupEnd()})),r(this,"_deactivateComponent",(e=>{g.group("Deactivating component",c()),h&&g.log(e.getContext());const t=e.getTimedPair();if(t){const{view:i,viewParameter:a,component:l,element:o,objectId:r,clientTrackingParams:s}=t,d=t.end();n({event_type:4703,view_type:i,view_parameter:a,component:l,element:o,object_id_str:r,view_data:e.props.viewData,duration_ns:d,pair_id:t.uuid,clientTrackingParams:s,aux_data:{time_spent_foreground_pairid:this.appTimedPair&&this.appTimedPair.uuid,time_spent_parent_pairid:e.getParentId(),...e.props.auxData}},this.historyStackContext,this.pins)}g.groupEnd()})),r(this,"_startOffsiteTimedPair",(()=>{const{clickthroughProperties:e}=this;e&&(this.offsiteTimedPair=new l.Z({...e,view:186,viewParameter:e.view_parameter,objectId:e.object_id_str}),this.offsiteTimedPair.start(),this.offsiteTimedPairForegroundId=this.appTimedPair?this.appTimedPair.uuid:null,n({...e,event_type:4702,view_type:186,pair_id:this.offsiteTimedPair?this.offsiteTimedPair.uuid:null,aux_data:{...e.aux_data,time_spent_foreground_pairid:this.offsiteTimedPairForegroundId}},this.historyStackContext,this.pins))})),r(this,"_endOffsiteTimedPair",(()=>{const{offsiteTimedPair:e,clickthroughProperties:t}=this;if(e&&t){const i=e.end();n({...t,event_type:4703,view_type:186,pair_id:this.offsiteTimedPair?this.offsiteTimedPair.uuid:null,aux_data:{...t.aux_data,time_spent_foreground_pairid:this.offsiteTimedPairForegroundId},duration_ns:i},this.historyStackContext,this.pins),this.clearClickthroughProperties()}})),r(this,"_pauseAllComponents",(()=>{g.group("Pause all components"),m.forEach(((e,t,n)=>{e===d.ACTIVE&&this._deactivateComponent(t),n.set(t,d.PAUSED)})),g.groupEnd()})),r(this,"_unpauseAllComponents",(()=>{g.group("Unpause all components"),m.forEach(((e,t)=>{t.setTimedPair(new l.Z(t.getLoggerContext()))})),m.forEach(((e,t)=>{m.set(t,d.ACTIVE),this._activateComponent(t)})),g.groupEnd()}))}setHistoryStackContext(e){this.historyStackContext=e}setPins(e){this.pins=e}registerComponent(e){null===this.appTimedPair?m.set(e,d.PAUSED):(m.set(e,d.ACTIVE),this._activateComponent(e))}unregisterComponent(e){m.get(e)===d.ACTIVE&&(this._deactivateComponent(e),e.setTimedPair(new l.Z(e.getLoggerContext()))),m.delete(e)}size(){return m.size}},s}},393729:(e,t,n)=>{n.d(t,{j:()=>p,w:()=>u});var i=n(388011),a=n(583592),l=n(282802),o=n(348448),r=n(549201),s=n(272109),d=n(785893);const{Provider:c,useMaybeHook:u}=(0,a.Z)("TimeSpentManagerContext");function p({children:e}){const t=(0,i.v)(),n=(0,r.HG)(),{isAuthenticated:a}=(0,l.B)(),u=n&&a,p=(0,o.w)({contextLogger:t,shouldExtractTrackingParams:u});return(0,s.Z)((()=>{document.hasFocus()&&p.registerApp(),p.addEventListeners()})),(0,d.jsx)(c,{value:p,children:e})}},291986:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(172045),a=n(17314);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const o="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor(1e6*window.performance.now()):()=>1e6*Date.now();const r=class{constructor(e){l(this,"start",(()=>(this.startTime=o(),this.startTime))),l(this,"end",(()=>(this.endTime=o(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration)));try{this.uuid=(0,i.Z)()}catch(t){this.uuid=(0,a.Z)()}e&&Object.assign(this,e)}}},618569:(e,t,n)=>{n.d(t,{S:()=>r,Z:()=>s});var i=n(667294),a=n(616550),l=n(988014),o=n(98736);const r=e=>(0,l.L6)(e)?"pin":(0,l.am)(e)?"board":(0,l.Xn)(e)?"login":(0,l.C$)(e)?"home":(0,l.cD)(e)?"profile":(0,l.dr)(e)?"ideas":(0,l.gT)(e)?"ideas-root":(0,l.tZ)(e)?"videos":(0,l.Q0)(e)?"videos-category":(0,l.$Y)(e)?"article":(0,l.E0)(e)?"shopping-spotlight":(0,l.Zz)(e)?"today":(0,l.j8)(e)?"unauth-profile":(0,l.f1)(e)?"shopping-root":(0,l.OX)(e)?"shopping-category":"other";function s(){const e=(0,a.useLocation)();return(0,i.useCallback)((({action:t,item:n,within:i})=>{const a=r(e);(0,o.My)(`logged_out_product.interaction.${a}.${t}`,{item:n||"none",within:i||"none"})}),[e])}},36310:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),a=n(883119),l=n(785893);class o extends i.Component{constructor(e){var t,n,a;super(e),a={manualTruncate:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,this.ref=(0,i.createRef)()}componentDidMount(){const{maxHeightPx:e,shaveOptions:t={}}=this.props,i=this.ref&&this.ref.current;if(!i)return;const a=void 0===i.textContent?"innerText":"textContent",l=i[a];("boolean"!=typeof t.spaces||t.spaces?l.split(" "):l).length<2?this.setState({manualTruncate:!0}):n.e(14118).then(n.bind(n,448433)).then((({default:n})=>{n(i,e,t)}))}render(){const{maxWidthPx:e,maxHeightPx:t,inline:n=!1}=this.props,{manualTruncate:i}=this.state,o={maxWidth:e,maxHeight:t},r=n?{display:"inline",...o}:{...o};return i?(0,l.jsx)(a.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:r},ref:this.ref,"data-test-id":"truncater",children:this.props.children}):(0,l.jsx)(a.xu,{ref:this.ref,dangerouslySetInlineStyle:{__style:r},"data-test-id":"truncater",children:this.props.children})}}const r=o},800591:(e,t,n)=>{n.d(t,{$J:()=>i,Ct:()=>m,Dm:()=>p,Ff:()=>u,Md:()=>s,My:()=>o,Rp:()=>r,ak:()=>l,d0:()=>h,gs:()=>g,jm:()=>d,oo:()=>a,vw:()=>c});const i={SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE",MOBILE_SMALL:"MOBILE_SMALL",MOBILE_LARGE:"MOBILE_LARGE"},a=2,l=6,o=3,r=1.5,s=16,d=8,c=16/9,u=25,p="Includes Paid Promotion #Ad",m={PRE_LIVE:1,OFFLINE:2,LIVE:3,POST_LIVE:4},h={TRUE:!0,FALSE:!1,UNKNOWN:void 0},g=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","EU"]},331211:(e,t,n)=>{n.d(t,{ZP:()=>s,e5:()=>c,p6:()=>r,pf:()=>d});var i=n(642298),a=n(536042),l=n(800591),o=n(434927);function r(e){return{date:e?(0,i.Z)(new Date(e),"eeee, MMMM do,"):"",shortDate:e?(0,i.Z)(new Date(e),"eee, MMM do,"):"",formalDate:e?(0,i.Z)(new Date(e),"d MMM yyy"):"",dayOfWeek:e?(0,i.Z)(new Date(e),"EEEE"):"",time:e?(0,i.Z)(new Date(e),"h:mm aaa"):"",mmddyyy:e?(0,i.Z)(new Date(e),"MM/dd/yyyy"):"",Emmmdd:e?(0,i.Z)(new Date(e),"E, MMM dd"):""}}function s(e){var t,n;const i=e.creator_class_instance.live_status===l.Ct.POST_LIVE;return{pinId:e.id,classId:e.creator_class.id,storyId:null===(t=e.creator_class.recap_pin)||void 0===t?void 0:t.id,creatorClassInstance:e.creator_class_instance,creatorClassInstanceId:e.creator_class_instance.id,title:e.creator_class_instance.title,isLive:e.creator_class_instance.live_status===l.Ct.LIVE,postLive:i,path:`/tv/${e.id}/?referrer=${e.referrer||0}`,recapPath:`/pin/${(null===(n=e.creator_class.recap_pin)||void 0===n?void 0:n.id)||e.id}/?referrer=${e.referrer||0}`,creator:{avatar:e.creator_class.creator.image_medium_url,host:e.creator_class.creator.full_name||e.creator_class.creator.username,path:`/${e.creator_class.creator.username}`},video:i&&e.creator_class_instance.replay_video?e.creator_class_instance.replay_video.video_list.V_720P:e.creator_class_instance.preview_video?e.creator_class_instance.preview_video.video_list.V_720P:e.creator_class_instance.hero_video?e.creator_class_instance.hero_video.video_list.V_720P:null,subscriberCount:e.creator_class.subscriber_count,subscribers:e.creator_class.subscribers}}function d(e,t,n){const i=l.gs.indexOf(e)>-1,a=l.gs.indexOf(t)>-1;return n&&i||a}function c(e){const t=(0,a.ZP)();switch(e){case o.S7.CREATOR_STUDIO:return{text:t._('Organic creator', 'web.pinTv.studio.pendingEpisode.organicCreator', 'Indicates that the creator is an organic creator'),type:"recommendation"};case o.S7.PINTEREST_APP:return{text:t._('Community creator', 'web.pinTv.studio.pendingEpisode.communityCreator', 'Indicates that the creator is a community creator'),type:"warning"};case o.S7.MANAGED:return{text:t._('Managed creator', 'web.pinTv.studio.pendingEpisode.managedCreator', 'Indicates that the creator is a managed creator'),type:"info"};default:return{text:t._('No source', 'web.pinTv.studio.pendingEpisode.noSource', 'Indicates that there is no application source'),type:"error"}}}},454709:(e,t,n)=>{n.d(t,{Z:()=>p,a:()=>u});var i=n(667294),a=n(883119),l=n(377234),o=n(536042),r=n(269021),s=n(785893);const d="#FFFFFF",c="#111111",u=({isExpanded:e,onToggle:t,expandedText:n,collapsedText:i})=>(0,s.jsx)(a.xu,{display:"inlineBlock","data-test-id":"more-description",children:(0,s.jsx)(a.iP,{onTap:t,children:(0,s.jsx)(a.xv,{weight:"bold",inline:!0,children:e?n:i})})});function p({isExpanded:e,description:t,maxHeight:n,handleToggle:p,Wrapper:m}){const h=(0,i.useRef)(null),[g,_]=(0,i.useState)(!1),y=(0,o.ZP)(),v=(0,l.vs)();(0,i.useEffect)((()=>{if(!h||!h.current)return;const{height:e}=h.current.getBoundingClientRect();e>n&&_(!0)}),[h,n]);const f=(0,s.jsx)(u,{isExpanded:e,onToggle:p,expandedText:y._('less', 'closeup.description.toggle.lessButton', 'Toggle less description button'),collapsedText:y._('... more', 'closeup.description.toggle.moreButton', 'Toggle more description button')}),b=v?c:d;return(0,s.jsx)(m,{children:(0,s.jsx)(a.xu,{maxHeight:e?void 0:n,overflow:"hidden",position:"relative",children:(0,s.jsxs)(r.Z,{dir:(0,r.j)(t),children:[(0,s.jsx)(a.xu,{ref:h,children:(0,s.jsxs)(a.xv,{inline:!0,children:[t," ",g&&e&&(0,s.jsxs)(a.xv,{inline:!0,weight:"bold",children:["... ",f]})]})}),g&&!e&&(0,s.jsx)(a.xu,{position:"absolute",right:!0,bottom:!0,width:140,dangerouslySetInlineStyle:{__style:{background:`linear-gradient(270deg, ${b} 50%, ${b}00 100%)`,textAlign:"end"}},children:f})]})})})}},910717:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),a=n(785893);function l({ariaHidden:e=!1,color:t="darkGray",size:n}){return(0,a.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,a.jsx)(i.xv,{color:t,inline:!0,size:null!=n?n:"200",children:""})})}},993926:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),a=n(883119),l=n(910717),o=n(785893);function r(e){return null!=e}function s({additionalPadding:e,color:t="darkGray",inline:n,items:s}){const d=e?(0,o.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,o.jsx)(l.Z,{color:t})}):(0,o.jsx)(l.Z,{color:t}),c=s.filter(r).reduce(((e,t,n)=>[...e,0!==n?d:null,t]),[]).filter(r).map(((e,t)=>(0,o.jsx)(i.Fragment,{children:e},t)));return 0===c.length?null:n?(0,o.jsx)(a.xu,{children:c}):(0,o.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:c})}},63262:(e,t,n)=>{n.d(t,{F9:()=>l,Zo:()=>a});var i=n(583592);const{Provider:a,useHook:l}=(0,i.Z)("toastManagerContext")},105314:(e,t,n)=>{n.d(t,{M:()=>o,Q:()=>l});var i=n(667294);const a=(0,i.createContext)(null),l=()=>(0,i.useContext)(a),o=a.Provider},348672:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(105314);const a=()=>{var e;return(null===(e=(0,i.Q)())||void 0===e?void 0:e.showUnauthContextMenu)||(()=>{})}},250307:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},286354:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(911386);const a=({url:e})=>{if(e){const t=e.split("?");if(t[1])return(0,i.Z)(t[1])}return(0,i.Z)()}},28630:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(799665);const a=({url:e})=>!(!e||!e.match(/^https{0,1}:\/\//)||(0,i.Z)(e))},957733:(e,t,n)=>{n.d(t,{Z:()=>l});const i=(e,t)=>0===e.lastIndexOf(t,0);var a=n(17330);const l=({url:e})=>{const t=(0,a.Z)("/");return i(e,t)?e.substr(t.length-1):e}},133244:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294);function a(e,t){const n=(0,i.useRef)([]),[a,l]=(0,i.useState)(),[o,r]=(0,i.useReducer)(null!=a?a:()=>t,t),s=(0,i.useCallback)((t=>{a?r(t):(n.current.length||e().then((e=>{l((()=>e.default))})),n.current=[...n.current,t])}),[e,a]);return(0,i.useEffect)((()=>{a&&(n.current.forEach(r),n.current=[])}),[a]),[o,s]}},272109:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294);const a=e=>{(0,i.useEffect)(e,[])}},456453:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294);const a=(e,t)=>{const n=(0,i.useRef)((()=>{}));(0,i.useEffect)((()=>{n.current=e}),[e]),(0,i.useEffect)((()=>{if(null===t)return()=>{};const e=setInterval((()=>n.current()),t);return()=>clearInterval(e)}),[t])}},567648:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294);const a=()=>()=>{},l=()=>!1,o=()=>!0,r=()=>(0,i.useSyncExternalStore)(a,l,o)},464649:(e,t,n)=>{n.d(t,{G:()=>r,Z:()=>s});var i=n(667294),a=n(616550),l=n(785893);const o=(0,i.createContext)(!0);function r({children:e}){const t=(0,a.useLocation)(),[n,r]=(0,i.useState)(!0),s=(0,i.useRef)(t);return(0,i.useEffect)((()=>{s.current!==t&&(s.current=t,r(!1))}),[t]),(0,l.jsx)(o.Provider,{value:n,children:e})}function s(){return(0,i.useContext)(o)}},472921:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294);function a(e,t){const[n,a]=(0,i.useState)(e),l=(0,i.useRef)(new Map),o=(0,i.useRef)(t),r=o.current;if(r!==t){var s;o.current=t,l.current.set(r,n);const i=null!==(s=l.current.get(t))&&void 0!==s?s:e;return a(i),[i,a]}return[n,a]}},782219:(e,t,n)=>{n.d(t,{GW:()=>a,RL:()=>i,s4:()=>l});const i="ios",a="android",l="ipad"},931696:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(667294),a=n(867631),l=n.n(a),o=n(883119),r=n(563962),s=n(245410),d=n(282802),c=n(802071),u=n(499992),p=n(505204),m=n(886365),h=n(785893);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _=(e,t)=>{if(t){const n="control"===t?"v3.pinimg.com":"v2.pinimg.com";return e.replace("v1.pinimg.com",n)}return e},y=(e,t)=>"string"==typeof e?_(e,t):Array.isArray(e)?((e,t)=>e[0].src&&t?[{...e[0],src:_(e[0].src,t)}]:e)(e,t):e;class v extends i.PureComponent{constructor(...e){super(...e),g(this,"state",{canPlayVideo:!1,isManifestParsed:!1,playbackState:p.Cy.DEFAULT,videoStartTime:this.props.seekTime||0}),g(this,"errorRetryCount",1),g(this,"firstFragBuffered",!1),g(this,"hasPlaybackStarted",!1),g(this,"hasVideoSessionStarted",!1),g(this,"hasVideoSessionEnded",!1),g(this,"hls",null),g(this,"fragStartupTime",{}),g(this,"lastLevelSwitchKbps",null),g(this,"lastStallTime",null),g(this,"lastPauseTime",null),g(this,"logSessionStartOnNextPlay",!1),g(this,"playerId",""),g(this,"videoSessionId",""),g(this,"videoVisibleTime",null),g(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",downloadedKiloBytes:0,errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:"string"==typeof this.props.src?_(this.props.src,this.props.quicExpGroup):_(this.props.src[0].src,this.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0,videoCreatedTime:null}),g(this,"initializeHls",(()=>{this.destroyHls();const{src:e,hlsConfig:t,quicExpGroup:n}=this.props,i=new(l())(t),a=y(e,n);i.loadSource(a),this.videoPlayerRef&&i.attachMedia(this.videoPlayerRef.video),i.on(l().Events.FRAG_BUFFERED,this.handleHlsFragBuffered),i.on(l().Events.FRAG_CHANGED,this.handleHlsFragChanged),i.on(l().Events.FRAG_LOADING,this.handleHlsFragLoading),i.on(l().Events.FRAG_LOADED,this.handleHlsFragLoaded),i.on(l().Events.MANIFEST_PARSED,(()=>{this.setState({isManifestParsed:!0})})),i.on(l().Events.LEVEL_SWITCHED,this.handleHlsLevelSwitched),i.on(l().Events.ERROR,this.handleHlsError),this.hls=i})),g(this,"destroyHls",(()=>{const{hls:e}=this;e&&e.destroy()})),g(this,"addSegment",(e=>{const{segments:t}=this.playbackPerformance,n=t&&t[t.length-1];if(this.hls&&t.length&&n&&n.uri!==e.url){this.updateWatchDurationForCurrentSegment();const n=this.videoPlayerRef&&this.videoPlayerRef.video,i=this.hls&&this.hls.levels||{},a="number"==typeof e.level?i[e.level]:{},l=this.fragStartupTime[e.url];let o=-1;l&&l.startLoadTime&&l.endLoadTime&&(o=l.endLoadTime-l.startLoadTime);const r={indicatedKbps:a.bitrate/p.bR,duration:e.duration,level:e.level,lastStartPlayTime:this.getCurrentVideoTime(),numServerAddressChange:-1,observedKbps:this.hls&&this.hls.bandwidthEstimate/p.bR||-1,playbackStartDate:Date.now(),serverAddress:"",sn:e.sn,sourceWidth:a.width,sourceHeight:a.height,startupTimeMs:o,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:n&&n.clientWidth||-1,viewportHeight:n&&n.clientHeight||-1,watchedDurationMs:0};t.push(r)}})),g(this,"initializeSegments",(e=>{const{contextLogData:t={}}=this.props,{is_closeup_video:n=!1}=t,{segments:i}=this.playbackPerformance;if(!i.length)if(this.hls&&this.videoPlayerRef&&this.videoPlayerRef.video&&e){if(!i.length&&"number"==typeof e.level){const t=this.videoPlayerRef&&this.videoPlayerRef.video,{levels:n}=this.hls,a="number"==typeof e.level?n[e.level]:{},l=this.fragStartupTime[e.url];let o=-1;l&&l.startLoadTime&&l.endLoadTime&&(o=l.endLoadTime-l.startLoadTime),this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/p.bR;const r={indicatedKbps:a.bitrate/p.bR,duration:e.duration,level:e.level,lastStartPlayTime:null,numServerAddressChange:-1,observedKbps:this.hls.bandwidthEstimate/p.bR||-1,playbackStartDate:null,serverAddress:"",sn:e.sn,sourceWidth:a.width,sourceHeight:a.height,startupTimeMs:o,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:t.clientWidth,viewportHeight:t.clientHeight,watchedDurationMs:0};i.push(r)}}else(0,u.tE)("initializeSegmentsFailed",!0,n)})),g(this,"getCurrentVideoTime",(()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*p.gJ:null)),g(this,"handleCanPlayVideo",(e=>{const{contextLogData:t={},onReady:n,playing:i}=this.props,{is_closeup_video:a=!1}=t,{canPlayVideo:l}=this.state;(0,u.tE)("handleCanPlayVideo",!0,a,{firstCanPlayEvent:!l,playing:i}),this.playbackPerformance.hasFatalError=!1,l||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),n&&n(e)})),g(this,"handleEnded",(e=>{const{loop:t,onEnded:n}=this.props,{segments:i}=this.playbackPerformance,a=i&&i[i.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),a&&(a.lastStartPlayTime=0),this.fragStartupTime={}):t||this.logPlaybackPerformance(p.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:p.Cy.ENDED}),n&&n(e)})),g(this,"handleHlsError",((e,t)=>{var n;const{contextLogData:i={}}=this.props,{is_closeup_video:a=!1}=i;if(this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${t.details}`,t.fatal){var o,r,s,d;this.playbackPerformance.hasFatalError=!0,this.playbackPerformance.errorName=t.type,this.playbackPerformance.errorReason=t.details,this.playbackPerformance.errorCode=t.response&&t.response.code?t.response.code:0;const e={errorName:t.type,errorReason:t.details,errorRetryCount:this.errorRetryCount,errorMessage:(null===(o=t.err)||void 0===o||null===(r=o.message)||void 0===r?void 0:r.slice(0,50))||"unknown",errorResponse:(null===(s=t.response)||void 0===s||null===(d=s.text)||void 0===d?void 0:d.slice(0,50))||"unknown",playbackState:this.state.playbackState};if((0,u.tE)("fatalError",!0,a,e),this.errorRetryCount>0)switch(this.errorRetryCount-=1,t.type){case l().ErrorTypes.NETWORK_ERROR:if(t.details===l().ErrorDetails.MANIFEST_LOAD_ERROR||t.details===l().ErrorDetails.MANIFEST_LOAD_TIMEOUT||t.details===l().ErrorDetails.MANIFEST_LOAD_PARSING_ERROR){var c;const{src:e,quicExpGroup:t}=this.props,n=y(e,t);null===(c=this.hls)||void 0===c||c.loadSource(n)}else{var m;null===(m=this.hls)||void 0===m||m.startLoad()}break;case l().ErrorTypes.MEDIA_ERROR:null===(n=this.hls)||void 0===n||n.recoverMediaError()}}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:p.Cy.FAILED})})),g(this,"handleHlsFragBuffered",((e,t)=>{this.firstFragBuffered||(this.initializeSegments(t.frag),this.firstFragBuffered=!0)})),g(this,"handleHlsFragChanged",((e,t)=>{this.addSegment(t.frag)})),g(this,"handleHlsFragLoading",((e,t)=>{var n;const i=null===(n=t.frag)||void 0===n?void 0:n.url;i&&!this.fragStartupTime[i]&&(this.fragStartupTime[i]={startLoadTime:new Date})})),g(this,"handleHlsFragLoaded",((e,t)=>{var n;t.frag&&t.frag.loaded&&(this.playbackPerformance.downloadedKiloBytes+=t.frag.loaded/p.Fm);const i=null===(n=t.frag)||void 0===n?void 0:n.url;i&&this.fragStartupTime[i]&&this.fragStartupTime[i].startLoadTime&&(this.fragStartupTime[i].endLoadTime=new Date)})),g(this,"handleHlsLevelSwitched",(()=>{this.hls&&this.hls.bandwidthEstimate&&(this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/p.bR)})),g(this,"handleLoadedMetadata",(()=>{this.setState({playbackState:p.Cy.LOADED_METADATA})})),g(this,"handleLoadStart",(()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:p.Cy.LOAD_START})})),g(this,"handleLoadedData",(()=>{this.setState({playbackState:p.Cy.LOADED_DATA})})),g(this,"handlePlaying",(()=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:p.Cy.PLAYING}),this.props.clearSeekTime&&this.props.clearSeekTime()})),g(this,"handleUserPause",(e=>{const{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t(e)})),g(this,"handleVideoPause",(()=>{this.state.playbackState!==p.Cy.STALLING&&this.state.playbackState!==p.Cy.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:p.Cy.PAUSED})})),g(this,"handleSeeking",(()=>{this.playbackPerformance.numberOfSeeks+=1;const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==p.Cy.ENDED&&this.setState({playbackState:p.Cy.SEEKING})})),g(this,"handleStalled",(()=>{null===this.lastStallTime&&this.state.playbackState!==p.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1),this.setState({playbackState:p.Cy.STALLING})})),g(this,"handleTimeUpdate",(e=>{const{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===p.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())})),g(this,"resetPlaybackMetrics",(()=>{this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastLevelSwitchKbps=null,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,switchBitrateKbps:-1,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.downloadedKiloBytes=0,this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]})),g(this,"setLastSegmentStartPlayTime",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())})),g(this,"setLastSegmentPlaybackStartDate",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())})),g(this,"setPlaybackStartTime",(()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)})),g(this,"setVideoPlayerRef",(e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}})),g(this,"updateStallDuration",(()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)})),g(this,"updatePauseDuration",(()=>{if(null!==this.lastPauseTime){const{lastPauseTime:e}=this;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}})),g(this,"updateWatchDurationForCurrentSegment",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],n=t?t.lastStartPlayTime:null,i=this.getCurrentVideoTime();if(t&&null!==n&&"number"==typeof i&&"number"==typeof n){const e=i-n;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}})),g(this,"logPlaybackPerformance",((e,t)=>{const{contextLogData:n={},userId:i,isAutoPlay:a,logContextEvent:l,preload:o}=this.props,{is_closeup_video:r=!1}=n,{canPlayTime:s,detailedErrors:d,downloadedKiloBytes:c,errorCode:m,errorName:h,errorReason:g,hasFatalError:_,playbackStartTimestamp:y,totalPauseDurationMs:v,totalStallDurationMs:f,segments:b,srcString:x,loadStartTime:k,numberOfStalls:P,numberOfSeeks:S}=this.playbackPerformance,w=this.videoPlayerRef&&this.videoPlayerRef.video,T=e===p.DR,I=T&&!this.hasVideoSessionStarted,A=!T&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(this.hls&&w&&(I||A)){var C;let I=-1;s&&k&&(I=s>k?s-k:0);let A=-1;s&&this.videoVisibleTime&&(A=s>this.videoVisibleTime?s-this.videoVisibleTime:0),T&&(this.videoSessionId=(0,p.Y7)(i),this.playerId=this.playerId||(0,p.EB)());const j={autoplaying:a,averageVideoKbps:-1,detailedErrors:d,downloadedKiloBytes:c,isCellular:!1,errorCode:m,errorName:h,errorReason:g,fatalError:_,nativeVideoDurationMs:w.duration*p.gJ||-1,numberOfStalls:P,numberOfSeeks:S,overallPausedDurationMs:v,overallBufferDurationMs:f,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:y||-1,segments:[],sessionMark:e,screenPixelScale:null!==(C=window)&&void 0!==C&&C.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:w.clientWidth,startupPlayerHeight:w.clientHeight,startupTimeMs:I,startupLatencyMs:A,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:w.videoWidth,startupVariantHeight:w.videoHeight,videoUrl:x,wasVideoPreloaded:"auto"===o};if(!T&&b.length){const{levels:e}=this.hls,t=b[0];this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const n=b.reduce(((t,n)=>{if(n&&"number"==typeof n.level&&e&&e.length>0){return t+(e[n.level]||{}).bitrate*(n.watchedDurationMs||0)/p.gJ}return t}),0),i=b.reduce(((e,t)=>e+(t.watchedDurationMs||0)),0);let a=null,l=0,o=0;do{l+=b[o].watchedDurationMs,a=a||b[o].level,o+=1}while(o<b.length&&b[o].level===a);j.startupVariantKbps=t.indicatedKbps,j.startupVariantWatchedDurationMs=l,j.startupVariantWidth=t.sourceWidth,j.startupVariantHeight=t.sourceHeight,j.startupPlayerWidth=t.viewportWidth,j.startupPlayerHeight=t.viewportHeight,j.overallWatchedDurationMs=i,i>0?(j.averageVideoKbps=n/(i/p.gJ),j.rebufferRate=this.playbackPerformance.totalStallDurationMs/i):0===i&&(j.averageVideoKbps=-1,j.rebufferRate=-1,j.errorName="invalid_watch_duration"),j.segments=b}else j.errorName="invalid_watch_duration";(0,u.ZP)(j,!0,r,{playbackState:this.state.playbackState,...t});const{clientTrackingParams:E,component:R,durationNs:L,element:D,objectId:F,pairId:z,viewData:M,view:O,viewParameter:B,...Z}=n;l({aux_data:{...Z,is_closeup_video:r,playback_session_id:this.videoSessionId},clientTrackingParams:E,component:R,duration_ns:L,element:D,event_data:{videoPerformanceData:j},event_type:3606,object_id_str:F,pair_id:z,view_data:M,view_parameter:B,view_type:O}),T?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,u.tE)(T?"sessionStart":"sessionEnd",!0,r,{playbackState:this.state.playbackState,...t})}}))}componentDidMount(){const{contextLogData:e={},playing:t}=this.props,{is_closeup_video:n=!1}=e;this.playbackPerformance.videoCreatedTime=new Date,this.initializeHls(),(0,u.tE)("videoMounted",!0,n),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(p.DR,{initiator:"mount"}))}componentDidUpdate(e){const{loop:t,playing:n,src:i,visible:a,appInFocus:l,seekTime:o}=this.props;var r,s;o&&o!==e.seekTime&&this.setState({videoStartTime:o}),(typeof(r=e.src)!=typeof(s=i)||(Array.isArray(s)?r.length!==s.length||s.some(((e,t)=>!Array.isArray(r)||e.type!==r[t].type||e.src!==r[t].src)):s!==r))&&this.initializeHls(),e.appInFocus&&!l&&(this.logPlaybackPerformance(p.$f,{initiator:"update",loop:t}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===a&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"update",loop:t})),!1===e.visible&&!0===a&&(this.videoVisibleTime=this.videoVisibleTime||new Date,n?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(p.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),n&&l&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(p.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}componentWillUnmount(){const{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"unmount",loop:e}),this.destroyHls()}render(){const{aspectRatio:e,backgroundColor:t,captions:n,controls:i,loop:a,loopOverride:l,objectFit:r,onDurationChange:s,onFullscreenChange:d,onLoadedChange:c,onControlsPlay:u,onPlayheadDown:p,onPlayheadUp:m,onSeek:g,onVolumeChange:_,playbackRate:v,playing:f,playsInline:b,poster:x,preload:k,quicExpGroup:P,src:S,volume:w}=this.props,{canPlayVideo:T,isManifestParsed:I,videoStartTime:A}=this.state,C=y(S,P);return(0,h.jsx)(o.nk,{aspectRatio:e,backgroundColor:t,captions:n,controls:i,loop:void 0===l?a:l,objectFit:r,onDurationChange:s,onEnded:this.handleEnded,onFullscreenChange:d,onLoadStart:this.handleLoadStart,onLoadedChange:c,onControlsPause:this.handleUserPause,onControlsPlay:u,onPlaying:this.handlePlaying,onPlayheadDown:p,onPlayheadUp:m,onReady:this.handleCanPlayVideo,onSeek:g,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:_,onWaiting:this.handleStalled,playbackRate:v,onPlay:()=>{},onPlayError:()=>{},playing:I&&T&&f,playsInline:b,poster:x,preload:k,ref:this.setVideoPlayerRef,src:C,startTime:A,volume:w})}}const f=(0,i.memo)((function(e){const{country:t,isAuthenticated:n,isBot:i,isSocialBot:a,unauthId:l,userAgent:o}=(0,d.B)(),p=(0,r.Z)(),g=(0,c.Z)(),{browserName:_,browserVersion:y,isMobile:f}=o,{contextLogData:b={}}=e,{is_closeup_video:x=!1,view:k,viewParameter:P}=b,{checkExperiment:S}=(0,s.F)();let w=null;n&&(w=S("web_video_quic").group.length?S("web_video_quic").group:null);const{appUI:T}=(0,m.I)(),I=S("web_video_fail_to_start_fix").anyEnabled?T.appInFocus:e.appInFocus,A={browserName:_,browserVersion:y,country:t,isAuthenticated:n,isBot:i,is_closeup_video:x,isMobile:f,isSocialBot:a,view:k,viewParameter:P};return(0,u.r$)(A),(0,h.jsx)(v,{...e,userId:g.id||l,appInFocus:I,quicExpGroup:w,logContextEvent:p})}))},634923:(e,t,n)=>{n.d(t,{Z:()=>l,t:()=>a});const i=()=>{var e,t;const n="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(t=e.connection)||void 0===t?void 0:t.effectiveType:void 0;let i,a=null===(l=window)||void 0===l||!l.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";var l;return n?"4g"===n?i="40-80":(a="1x",i="0-1"):i="unknown",{downloadSpeedGroup:i,screenDimension:a}};function a({vExp3:e,vExp4:t,vExp5:n,vExp6:a,vExp7:l,v720p:o}){const{downloadSpeedGroup:r,screenDimension:s}=i(),d={"1x":e,"2x":n},c={"1x":l,"2x":l};return{unknown:d,"0-1":d,"1-5":{"1x":t,"2x":n},"5-10":{"1x":n,"2x":n},"10-20":{"1x":a,"2x":a},"20-40":c,"40-80":c,"80_or_above":c}[r][s]||o||void 0}function l(e){const{video_list:t={}}=e,n=a({vExp3:t.V_EXP3,vExp4:t.V_EXP4,vExp5:t.V_EXP5,vExp6:t.V_EXP6,vExp7:t.V_EXP7,v720p:t.V_720P}),i=t.V_HLSV3_MOBILE||void 0;return n?{hlsv3:i,mp4:n}:{hlsv3:i}}},499992:(e,t,n)=>{n.d(t,{ZP:()=>p,r$:()=>c,tE:()=>u});var i=n(40660),a=n(768337),l=n(505204);const o=["isCellular","videoUrl","sessionMark"];let r={},s="";const d=e=>e<0?"negative":0===e?"zero":e<200?"xs":e<400?"s":e<600?"m":e<800?"l":e<1e3?"xl":e<1200?"xxl":"over1200",c=e=>{const{browserName:t,browserVersion:n,country:i,isAuthenticated:l,isBot:o,isMobile:d,isSocialBot:c,view:u="unknown",viewParameter:p="unknown"}=e;s=(c?"socialBot":o&&"bot")||"nonbot";const m=(0,a.Z)(i);r={browserName:t,browserVersion:(null==n?void 0:n.split(".")[0])||"0",isAuthenticated:l,isMobile:d,region:m,view:u,viewParameter:p}};function u(e,t,n,a={}){const l=n?"closeup":"nonCloseup",o=t?"hls":"nonHls",d={...a,...r},c=`web.video.${o}.${s}.${l}.${e}`;"nonbot"===s&&i.Z.increment(c,1,d)}function p(e,t,n,a={}){const c=n?"closeup":"nonCloseup",u=t?"hls":"nonHls",p=e.sessionMark===l.DR?"sessionStart":"sessionEnd",m={...a,...r};if("nonbot"===s&&(Object.entries(e).forEach((([t,n])=>{const a=`web.video.${u}.${s}.${c}.${p}.${t}`,l=parseInt(n,10),r="number"==typeof l?l:-1;if(!o.includes(t))if(t.includes("fatalError")&&!0===n){const{errorCode:t,errorName:n,errorReason:l}=e;i.Z.increment(a,1,{errorCode:t,errorName:n,errorReason:l,...m})}else if(t.includes("Width")||t.includes("Height")){const e=d(r);i.Z.increment(a,1,{dimensionBucket:e,...m})}else if("numberOfStalls"===t){let e=n;r>1e3?e="over1000":r>10?e="over10":r<0&&(e="negative"),i.Z.increment(a,1,{numberOfStalls:e,...m})}else"screenPixelScale"===t?i.Z.increment(a,1,{screenPixelScale:n||-1,...m}):r>=0?(0===r&&i.Z.increment(`${a}.zero`,1,m),i.Z.timing(a,r,1)):r<0&&i.Z.increment(`${a}.negative`,1,m)})),e.sessionMark!==l.DR)){const{rebufferRate:t,screenPixelScale:n,startupLatencyMs:a,startupVariantWidth:l,startupPlayerWidth:o}=e,r=`web.video.${u}.${s}.${c}.${p}`;if("number"==typeof l&&"number"==typeof o&&"number"==typeof n){const e=1.5*l>n*o;i.Z.increment(`${r}.upscaled.${e?"good":"bad"}`,1,m)}"number"==typeof a&&i.Z.increment(`${r}.startupLatency.${a<500?"good":"bad"}`,1,m),"number"==typeof t&&i.Z.increment(`${r}.rebufferRate.${t<.01?"good":"bad"}`,1,m)}}},505204:(e,t,n)=>{n.d(t,{$f:()=>l,Cy:()=>d,DR:()=>a,EB:()=>p,Fm:()=>s,Y7:()=>u,bR:()=>r,gJ:()=>o,lG:()=>c});var i=n(172045);const a=1,l=2,o=1e3,r=1e3,s=1e3,d=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),c=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function u(e){return e+"-"+(0,i.Z)()}function p(){return(0,i.Z)()}},736567:(e,t,n)=>{n.d(t,{Z:()=>l,e:()=>a});var i=n(117651);const a=e=>{if("undefined"==typeof window)return"";let t=0;const n=document.querySelector('[data-test-id="header"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:n}=e.getBoundingClientRect();t+=n}break;case"SearchItem":const n=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}const i=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"},l=({videosDuration:e,vHLSV4VideoDuration:t,storyPinDataTotalVideoDuration:n})=>(0,i.Z)(e||t||n||0)},204926:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(970588),a=n(354428);function l(e,t){const{auxData:n,clientTrackingParams:l,hasPin:o,pinId:r}=t||{};(0,i.Z)({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:o?l:void 0,pin_id:r,url:e,aux_data:JSON.stringify(n)}}).then((t=>{if(t&&t.resource_response&&!t.resource_response.error){const{resource_response:e}=t,{redirect_status:n,url:i}=e.data;if(!["blocked","suspicious","porn"].includes(n)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){const e=new window.Windows.Foundation.Uri(i);window.Windows.System.Launcher.launchUriAsync(e)}return}}(0,a.Gj)(e,{params:o?{pinId:r,clientTrackingParams:l,auxData:n}:{pinId:r}})}))}},732192:(e,t,n)=>{n.r(t),n.d(t,{RoleBasedAccessControlProvider:()=>f,useRoleBasedAccessControlContext:()=>v});var i=n(667294),a=n(583592),l=n(245410),o=n(819079),r=n(802071),s=n(771799),d=n(173085),c=n(716793);const u=e=>{const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&("object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?t[(0,c.Z)(n)]=e[n]:t[(0,c.Z)(n)]=u(e[n]));return t},p=(e,t)=>{const n=[];for(const l in e)l!==t&&n.push({id:l,...u(e[l])});const i=n.sort((({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t))),a=new Map;for(const l of i)a.set(l.id,l);return a},m={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},h=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},g=e=>{const[t,n]=(0,i.useReducer)(h,m),a=(({dispatch:e,isEnabled:t,state:n})=>{const{orbacVisibility:a,disableProfileChanger:l,headerVisible:o}=n;return{changeProfile:(0,i.useCallback)((n=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:n})}),[t,e]),toggleORBACVisibility:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=n?n:!a})}),[t,e,a]),toggleDisableProfileChanger:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=n?n:!l})}),[t,e,l]),toggleHeaderVisibility:(0,i.useCallback)((n=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=n?n:!o})}),[t,e,o])}})({dispatch:n,isEnabled:e,state:t}),{activeProfile:l,orbacVisibility:o}=t;(0,i.useEffect)((()=>{const e=(0,d.qn)("orbacActiveProfile",!1);e&&n({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,i.useEffect)((()=>{const e=(0,d.qn)("orbacVisibilty",!1);e&&n({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,i.useEffect)((()=>{(0,d.Nh)("orbacVisibility",o)}),[o]),(0,i.useEffect)((()=>{(0,d.Nh)("orbacActiveProfile",l)}),[l]);return{state:t,actions:a,receiveProfiles:(0,i.useCallback)(((e,t)=>{n({type:"LOAD_PROFILES",payload:p(e,t)})}),[n])}};var _=n(785893);const{Provider:y,useMaybeHook:v}=(0,a.Z)("RoleBasedAccessControlContext"),f=({children:e})=>{const{checkExperiment:t}=(0,l.F)(),n=(0,r.Z)(),a=Boolean(n.isAuth&&n.isPartner&&t("web_m10n_business_access_orbac_www").anyEnabled),{state:d,actions:c,receiveProfiles:u}=g(a),{activeProfile:p,headerVisible:m,profiles:h=[]}=d,v=h?Array.from(h.values()):[],f=(0,s.Z)(v),b=!!(n.isAuth&&v.length>0)&&f,x=n.isAuth?n.id:"",k=n.isAuth?n.username:"",{changeProfile:P,toggleORBACVisibility:S,toggleDisableProfileChanger:w,toggleHeaderVisibility:T}=c;(0,i.useEffect)((()=>{a&&("string"!=typeof f?p||P(x):P(f))}),[f,x,a,P,p]),(0,i.useEffect)((()=>{a&&(b&&!m&&T(!0),!b&&m&&T(!1))}),[T,b,a,m,h]);const{data:I}=(0,o.Z)(a?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),A=null==I?void 0:I.profiles;let C;n&&n.isAuth&&d.activeProfile===n.id?C={id:n.id,permissions:["OWNER"],user:{username:k,businessName:n.fullName,imgUrl:n.imageSmallUrl}}:p&&d.profiles&&(C=d.profiles.get(p)),(0,i.useEffect)((()=>{A&&u(A,x)}),[u,A,x]);const j=d.profiles?Array.from(d.profiles.values()):[];return(0,_.jsx)(y,{value:{profiles:j,headerVisible:d.headerVisible,activeProfile:C,changeProfile:P,toggleORBACVisibility:S,toggleDisableProfileChanger:w,toggleHeaderVisibility:T},children:e})}},329689:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(245410),a=n(732192),l=n(771799);const o=()=>{const{checkExperiment:e}=(0,i.F)(),t=(0,a.useRoleBasedAccessControlContext)(),{activeProfile:n}=t||{},o=e("web_m10n_business_access_orbac_www").anyEnabled,r=(0,l.Z)((null==t?void 0:t.profiles)||[]),{anyEnabled:s}=e("useorbacroutematcher_in_useorbacactingas");return o?s&&!r?Object.freeze({}):n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:Object.freeze({}):Object.freeze({})}},771799:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(616550),a=n(988014),l=n(245410),o=n(802071),r=n(525104);const s=e=>{var t,n,s,d;const c=(0,i.useLocation)(),u=(0,o.Z)(),p=(0,r.S6)(),{anyEnabled:m}=(0,l.F)().checkExperiment("web_m10n_business_access_orbac_www"),h=(0,i.useRouteMatch)("/:username"),g=null==h||null===(t=h.params)||void 0===t?void 0:t.username,_=(0,i.useRouteMatch)("/pin/:id"),y=!(null==_||null===(n=_.params)||void 0===n||!n.id)&&(null===(s=p(_.params.id))||void 0===s||null===(d=s.pinner)||void 0===d?void 0:d.id);if((0,a.ej)(c))return!1;if((0,a.RU)(c))return!0;if((0,a.mY)(c))return m;const v=e.concat(u.isAuth?{user:{username:u.username},id:u.id}:{}).find((e=>{const{user:t={},id:n}=e||{},{username:i}=t;return!!(i&&g||y&&n)&&(i===g||y===n)}));return!!v&&v.id}},421461:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(802071),a=n(329689),l=n(384722);const o=()=>{const e=(0,i.Z)(),t=(0,a.Z)();return(0,l.lJ)(e,t)}},384722:(e,t,n)=>{n.d(t,{D3:()=>d,DX:()=>r,KY:()=>c,Ms:()=>i,N1:()=>u,_P:()=>o,lJ:()=>l,nl:()=>a,q6:()=>s});const i=(e,t)=>{let n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},a=(e,t)=>Boolean(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),l=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",o=(e,t,n)=>{var i;return n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:null===(i=e.advertiser)||void 0===i?void 0:i.merchant_id},r=(e,t,n)=>n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,s=(e,t,n)=>!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t),d=(e,t,n)=>!!(s(e,t,n)||e&&e.isAuth&&t===e.id),c=(e,t,n)=>{const i=t&&t.owner&&t.owner.id||"";return d(e,i,n)};function u(e,t,n){const i=t?t.id:"";return d(e,i,n)}},76008:(e,t,n)=>{n.d(t,{pb:()=>x,nf:()=>k,lV:()=>P});var i=n(667294),a=n(702664),l=n(441143),o=n.n(l),r=n(690108),s=n(583592),d=n(970588),c=n(170567),u=n(618446),p=n.n(u),m=n(682492),h=n.n(m);const g={feature_map:Object.freeze({})},_=(e,t)=>{const n={...h()({},e,t),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return p()(e,n)?e:n},y=(e=g,t)=>{if("FETCH_COMPLETE"===t.type){const{payload:{resource:n}}=t,{data:i}=t.payload.response.resource_response;if("AggregatedCommentFeedResource"===n||"AggregatedCommentReplyFeedResource"===n||"DidItCommentsResource"===n){const t=(i||[]).reduce(((t,n)=>(t[n.id]=_(e[n.id],n),t)),{});return{...e,...t}}if("UnifiedCommentsResource"===n&&i&&i.length>0){const t=i.filter((e=>"aggregatedcomment"===e.type)).reduce(((t,n)=>(t[n.id]=_(e[n.id],n),t)),{});return{...e,...t}}if("UnifiedCommentsPreviewResource"===n&&i&&i.length>0){const t=i[0].aggregated_comment,n=t?{[t.id]:_(e[t.id],t)}:{},a=i[0].creator_reply,l=a?{[a.id]:_(e[a.id],a)}:{};return{...e,...n,...l}}if("AggregatedCommentFeaturesResource"===n&&i&&Object.keys(i).length>0)return{...e,feature_map:i}}else{if("AGGREGATED_COMMENT_CREATED"===t.type){const{payload:{aggregatedComment:n}}=t;return n.id?{...e,[n.id]:n}:e}if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){const{payload:{aggregatedCommentId:n}}=t,i={...e};return delete i[n],i}if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){const{payload:{userId:n}}=t;return Object.fromEntries(Object.entries(e).filter((e=>{var t;return(null===(t=e[1].user)||void 0===t?void 0:t.id)!==n})))}if("AGGREGATED_COMMENT_UPDATED"===t.type){const{payload:{data:n}}=t;return{...e,[n.id]:_(e[n.id],n)}}if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){const{payload:{data:n}}=t,i=e[n.id],a=i.reaction_counts[1]||0,l={1:n.reaction_by_me?a+1:a-1},o={...i,reaction_by_me:n.reaction_by_me,reaction_counts:l};return{...e,[n.id]:o}}if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){const{payload:{data:n}}=t,i=e[n.id],a=i.helpful_count||0,l=n.marked_helpful_by_me?a+1:a-1,o={...i,marked_helpful_by_me:n.marked_helpful_by_me,helpful_count:l};return{...e,[n.id]:o}}if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){const{payload:{data:n}}=t,i={...e[n.aggregated_comment_id],highlighted_by_pin_owner:n.is_highlighted};return{...e,[n.aggregated_comment_id]:i}}if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){const{payload:{data:{featureMap:n}}}=t;return{...e,feature_map:{...e.feature_map,...n}}}if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){const{payload:{increment:n,id:i}}=t,a=e[i];if(!a)return e;const l={...a,comment_count:a.comment_count+n};return{...e,[i]:l}}if("DELETE_COMMENT_MENTION"===t.type){const{payload:{aggregatedCommentId:n,tagged_users:i}}=t,a={...e[n],tagged_users:i};return{...e,[n]:a}}if("GET_COMMENT_TRANSLATION"===t.type){const{payload:{aggregatedCommentId:n,translatedText:i}}=t,a={...e[n],translatedText:i};return{...e,[n]:a}}}return e};var v=n(785893);const{Provider:f,useHook:b}=(0,s.Z)("AggregatedComments");function x({children:e}){const t=(0,a.useSelector)((({resources:e})=>e.UnifiedCommentsResource));let n=g;t&&Object.values(t).forEach((e=>{var t;const i=null===(t=e.data)||void 0===t?void 0:t.filter((e=>"aggregatedcomment"===e.type)),a=null==i?void 0:i.reduce(((e,t)=>(e[t.id]=_(n[t.id],t),e)),{});n={...n,...a}}));const[l,o]=(0,i.useReducer)(y,n),r=e=>{o({type:"FETCH_COMPLETE",payload:e})};(0,c.Z8)("AggregatedCommentFeaturesResource",r),(0,c.my)("AggregatedCommentFeaturesResource",r),(0,c.Z8)("AggregatedCommentFeedResource",r),(0,c.my)("AggregatedCommentFeedResource",r),(0,c.Z8)("AggregatedCommentReplyFeedResource",r),(0,c.my)("AggregatedCommentReplyFeedResource",r),(0,c.Z8)("DidItCommentsResource",r),(0,c.my)("DidItCommentsResource",r),(0,c.Z8)("UnifiedCommentsPreviewResource",r),(0,c.my)("UnifiedCommentsPreviewResource",r),(0,c.Z8)("UnifiedCommentsResource",r),(0,c.my)("UnifiedCommentsResource",r);const s=(0,i.useMemo)((()=>({aggregatedComments:l,dispatch:o})),[l,o]);return(0,v.jsx)(f,{value:s,children:e})}function k(){const{dispatch:e}=b();return(0,i.useMemo)((()=>({aggregatedCommentCreated(t,n){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:n}})},aggregatedCommentDeleted:(t,n)=>{e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:n}})},aggregatedCommentHidden:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:async({commentId:e,reason:t,detailedReasons:n})=>(0,d.Z)({url:`/v3/aggregated_comments/${e}/flag/`,method:"PUT",data:{commentId:e,reason:t,detailedReasons:n}}),deleteCommentMention:async t=>{var n;const{resource_response:i}=await(0,d.Z)({url:`/v3/aggregated_comments/${t}/mentions/`,method:"DELETE",data:{fields:["aggregatedcomment.id","aggregatedcomment.tagged_users"]}}),a=null!==(n=i.data)&&void 0!==n?n:{};e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:a.id,tagged_users:a.tagged_users}})},translateAggregatedComment:async t=>{try{var n;const{resource_response:i}=await(0,d.Z)({url:`/v3/aggregated_comments/${t}/translate/`,method:"GET"}),a=null!==(n=i.data)&&void 0!==n?n:"";e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:a}})}catch(i){e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:""}})}},toggleAggregatedCommentHelpful:({aggregatedCommentId:t,isMarkedHelpfulByMe:n})=>{(0,d.Z)({url:`/v3/helpful/1/${t}/`,method:n?"DELETE":"POST"}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:t,marked_helpful_by_me:!n}}})},toggleAggregatedCommentHighlight:async({aggregatedCommentId:t,pinId:n,isHighlighted:i})=>{o()(t),o()(n),await(0,d.Z)({url:"/v3/aggregated_comments/pin/highlight/",method:"PUT",data:{aggregated_comment:t,pin:n,highlight:!i}}),e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:t,pin_id:n,is_highlighted:!i}}})},toggleAggregatedCommentLike:({aggregatedCommentId:t,isLikedByMe:n})=>{(0,d.Z)({url:`/v3/aggregated_comments/${t}/react/`,method:n?"DELETE":"POST",data:{reaction_type:1}}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:t,reaction_by_me:n?0:1}}})},updateAggregatedComment:async({commentId:t,force:n,orbacSubjectId:i,tags:a,text:l})=>{var o;const{resource_response:s}=await r.Z.create("AggregatedCommentResource",{commentId:t,force:n,tags:a,text:l,...i?{orbacSubjectId:i}:{}}).callUpdate({showError:!1}),{tagged_users:d}=null!==(o=s.data)&&void 0!==o?o:{},c=d.map((e=>({...e})));e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:t,tagged_users:c,tags:JSON.parse(a),text:l}}})},updateAggregatedCommentFeatures:async({userId:t,featureMap:n,passcode:i})=>{var a;const{resource_response:l}=await r.Z.create("AggregatedCommentFeaturesResource",{userId:t,featureMap:n,passcode:i}).callUpdate({showError:!1}),o=null!==(a=l.data)&&void 0!==a?a:Object.freeze({});e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:o}}})},updateCommentCount:(t,n)=>{e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:n,id:t}})}})),[e])}function P(){const{aggregatedComments:e}=b();return e}},738318:(e,t,n)=>{n.d(t,{n:()=>a,o:()=>i});const i={aggregatedComment:"aggregatedComment",didIt:"didIt",pin:"pin"},a={aggregatedComment:"aggregatedcomment",didIt:"userdiditdata",pin:"pin"}},886365:(e,t,n)=>{n.d(t,{g:()=>m,I:()=>p});var i=n(667294),a=n(583592),l=n(532465),o=n(150361),r=n.n(o);const s={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},d=(e=s,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){const{payload:n}=t,{pinId:i,isPromoted:a,currentTime:l,inVideoGridAutoplayExp:o}=n,{videosAutoplaying:s}=e,{currentlyPlayingOrganicVideoId:d,promotedVideosAutoplaying:c,organicVideosAutoplaying:u}=s,p=r()(c),m=r()(u);return!a&&d&&o?e:(a?p[i]={pinId:i,currentTime:l,paused:!1}:m[i]={pinId:i,currentTime:l,paused:!1},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:a?d:i,promotedVideosAutoplaying:p,organicVideosAutoplaying:m}})}if("SET_IS_AUTOPLAY"===t.type)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){const{payload:n}=t,{pinId:i,isPromoted:a,currentTime:l}=n,{videosAutoplaying:o}=e,{promotedVideosAutoplaying:s,organicVideosAutoplaying:d}=o,c=r()(s),u=r()(d);return a?c[i]={...c[i],paused:!0,currentTime:l}:u[i]={...u[i],paused:!0,currentTime:l},{...e,videosAutoplaying:{currentlyPlayingOrganicVideoId:null,promotedVideosAutoplaying:c,organicVideosAutoplaying:u}}}return"SET_APP_FOCUS_STATE"===t.type?{...e,appInFocus:t.payload}:"SET_VIEWPORT_SIZE"===t.type?{...e,viewportSize:t.payload}:"SET_FOOTER_VISIBILITY_STATE"===t.type?{...e,footerPlusButtonVisible:t.payload}:e};var c=n(785893);const{Provider:u,useHook:p}=(0,a.Z)("AppUI");function m({children:e}){const[t,n]=(0,i.useReducer)(d,s),a=(0,i.useCallback)((e=>n({type:"PAUSE_CURRENT_VIDEO",payload:e})),[]),o=(0,i.useCallback)((e=>n({type:"SET_APP_FOCUS_STATE",payload:e})),[]),r=(0,i.useCallback)((e=>n({type:"SET_CURRENT_VIDEO",payload:e})),[]),p=(0,i.useCallback)((e=>n({type:"SET_FOOTER_VISIBILITY_STATE",payload:e})),[]),m=(0,i.useCallback)((e=>n({type:"SET_IS_AUTOPLAY",payload:e})),[]),h=(0,i.useCallback)((e=>n({type:"SET_VIEWPORT_SIZE",payload:e})),[]),g=(0,i.useCallback)((e=>n({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e})),[]),_=(0,i.useMemo)((()=>({pauseAutoplay:a,setCurrentVideo:r,setFooterPlusButtonVisible:p,setIsAutoplay:m,setViewportSize:h,toggleTypeaheadOverlay:g,setAppFocusState:o,appUI:t})),[a,r,p,m,h,g,o,t]);return(0,i.useEffect)((()=>{l.Z.onSessionResume((()=>{o(!0)})).onSessionPause((()=>{o(!1)}))}),[o]),(0,c.jsx)(u,{value:_,children:e})}},336331:(e,t,n)=>{n.d(t,{$:()=>l,B:()=>a});var i=n(583592);const{Provider:a,useHook:l}=(0,i.Z)("SurfaceContext",{surface:"Unknown"})},795142:(e,t,n)=>{n.d(t,{UP:()=>r,Wv:()=>a,ZF:()=>i,zI:()=>l,zl:()=>o});const i=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],a=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],l=[...a,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid"],o=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridShippedMetadataWithVisitButton"],r=["BaseBoardPinGrid"]},724097:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(883119),a=n(460914),l=n(785893);const o={__style:{borderRadius:"4px",padding:"10px 14px"}},r={borderWidth:"1px",borderStyle:"solid",borderColor:"white"},s={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},d=({accessibilityLabel:e,color:t,customStyles:n,forwardedRef:d,icon:c,inline:u=!1,minHeight:p=40,minWidth:m=70,onTouch:h,pressState:g,shape:_,text:y})=>{const v=(e=>"transparent"===e||"dark"===e?"inverse":"primary"===e?"light":"default")(t),f=(({color:e,icon:t})=>t?s:"transparent"===e?{__style:{...o.__style,...r}}:o)({color:t,icon:c}),b=(0,l.jsx)(i.xu,{position:"relative",children:(0,l.jsx)(i.xu,{color:t,display:u?"inlineBlock":"flex",justifyContent:"center",minHeight:p,minWidth:m,dangerouslySetInlineStyle:"pill"===_?(x=n,{__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...x}}):f,children:(0,l.jsxs)(i.kC,{alignItems:"center",justifyContent:"center",children:[c&&(0,l.jsx)(i.xu,{paddingX:"check"===c?2:0,children:(0,l.jsx)(i.JO,{accessibilityLabel:e,color:v,icon:c,inline:!0,size:"check"===c?16:20})}),(0,l.jsx)(i.xv,{color:v,inline:!0,size:"300",lineClamp:1,weight:"bold",children:y})]})})});var x;return h?(0,l.jsx)(a.Z,{onTouch:h,rounding:"pill"===_?"pill":2,pressState:g||"none",children:(0,l.jsx)(i.xu,{ref:d,children:b})}):b}},510525:(e,t,n)=>{n.d(t,{i5:()=>f,sX:()=>k,aX:()=>b,Z5:()=>v,NG:()=>x,MT:()=>P,iu:()=>S});var i=n(667294),a=n(690108),l=n(583592),o=n(170567),r=n(682492),s=n.n(r);const d=(e,t)=>e.data[t]&&e.data[t].messages||[];function c(e,t){const n={};return e.filter((e=>!!e)).reduce(((e,i)=>{const a=t(i);return n[a]?(s()(n[a],i),e):(n[a]=i,e.concat([i]))}),[])}function u(e){return[...e].sort(((e,t)=>new Date(e.created_ms||e.created_at)-new Date(t.created_ms||t.created_at)))}function p(e,t,n){return u(c(d(e,t).concat(n),(e=>e.id)))}const m={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function h(e=m,t){if("CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!1,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){const{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){const n={...e,data:{...e.data}},{id:i}=t.payload;return delete n.data[i],n}if("FETCH_COMPLETE"===t.type){const{options:n,resource:i,response:a}=t.payload,l=a.resource_response.data;if("ConversationMessagesResource"===i){const t=l||[],i=(null==n?void 0:n.conversation_id)||"",a=p(e,i,t),o=a[a.length-1];return{...e,data:{...e.data,[i]:{...e.data[i],id:i,messages:a,unread:0,last_message:o}}}}if("ConversationsResource"===i){const t=l||[],n={...e,data:{...e.data}};return t.forEach((e=>{const{id:t,created_at:i,name:a,board:l,emails:o,unread:r,users:s,last_message:d}=e,c=p(n,t,[d]);n.data[t]={...n.data[t],id:t,created_at:i,name:a,board:l,emails:o||[],unread:r||0,users:s||[],last_message:d,messages:c}})),n}if("ConversationResource"===i){const t=l||{},{id:n}=t,i={...e,data:{...e.data}};return n&&(i.data[n]={...i.data[n],...t}),i}if("NewsHubBadgeResource"===i){if(l){const t=l.conversations_unseen_count||0;return{...e,unread:t}}return e}}else{if("MESSAGE_SEND_PENDING"===t.type){const{id:n,message:i}=t.payload;return e.data[n]?{...e,data:{...e.data,[n]:{...e.data[n],id:n,messages:[...e.data[n].messages,i]}}}:e}if("MESSAGE_SEND_PENDING_SUCCESS"===t.type){const{id:n,tempMessage:i,newMessage:a}=t.payload;if(e.data[n]){if(d(e,n).find((e=>e.id===i.id&&e.created_ms===i.created_ms))){const t=u(c(d(e,n).filter((e=>e.id!==i.id)).concat([a]),(e=>e.id)));return{...e,data:{...e.data,[n]:{...e.data[n],last_message:a,messages:t}}}}}return e}if("MESSAGE_SEND_PENDING_FAILURE"===t.type){const{id:n,tempMessageId:i}=t.payload;if(e.data[n]){const t=d(e,n).filter((e=>e.id!==i));return{...e,data:{...e.data,[n]:{...e.data[n],messages:t}}}}return e}if("OPEN_NEW_MESSAGE"===t.type){const{objectAttachment:n}=t.payload||null;return{...e,showNewMessageView:!0,open:null,objectAttachment:n}}if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1};if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};if("UPDATE_NEWSHUB_COUNT"===t.type)return{...e,newsHubCount:t.payload};if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload};if("CLEAR_MESSAGE_BADGE"===t.type){const{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n],unread:0}}}}if("CONVERSATION_SAVE_POSITION"===t.type){const{id:n,position:i}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n],position:i}}}}if("CONVERSATION_RESET_POSITION"===t.type){const{id:n}=t.payload;return{...e,data:{...e.data,[n]:{...e.data[n],position:null}}}}if("SET_OBJECT_ATTACHMENT"===t.type){const{objectAttachment:n}=t.payload;return{...e,objectAttachment:n}}if("REMOVE_OBJECT_ATTACHMENT"===t.type)return{...e,objectAttachment:null}}return e}var g=n(785893);const _=(()=>{let e=0;return()=>e++})(),{Provider:y,useHook:v}=(0,l.Z)("Conversations");function f({children:e}){const[t,n]=(0,i.useReducer)(h,m),l=(0,i.useCallback)((e=>n({type:"FETCH_COMPLETE",payload:e})),[]);(0,o.Z8)("ConversationMessagesResource",l),(0,o.my)("ConversationMessagesResource",l),(0,o.Z8)("ConversationsResource",l),(0,o.Z8)("ConversationResource",l),(0,o.Z8)("NewsHubBadgeResource",l);const r=(0,i.useCallback)(((e,t=!1,i="")=>n({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:i}})),[]),s=(0,i.useCallback)(((e,t="",i=!1)=>n({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:i}})),[]),d=(0,i.useCallback)((e=>n({type:"CONVERSATION_CREATE",payload:e})),[]),c=(0,i.useCallback)((e=>n({type:"CONVERSATION_DELETE",payload:{id:e}})),[]),u=(0,i.useCallback)(((e,t)=>n({type:"CONVERSATION_SAVE_POSITION",payload:{id:e,position:t}})),[]),p=(0,i.useCallback)((e=>n({type:"CONVERSATION_RESET_POSITION",payload:{id:e}})),[]),_=(0,i.useCallback)(((e,t,i)=>{a.Z.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then((e=>{const t=e&&e.resource_response.data;n({type:"CONVERSATION_OPEN",payload:{id:t.id}})})).catch((e=>{const t=e.message_detail||e.message||"";i(t)}))}),[]),v=(0,i.useCallback)((()=>{n({type:"CLOSE_DROPDOWN"})}),[]),f=(0,i.useCallback)((()=>{n({type:"OPEN_DROPDOWN"})}),[]),b=(0,i.useCallback)((e=>{n({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})}),[]),x=(0,i.useCallback)(((e,t)=>n({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}})),[]),k=(0,i.useCallback)(((e,t,i)=>n({type:"MESSAGE_SEND_PENDING_SUCCESS",payload:{id:e,tempMessage:t,newMessage:i}})),[]),P=(0,i.useCallback)(((e,t)=>n({type:"MESSAGE_SEND_PENDING_FAILURE",payload:{id:e,tempMessageId:t}})),[]),S=(0,i.useCallback)((e=>n({type:"UPDATE_NEWSHUB_COUNT",payload:e})),[]),w=(0,i.useCallback)((e=>n({type:"UPDATE_UNREAD_COUNT",payload:e})),[]),T=(0,i.useCallback)((e=>n({type:"CLEAR_MESSAGE_BADGE",payload:{id:e}})),[]),I=(0,i.useCallback)((e=>n({type:"SET_OBJECT_ATTACHMENT",payload:{objectAttachment:e}})),[]),A=(0,i.useCallback)((()=>n({type:"REMOVE_OBJECT_ATTACHMENT"})),[]),C=(0,i.useMemo)((()=>({clearMessageBadge:T,conversationOpen:r,conversationClose:s,conversationCreate:d,conversationDelete:c,conversationGet:_,saveConversationPosition:u,resetConversationPosition:p,dropdownClose:v,dropdownOpen:f,newMessageOpen:b,pendingMessageSend:x,pendingMessageSuccess:k,pendingMessageFailure:P,updateNewsHubCount:S,updateUnreadCount:w,conversations:t,setObjectAttachment:I,removeObjectAttachment:A})),[T,r,s,d,c,_,u,p,v,f,b,x,k,P,S,w,t,I,A]);return(0,g.jsx)(y,{value:C,children:e})}function b(){const{conversationCreate:e}=v();return async t=>{let n;const i=a.Z.create("ConversationsResource",t);try{const t=(await i.callCreate()).resource_response.data;t&&(e(t),n=t)}catch(l){throw new Error(l.message)}return n}}function x(){const{conversations:e,conversationCreate:t,pendingMessageSend:n,pendingMessageSuccess:i,pendingMessageFailure:l}=v();return async(o,r,s,d)=>{const{text:c,pinId:u,boardId:p,userId:m,didItId:h}=r;async function g(){const e=a.Z.create("ConversationMessagesResource",{conversation_id:o,text:c,pin:u,board:p,user:m,user_did_it_data:h,source:s}),t=`${_()}`,r={text:c,sender:d,created_at:(new Date).toString(),created_ms:Date.now(),id:t,type:"tempMessage"};n(o,r);try{const t=(await e.callCreate()).resource_response.data;t&&i(o,r,t)}catch(g){throw l(o,t),new Error(g.message)}}if(e.data[o])await g();else{const e=a.Z.create("ConversationResource",{conversation_id:o});try{const n=(await e.callGet()).resource_response.data;n&&(t(n),await g())}catch(y){throw new Error(y.message)}}}}function k(e){const{conversations:t}=v();return t.data[e]}function P(e){const{conversations:t}=v();return t.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}function S(){const{conversations:{data:e}}=v(),t=(n=e,Object.keys(n).map((e=>n[e]))).filter((e=>e.users&&e.last_message));var n,i;return i=t,Array.from(i).sort(((e,t)=>new Date((t.last_message||t).created_at)-new Date((e.last_message||e).created_at)))}},843843:(e,t,n)=>{n.d(t,{MZ:()=>D,di:()=>z,Ai:()=>F});var i=n(667294),a=n(616550),l=n(883119),o=n(865173),r=n(563962),s=n(525571),d=n(988014),c=n(245410),u=n(617285),p=n(500797),m=n(282802),h=n(611756),g=n(173085),_=n(98736),y=n(802071),v=n(700453),f=n(277192),b=n(799006),x=n(724097),k=n(250307),P=n(354428),S=n(28630),w=n(204926);const T=({children:e,external:t,externalQueryParams:n,target:i,href:l})=>{const o=(0,a.useHistory)();if(!l)return null;const r=(0,k.Z)(l);return e({navigate:e=>{e.preventDefault(),(0,S.Z)({url:r})||t?"undefined"!=typeof window&&window.Windows?(0,w.Z)(r):(0,P.Gj)(r,{queryParams:n}):(0,P.G3)({event:e,href:l,history:o,target:"blank"===i?"blank":null})}})};var I=n(785893);const A=({accessibilityLabel:e,children:t,external:n,externalQueryParams:i,inline:a=!1,newTab:o,nofollow:r,onTouch:s,onBlur:d,onFocus:c,pressState:u,rounding:p,to:m})=>(0,I.jsx)(T,{external:n,target:o?"blank":null,externalQueryParams:i,href:m,children:({navigate:n})=>(0,I.jsx)(l.rU,{accessibilityLabel:e,onBlur:d?({event:e})=>d(e):void 0,onFocus:c?({event:e})=>c(e):void 0,underline:"none",href:(0,k.Z)(m),display:a?"inlineBlock":"block",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),null==s||s(e),e.defaultPrevented||n(e)},rel:r?"nofollow":"none",rounding:p,tapStyle:(Array.isArray(u)?u:[u]).includes("compress")?"compress":"none",children:t})}),C=({external:e,externalQueryParams:t,newTab:n,onTouch:i,to:a,...l})=>(0,I.jsx)(T,{external:e,target:n?"blank":null,externalQueryParams:t,href:a,children:({navigate:e})=>(0,I.jsx)(x.Z,{onTouch:t=>{null==i||i(t),t.defaultPrevented||e(t)},...l})});var j=n(951599),E=n(352865),R=n(712968);const L=(e,t=!1)=>function({isAppUpsellDisabled:n,...x}){const{children:k,clientTrackingParams:P,deeplinkUri:S,external:w,onTouch:T,refresh:A,to:C,viewParameter:L,viewType:D}=x,F=(0,b.Z)(),[z,M]=(0,i.useState)(!1),[O,B]=(0,i.useState)(!1),[Z,N]=(0,i.useState)(!1),{isAuth:U}=(0,y.Z)(),{userAgent:{platform:K,browserName:V},locale:H}=(0,m.B)(),G=(0,R.Tt)(),W=(0,r.Z)(),{checkExperiment:$}=(0,c.F)(),q=(0,a.useLocation)(),Y=(0,u.Z)();(0,i.useEffect)((()=>{!async function(){if(o.v){N(!0);(await(0,o.Z)()).length>0&&B(!0)}}()}),[]),(0,i.useEffect)((()=>{U||(0,_.My)(`unauth.app_upsell.has_app.${O.toString()}`,{browser:V,platform:K})}),[V,O,U,K]);const X=()=>{W({event_type:1701,view_type:D,view_parameter:L}),z&&M(!1)};return(0,I.jsxs)(l.xu,{"data-test-id":"deeplink-wrapper",children:[z&&(0,I.jsx)(f.Z,{clientTrackingParams:P,deepLinkUri:S,isOpen:!0,onDismiss:()=>{W({component:14157,element:10308,event_type:10220,view_type:D||202,view_parameter:L,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}})},onOpenInApp:()=>{(0,h.Nh)("deeplinkBehavior","branchfallback"),X()},shouldTrackDismiss:!0,to:C,viewParameter:L,viewType:D,within:"deep-link-app-upsell-modal"}),(0,I.jsx)(j.Z,{children:i=>(0,I.jsx)(e,{...x,onTouch:e=>{const a=F&&!n&&U&&!w&&!A&&!(0,p.FP)(window)&&!("ios"===K&&(H||"").startsWith("ar"))&&(0,E.kp)((0,s.Z)(null==G?void 0:G.created_at));if(a){let t=!0,n=!1;"string"==typeof S&&(S||"").startsWith("/pin/")&&((0,d.uM)(q)||(0,d.am)(q)||(0,d.C$)(q))?Z&&O&&S&&"android"===K&&$("mweb_auth_deep_link_app_installed_user").anyEnabled&&(Y(),t=!1):(t=!1,n=!0),t?(e.stopPropagation(),e.preventDefault(),M(!0)):n||(e.stopPropagation(),e.preventDefault(),W({component:14347,element:13582,event_type:3830,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}}),i(null!=S?S:(0,v.B)(q),"deep-link-app-upsell-modal"))}else"branchfallback"!==(0,h.qn)("deeplinkBehavior")||(0,g.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,g.Nh)("fallbackAttempt",1),i(S,"deep-link-app-upsell-modal",`${window.location.origin}${l=C,"string"==typeof l?l:`${l.pathname||""}${l.search?`?${l.search}`:""}`}`),X());var l;t&&a||!T||T(e)},children:k})})]})},D=L(A),F=L(C),z=L(x.Z,!0)},951599:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(388011),a=n(245410),l=n(282802),o=n(868489),r=n(352865),s=n(185803),d=n(785893);function c({children:e,invite_code:t}){const{isAuthenticated:n,isBot:o,unauthId:d,userAgent:{platform:c,raw:u}}=(0,l.B)(),{logContextEvent:p}=(0,i.v)(),{checkExperiment:m}=(0,a.F)();return e((async(e,i,a)=>{p({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:i}}),(0,s.Z)({isAuthenticated:n,checkExperiment:m,deeplinkUri:e,fallbackUrl:a,invite_code:t,logContextEvent:p,platform:c,redirectToLite:(0,r.Rp)({isBot:o,platform:c,userAgent:u}),unauthId:d,userAgent:u,within:i})}))}const u=e=>(0,d.jsx)(o.ty,{children:t=>(0,d.jsx)(c,{...e,invite_code:t})});u.displayName="DeepLinkNavigator";const p=u},996902:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),a=n(883119),l=n(40660),o=n(563962),r=n(950695),s=n(785893);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=(e,t)=>{const n=e&&e.replace(".","_");return t?n&&n.substring(0,50):n};class u extends i.Component{constructor(...e){super(...e),d(this,"state",{href:void 0}),d(this,"onEvent",(()=>new Promise(((e,t)=>{"undefined"==typeof window&&t();const{filename:n,imgSrc:i,isAndroidTwa:a,isChromeOnIOS:o,isUnauth:r,logContextEvent:s,category:d,viewParameter:u,viewType:p,pinId:m,imageSignature:h}=this.props,{href:g}=this.state;window.AndroidTwa&&window.AndroidTwa.downloadImage?(window.AndroidTwa.downloadImage(i,c(n,a)),e()):o?(this.imageDownload&&this.imageDownload.click(),e()):null==g&&fetch(i,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((t=>{this.setState({href:window.URL.createObjectURL(t)},(()=>{this.imageDownload&&(this.imageDownload.click(),e())}))})).catch((()=>this.setState({href:this.DOWNLOAD_ERROR}))),l.Z.increment(`mweb.${r?"unauth":"auth"}.download.click.${d||"no_category"}`),s({event_type:82,object_id_str:m,view_type:p||3,view_parameter:u||139,aux_data:{image_signature:h}})})))),d(this,"DOWNLOAD_ERROR","error")}render(){const{children:e,filename:t,imgSrc:n,isAndroidTwa:l,isChromeOnIOS:o}=this.props,{href:r}=this.state,d=null!=r&&r!==this.DOWNLOAD_ERROR;return(0,s.jsxs)(i.Fragment,{children:[e(this.onEvent),o&&n?(0,s.jsx)(a.xu,{display:"none",children:(0,s.jsx)("a",{ref:e=>this.imageDownload=e,rel:"noopener noreferrer",tabIndex:-1,target:"_blank",href:n})}):d&&(0,s.jsx)(a.xu,{display:"none",children:(0,s.jsx)("a",{ref:e=>this.imageDownload=e,tabIndex:-1,download:c(t,l),href:r})})]})}}function p(e){const t=(0,r.xC)(),n=(0,o.Z)();return(0,s.jsx)(u,{...e,isAndroidTwa:t,logContextEvent:n})}},443601:(e,t,n)=>{n.d(t,{HM:()=>s,SU:()=>r,ZP:()=>o});var i=n(860438),a=n(98736),l=n(619277);async function o({filename:e,imgSrc:t,imageDownloadSuccessCallback:n,category:i,pinId:l,viewParameter:o,viewType:r,isUnauth:s=!1,platform:d="web",expName:c,expGroup:u},p){return"undefined"==typeof window?Promise.resolve():((0,a.My)("web.download.click",{category:i||"no_category",authType:s?"unauth":"auth",platform:d,viewType:r,expName:c,expGroup:u}),p({event_type:82,object_id_str:l,view_type:r||3,view_parameter:o||139}),t&&document?fetch(t,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((t=>{var l,o;const p=document.createElement("a");p.href=window.URL.createObjectURL(t),p.setAttribute("download",e&&e.replace(".","_")),p.style.display="none",null===(l=document.body)||void 0===l||l.appendChild(p),p.click(),null===(o=document.body)||void 0===o||o.removeChild(p),(0,a.My)("web.download.success",{category:i||"no_category",authType:s?"unauth":"auth",platform:d,viewType:r,expName:c,expGroup:u}),null==n||n()})).catch((()=>{throw(0,a.My)("web.download.failure",{category:i||"no_category",authType:s?"unauth":"auth",platform:d,viewType:r,expName:c,expGroup:u}),new Error("Download image error")})):Promise.resolve())}const r=(e,t)=>e(t).anyEnabled,s=(e,t)=>{const n=i.Z.getItem(l.rN)||0,{group:a}=e(t);if(!(!!a&&a.startsWith("enabled")))return{expName:t,expGroup:a,limitReached:!1,oldCount:n,newCount:n};const o=a.split("_").pop(),r=n>=(o?parseInt(o,10):0),s=r?n:n+1;return n!==s&&i.Z.setItem(l.rN,s),{expName:t,expGroup:a,limitReached:r,oldCount:n,newCount:s}}},491452:(e,t,n)=>{n.d(t,{N:()=>r,SF:()=>i,XN:()=>d,XU:()=>l,b7:()=>a,fL:()=>s,z5:()=>o});const i=5,a=5,l=1,o="var(--color-border-container)",r="var(--color-border-error)",s="var(--color-gray-roboflow-400)",d="4px solid #0084ff80"},41669:(e,t,n)=>{n.d(t,{Z:()=>P});var i=n(883119),a=n(563962),l=n(536042),o=n(245410),r=n(599226),s=n(98736),d=n(618569),c=n(63262),u=n(549201),p=n(272109),m=n(802071),h=n(230910),g=n(198060),_=n(471819),y=n(525104),v=n(712968),f=n(820166),b=n(618671),x=n(785893);const k=({children:e,pulsar:t,testId:n})=>t.show?(0,x.jsx)(i.xu,{position:"relative","data-test-id":n,children:(0,x.jsxs)(i.iP,{tapStyle:"none",onTap:t.onClick,children:[(0,x.jsx)(i.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:e}),(0,x.jsx)(i.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,x.jsx)(i.o3,{})})]})}):(0,x.jsx)(i.xu,{"data-test-id":n,children:e});function P({auxData:e,disabled:t,disableLog:n,followEventType:P,id:S,inline:w,invertColors:T,isFollowed:I,isIdeaPin:A,isLegoEnabled:C,isSecondaryButton:j,isUserFollowButton:E,isUserMe:R,onFollow:L,onUnfollow:D,pinId:F,shouldUseLegoColors:z,showPulsar:M,size:O,textType:B="FollowFollowing",unfollowEventType:Z,viewParameter:N,viewType:U,clientTrackingParams:K}){const V=(0,l.ZP)(),H=(0,u.HG)(),{showToast:G}=(0,c.F9)(),W=(0,d.Z)(),$=(0,a.Z)(),q=(0,r.Z)(),{checkExperiment:Y}=(0,o.F)(),X=(0,_.Z)(),J=(0,m.Z)(),Q=J&&J.isAuth,{unauthFollowUserId:ee,setUnauthFollowUserId:te}=(0,b.f)(),ne=(0,v.mN)()(S),ie=(0,y.S6)()(null!=F?F:""),{link_domain:ae,native_creator:le,origin_pinner:oe,pinner:re}=ie||{},se=(0,h.wS)(ae,le,oe,re),de=null!=ne?ne:se;(0,p.Z)((()=>{!H&&Q&&ee&&S&&ee===S&&L(S)}));const ce=X({fn:()=>{Q?I?(D(S),n||$({event_type:Z,view_type:U,view_parameter:N,object_id_str:S,aux_data:e,clientTrackingParams:K})):(L(S),E&&G((({hideToast:e})=>{if(!de)return null;const t=de.username?`/${de.username}/`:"";return(0,x.jsx)(f.Z,{handleHide:e,text:V._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow'),userId:S,href:t,imageUrl:de.image_medium_url})})),n||$({event_type:P,view_type:U,view_parameter:N,object_id_str:S,aux_data:e,clientTrackingParams:K})):((0,s.My)(`mweb_unauth_follow_button.tap.${String(U)}`),5===U&&26===P&&(0,s.My)("mweb_unauth_board_page_follow_button.tap"),(0,s.NC)(I?"press_profile_unfollow":"press_profile_follow"),W({action:"click",item:"board-follow-button"}),q({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:A?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:H&&Y("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!H&&Y("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),H||te(null!=S?S:""),(0,s.NC)("clickthrough"))},modalHeader:(0,g.N4)({i18n:V,toFollow:!I})}),ue=!I&&!!M,pe=()=>{if(R)return V._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===B)return I?V._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):V._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');const e="FollowUnfollow"===B?V._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):V._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return I?e:V._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,x.jsx)(k,{pulsar:ue?{show:!0,onClick:ce}:{show:!1},testId:R||I?"board-unfollow-button":"board-follow-button",children:(0,x.jsx)(i.zx,{color:z||"AddRemove"===B||!C&&j||I?"gray":"red",disabled:R||t,fullWidth:w,onClick:ue?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),n||$({event_type:101,component:13672,element:11951,object_id_str:S,view_type:U,view_parameter:N,aux_data:e,clientTrackingParams:K}),ce()},selected:T?!I:z&&I||!!I&&j,size:O,text:pe(),accessibilityLabel:pe()})})}},212380:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(536042),l=n(785893);const o=({isInModal:e})=>{const t=(0,a.ZP)();return(0,l.jsx)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new i.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},children:(0,l.jsx)(i.$j,{accessibilityLabel:t._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},589665:(e,t,n)=>{n.d(t,{L1:()=>l,Rz:()=>s,WZ:()=>o,cI:()=>a,fe:()=>r,hu:()=>i});const i=64,a=80,l=22,o="HeaderContent",r=671,s={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},328939:(e,t,n)=>{n.d(t,{fv:()=>v,fS:()=>S,Hs:()=>b,Mv:()=>_,uc:()=>y,dL:()=>g,qS:()=>f,Y4:()=>P,HE:()=>k,Cy:()=>x});var i=n(667294),a=n(973935),l=n(388011),o=n(906215),r=n(785893);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends i.Component{constructor(...e){super(...e),s(this,"observe",(()=>{try{if(this.node=(0,a.findDOMNode)(this),this.node instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=this.props.eventData;o.Z.start(this.node).onExitViewport(this.logImpression).setDebugId(e||t||"unknown")}}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),s(this,"logImpression",(e=>{this.props.logImpression({viewData:this.props.viewData||{},viewType:this.props.viewType,viewParameter:this.props.viewParameter,eventType:this.props.eventType,impressionType:this.props.impressionType,auxData:this.props.auxData,component:this.props.component,objectIdStr:this.props.objectIdStr,eventData:{endTime:e.endTime,time:e.startTime,...this.props.eventData}})}))}componentDidMount(){this.props.isPaused||this.observe()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.observe()}componentWillUnmount(){this.node instanceof HTMLElement&&o.Z.stop(this.node)}render(){return i.Children.only(this.props.children)}}function c(e){const{logImpression:t}=(0,l.v)();return(0,r.jsx)(d,{...e,logImpression:t})}var u=n(521262),p=n(245410),m=n(282802);function h({auxData:e,component:t,eventData:n,eventType:a,impressionType:r,isPaused:s,objectIdStr:d,viewData:c,viewType:h,viewParameter:g}){const _=(0,i.useRef)(null),{logImpression:y}=(0,l.v)(),{checkExperiment:v}=(0,p.F)(),f=(0,m.B)(),b=(0,i.useCallback)((()=>{const i=i=>{var l,o,s,p;y({viewData:c||{},viewType:h,viewParameter:g,eventType:a,impressionType:r,auxData:e,component:t,objectIdStr:d,eventData:{endTime:i.endTime,time:i.startTime,pinCellWidth:(null===(l=_.current)||void 0===l?void 0:l.getBoundingClientRect().width)||0,pinCellHeight:(null===(o=_.current)||void 0===o?void 0:o.getBoundingClientRect().height)||0,windowWidth:null===(s=window)||void 0===s?void 0:s.innerWidth,windowHeight:null===(p=window)||void 0===p?void 0:p.innerHeight,...n}});const{attributionSourceId:m,campaignId:b,isPromoted:x,link:k}=n;"pinImpressions"===r&&x&&v("m10n_ara_view_web_mobile").anyEnabled&&(0,u.ZP)(r,x,null!=m?m:null,k,b,f.appTypeDetailed)};try{if(_.current instanceof HTMLElement){const{pinIdStr:e,newsIdStr:t}=n;o.Z.start(_.current).onExitViewport(i).setDebugId(e||t||"unknown")}}catch(l){window.console.error('Can only track impressions for type "HTMLElement"')}}),[_.current]);return(0,i.useEffect)((()=>{s||b();const{current:e}=_;return()=>{e instanceof HTMLElement&&o.Z.stop(e)}}),[s,b]),_}const g=e=>{const t=h({eventData:{...e.impressionData||{},pinIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:18,impressionType:"pinImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},_=e=>{const t=h({eventData:{newsIdStr:e.notificationId,newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},auxData:e.auxData||{},eventType:4111,impressionType:"notificationDetailImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},y=e=>{const t=h({eventData:{newsIdStr:e.notificationId,newsType:e.newsType},auxData:e.auxData||{},eventType:4110,impressionType:"notificationFeedImpressions",loggingId:e.notificationId,viewType:107,viewParameter:3081});return e.children({impressionTrackerRef:t})},v=e=>(0,r.jsx)(c,{eventData:{...e.impressionData||{},articleIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3829,impressionType:"articleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),f=e=>{const t=h({eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},b=e=>(0,r.jsx)(c,{eventData:{...e.impressionData||{},storyIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:170,impressionType:"storyImpression",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,children:e.children}),x=e=>{const t=h({eventData:{...e.impressionData||{},userIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3704,impressionType:"userImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},k=e=>{const t=h({eventData:{...e.impressionData||{},topicIdStr:e.loggingId,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0},auxData:e.auxData||{},component:e.component,eventType:3703,impressionType:"topicImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},P=e=>{const t=h({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:8569,impressionType:"todayArticleImpressions",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},S=e=>{const t=h({eventData:{...e.impressionData||{},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex},auxData:e.auxData||{},component:e.component,eventType:3700,impressionType:"boardImpressions",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:t})}},460914:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),a=n(785893);function l({children:e,onMouseEnter:t,onMouseLeave:n,onTouch:l,rounding:o,fullWidth:r=!1,pressState:s="none",accessibilityLabel:d,role:c}){const u=(Array.isArray(s)?s:[s]).includes("compress");return(0,a.jsx)(i.iP,{fullWidth:r,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:n&&(({event:e})=>n(e)),onTap:l&&(({event:e})=>l(e)),rounding:o,tapStyle:u?"compress":"none",accessibilityLabel:d,role:c,children:e})}},852930:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(616550),a=n(883119),l=n(536042),o=n(874261),r=n(265259),s=n(988014),d=n(282802),c=n(549201),u=n(563962),p=n(618569),m=n(785893);function h({breadcrumb:e,isLastBreadcrumb:t,viewType:n}){var i;const l=t?"secondary":void 0,o=(0,u.Z)(),r=(0,p.Z)();return(0,m.jsx)(a.xu,{color:l,"data-test-id":"breadcrumb",display:"inlineBlock",paddingX:t?2:void 0,paddingY:t?1:void 0,rounding:"pill",children:(0,m.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,m.jsx)(a.rU,{href:null!==(i=e.url)&&void 0!==i?i:"",onClick:({dangerouslyDisableOnNavigation:e})=>{e(),r({action:"click",item:"breadcrumb"}),o({event_type:102,component:176,element:1155,view_parameter:3713,view_type:n})},children:(0,m.jsx)(a.xv,{color:"default",inline:!0,size:"100",overflow:"noWrap",children:e.name})}),!t&&(0,m.jsx)(a.xu,{paddingX:3,display:"inlineBlock",children:(0,m.jsx)(a.xv,{inline:!0,size:"100",color:"default",children:(0,m.jsx)(a.JO,{accessibilityLabel:"breadcrumb arrow",color:"default",icon:"arrow-forward",size:8})})})]})})}var g=n(458672);const _="\n  .article-row {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n  div::-webkit-scrollbar {\n    display: none;\n  }\n",y=50.5;function v({direction:e}){return(0,m.jsx)(a.xu,{width:16,height:32,position:"absolute",left:"left"===e,right:"right"===e,dangerouslySetInlineStyle:{__style:{backgroundImage:`linear-gradient(to ${e}, rgba(255, 255, 255, 0), #fff)`}}})}function f({breadcrumbs:e,shouldHideLazyExploreButton:t}){const n=(0,l.ZP)(),u=(0,i.useLocation)(),{origin:p}=(0,d.B)(),f=(0,c.ml)(),b=(0,c.HG)(),[x,k]=f?[2,3]:[4,4],P=(0,s.Q0)(u);let S=!1,w=202;(0,s.uM)(u)?w=3:(0,s.dr)(u)?(w=442,S=!0):(0,s.$Y)(u)||(0,s.E0)(u)?w=1:P&&(S=!0,w=580);const T=P?{name:n._('Watch', 'unauth.header.tabs.videos', 'label for videos root'),url:"/videos/"}:{name:n._('Explore', 'unauth.header.tabs.ideas', 'label for ideas hub'),url:"/ideas/"},I=[...P||!t?[T]:[],...S?e.slice(0,e.length-1):[...e]];return(0,m.jsxs)(a.xu,{"data-test-id":"breadcrumbs",children:[(0,m.jsx)(o.Z,{unsafeCSS:_}),(0,m.jsx)(r.Z,{children:(0,m.jsx)(a.xu,{"data-test-id":"breadcrumbs-list",display:"flex",height:y,alignItems:"center",direction:"column",paddingY:k,overflow:"scrollX",justifyContent:b?"center":void 0,dangerouslySetInlineStyle:{__style:{flexDirection:"row-reverse"}},children:(0,m.jsxs)(a.xu,{display:"flex",alignItems:"center",margin:b?void 0:"auto",paddingX:x,justifyContent:"end",children:[(0,m.jsx)(v,{direction:"left"}),(0,m.jsx)(v,{direction:"right"}),I.map(((e,t,n)=>(0,m.jsx)(h,{breadcrumb:e,isLastBreadcrumb:t===n.length-1,viewType:w},e.url)))]})})}),(0,m.jsx)(g.Z,{type:"application/ld+json",testId:"breadcrumbs-list-metadata",value:{"@context":"http://schema.org","@type":"BreadcrumbList",itemListElement:[{name:n._('Pinterest', 'unauth.header.tabs.pinterest', 'label for pinterest website'),url:""},T,...e].map(((e,t)=>{var n;return{"@type":"ListItem",position:t+1,name:e.name,item:`${p}${null!==(n=e.url)&&void 0!==n?n:""}`}}))}})]})}},199727:(e,t,n)=>{n.d(t,{Z:()=>u});var i,a=n(167912),l=n(448709),o=n(819079),r=n(852930),s=n(785893);const d=void 0!==i?i:i=n(766131),c=(0,l.Z)({useGraphQLAdapter:e=>{var t,n,i,l,o;return{breadcrumbs:null!==(t=null===(n=(0,a.useLazyLoadQuery)(d,{pinId:e}).v3GetPinQuery)||void 0===n||null===(i=n.data)||void 0===i||null===(l=i.pinJoin)||void 0===l||null===(o=l.seoBreadcrumbs)||void 0===o?void 0:o.map((({name:e,url:t})=>({name:null!=e?e:"",url:null!=t?t:""}))))&&void 0!==t?t:[],shouldHideLazyExploreButton:!1}},useLegacyAdapter:e=>{var t;const{data:n,isLoaded:i}=(0,o.Z)({name:"PinResource",options:{id:e,field_set_key:"unauth_ssr_lazy_load"}});return{shouldHideLazyExploreButton:!i,breadcrumbs:(null==n||null===(t=n.pin_join)||void 0===t?void 0:t.seo_breadcrumbs)||[]}}});function u({pinId:e,shouldUseGraphQL:t}){return(0,s.jsx)(c,{input:t?{enabled:!0,data:e,suspense:{fallback:(0,s.jsx)(r.Z,{breadcrumbs:[],shouldHideLazyExploreButton:!0})}}:{enabled:!1,data:e},children:({data:{breadcrumbs:e,shouldHideLazyExploreButton:t}})=>(0,s.jsx)(r.Z,{breadcrumbs:e,shouldHideLazyExploreButton:t})})}},94339:(e,t,n)=>{n.d(t,{G:()=>p,Kl:()=>m,vo:()=>u});var i=n(667294),a=n(583592),l=n(170567),o=n(133244),r=n(785893);const s=()=>n.e(90616).then(n.bind(n,390616)),{Provider:d,useHook:c}=(0,a.Z)("NativeEngagements");function u({children:e}){const[t,n]=(0,o.Z)(s,[]),a=e=>{n({type:"FETCH_COMPLETE",payload:e})};(0,l.Z8)("NativeInteractionsResource",a),(0,l.my)("NativeInteractionsResource",a);const c=(0,i.useMemo)((()=>({dispatch:n,nativeEngagements:t})),[n,t]);return(0,r.jsx)(d,{value:c,children:e})}function p(){const{dispatch:e}=c();return(0,i.useMemo)((()=>({nativeEngagementsHiddenForUser:t=>{e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}})),[e])}function m(){const{nativeEngagements:e}=c();return e}},369050:(e,t,n)=>{n.d(t,{U:()=>r,m:()=>s});var i=n(667294),a=n(583592),l=n(785893);const{Provider:o,useHook:r}=(0,a.Z)("NavFooterContext");function s({children:e}){const[t,n]=(0,i.useState)(),[a,r]=(0,i.useState)(!1),[s,d]=(0,i.useState)(0),[c,u]=(0,i.useState)(!1),[p,m]=(0,i.useState)(!1),[h,g]=(0,i.useState)(!1);return(0,l.jsx)(o,{value:{forceShowNavFooter:h,homeFlyoutText:t,isNavFooterHiddenAfterScroll:a,numUnauthSavedPins:s,setForceShowNavFooter:g,setHomeFlyoutText:n,setIsNavFooterHiddenAfterScroll:r,setNumUnauthSavedPins:d,setShowHomeBadge:u,setShowHomeFlyoutWithButton:m,showHomeBadge:c,showHomeFlyoutWithButton:p},children:e})}},360675:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),a=n(558533);const l=new i.H3([a.Z])},199999:(e,t,n)=>{n.d(t,{D:()=>a,a:()=>l});var i=n(583592);const{Provider:a,useMaybeHook:l}=(0,i.Z)("unauthPageWrapperContext")},913137:(e,t,n)=>{n.d(t,{o:()=>o});var i=n(611756),a=n(539130),l=n(619277);const o=({canUpsellNativeApp:e})=>{let t;if("undefined"==typeof window)return t;const n=(0,i.qn)(l.CP),o=!!(n&&Date.now()-Number(n)<864e5),r=(0,i.qn)(l.X)||0,s=Number(r)>=3,d=(0,i.qn)(a.V5),c=(Date.now()-Number(d)<a.UH?(0,i.qn)(a.QJ):0)>=a.km;return!e||o||s?c||(t="saveSend"):t="appUpsell",t}},537244:(e,t,n)=>{n.d(t,{GY:()=>z,Jg:()=>F,bR:()=>M,fW:()=>O});var i=n(249568),a=n.n(i),l=n(930278),o=n.n(l),r=n(197099),s=n.n(r),d=n(793964),c=n.n(d),u=n(934915),p=n.n(u),m=n(72166),h=n.n(m),g=n(34319),_=n.n(g),y=n(761464),v=n.n(y),f=n(657916),b=n.n(f),x=n(450704),k=n.n(x),P=n(268052),S=n.n(P),w=n(752433),T=n.n(w),I=n(951151),A=n.n(I),C=n(547741),j=n.n(C),E=n(505302),R=n.n(E),L=n(451724),D=n.n(L);const F=["goodIdea","love","thanks","wow","haha"],z={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},M={goodIdea:7,love:1,thanks:13,wow:11,haha:5},O=({i18n:e,type:t})=>({default:{staticAsset:A()},goodIdea:{backgroundColor:"yellow-caramellow-50",staticAsset:S(),animatedAsset:a(),gridAsset:h(),label:e._('Good idea', 'Reaction label to tell a creator that their pin is a good idea', 'Reaction label to tell a creator that their pin is a good idea'),htmlStyle:"\n      @keyframes play90 {\n        0% {\n          background-position: 0px 0px;\n        }\n        100% {\n          background-position: -7380px 0px;\n        }\n      }\n    ",animationStyle:"play90 3000ms steps(90) infinite forwards",type:7},haha:{backgroundColor:"purple-mysticool-100",staticAsset:T(),animatedAsset:o(),gridAsset:_(),label:e._('Haha', 'Reaction label to tell a creator that the pinner laughed because of their pin', 'Reaction label to tell a creator that the pinner laughed because of their pin'),htmlStyle:"\n      @keyframes play60 {\n        0% {\n          background-position: 0px 0px;\n        }\n        100% {\n          background-position: -4920px 0px;\n        }\n      }\n    ",animationStyle:"play60 2000ms steps(60) infinite forwards",type:5},love:{backgroundColor:"red-pushpin-100",staticAsset:j(),animatedAsset:s(),gridAsset:v(),label:e._('Love', 'Reaction label to tell a creator that the pinner loved their pin', 'Reaction label to tell a creator that the pinner loved their pin'),htmlStyle:"\n      @keyframes play90 {\n        0% {\n          background-position: 0px 0px;\n        }\n        100% {\n          background-position: -7380px 0px;\n        }\n      }\n    ",animationStyle:"play90 3000ms steps(90) infinite forwards",type:1},thanks:{backgroundColor:"teal-spabattical-100",staticAsset:R(),animatedAsset:c(),gridAsset:b(),label:e._('Thanks', 'Reaction label to tell a creator thank you', 'Reaction label to tell a creator thank you'),htmlStyle:"\n      @keyframes play60 {\n        0% {\n          background-position: 0px 0px;\n        }\n        100% {\n          background-position: -4920px 0px;\n        }\n      }\n    ",animationStyle:"play60 2000ms steps(60) infinite forwards",type:13},wow:{backgroundColor:"orange-firetini-50",staticAsset:D(),animatedAsset:p(),gridAsset:k(),label:e._('Wow', 'Reaction label to tell a creator that the pinner was wowed by their pin', 'Reaction label to tell a creator that the pinner was wowed by their pin'),htmlStyle:"\n      @keyframes play90 {\n        0% {\n          background-position: 0px 0px;\n        }\n        100% {\n          background-position: -7380px 0px;\n        }\n      }\n    ",animationStyle:"play90 3000ms steps(90) infinite forwards",type:11}}[t]||null)},154500:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var i=n(667294),a=n(702664),l=n(883119),o=n(563962),r=n(536042),s=n(819079),d=n(90046),c=n(471819),u=n(537244),p=n(785893);const m="cubic-bezier(0, 0, 0.58, 1)",h={loaded:{opacity:1,transitionDuration:"0.20s",transitionTimingFunction:m,transitionProperty:"transform, opacity",transform:"translate(0, 5px)",transformOrigin:"center"},fade:{opacity:.1,transitionDuration:"0.30s",transitionTimingFunction:m,transitionProperty:"transform, opacity",transform:"translate(0, 5px)",transformOrigin:"center"}};function g({reactionLabel:e,handleHideConfirmation:t}){const[n,a]=(0,i.useState)("loaded"),o=(0,i.useRef)();return(0,i.useEffect)((()=>{o.current=requestAnimationFrame((()=>{setTimeout((()=>a("fade")),1e3),setTimeout((()=>t()),1300)}))}),[]),(0,p.jsx)(l.xu,{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",children:(0,p.jsx)(l.xu,{rounding:"pill",position:"absolute",color:"selected",ref:o,height:"20px",display:"flex",alignItems:"center",justifyContent:"center",paddingY:1,paddingX:2,dangerouslySetInlineStyle:{__style:{...h[n],whiteSpace:"nowrap"}},children:(0,p.jsx)(l.xv,{color:"inverse",size:"100",weight:"bold",overflow:"normal",children:e})})})}var _=n(874261),y=n(460914);const v=32,f="cubic-bezier(0.25, 0.1, 0.25, 1)",b={icon:{backgroundRepeat:"no-repeat",backgroundSize:"cover"},loading:{opacity:0,transitionDuration:"0.25s",transitionTimingFunction:f,transitionProperty:"transform, opacity",transform:"translateZ(0) translateY(25px) scale(1.28)"},loaded:{opacity:1,transitionDuration:"0.25s",transitionTimingFunction:f,transitionProperty:"transform, opacity",transform:"translateZ(0) translateY(0px) scale(1.28)"},clicked:{transitionDuration:"0.25s",transitionTimingFunction:f,transitionProperty:"transform",transform:"translateZ(0) translateY(-50px) scale(1.2)"},flying:{transitionDuration:"0.25s",transitionTimingFunction:f,transitionProperty:"transform"},label:{transitionDuration:"0.25s",transitionTimingFunction:f,transitionProperty:"transform",transform:"translateZ(0) translateY(0) scale(0.8)",whiteSpace:"nowrap"},fading:{opacity:0,transitionDuration:"0.25s",transitionTimingFunction:f}},x={boxShadow:"0 9px 26px rgba(0, 0, 0, 0.4)"};function k({handleReactionClick:e,isCentered:t,isIdeaPinCloseUp:n,marginTop:a,reactionButtonRect:s,shouldShowReactionTrayUp:d,viewType:c,viewParameter:m,reactionPickerRef:h}){const g=(0,r.ZP)(),f=(0,o.Z)(),[k,P]=(0,i.useState)("loading"),[S,w]=(0,i.useState)(""),[T,I]=(0,i.useState)(),[A,C]=(0,i.useState)(),[j,E]=(0,i.useState)(!1),[R,L]=(0,i.useState)({}),D=(0,i.useRef)(),F=(0,i.useRef)({}),z=()=>{E(!0);const e={...R};u.Jg.forEach((t=>{F.current[t]&&!e[t]&&(e[t]=F.current[t].getBoundingClientRect())})),L(e)};(0,i.useEffect)((()=>{"loading"===k&&(D.current=requestAnimationFrame((()=>P("loaded")))),!T&&j&&(()=>{const e={...T};u.Jg.forEach((t=>{const n=R[t],{left:i,top:a}=s,{left:l,top:o}=n,r=i-l-7+1.25*u.Jg.indexOf(t),d=a-o-8.5;e[t]={translateX:r,translateY:d}})),I(e)})()}),[j]);const M=()=>{document.body&&document.body.style&&(document.body.style.overflow="hidden")},O=()=>{document.body&&document.body.style&&(document.body.style.overflow="unset")},B=e=>{let t;return j&&u.Jg.forEach((n=>{const i=R[n];if(i&&i.left&&i.right){const{left:a,right:l}=i;e>=a&&e<=l&&(t=n)}})),t||null},Z=t=>{z(),M();const n=t,{clientX:i}=n,a=B(i);if(a!==S&&a){if(A&&S){const{type:e}=(0,u.fW)(a);f({event_type:105,element:11354,view_type:c,view_parameter:m,aux_data:{reaction_type:e,duration:(Date.now()-A)/1e3+" seconds"}})}else!A&&S&&C(Date.now());w(a),P("clicked"),setTimeout((()=>{P("flying"),setTimeout((()=>{e(a)}),800),O()}),750)}},N=u.Jg.map(((e,t)=>{const n={transitionDelay:t/u.Jg.length*.2+"s"};let i={};T&&(i={transform:`translateZ(0) translateX(${T[e].translateX}px) translateY(${T[e].translateY}px) scale(1)`});const{staticAsset:a,animatedAsset:o,label:r,htmlStyle:s,animationStyle:d}=(0,u.fW)({i18n:g,type:e});return(0,p.jsx)(l.xu,{display:"flex",alignSelf:"center",children:(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{zIndex:e===S&&"clicked"===k?"3":"2"}},children:(0,p.jsxs)(l.xu,{maxHeight:"flying"===k?24:v,maxWidth:"flying"===k?24:v,dangerouslySetInlineStyle:{__style:{..."loading"===k||"loaded"===k||S===e&&"clicked"===k||S===e&&"flying"===k?b[k]:{},...S===e||"clicked"!==k&&"flying"!==k?{}:b.loaded,..."loading"===k||"loaded"===k?n:{},...S===e&&"flying"===k?i:{},...S!==e&&"flying"===k?b.fading:{},transformOrigin:"left"}},display:"flex",alignItems:"center",justifyContent:"center",position:"relative",children:[S!==e&&(0,p.jsx)(l.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:(0,p.jsx)(l.xu,{width:v,height:v,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${a})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})}),(0,p.jsxs)(l.xu,{display:"flex",alignItems:"center",justifyContent:"center",direction:"column",position:"relative",children:[(0,p.jsx)(_.Z,{unsafeCSS:s}),S===e&&"clicked"===k&&(0,p.jsx)(l.xu,{rounding:"pill",color:"selected",height:20,dangerouslySetInlineStyle:{__style:b.label},display:"flex",alignItems:"center",justifyContent:"center",paddingY:1,paddingX:2,children:(0,p.jsx)(l.xv,{color:"inverse",size:"100",weight:"bold",overflow:"normal",children:r})}),(0,p.jsx)(y.Z,{onTouch:Z,pressState:"none",children:(0,p.jsx)(l.xu,{width:S===e&&"flying"!==k?82:"flying"===k?24:v,height:S===e&&"flying"!==k?82:"flying"===k?24:v,display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{...b.icon,...S===e&&"clicked"===k?{animation:d}:{},backgroundImage:`url(${o})`}},ref:t=>{F.current[e]=t}})})]})]})})},t)}));return(0,p.jsx)(l.xu,{children:(0,p.jsx)(l.xu,{ref:h,"data-test-id":"reaction-tray",top:!0,left:!0,right:t,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{marginLeft:n?-295:0,marginTop:a||(d?-80:80),userSelect:"none"}},children:(0,p.jsx)(l.Le,{top:0,children:(0,p.jsx)(l.xu,{color:"flying"===k?"transparent":"default",width:300,height:80,display:"flex",alignItems:"center",rounding:"pill",justifyContent:"center",dangerouslySetInlineStyle:{__style:{..."flying"!==k?x:{},userSelect:"none"}},children:(0,p.jsx)(l.xu,{width:"100%",children:(0,p.jsx)(l.xu,{display:"flex",justifyContent:"evenly",onTouchStart:()=>{z()},onTouchMove:e=>{M();const{clientX:t}=e.touches[0],n=B(t);if(n!==S){if(A&&S&&n&&(0,u.fW)(n)){const{type:e}=(0,u.fW)(n);f({event_type:105,element:11354,view_type:c,view_parameter:m,aux_data:{reaction_type:e,duration:(Date.now()-A)/1e3+" seconds"}})}else!A&&S&&C(Date.now());w(n)}P("clicked")},onTouchEnd:()=>{S&&(P("flying"),setTimeout((()=>{e(S)}),325)),O()},children:N})})})})})})}k.defaultProps={isCentered:!1};var P=n(580691);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w extends i.PureComponent{static getDerivedStateFromProps(e,t){const{reactions:n,viewer:i}=e,{isReactionsLoaded:a}=t;if(n.length>0&&!a){let e=!1,t=0;return n.forEach((n=>{var a;i&&i.id&&n&&(null!==(a=n.user.id)&&void 0!==a?a:n.user)===i.id&&(e=!0,t=n.reaction_type)})),{didViewerReact:e,userReaction:t?u.GY[t]:"",isReactionsLoaded:!0}}return null}constructor(e){var t;super(e),t=this,S(this,"state",{isReactionTrayShowing:!1,reactionButtonRect:null,showConfirmation:!1,didViewerReact:!1,userReaction:null,isReactionsLoaded:!1}),S(this,"trayCloseTimer",null),S(this,"observer",null),S(this,"reactionPickerRef",(0,i.createRef)()),S(this,"handleClickOutside",(e=>{var t;const{isReactionTrayShowing:n}=this.state;n&&this.reactionPickerRef&&e.target instanceof Element&&(null===(t=this.reactionPickerRef.current)||void 0===t||!t.contains(e.target))&&this.setState({isReactionTrayShowing:!1})})),S(this,"setReactionButtonRect",(()=>{if(this.reactionButton){var e;const t=this.reactionButton.getBoundingClientRect(),{height:n,width:i,top:a,right:l}=t,o=document.createElement("div");o.style.height=n+"px",o.style.width=i+"px",o.style.top=a+"px",o.style.right=l+"px",o.style.position="absolute",o.style.zIndex="-1",null===(e=document.body)||void 0===e||e.append(o),this.setState({reactionButtonRect:t})}})),S(this,"handleIconPositionChange",(e=>{e.forEach((e=>{e.intersectionRatio<1&&this.setReactionButtonRect()}))})),S(this,"handleScroll",(()=>{const{isReactionTrayShowing:e}=this.state;e&&this.hideReactionTray(),this.setReactionButtonRect()})),S(this,"onReactionClick",(async function(e){const{addReaction:n,i18n:i,reactionPinId:a,userId:l,clientTrackingParams:o,incrementReactionCount:r,onReactionUpdated:s,pinId:d}=t.props,{type:c}=(0,u.fW)({i18n:i,type:e});await n(c,a,l,o),s&&s(),r(d,c),t.handleShowConfirmation()})),S(this,"handleShowConfirmation",(()=>{this.setState({showConfirmation:!0})})),S(this,"handleHideConfirmation",(()=>{this.setState({showConfirmation:!1})})),S(this,"handleReactionClick",(e=>{this.setState({userReaction:e,didViewerReact:!0},(()=>{this.onReactionClick(e),this.trayCloseTimer=setTimeout(this.hideReactionTray,250)}))})),S(this,"hideReactionTray",(()=>{this.setState({isReactionTrayShowing:!1})})),S(this,"handleClick",(()=>{const{didViewerReact:e,userReaction:n}=this.state,{removeReaction:i,reactionPinId:a,userId:l,requireAuthForLimitedLogin:o,decrementReactionCount:r,onReactionUpdated:s,pinId:d,logContextEvent:c}=this.props;e||c({event_type:103,element:11354,object_id_str:this.props.pinId,view_type:3,view_parameter:156}),o({fn:async function(){e?(await i(a,l),n&&(r(d,u.bR[n]),s&&s()),t.setState({isReactionTrayShowing:!1,userReaction:null,didViewerReact:!1})):t.setState({isReactionTrayShowing:!0})}})()})),S(this,"handleOneClickReact",(()=>{const{didViewerReact:e,userReaction:t}=this.state,{removeReaction:n,reactionPinId:i,userId:a,requireAuthForLimitedLogin:l,decrementReactionCount:o,pinId:r,logContextEvent:s}=this.props;e||s({event_type:103,element:11354,object_id_str:this.props.pinId,view_type:3,view_parameter:156}),l({fn:()=>{e?(n(i,a),t&&o(r,u.bR[t]),this.setState({userReaction:null,didViewerReact:!1})):this.onReactionClick("love")}})()})),this.reactionPickerRef=(0,i.createRef)(),this.handleClickOutside=this.handleClickOutside.bind(this)}componentDidMount(){this.observer=new window.IntersectionObserver(this.handleIconPositionChange),this.reactionButton&&this.observer.observe(this.reactionButton),this.setReactionButtonRect(),window.addEventListener("scroll",this.handleScroll),window.addEventListener("mouseover",this.setReactionButtonRect),window.addEventListener("mousedown",this.handleClickOutside)}componentWillUnmount(){window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("mouseover",this.setReactionButtonRect),window.removeEventListener("mousedown",this.handleClickOutside),clearTimeout(this.trayCloseTimer)}render(){const{isReactionTrayShowing:e,reactionButtonRect:t,userReaction:n,showConfirmation:i,didViewerReact:a}=this.state,{experience:o,i18n:r,nativePinType:s,hasBackground:c,isIdeaPinCloseUp:m,iconColor:h,isTextButton:_=!1,isTrayPositionRelative:y}=this.props,v=a&&n?n:"default",{animatedAsset:f,staticAsset:b,label:x,backgroundColor:P}=(0,u.fW)({i18n:r,type:v}),S=a&&f?f:b;return(0,p.jsxs)(l.xu,{position:y?"relative":void 0,children:[e&&!!t&&!!t.left&&!!t.top&&(0,p.jsx)(k,{isCentered:!y,isIdeaPinCloseUp:m,handleReactionClick:this.handleReactionClick,marginTop:y?void 0:48,reactionButtonRect:t,shouldShowReactionTrayUp:"storyPin"===s,viewParameter:156,viewType:3,reactionPickerRef:this.reactionPickerRef}),(0,p.jsx)(l.iP,{onTap:_?this.handleOneClickReact:this.handleClick,children:_?(0,p.jsx)(l.xv,{weight:"bold",children:r._('React', 'Closeup.ReactionPicker.Text', 'Text for button to react to current pin')}):(0,p.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:P?`var(--color-${P})`:void 0}},display:"flex",height:48,justifyContent:"center",ref:e=>{this.reactionButton=e},rounding:"circle",width:48,children:a&&n?(0,p.jsx)(l.xu,{width:20,height:20,dangerouslySetInlineStyle:{__style:{backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundImage:`url(${S})`}}}):(0,p.jsx)(l.hU,{accessibilityLabel:r._('React', 'Accessibility label for reacting to a Pin', 'Accessibility label for reacting to a Pin'),bgColor:c?"lightGray":void 0,size:"lg",icon:"heart-outline",iconColor:h||"darkGray"})})}),!e&&!i&&!a&&(0,p.jsx)(l.xu,{position:"absolute",left:!0,top:!0,right:!0,children:(0,p.jsx)(d.Z,{experience:o,eligibleIds:[501979,501996],color:"blue",children:()=>null})}),i&&!!n&&x&&(0,p.jsx)(g,{reactionLabel:x,handleHideConfirmation:this.handleHideConfirmation})]})}}function T(e){var t;const n=(0,a.useDispatch)();(0,s.Z)({name:"ReactionsResource",options:{pin_id:e.pinId,user_id:e.userId}});const i=(0,a.useSelector)((({feeds:t})=>t[`reactions:${e.pinId}`]||[])),l=(0,a.useSelector)((({reactions:e})=>i.length>0?i.map((t=>e[t.id])):[])),d=(0,a.useSelector)((({session:e,users:t})=>t[e.userId])),u=(0,a.useSelector)((({session:e})=>e.userId));return(0,p.jsx)(w,{...e,addReaction:(t,i,a,l)=>n((0,P.Gy)(e.pinId,t,i,a,l)),decrementReactionCount:(e,t)=>n((0,P.Ps)(e,t)),i18n:(0,r.ZP)(),incrementReactionCount:(e,t)=>n((0,P.xQ)(e,t)),logContextEvent:(0,o.Z)(),reactionPinId:null!==(t=e.aggregatedPinDataId)&&void 0!==t?t:"",reactions:l,removeReaction:(t,i,a)=>n((0,P.G3)(e.pinId,t,i,a)),requireAuthForLimitedLogin:(0,c.Z)(),userId:u,viewer:d})}S(w,"defaultProps",{hasBackground:!1,isTrayPositionRelative:!0})},190253:(e,t,n)=>{function i(e){const t=Object.keys(e);if(t.length>0){return t.sort(((t,n)=>e[n]-e[t])).slice(0,3)}return null}function a(e){const t=Object.values(e);if(t.length>0){return t.reduce(((e,t)=>e+t),0)}return 0}function l({boardIsCollaborative:e,isDownstreamPromotion:t,isPromoted:n,storyPinDataId:i,videosId:a,isEligibleForStaticImageIdeaPin:l}){return!(n||t||!a&&!i||null!=e&&e||l)}n.d(t,{At:()=>i,J6:()=>l,Ud:()=>a})},107877:(e,t,n)=>{n.d(t,{bn:()=>r,fJ:()=>d,gC:()=>s});var i=n(702664),a=n(583592),l=n(785893);const{Provider:o,useHook:r}=(0,a.Z)("Boards");function s(){const e=r();return t=>e[t]}function d({children:e}){const t=(0,i.useSelector)((({boards:e})=>e),i.shallowEqual);return(0,l.jsx)(o,{value:t,children:e})}},712968:(e,t,n)=>{n.d(t,{Tt:()=>u,cm:()=>c,kW:()=>s,kY:()=>p,mN:()=>d});var i=n(702664),a=n(583592),l=n(802071),o=n(785893);const{Provider:r,useHook:s}=(0,a.Z)("Users");function d(){const e=s();return t=>e[t]}function c(){const e=s();return t=>{const n=Object.keys(e).find((n=>e[n].username===t));return e[null!=n?n:""]}}function u(){const{id:e}=(0,l.Z)();return s()[null!=e?e:""]}function p({children:e}){const t=(0,i.useSelector)((({users:e})=>e),i.shallowEqual);return(0,o.jsx)(r,{value:t,children:e})}},266732:(e,t,n)=>{n.d(t,{Z:()=>j});var i=n(667294),a=n(782677),l=n(883119),o=n(690108),r=n(527386),s=n(536042),d=n(630089),c=n(756513),u=n(455788),p=n(657482),m=n(767874),h=n(700453),g=n(217861),_=n(785893);const y=({i18n:e,board:t,section:n})=>n?(0,d.nk)(e._('Saved to {{sectionName}} in {{boardName}}', 'RepinRequest.appUpsell.title', 'app upsell title for repin toast success'),{sectionName:n&&n.title,boardName:t.name}).join(""):(0,_.jsx)(l.xv,{color:"default",weight:"bold",children:(0,d.nk)(e._('Saved to {{boardName}}', 'RepinRequest.appUpsell.title', 'app upsell title for repin toast success'),{boardName:t.name})});function v({board:e,copyGroup:t,hideToast:n,i18n:a,isNativeAppInstalledContext:o,section:r}){let s=(0,d.nk)(a._('Explore your saved ideas in the app. {{openApp}}', 'RepinRequest.appUpsell.cta.valueprop1', 'app upsell value prop for repin toast success'),{openApp:(0,_.jsx)(l.xu,{display:"inlineBlock",children:(0,_.jsx)(l.xv,{weight:"bold",children:a._('Open app', 'RepinRequest.appUpsell.cta.text', 'app upsell cta text for repin toast success')})})});return o.isNativeAppInstalled||(s="enabled_copy2"===t?(0,d.nk)(a._('Do more with your saved ideas in the app. {{openApp}}', 'RepinRequest.appUpsell.cta.valueprop2', 'app upsell value prop for repin toast success'),{openApp:(0,_.jsx)(l.xu,{display:"inlineBlock",children:(0,_.jsx)(l.xv,{weight:"bold",children:a._('Open app', 'RepinRequest.appUpsell.cta.text', 'app upsell cta text for repin toast success')})})}):(0,d.nk)(a._('Do more with your saved ideas in the app. {{openApp}}', 'RepinRequest.appUpsell.cta.valueprop2', 'app upsell value prop for repin toast success'),{openApp:(0,_.jsx)(l.xu,{display:"inlineBlock",children:(0,_.jsx)(l.xv,{weight:"bold",children:a._('Get app', 'RepinRequest.appUpsell.cta.text2', 'app upsell cta text for repin toast success')})})})),(0,_.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{transition:"opacity .3s ease-in-out",marginBottom:"45px"}},position:"fixed",zIndex:g.k,children:(0,_.jsx)(l.xu,{marginStart:"auto",marginEnd:"auto",borderStyle:"shadow",rounding:4,dangerouslySetInlineStyle:{__style:{width:"calc(100% - 30px)"}},color:"light",children:(0,_.jsx)(h.Z,{within:"auth-save",children:({handleOpenApp:t})=>(0,_.jsx)(l.iP,{onTap:()=>{t()},children:(0,_.jsx)(l.xu,{padding:4,rounding:4,marginBottom:8,children:(0,_.jsxs)(l.kC,{children:[(0,_.jsx)(l.kC,{justifyContent:"center",direction:"column",children:(0,_.jsx)(l.xu,{marginStart:1,marginEnd:5,padding:1,rounding:2,color:"lightWash",children:(0,_.jsx)(l.xu,{rounding:7,position:"relative",children:(0,_.jsx)(m.Z,{size:28})})})}),(0,_.jsx)(l.kC,{direction:"column",justifyContent:"center",alignItems:"center",children:(0,_.jsx)(l.xu,{children:(0,_.jsxs)(i.Fragment,{children:[(0,_.jsx)(l.xu,{marginBottom:1,children:(0,_.jsx)(y,{i18n:a,board:e,section:r})}),(0,_.jsx)(l.xv,{size:"300",children:s})]})})}),(0,_.jsx)(l.kC,{justifyContent:"center",direction:"column",children:(0,_.jsx)(l.xu,{marginStart:1,children:(0,_.jsx)(l.hU,{accessibilityLabel:a._('Cancel icon', 'app_upsell.dismissable.footer.cancel.accessibilityLabel', 'accessibility label for cancel icon to dismiss this app upsell'),icon:"cancel",onClick:({event:e})=>{n(),e.preventDefault(),e.stopPropagation()},size:"sm"})})})]})})})})})})}var f=n(348597),b=n(28557),x=n(907310);const k=e=>({duration:5e3,thumbnail:(0,_.jsx)(l.xu,{"data-test-id":"pin-save-toast",width:48,height:48,children:(0,_.jsx)(x.Z,{boardId:e})})});var P=n(550140),S=n(802071);function w({boardId:e,hideToast:t,pinId:n,originalPinId:i}){const a=(0,s.ZP)(),o=(0,S.Z)();return(0,_.jsx)(P.ZP,{primaryAction:{accessibilityLabel:a._('Change saved Pin button', 'RepinRequest.a11yChangeButton', 'Change saved Pin button'),href:`/pin/${n}/repin/?isEditingPin=true&pinBoardId=${null!=e?e:""}&&isFromToast=true&&originalPinId=${null!=i?i:""}`,label:a._('Change', 'RepinRequest.ChangeButton', 'Change saved Pin button'),size:"lg",onClick:t},duration:5e3,onHide:t,text:(0,_.jsxs)(l.xv,{children:[(0,_.jsx)(l.xv,{inline:!0,children:a._('Saved to ', 'RepinRequest.ProfileSaveToastText', 'Toast for successfully saving to profile')}),(0,_.jsx)(l.xv,{inline:!0,weight:"bold",children:(0,_.jsx)(l.rU,{display:"inlineBlock",href:o.isAuth?`/${o.username}/_saved`:"/",target:"self",underline:"hover",children:a._('Profile', 'RepinRequest.ProfileSaveToastText.Profile', 'referring to pinner profile where pin was saved')})})]}),thumbnail:{icon:(0,_.jsx)(l.JO,{accessibilityLabel:a._('Profile', 'RepinRequest.ProfileIcon', 'Icon signifying Pin was saved to profile without a board'),icon:"history",size:22})}})}var T=n(894788),I=n(255655);const A="RepinResource",C=({board:e,section:t})=>{const n=(0,s.ZP)(),a="quick_saves"===e.layout?n._('Profile', 'EditPin.Quicksaves.BoardName', 'Name for Quicksaves board that we want to surface to users'):e.name;return t?(0,d.nk)(n._('Saved to {{sectionName}} in {{boardName}}', 'Toast for successfully saving to a section within a board', 'Toast for successfully saving to a section within a board'),{sectionName:t&&t.title,boardName:e.name}).join(""):(0,_.jsxs)(i.Fragment,{children:[(0,_.jsx)(l.xv,{color:"default",children:n._('Saved to', 'Saved to {{ boardName }}', 'Saved to {{ boardName }}')}),(0,_.jsx)(l.xv,{color:"default",weight:"bold",children:a})]})};class j{constructor({boardId:e,checkExperiment:t,isNativeAppInstalledContext:n,dispatch:i,history:l,isOneTapSave:o=!1,isQuickSave:r=!1,onSuccess:s,onUndo:d,originalPinId:c,pinId:u,section:p,showNewUserSavetoProfileAnimation:m=!1,showRepinToasts:h,trackingParams:g,userId:_,viewType:y,historyPush:v,suggestedBoardIds:b,savePinId:x,pinData:{trackingParams:k,viewParameter:P,pinnedToBoardId:S}}){var w,T,C;C=e=>(0,a.Fv)(e.resource_response.data,I.Z[A]),(T="_getNormalizedResponse")in(w=this)?Object.defineProperty(w,T,{value:C,enumerable:!0,configurable:!0,writable:!0}):w[T]=C,this.boardId=e,this.trackingParams=g,this.checkExperiment=t,this.isNativeAppInstalledContext=n,this.clientTrackingParams=(0,f.Z)(g.clientTrackingParams||"",k),this.dispatch=i,this.history=l,this.onSuccess=s,this.onUndo=d,this.originalPinId=c,this.pinId=u,this.pinnedToBoardId=g.pinnedToBoardId||(null!=S?S:""),this.showNewUserSavetoProfileAnimation=m,this.showRepinToasts=h,this.section=p,this.isOneTapSave=o,this.isQuickSave=r,this.userId=_,this.viewType=null!=y?y:3,this.historyPush=v,this.suggestedBoardIds=b,this.savePinId=x,this.pinViewParameter=P}get resourceOptions(){var e;return{pin_id:this.pinId,board_id:this.boardId,section:null===(e=this.section)||void 0===e?void 0:e.id,clientTrackingParams:this.clientTrackingParams,user_id:this.userId}}get trackingData(){return{event_type:5,element:this.isOneTapSave?10599:void 0,view_type:this.viewType,component:this.isOneTapSave?0:7,view_parameter:this.isOneTapSave?3173:this.pinViewParameter,object_id_str:this.pinId,clientTrackingParams:this.clientTrackingParams,aux_data:{board_id:this.pinnedToBoardId,destination_board_id:this.boardId,is_profile_save:!this.boardId,pin_id:this.pinId,suggested_boards:this.suggestedBoardIds}}}_createRepin(){return o.Z.create(A,{...this.resourceOptions,disable_event_log_info:!0}).callCreate()}processRepin(e){const{anyEnabled:t,group:n}=this.checkExperiment("mweb_auth_post_save_app_upsell");return this._createRepin().then((i=>{this.onSuccess&&this.onSuccess();const a=i.resource_response.data,{board:o}=a,{isQuickSave:d,originalPinId:m,showNewUserSavetoProfileAnimation:h}=this,g=({hideToast:e})=>{if(d&&!h)return(0,_.jsx)(w,{hideToast:e,pinId:a.id,boardId:a.board.id,originalPinId:m});const{thumbnail:i}=k(o.id);return t&&!p.Z.getItem("saveAppUpsellViewed")?(p.Z.setItem("saveAppUpsellViewed",!0),(0,_.jsx)(u.Z,{children:(0,_.jsx)(l.mh,{children:(0,_.jsx)(s.oz,{children:t=>(0,_.jsx)(v,{board:o,copyGroup:n,hideToast:e,i18n:t,isNativeAppInstalledContext:this.isNativeAppInstalledContext,section:this.section})})})})):(0,_.jsx)(b.Z,{button:(0,_.jsx)(s.oz,{children:e=>(0,_.jsx)(l.zx,{fullWidth:!0,onClick:({event:t})=>{t.preventDefault(),t.stopPropagation();const{onUndo:n}=this;var i;n&&!h?n(this.pinId,a.id,o.id,null===(i=this.section)||void 0===i?void 0:i.id,e):h&&this.historyPush(`/pin/${a.id}/repin/?isEditingPin=true&pinBoardId=${o.id}&&isFromToast=true&&originalPinId=${null!=m?m:""}`)},text:h?e._('Organize', 'RepinRequest.OrganizeButton', 'Button to allow users to organize saved pins'):e._('Undo', 'RepinRequest.UndoButton', 'Undo saved pin button')})}),href:this.section?`${o.url}${null!==(r=this.section.slug)&&void 0!==r?r:""}`:o.url,isRepinToExistingBoard:!0,onHide:e,text:(0,_.jsx)(C,{board:o,section:this.section}),thumbnail:i});var r},y=this._getNormalizedResponse(i);if(this.dispatch((0,c.XM)(A,this.resourceOptions,i,y)),this.savePinId(this.resourceOptions.pin_id,a.id),this.originalPinId&&this.originalPinId!==this.resourceOptions.pin_id){const e={...this.resourceOptions,pin_id:this.originalPinId};this.dispatch((0,c.XM)(A,e,i,y)),this.savePinId(this.originalPinId||"",a.id)}this.dispatch((0,T.M)(a.id,o.id,this.section?this.section.id:void 0,this.userId));const{showRepinToasts:f}=this;return f&&f(g),this.dispatch((0,r.fO)({event_type:5})),e(this.trackingData),a}))}}},428876:(e,t,n)=>{n.d(t,{Z:()=>B});var i=n(702664),a=n(883119),l=n(377234),o=n(765456),r=n(536042),s=n(282802),d=n(819079),c=n(549201),u=n(712968),p=n(667294),m=n(527386),h=n(843843),g=n(616550),_=n(563962),y=n(550140),v=n(525571),f=n(245410),b=n(618569),x=n(63262),k=n(726425),P=n(994405),S=n(624524),w=n(471819),T=n(369050),I=n(383755),A=n(260070);var C=n(648575),j=n(252315),E=n(785893);const R=()=>{};function L({clientTrackingParams:e,experience:t,hasSaveHandoffExperience:n,onError:a,onTouch:l,onUnsave:o,pinId:s,pinnedToBoardId:d,shouldShowSavedButton:c,showSingleToast:h}){const L=(0,r.ZP)(),D=(0,_.Z)(),F=(0,b.Z)(),z=(0,i.useDispatch)(),M=(0,g.useHistory)(),O=(0,g.useLocation)(),{showToast:B}=(0,x.F9)(),Z=function({showSingleToast:e}){const t=(0,i.useDispatch)(),n=(0,x.F9)()[e?"showOneToast":"showToast"],{forceShowNavFooter:a,setForceShowNavFooter:l}=(0,T.U)(),o=(0,i.useSelector)((({session:e})=>e.shouldHideNavBar));return(e,i)=>{i||(o&&t((0,A.Cp)()),t((0,A.WF)()),a||l(!0)),setTimeout((()=>{i||(o&&t((0,A.FK)()),t((0,A.a5)()),a||l(!1)),n(e)}),I.Tt)}}({showSingleToast:h}),N=(0,j.M)(),U=O.pathname.startsWith("/pin"),K=(0,i.useSelector)((({session:e})=>e.hasSavedUnauthPin)),V=(0,i.useSelector)((({session:e})=>e.unauthSavePinId)),H=(0,u.Tt)(),G=null==H?void 0:H.pin_count,W=(0,p.useRef)(null),$=n&&!K,q=(0,w.Z)(),{checkExperiment:Y}=(0,f.F)(),X=(0,v.Z)(null==H?void 0:H.created_at)||Y("mweb_show_repin_toast_animation_to_res_user").anyEnabled,J=(0,P.J1)(),Q=e=>M.push(e),ee=(0,k.N)(),te=s?()=>{var i;D({event_type:102,element:11933}),z((0,C.Z)({checkExperiment:Y,isNativeAppInstalledContext:ee,history:M,i18n:L,logContextEvent:D,onSuccess:()=>{t&&z((0,m.CK)(t.placement_id,t.experience_id))},originalPinId:s,pinId:s,trackingParams:{clientTrackingParams:e,pinnedToBoardId:d},showNewUserSavetoProfileAnimation:X,showRepinConfirmation:n&&!U?()=>{}:Z,disableRepinAnimation:V===s,pinCount:G,historyPush:Q,savePinId:null!==(i=null==N?void 0:N.save)&&void 0!==i?i:()=>{}})).catch((e=>{B((({hideToast:t})=>(0,E.jsx)(y.ZP,{type:"error",text:e.message||L._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin'),onHide:t}))),null==a||a()}))}:R;if((0,p.useEffect)((()=>{$&&!W.current&&s&&!Y(J).anyEnabled&&(F({action:"trigger",item:"unauth-save-button-quicksave"}),D({event_type:14581}),te(),z((0,A.e2)())),W.current=$})),!s)return null;return q({fn:e=>{e.stopPropagation(),e.preventDefault(),l&&l(e),c?c&&o&&o(e):te()},modalHeader:(0,S.Bx)(L)})}var D=n(196039);const F=({onTap:e,shouldShowSavedButton:t,text:n})=>(0,E.jsx)(a.iP,{onTap:({event:t})=>{null==e||e(t)},rounding:"pill",fullWidth:!1,children:(0,E.jsx)(a.xu,{color:t&&(0,l.Yc)()?"lightWash":"primary",height:D.oe,rounding:D.dX,display:"flex",justifyContent:"center",alignItems:"center",paddingX:D.rM,paddingY:D.Ai,children:(0,E.jsx)(a.xv,{color:t?"dark":"light",weight:"bold",size:n.length>5?"100":"300",children:n})})}),z=({buttonText:e,clientTrackingParams:t,color:n="red",deviceType:l,experience:o,hasQuickSave:s,hasSaveHandoffExperience:d,inline:c=!0,isLegoSaveStyle:u,isOnIdeaPinCloseup:g,onTouch:_,onUnsave:y,pinId:v,pinnedToBoardId:f,shape:b,shouldShowSavedButton:x,to:k,viewParameter:P,viewType:S})=>{const w=(0,r.ZP)(),T=(0,i.useDispatch)();(0,p.useEffect)((()=>{o&&o.placement_id&&T((0,m.UT)(o.placement_id,o.experience_id))}),[o,T]);const I=L({clientTrackingParams:t,experience:o,hasSaveHandoffExperience:d,onTouch:_,onUnsave:y,pinId:v,pinnedToBoardId:f,shouldShowSavedButton:x}),A={accessibilityLabel:w._('Pin', 'Pin accessibility label', 'Pin accessibility label'),color:n,inline:u?void 0:c,minHeight:u?48:void 0,onTouch:s?I:_,onUnsave:s?I:y,pressState:"compress",shape:u?"pill":b,size:"lg",text:e||w._('Save', 'Auth mobile web save button for pin closeup', 'Auth mobile web save button for pin closeup'),to:k,unsaveAccessibilityLabel:w._('Saved', 'SaveButton.ExperimentalSavedButtonAccessibilityLabel', 'Accessibility label on a saved button - Pin has already been saved')};let C=x?(0,E.jsx)(a.zx,{text:A.text,accessibilityLabel:A.unsaveAccessibilityLabel,size:A.size,fullWidth:A.inline,onClick:({event:e})=>{var t;null===(t=A.onUnsave)||void 0===t||t.call(A,e)},selected:!0}):(0,E.jsx)(h.Ai,{...A,deeplinkUri:"deeplinkUri",upsellType:"save",viewType:S,viewParameter:P,clientTrackingParams:t,deviceType:l});return g&&"desktop"!==l&&(C=x?(0,E.jsx)(F,{onTap:A.onUnsave,shouldShowSavedButton:!0,text:A.text}):(0,E.jsx)(h.MZ,{...A,clientTrackingParams:t,deeplinkUri:"deeplinkUri",deviceType:l,isActionButton:!0,upsellType:"save",viewParameter:P,viewType:S,children:(0,E.jsx)(F,{onTap:A.onTouch,shouldShowSavedButton:!1,text:A.text})})),(0,E.jsx)(a.xu,{"data-test-id":"save-button-mobile",children:C})},M={SAVE_TO_PROFILE:0,SHOW_BOARD_PICKER:1},O=({i18n:e,isSaved:t})=>{const n=(0,l.Yc)()?"darkGray":"white";return t?{buttonText:e._('Saved', 'closeup.savedButton.text', 'Auth mobile web save button for pin closeup when user has saved the Pin being viewed'),color:n,inline:!1}:Object.freeze({})};function B({buttonText:e,clientTrackingParams:t,pinId:n,pinnedToBoardId:l,shouldShowSavedButton:p,to:m,...h}){const g=(0,r.ZP)(),_=(0,c.ZP)(),{isAuthenticated:y}=(0,s.B)(),v=(0,u.Tt)(),f=y?v:null,b=O({i18n:g,isSaved:p});(0,d.Z)(f?{name:"UserResource",options:{user_id:f.id,field_set_key:"save_behavior"}}:null);const x=null==f?void 0:f.save_behavior,k=(0,i.useSelector)((({session:e})=>e.unauthSavePinId)),P=y&&!!k,S=(0,o._)({id:1000152}),w=x===M.SAVE_TO_PROFILE||P;return(0,E.jsx)(a.xu,{"data-test-id":"standard-save-button",children:(0,E.jsx)(z,{experience:S,pinnedToBoardId:l,pinId:n,to:m,hasQuickSave:w,shouldShowSavedButton:p,hasSaveHandoffExperience:P,clientTrackingParams:t,deviceType:_,...h,...b,isLegoSaveStyle:!0})})}},539130:(e,t,n)=>{n.d(t,{QJ:()=>a,UH:()=>l,V5:()=>i,km:()=>o});const i="saveSendEducationModalLastDismissed",a="saveSendEducationModalTimesDismissed",l=864e5,o=2},229527:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),a=n(883119),l=n(785893);class o extends i.Component{componentDidMount(){this.anchor&&(!this.props.hash||this.props.hash&&`#${this.props.hash}`===window.location.hash)&&(this.anchor.scrollIntoView(),this.props.offset&&window.scrollBy(0,this.props.offset))}render(){const e=this.props.children?i.Children.only(this.props.children):null;return(0,l.jsx)(a.xu,{ref:e=>this.anchor=e,children:e})}}},141418:(e,t,n)=>{n.d(t,{Z:()=>I});var i=n(667294),a=n(702664),l=n(167912),o=n(883119),r=n(943072),s=n(536042),d=n(282802),c=n(819079),u=n(98736),p=n(618569),m=n(348672),h=n(549201),g=n(377234),_=n(88622),y=n(894121),v=n(785893);function f({showFullScreenInfo:e,isOpen:t,interstitialUpsellDismissed:n,children:i}){const a=(0,s.ZP)(),l=(0,h.HG)(),r=(0,h.Wb)();return r||l?(0,v.jsx)(_.ZP,{accessibilityModalLabel:"",mobileHideCloseIcon:!0,mobileIsFullscreen:!0,isOpen:e&&!r,closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,v.jsx)(o.xu,{color:(0,g.Yc)()?"dark":"default",dangerouslySetInlineStyle:{__style:{border:(0,g.Yc)()?void 0:"1px solid #efefef",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"}},height:"100%",left:!0,maxHeight:"100%",overflow:"auto",position:"fixed",top:!0,width:l?"100vw":"100%",zIndex:new o.Ry(1),children:(0,v.jsx)(o.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"fixed",padding:5,overflow:"scroll",marginTop:n?0:12,children:i})})}):(0,v.jsx)(y.default,{accessibilityModalLabel:a._('Close', 'Close modal window', 'Close modal window'),isOpen:t,onDismiss:()=>{},mobileAccessibilityCloseIconLabel:a._('Close', 'Close modal window', 'Close modal window'),children:i})}var b,x=n(50169);const k=void 0!==b?b:b=n(599271);function P({dedupeVisualAnnotations:e,iconColor:t,size:n,isMainPin:l,isAuth:c,pinCreditPrefix:g,onClickTitleOrDomain:_,pinId:y,renderOnlyHiddenSEOContent:b=!1,graphqlRef:k}){const P=(0,s.ZP)(),S=(0,p.Z)(),{isBot:w}=(0,d.B)(),{unauthInterstitialDismissed:T}=(0,a.useSelector)((({session:e})=>e)),[I,A]=(0,i.useState)(!1),C=(0,h.HG)(),j=(0,h.Wb)(),E=(0,m.Z)(),R=!j&&!c,L=k?{type:"graphqlRef",data:k}:{type:"deprecated",data:y},D=(0,v.jsxs)(o.xu,{padding:5,dangerouslySetInlineStyle:R?{__style:{paddingTop:0,paddingBottom:30}}:void 0,children:[(0,v.jsx)(o.xu,{left:!0,position:"absolute",top:!0,color:"default",padding:4,"data-test-id":"close-seo-vase-see-more-button",children:(0,v.jsx)(o.hU,{accessibilityLabel:P._('Cancel', 'close modal icon', 'close modal icon'),icon:"cancel",size:"sm",onClick:()=>{(0,u.My)("mweb.unauth.see_more.dismissed"),S({action:"click",item:"close-seo-vase-see-more-button"}),A(!1),l&&(0,u.My)("mweb.unauth.see_more.main_pin.dismissed")},iconColor:"gray"})}),(0,v.jsx)(o.xu,{marginBottom:R?0:8,children:(0,v.jsx)(o.xv,{align:R?"start":"center",weight:R?void 0:"bold",children:(0,v.jsx)("span",{className:"deprecatedTextSizeXL",children:R?null:P._('More information', 'more information label', 'more information label')})})}),(0,v.jsx)(x.Z,{dedupeVisualAnnotations:e,pinCreditPrefix:g,onClickTitleOrDomain:_,pinId:y,pinKey:L})]});return b?(0,v.jsx)(o.xu,{display:"none",children:D}):(0,v.jsxs)(o.xu,{right:!0,"data-test-id":"SeoVaseSeeMoreButton",dangerouslySetInlineStyle:{__style:{float:"right"}},children:[(0,v.jsx)(o.hU,{accessibilityLabel:P._('See more', 'more information icon', 'more information icon'),icon:"ellipsis",iconColor:null!=t?t:"gray",size:n||"md",onClick:({event:t})=>{t.stopPropagation(),(0,u.My)("mweb.unauth.see_more.shown."+(l?"main_pin":"related_pins")),S({action:"click",item:"seo-vase-see-more-button"}),j||c?(A(!0),l&&(0,u.My)("mweb.unauth.see_more.main_pin.shown")):E({pinId:y||"",location:l?"main-pin-more-information":"non-main-pin-more-information",vaseSection:(0,v.jsx)(x.Z,{dedupeVisualAnnotations:e,pinCreditPrefix:g,onClickTitleOrDomain:_,pinId:y,pinKey:L})})}}),w&&!C?(0,v.jsx)(o.xu,{display:I?"flex":"none",children:D}):(0,v.jsx)(f,{showFullScreenInfo:I,isOpen:I&&!j,interstitialUpsellDismissed:!!T,children:D}),j&&I&&(0,v.jsx)(r.default,{accessibilityModalLabel:"test",onDismiss:()=>{},children:D})]})}function S(e){const t=(0,l.useFragment)(k,e.graphqlRef);return(0,v.jsx)(P,{dedupeVisualAnnotations:e.dedupeVisualAnnotations,iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,pinId:e.pinId,renderOnlyHiddenSEOContent:e.renderOnlyHiddenSEOContent,graphqlRef:t})}function w(e){return(0,v.jsx)(P,{dedupeVisualAnnotations:e.dedupeVisualAnnotations,iconColor:e.iconColor,size:e.size,isAuth:e.isAuth,isMainPin:e.isMainPin,pinCreditPrefix:e.pinCreditPrefix,onClickTitleOrDomain:e.onClickTitleOrDomain,pinId:e.pinId,renderOnlyHiddenSEOContent:e.renderOnlyHiddenSEOContent})}function T(e){return(0,c.Z)({name:"PinResource",options:{id:e.pinId,field_set_key:"unauth_ssr_lazy_load"}}),(0,v.jsx)(w,{...e})}function I(e){return e.graphqlRef?(0,v.jsx)(S,{...e}):e.lazyLoadAnnotations?(0,v.jsx)(T,{...e}):(0,v.jsx)(w,{...e})}},550766:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),a=n(883119),l=n(133636),o=n(88622),r=n(105453),s=n(785893);const d=new a.Ry(1);function c({anchor:e,children:t,displayOptions:n,onFlyoutDismiss:i}){var l,r;return null!=n&&n.shownWithinMasonry||null!=n&&n.shownWithinProfileHeader?(0,s.jsx)(a.mh,{zIndex:n.shownWithinProfileHeader?d:void 0,children:(0,s.jsx)(a.xu,{zIndex:n.inModal?o.b7:void 0,position:n.inModal?"absolute":void 0,top:!!n.inModal||void 0,children:(0,s.jsx)(a.J2,{anchor:e,idealDirection:null!==(l=n.idealDirection)&&void 0!==l?l:"down",onDismiss:()=>{i()},_deprecatedShowCaret:n.showCaret,size:"flexible",positionRelativeToAnchor:!1,children:t})})}):(0,s.jsx)(a.J2,{anchor:e,idealDirection:null!==(r=null==n?void 0:n.idealDirection)&&void 0!==r?r:"down",onDismiss:()=>{i()},_deprecatedShowCaret:null==n?void 0:n.showCaret,size:"flexible",children:t})}function u({children:e,flyoutDisplayOptions:t,isFlyoutOpen:n,loggingOptions:o,onClick:d,onFlyoutDismiss:u,onToggleFlyout:p,sendObject:m}){const h=(0,i.useRef)(null),g=(0,l.Z)();return(0,s.jsxs)(a.xu,{ref:h,dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[(0,s.jsx)(a.xu,{children:e({handleSendShareFlyoutButtonClick:()=>{g?g():p()}})}),n&&(0,s.jsx)(c,{anchor:h.current,displayOptions:t,onFlyoutDismiss:u,children:(0,s.jsx)(r.default,{element:o.element,component:o.component,onHide:()=>{null==d||d(),u()},onExternalSend:o.onExternalSend,sendType:m.type,sharedObject:{...m,type:"user"===m.type?"pinner":m.type},viewParameter:o.viewParameter,viewType:o.viewType})})]})}},881610:(e,t,n)=>{n.d(t,{l:()=>c,E:()=>d});var i=n(667294),a=n(583592),l=n(170567);function o(e={},t){if("SUGGESTIONS_FETCH_COMPLETE"===t.type){const{payload:a}=t;if("ShareSuggestionsResource"===a.resource){var n;const i=t.payload.response.resource_response.data||[],{term:l=""}=null!==(n=a.options)&&void 0!==n?n:{};return{...e,[l]:i}}if("ShareSuggestionsTypeaheadResource"===a.resource){var i;const n=(t.payload.response.resource_response.data||{}).items||[],{term:l=""}=null!==(i=a.options)&&void 0!==i?i:{};return{...e,[l]:n}}}return e}var r=n(785893);const{Provider:s,useHook:d}=(0,a.Z)("ShareSuggestions");function c({children:e}){const[t,n]=(0,i.useReducer)(o,{}),a=e=>{n({type:"SUGGESTIONS_FETCH_COMPLETE",payload:e})};(0,l.Z8)("ShareSuggestionsResource",a),(0,l.Z8)("ShareSuggestionsTypeaheadResource",a);const d=(0,i.useMemo)((()=>({shareSuggestions:t})),[t]);return(0,r.jsx)(s,{value:d,children:e})}},554318:(e,t,n)=>{n.d(t,{Z:()=>_,s:()=>g});var i=n(667294),a=n(583592),l=n(608575),o=n(883119),r=n(88622),s=n(536042),d=n(630089),c=n(785893);const u=()=>{var e;const t=(0,s.ZP)(),{dismissWarning:n}=null!==(e=g())&&void 0!==e?e:{};return(0,c.jsx)(o.xu,{paddingX:3,children:(0,c.jsx)(o.zx,{fullWidth:!0,color:"red",onClick:n,text:t._('Okay', 'Dismiss a modal stating that clicking through to a link has been blocked', 'Dismiss a modal stating that clicking through to a link has been blocked')})})},p=()=>{const e=(0,s.ZP)();return(0,c.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,c.jsx)(o.rU,{target:"blank",href:"https://policy.pinterest.com/community-guidelines#section-spam",display:"inlineBlock",underline:"hover",children:e._('Learn more', 'Link text leading to policy website', 'Link text leading to policy website')})})},m=({message:e,sanitized_url:t})=>{var n;const i=(0,s.ZP)(),{dismissWarning:a}=null!==(n=g())&&void 0!==n?n:{};return(0,c.jsx)(r.ZP,{accessibilityModalLabel:i._('We have blocked this link', 'Modal label when clicking a spammy link', 'Modal label when clicking a spammy link'),onDismiss:a,heading:i._('Heads up!', 'Modal heading when clicking through to a link has been blocked', 'Modal heading when clicking through to a link has been blocked'),footer:(0,c.jsx)(u,{}),children:(0,c.jsxs)(o.xu,{padding:6,children:[(0,c.jsx)(o.xv,{children:(0,d.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,c.jsx)(p,{},"learnMoreLink")})}),(0,c.jsxs)(o.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,c.jsx)(o.xu,{marginEnd:3,children:(0,c.jsx)(o.JO,{accessibilityLabel:i._('Blocked link address', 'Icon label preceding a block url', 'Icon label preceding a block url'),color:"error",icon:"report",inline:!0,size:24})}),(0,c.jsx)(o.xv,{inline:!0,lineClamp:1,weight:"bold",children:l.parse(t).hostname})]})]})})},{Provider:h,useMaybeHook:g}=(0,a.Z)("SpammyClickthrough");function _({children:e}){const[t,n]=(0,i.useState)(null),a=(0,i.useCallback)((()=>{n(null)}),[n]),l=(0,i.useCallback)((e=>{n(e)}),[n]),o=(0,i.useMemo)((()=>({dismissWarning:a,showWarning:l})),[a,l]);return(0,c.jsxs)(h,{value:o,children:[t&&(0,c.jsx)(m,{...t}),e]})}},510336:(e,t,n)=>{n.d(t,{Z:()=>c,j:()=>s});var i=n(883119),a=n(536042),l=n(630089),o=n(245410),r=n(785893);const s=[0,2,3],d="Ad  ";function c({hasAffiliatedProducts:e,isPromoted:t,sponsorName:n,sponsorshipStatus:c,textColor:u}){const p=(0,a.ZP)(),m=(0,o.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled;let h;t?h=(0,l.nk)(p._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:n}):c||0===c?n&&!s.includes(c)?h=(0,l.nk)(p._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:n}):2!==c&&(h=p._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(h=p._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'));const g=m&&!t&&d||"";return(0,r.jsxs)(i.xv,{color:u,size:"100",children:[g,(0,r.jsx)(l.r7,{text:h})]})}},618671:(e,t,n)=>{n.d(t,{f:()=>r,w:()=>s});var i=n(667294),a=n(583592),l=n(785893);const{Provider:o,useHook:r}=(0,a.Z)("Session");function s({children:e}){const[t,n]=(0,i.useState)(void 0),a=(0,i.useCallback)((()=>n(void 0)),[]),r=(0,i.useMemo)((()=>({unauthFollowUserId:t,setUnauthFollowUserId:n,removeUnauthFollowUserId:a})),[t,a]);return(0,l.jsx)(o,{value:r,children:e})}},468776:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(883119),a=n(536042),l=n(98736),o=n(700453),r=n(799006),s=n(199999),d=n(785893);function c({pinId:e}){const t=(0,a.ZP)(),n=(0,s.a)(),c=(0,r.Z)();if(!n)return null;const{setShouldShowLearningUpsell:u}=n;return c?(0,d.jsx)(o.Z,{within:"mweb-unauth-plp-learning-upsell",children:({handleOpenApp:n})=>(0,d.jsx)(i.xu,{alignItems:"center",direction:"row",display:"flex",left:!0,minHeight:70,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(233, 228, 255, 0.9)"}},position:"absolute",right:!0,top:!0,width:"100%",zIndex:new i.Ry(99999),children:(0,d.jsx)(i.iP,{onTap:()=>{(0,l.My)("learning.upsell.click.background"),n({deepLinkUri:`/pin/${e}`})},children:(0,d.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",direction:"row",width:"100%",children:[(0,d.jsx)(i.xu,{marginStart:4,marginEnd:2,onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},onTouchEnd:t=>{t.preventDefault(),t.stopPropagation(),(0,l.My)("learning.upsell.click.icon"),n({deepLinkUri:`/pin/${e}`})},children:(0,d.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 12C0 17.123 3.211 21.497 7.73 23.218C7.62 22.281 7.503 20.736 7.755 19.652C7.972 18.72 9.156 13.714 9.156 13.714C9.156 13.714 8.799 12.999 8.799 11.94C8.799 10.28 9.761 9.04 10.96 9.04C11.98 9.04 12.472 9.805 12.472 10.722C12.472 11.747 11.819 13.279 11.482 14.7C11.201 15.889 12.079 16.859 13.251 16.859C15.374 16.859 17.007 14.62 17.007 11.388C17.007 8.527 14.951 6.528 12.016 6.528C8.618 6.528 6.623 9.077 6.623 11.712C6.623 12.739 7.018 13.839 7.512 14.438C7.609 14.557 7.624 14.66 7.595 14.781C7.504 15.159 7.302 15.97 7.263 16.136C7.21 16.354 7.09 16.401 6.863 16.295C5.371 15.601 4.439 13.42 4.439 11.668C4.439 7.899 7.176 4.439 12.331 4.439C16.475 4.439 19.696 7.392 19.696 11.338C19.696 15.455 17.101 18.769 13.497 18.769C12.286 18.769 11.149 18.139 10.759 17.396C10.759 17.396 10.16 19.678 10.015 20.236C9.733 21.32 8.951 22.692 8.466 23.471C9.584 23.815 10.77 24 12 24C18.627 24 24 18.627 24 12C24 5.373 18.627 0 12 0C5.373 0 0 5.373 0 12Z",fill:"#111111"})})}),(0,d.jsxs)(i.xu,{marginStart:2,marginEnd:2,children:[(0,d.jsx)("span",{style:{fontFamily:"var(--font-family-default-latin)",color:"#111111",fontSize:"16px"},onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},onTouchEnd:t=>{t.preventDefault(),t.stopPropagation(),(0,l.My)("learning.upsell.click.description"),n({deepLinkUri:`/pin/${e}`})},children:t._('If you like this idea, see all the details in the app!  ', 'mweb.unauth.main.pin.learning.app.upsell.description.like', 'mweb unauth main pin learning app upsell description text for group enabled_app_like')}),(0,d.jsx)("span",{style:{fontFamily:"var(--font-family-default-latin)",fontWeight:"600",color:"#111111",fontSize:"16px"},onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},onTouchEnd:t=>{t.preventDefault(),t.stopPropagation(),(0,l.My)("learning.upsell.click.cta"),n({deepLinkUri:`/pin/${e}`})},children:t._('Download', 'mweb.unauth.main.pin.learning.app.upsell.cta', 'mweb unauth main pin learning app upsell cta text')})]}),(0,d.jsx)(i.xu,{marginStart:2,marginEnd:4,onTouchStart:e=>{e.preventDefault(),e.stopPropagation()},onTouchEnd:e=>{u(!1),e.preventDefault(),e.stopPropagation(),(0,l.My)("learning.upsell.click.cancel")},children:(0,d.jsx)(i.JO,{icon:"cancel",accessibilityLabel:"cancel",color:"dark"})})]})})})}):null}},197838:(e,t,n)=>{n.d(t,{Z:()=>P});var i,a=n(667294),l=n(167912),o=n(883119),r=n(536042),s=n(874261),d=n(465991),c=n(282802),u=n(618569),p=n(230910),m=n(525104),h=n(646081),g=n(785893);const _="\ndiv::-webkit-scrollbar {\n  display: none;\n}\n",y=void 0!==i?i:i=n(717988);function v({direction:e,handleClick:t,testId:n,isRTL:i}){const a=(0,r.ZP)(),l=(0,u.Z)(),s=i?["arrow-back","arrow-forward"]:["arrow-forward","arrow-back"];return(0,g.jsx)("div",{style:{alignItems:"center",background:`linear-gradient(to ${"left"===e?"right":"left"}, rgba(255,255,255,1) 25%,rgba(255,255,255,0) 100%)`,border:"none",cursor:"pointer",display:"flex",height:30,lineHeight:25,outline:"none",position:"absolute",top:0,width:45,..."right"===e?{right:0,justifyContent:"flex-end",textAlign:"right"}:{left:0,justifyContent:"flex-start",textAlign:"left"}},onClick:e=>{l({action:"click",item:"board-pills-arrow"}),t(e)},role:"button","aria-label":"arrow",tabIndex:-1,"aria-hidden":"true","data-test-id":n,children:(0,g.jsx)(o.xu,{position:"absolute",left:"left"===e,right:"right"===e,borderStyle:"none",children:(0,g.jsx)(o.xu,{"data-test-id":"board-pills-arrow",children:(0,g.jsx)(o.JO,{accessibilityLabel:a._('Scroll', 'annotations.scrollArrow', 'Accessibility label for scroll arrow button'),icon:"left"!==e?s[0]:s[1],size:8,color:"subtle"})})})})}function f({name:e,url:t}){const[n,i]=(0,a.useState)(!1),l=(0,u.Z)();return(0,g.jsx)(o.xu,{"data-test-id":"vase-tag",display:"inlineBlock",marginTop:1,marginEnd:1,paddingX:2,paddingY:1,height:26,color:"secondary",rounding:8,dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:(0,g.jsx)(o.xv,{color:n?"subtle":"default",inline:!0,overflow:"breakWord",size:"100",weight:"bold",children:t?(0,g.jsx)(o.rU,{display:"inlineBlock",tapStyle:"compress",href:t,rounding:8,onClick:()=>{l({action:"click",item:"vase-tag"})},underline:"hover",children:e}):e})})}function b({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t,mode:n,showVaseTagsAsHashtagsGroup:i}){const l=(0,a.useRef)(null),[r,m]=(0,a.useState)(!1),[h,y]=(0,a.useState)(!1),b=(0,u.Z)(),{isRTL:x}=(0,c.B)(),k=i&&i.startsWith("enabled")&&"enabled_collapsible_heading"!==i&&i.split("_");let P="";k&&k.length>2&&(P=k[2]),(0,a.useEffect)((()=>{const e=l.current,t=()=>{if("inlineWithScrollArrows"===n&&l.current){const e=l.current,t=Math.abs(e.scrollLeft||0),n=Math.abs(e.scrollWidth||0),i=t>4,a=t+e.clientWidth<n-4,o=x?a:i;m(x?i:a),y(o)}else m(!1),y(!1)};return t(),null==e||e.addEventListener("scroll",t),()=>{null==e||e.removeEventListener("scroll",t)}}),[n,x]);const S=e=>t=>{t.preventDefault(),t.stopPropagation(),"right"===e&&b({action:"click",item:"board-pills-arrow-button-right"});const n=l.current;if(!n)return;const i=("left"===e?-1:1)*n.clientWidth*.5;n.scrollBy(i,0)},{annotationsWithLinks:w}=(0,d.eK)({pinJoinVisualAnnotation:e,pinJoinAnnotationsWithLinks:t});return w.map((e=>{const t=e.name||"";if(k){const n=(0,p.bb)(t,P);e.name=n}return e})),(0,g.jsx)(o.kC,{alignItems:"center",justifyContent:"end",children:(0,g.jsxs)(o.xu,{display:"flex",overflow:"auto",width:"100%",position:"relative","data-test-id":"vase-carousel",children:[(0,g.jsx)(s.Z,{unsafeCSS:_}),h&&(0,g.jsx)(v,{direction:"left",handleClick:S("left"),testId:"left-scroll-arrow",isRTL:x}),(0,g.jsx)(o.xu,{overflow:"auto",padding:0,dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",scrollbarWidth:"none",whiteSpace:"nowrap"}},ref:l,children:w.map((({name:e,url:t})=>(0,g.jsx)(f,{name:e,url:t},t||e)))}),r&&(0,g.jsx)(o.xu,{"data-test-id":"board-pills-arrow-button-right",children:(0,g.jsx)(v,{direction:"right",handleClick:S("right"),testId:"right-scroll-arrow",isRTL:x})})]})})}function x({dedupeVisualAnnotations:e,graphqlRef:t,mode:n,pinId:i,showVaseTagsAsHashtagsGroup:a}){var o;const r=(0,l.useFragment)(y,t),s=(0,h.Z)(r);let d=(null==r||null===(o=r.pinJoin)||void 0===o?void 0:o.visualAnnotation)||[];return e&&(d=e({pinId:i,visualAnnotations:d})),d.length<1?null:(0,g.jsx)(b,{mode:n,showVaseTagsAsHashtagsGroup:a,pinJoinVisualAnnotation:d,pinJoinAnnotationsWithLinks:s||void 0})}function k(e){var t,n,i;const a=(0,m.S6)()(e.pinId);return((null==a||null===(t=a.pin_join)||void 0===t?void 0:t.visual_annotation)||[]).length<1?null:(0,g.jsx)(b,{mode:e.mode,pinJoinVisualAnnotation:null==a||null===(n=a.pin_join)||void 0===n?void 0:n.visual_annotation,pinJoinAnnotationsWithLinks:null==a||null===(i=a.pin_join)||void 0===i?void 0:i.annotations_with_links})}function P(e){return e.graphqlRef?(0,g.jsx)(x,{...e}):(0,g.jsx)(k,{...e})}},50169:(e,t,n)=>{n.d(t,{Z:()=>k});var i=n(667294),a=(n(167912),n(883119)),l=n(825389),o=n(536042),r=n(630089),s=n(898252),d=n(465991),c=n(282802),u=n(51536),p=n(98736),m=n(618569),h=n(549201),g=n(32762),_=n(785893);function y({boardUrl:e,boardName:t,boardPrivacy:n,pinnerFullName:i,pinnerImageSmallUrl:l,pinnerImageLargeUrl:o}){const r=(0,h.HG)(),s=(0,m.Z)();if(!e||!t)return null;const d=e.split("/")[1],c=i||d,u=l||o;return(0,_.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[u?(0,_.jsx)(a.iP,{role:"link",href:`/${d}/`,fullWidth:!1,tapStyle:"compress",onTap:()=>{(0,p.My)(`pcons.${r?"desktop":"mobile"}.see-more-button-creator`),s({action:"click",item:"see-more-button-creator"})},children:(0,_.jsx)(a.xu,{rounding:"circle",width:32,height:32,overflow:"hidden",marginEnd:2,"data-test-id":"see-more-button-creator",children:(0,_.jsx)(a.Ee,{naturalHeight:32,naturalWidth:32,alt:c,fit:"cover",color:"rgb(231, 186, 176)",src:u})})},"profile-link"):null,(0,_.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,_.jsx)(a.xu,{"data-test-id":"see-more-button-creator-full-name",children:(0,_.jsx)(a.iP,{onTap:()=>{(0,p.My)(`pcons.${r?"desktop":"mobile"}.see-more-button-creator-full-name`),s({action:"click",item:"see-more-button-creator-full-name"})},children:(0,_.jsx)(a.xv,{color:"default",inline:!0,size:"100",weight:"bold",children:(0,_.jsx)(a.rU,{href:`/${d}/`,display:"inlineBlock",tapStyle:"compress",underline:"hover",children:c},"profile-link")},"profileLink")})}),"protected"===n?null:(0,_.jsx)(a.xv,{color:"default",inline:!0,size:"100",children:(0,_.jsx)(a.rU,{href:null!=e?e:"",display:"inlineBlock",tapStyle:"compress",underline:"hover",children:null!=t?t:""},"board-link")},"boardLink")]})]})}var v,f=n(197838);const b=void 0!==v?v:v=n(298262);function x({dedupeVisualAnnotations:e,pin:t,pinId:n,queryRef:l,onClickTitleOrDomain:v,pinCreditPrefix:b}){var x,k,P,S,w,T,I,A,C;const j=(0,o.ZP)(),E=(0,h.ml)(),R=(0,h.Wb)(),{isAuthenticated:L,isBot:D}=(0,c.B)(),F=(0,m.Z)(),z=!L&&!D&&E,M=v||null,[O,B]=(0,i.useState)(!1),Z=(0,g.si)(),N=(0,g.Re)(),U=(0,d.fs)({pinTitle:t.title,gridTitle:t.gridTitle,richSummaryDisplayName:null===(x=t.richSummary)||void 0===x?void 0:x.displayName,richMetadataTitle:null===(k=t.richMetadata)||void 0===k?void 0:k.title,storyPinDataId:t.storyPinDataId,storyPinDataMetadataPinTitle:null===(P=t.storyPinData)||void 0===P||null===(S=P.metadata)||void 0===S?void 0:S.pinTitle})||t.description,K=(U||"").length>N,{description:V}=(0,d.eK)({richMetadataDescription:null===(w=t.richMetadata)||void 0===w?void 0:w.description,richSummaryDisplayName:null===(T=t.richSummary)||void 0===T?void 0:T.displayName,closeupUnifiedDescription:t.closeupUnifiedDescription}),H=V.length>Z,[G,W]=(0,i.useState)(!H&&!K),$=(0,s._S)(t.domain)?t.domain:"";return(0,_.jsxs)(a.xu,{children:[(0,_.jsxs)(a.xu,{children:[(0,_.jsxs)(a.xu,{as:"figcaption",paddingX:R?11:0,children:[(0,_.jsx)(a.X6,{id:"vase-pin-title",color:"default",size:"300",accessibilityLevel:3,children:O||D?U:(0,u.Z)(U||"",N)}),!!U&&(0,_.jsx)(a.xu,{height:V?8:0}),V&&(H||K)?(0,_.jsx)(a.xu,{"data-test-id":"vase-pin-description",children:(0,_.jsxs)(a.iP,{onTap:()=>{O||L||((0,p.NC)("click_open_description_in_sheet"),F({action:"click",item:"more-description-in-sheet"})),W(!G),B(!O)},fullWidth:!1,children:[(0,_.jsx)(a.xv,{color:"default",size:"200",inline:!0,children:O||D?V:(0,u.Z)(V,Z)}),(0,_.jsx)(a.xu,{display:"inlineBlock",paddingX:1,children:(0,_.jsx)(a.xv,{weight:"bold",size:"200",inline:!0,children:O||D?j._('Less', 'Toggle less description button', 'Toggle less description button'):j._('More', 'Toggle more description button', 'Toggle more description button')})})]})}):(0,_.jsx)(a.xu,{"data-test-id":"vase-pin-description",children:(0,_.jsx)(a.xv,{color:"default",size:"200",inline:!0,children:V})})]}),z&&(G||D)&&!!$&&(0,_.jsx)(a.xu,{marginTop:2,children:(0,_.jsx)(a.kC,{alignItems:"center",direction:"row",width:"100%",children:(0,r.nk)(j._('{{ pinCreditPrefix }} {{ pinCredit }}', 'tells the user where the pin is from in the form of Saved from website', 'tells the user where the pin is from in the form of Saved from website'),{pinCreditPrefix:(0,_.jsx)(a.xu,{display:"inlineBlock",children:(0,_.jsx)(a.xv,{inline:!0,size:"200",children:b})},"pinCreditsPrefix"),pinCredit:(0,_.jsxs)(a.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw","data-test-id":"pin-domain-link",children:[M&&(0,_.jsx)(a.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),F({action:"click",item:"pin-domain-link"}),(0,p.My)("mweb_pin_page.pin_link.clickthrouh"),L||(0,p.NC)("click_pin_closeup_link_clickthrough"),M()},tapStyle:"compress",children:(0,_.jsx)(a.xv,{size:"200",lineClamp:1,children:(0,_.jsx)("span",{style:{textDecoration:"underline"},children:$})},"pinLinkDomain")}),t.link&&!M&&(0,_.jsx)(a.rU,{href:t.link,children:(0,_.jsx)(a.xv,{size:"200",underline:!0,children:$})})]},"pinCredits")})})})]}),!!t.board&&(G||D)&&(0,_.jsx)(a.xu,{marginTop:4,children:(0,_.jsx)(y,{boardUrl:t.board.url||void 0,boardName:t.board.name||void 0,boardPrivacy:t.board.privacy||void 0,pinnerFullName:(null===(I=t.pinner)||void 0===I?void 0:I.fullName)||void 0,pinnerImageSmallUrl:null===(A=t.pinner)||void 0===A?void 0:A.imageSmallUrl,pinnerImageLargeUrl:null===(C=t.pinner)||void 0===C?void 0:C.imageLargeUrl})}),(0,_.jsx)(a.xu,{marginTop:4,children:(0,_.jsx)(f.Z,{dedupeVisualAnnotations:e,pinId:n,mode:"expanded",graphqlRef:l})})]})}function k({pinKey:e,pinId:t,...n}){const{data:i,childDataKey:a}=(0,l.k5)(b,e,{type:"pin",useLegacyAdapter:e=>({board:e.board&&{name:e.board.name,privacy:e.board.privacy,url:e.board.url},closeupUnifiedDescription:e.closeup_unified_description,description:e.description,domain:e.domain,gridTitle:e.grid_title,link:e.link,pinner:e.pinner&&{fullName:e.pinner.full_name,imageLargeUrl:e.pinner.image_large_url,imageSmallUrl:e.pinner.image_small_url},richMetadata:e.rich_metadata&&{description:e.rich_metadata.description,title:e.rich_metadata.title},richSummary:e.rich_summary&&{displayName:e.rich_summary.display_name},storyPinData:e.story_pin_data&&{metadata:e.story_pin_data.metadata&&{pinTitle:e.story_pin_data.metadata.pin_title}},storyPinDataId:e.story_pin_data_id,title:e.title})});return i&&(0,_.jsx)(x,{...n,pinId:t,pin:i,queryRef:"graphqlRef"===a.type?a.data:null})}},676794:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),a=n(618446),l=n.n(a),o=n(788241),r=n(266769),s=n(785893);class d extends i.Component{componentDidMount(){const{setCurrentPageData:e,viewData:t,viewParameter:n,viewType:i}=this.props;e({viewData:t,viewParameter:n,viewType:i})}componentDidUpdate(e){const{setCurrentPageData:t,viewData:n,viewParameter:i,viewType:a}=this.props;i===e.viewParameter&&a===e.viewType&&l()(n,e.viewData)||t({viewData:n,viewParameter:i,viewType:a})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){const{auxData:e,children:t,component:n,objectIdStr:i,viewData:a,viewParameter:l,viewType:o,clientTrackingParams:d}=this.props;return(0,s.jsx)(r.Z,{auxData:e,component:n,objectIdStr:i,clientTrackingParams:d,viewData:a,viewParameter:l,viewType:o,children:t})}}function c(e){const{setViewContextData:t,clearViewContextData:n}=(0,o.sV)();return(0,s.jsx)(d,{...e,clearCurrentPageData:n,setCurrentPageData:t})}},266769:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294),a=n(563962),l=n(98736);const o=({viewType:e,viewParameter:t,viewData:n,auxData:i,objectIdStr:a,component:o,clientTrackingParams:r,element:s},d)=>{const c=(u={event_type:13,view_type:e,view_parameter:t,view_data:n,aux_data:i,object_id_str:a,component:o,clientTrackingParams:r,element:s},Object.keys(u).reduce(((e,t)=>(void 0===u[t]&&delete e[t],e)),{...u}));var u;-1===Object.keys(c).indexOf("view_type")&&(0,l.My)("mweb.logging.null_view_type"),d(c)};function r(e){const{auxData:t,clientTrackingParams:n,children:l,component:r,element:s,objectIdStr:d,viewData:c,viewParameter:u,viewType:p}=e,m=(0,a.Z)(),h=JSON.stringify(t),g=JSON.stringify(c);return(0,i.useEffect)((()=>{o(e,m)}),[m,h,n,r,s,d,g,u,p]),i.Children.only(l)}},700453:(e,t,n)=>{n.d(t,{B:()=>h,Z:()=>g});var i=n(667294),a=n(616550),l=n(40660),o=n(388011),r=n(788241),s=n(988014),d=n(98736),c=n(618569),u=n(799006),p=n(951599),m=n(785893);const h=e=>"/"===e.pathname?"/":(0,s.am)(e)?`board/${e.pathname.substr(1)}`:e.pathname.substr(1);function g({children:e,componentType:t,within:n}){const s=(0,a.useLocation)(),{flushContextEvents:g,logContextEvent:_}=(0,o.v)(),{viewType:y,viewParameter:v}=(0,r.SU)(),f=(0,c.Z)();(0,i.useEffect)((()=>{f({action:"view",item:"download-button",within:n})}),[s,n,f]);const b=(0,i.useRef)(!1);(0,i.useEffect)((()=>{y&&202!==y?(_({component:t||13106,element:10308,event_type:9976,view_type:y,view_parameter:v,aux_data:{app_upsell_type:n,app_upsell_is_dupe:b.current}}),b.current=!0):l.Z.increment("webapp.track_app_upsell_viewed_invalid_parameters",1,{component:t,view_type:y,view_parameter:v,app_upsell_type:n,app_upsell_is_dupe:b.current})}),[t,_,v,y,n]);const x=(0,u.Z)();return(0,i.useEffect)((()=>{x||(0,d.My)(`mweb.app_upsell.forbidden_upsell.${n}`)}),[x,n]),(0,m.jsx)(p.Z,{children:i=>e({handleOpenApp:e=>{var a;(f({action:"click",item:"download-button",within:n}),(0,d.NC)("press_open_app",!0),_({component:t||13106,element:10308,event_type:102,view_type:y||202,view_parameter:v,aux_data:{app_upsell_type:n}}),_({component:t||13106,element:10308,event_type:9977,view_type:y||202,view_parameter:v,aux_data:{app_upsell_type:n}}),g(!0),i)&&(_({component:t||13106,element:10308,event_type:1701,view_type:y||202,view_parameter:v,aux_data:{app_upsell_type:n}}),i(null!==(a=null==e?void 0:e.deepLinkUri)&&void 0!==a?a:h(s),n))}})})}},277192:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(883119),a=n(894121),l=n(536042),o=n(599551),r=n(282802),s=n(549201),d=n(700453),c=n(115771),u=n(536540),p=n(352865),m=n(785893);const h=({deepLinkUri:e,isOpen:t,onDismiss:n,onOpenInApp:c,to:h,within:g})=>{const _=(0,l.ZP)(),y=(0,s.Wb)(),{isBot:v,userAgent:{platform:f,raw:b}}=(0,r.B)(),x=(0,p.Rp)({isBot:v,platform:f,userAgent:b}),k=(0,o.Z)({href:null!=h?h:""}),P=y?60:40;return(0,m.jsx)(a.default,{accessibilityModalLabel:"",isOpen:t,mobileHideCloseIcon:!0,type:"app_upsell_v1",zIndex:new i.Ry(101),closeOnOutsideClick:!1,onDismiss:()=>{},children:(0,m.jsx)(d.Z,{componentType:14157,within:g,children:({handleOpenApp:t})=>(0,m.jsxs)(i.xu,{padding:3,"data-test-id":"appUpsell-iframe",children:[(0,m.jsx)(i.xu,{display:"inlineBlock",position:"absolute",children:(0,m.jsx)(i.xu,{"data-test-id":"appUpsell-continue",children:(0,m.jsx)(i.hU,{accessibilityLabel:_._('close icon background', 'accesibility label for close icon on a overlay', 'accesibility label for close icon on a overlay'),icon:"cancel",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{n({event:e}),k&&!e.defaultPrevented&&(t(),k({event:e}))},size:"lg",iconColor:"gray"})})}),(0,m.jsxs)(i.xu,{paddingX:2,paddingY:6,children:[(0,m.jsx)(i.xu,{paddingY:2,justifyContent:"center",display:"flex",children:x?(0,m.jsx)(u.Z,{size:P}):(0,m.jsx)(i.JO,{color:"brandPrimary",icon:"pinterest",accessibilityLabel:"Pinterest App",size:P})}),(0,m.jsxs)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,m.jsx)(i.xu,{paddingY:2,children:(0,m.jsx)(i.X6,{align:"center",size:"400",children:x?_._('Try Pinterest Lite', 'mweb.app_upsell.lite_app_upsell_title', 'Mobile Web App Upsell title informing the value of downloading the lite app'):_._('Pinterest is better on the app', 'mweb.unauth.app_upsell.app_value_prop2', 'Mobile Web App Upsell title on Pin click informing the value of downloading an app')})}),(0,m.jsx)(i.xv,{align:"center",size:"300",children:x?_._('A space-saving way to discover new ideas', 'mweb.app_upsell.lite_app_value_prop', 'Mobile Web App Upsell subheading informing the user the value of downloading the lite app'):_._('Continue in the app for the full experience', 'mweb.app_upsell.description4', 'description on app upsell modal')}),(0,m.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,m.jsx)(i.zx,{fullWidth:!0,size:"lg",color:"red",onClick:()=>{t({deepLinkUri:e}),c()},text:_._('Open app', 'mweb.app_upsell.app_upsell_button_text1', 'Button to get the Pinterest Lite app')})})]})]})]})})})};function g({clientTrackingParams:e,deepLinkUri:t,isOpen:n,onDismiss:i,onOpenInApp:a,shouldTrackDismiss:l,to:o,viewParameter:r,viewType:s,within:d}){return(0,m.jsx)(c.Z,{clientTrackingParams:e,viewType:s,viewParameter:r,children:(0,m.jsx)(h,{deepLinkUri:t,isOpen:n,onDismiss:e=>{l&&(0,c.y)(),i(e)},onOpenInApp:()=>{(0,c.y)(),a()},to:o,within:d})})}},115771:(e,t,n)=>{n.d(t,{Z:()=>u,y:()=>c});var i=n(667294),a=n(500797),l=n(611756),o=n(173085),r=n(567648),s=n(266769),d=n(785893);const c=()=>{(0,l.Nh)("appUpsell",Date.now()),(0,l.qn)("firstUpsellTime")||(0,l.Nh)("firstUpsellTime",Date.now()),(0,o.Nh)("showedAppUpsellCurrentSession",!0)};function u({children:e,clientTrackingParams:t,viewParameter:n,viewType:l}){return(0,r.Z)()||(0,a.FP)(window)?null:(0,d.jsx)(s.Z,{viewType:l,viewParameter:n,component:13106,clientTrackingParams:t,children:(0,d.jsx)(i.Fragment,{children:e})})}},14303:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(883119),a=n(788241),l=n(536042),o=n(266769),r=n(700453),s=n(785893);function d(e){const{viewParameter:t,viewType:n}=(0,a.SU)(),d=(0,l.ZP)(),c=d._('Search this image with the app', 'mweb.visual.search.app.upsell.heading.text.hard.ask', 'mweb visual search app upsell heading text for hard ask'),u=d._('Download the free Pinterest app to find ideas inspired by parts of this image', 'mweb.visual.search.app.upsell.description.text.soft.ask', 'mweb visual search app upsell description text for soft ask');return(0,s.jsx)(o.Z,{component:13106,viewType:null!=n?n:202,viewParameter:t,children:(0,s.jsxs)(i.xu,{direction:"column",justifyContent:"center",alignItems:"center",display:"flex",paddingX:7,"data-test-id":"mweb-visual-search-app-upsell",children:[(0,s.jsx)(i.kC,{direction:"row",height:48,width:"100%",justifyContent:"center",children:(0,s.jsx)(i.xu,{height:48,width:48,rounding:"circle",color:"secondary",justifyContent:"center",direction:"row",display:"flex",alignItems:"center",marginTop:-3,children:(0,s.jsx)(i.JO,{accessibilityLabel:d._('Visual search', 'mweb.visual.search.app.upsell.flashlight.icon', 'mweb visual search app upsell flashlight icon'),icon:"flashlight",size:24,color:"default"})})}),(0,s.jsx)(i.xu,{marginTop:4,children:(0,s.jsx)(i.X6,{size:"400",align:"center",children:c})}),(0,s.jsx)(i.xu,{marginTop:2,maxWidth:300,children:(0,s.jsx)(i.xv,{align:"center",size:"300",children:u})}),(0,s.jsx)(i.xu,{marginTop:4,marginBottom:6,direction:"row",justifyContent:"center",display:"flex",children:(0,s.jsx)(r.Z,{componentType:14157,within:e.within,children:({handleOpenApp:t})=>(0,s.jsx)(i.zx,{color:"red",text:d._('Open app', 'mweb.app_upsell.app_upsell_button_text1', 'Button to get the Pinterest Lite app'),size:"lg",onClick:()=>t({deepLinkUri:`/pin/${e.pinId}`})})})})]})})}},799006:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(702664);const a=()=>(0,i.useSelector)((({session:{canUseNativeApp:e}})=>e))},726425:(e,t,n)=>{n.d(t,{N:()=>s,h:()=>d});var i=n(667294),a=n(865173),l=n(583592),o=n(785893);const{Provider:r,useHook:s}=(0,l.Z)("NativeAppInstalled");function d({children:e}){const[t,n]=(0,i.useState)(!1),l=(0,i.useCallback)((e=>{n(e)}),[]);(0,i.useEffect)((()=>{!async function(){(await(0,a.Z)()).length>0&&n(!0)}()}),[]);const s=(0,i.useMemo)((()=>({isNativeAppInstalled:t,setIsNativeAppInstalledVal:l})),[t,l]);return(0,o.jsx)(r,{value:s,children:e})}},757924:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(796994),a=n(989037);function l({action:e,collaboratedByMe:t,collaboratorPermissions:n,ownerId:l}){const o=(0,i.Z)(l),r=(0,a.Z)(t);return o||r&&!(null==n||!n.includes(e))}},796994:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(802071);function a(e){return e===(0,i.Z)().id}},989037:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(802071);function a(e){return(0,i.Z)().isAuth&&e}},36278:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(77494),a=n(282802),l=n(335263),o=n(994405),r=n(785893);function s({children:e,type:t}){const n=(0,a.B)();return(0,r.jsx)(i.Z,{annotateExperiments:[(0,o.J1)(),n.isAuthenticated?"web_eager_loadable_auth":"web_eager_loadable_unauth"],surface:"pin_closeup",constraints:"authDesktop"===t?[...l.d0]:["PinPageMainImageRendered"],customEnabledNavigationTypes:["initial_app_load","client_route_push","client_route_replace"],children:e})}},335263:(e,t,n)=>{n.d(t,{GL:()=>l,_z:()=>i,d0:()=>r,hO:()=>o,pM:()=>a});const i="video",a="image",l=new Map([["DEFAULT",new Set(["button"])],["story_pin",new Set([i])],["product_detail_page",new Set(["description","shopButton","thumbnailsLoaded"])],["product_detail_page_plus",new Set(["description","shopButton","thumbnailsLoaded"])]]),o=(e=>{let t=new Set;return e.forEach((e=>{t=new Set([...t,...e])})),t})(l),r=new Set([...o,a,"resource"])},154522:(e,t,n)=>{n.d(t,{Cq:()=>c,Dk:()=>p,Fk:()=>a,fS:()=>d,km:()=>u,lI:()=>o,lJ:()=>l,mS:()=>s,qW:()=>r});var i=n(883119);const a=new i.Ry(1),l=3,o=new i.Ry(l),r=2,s=new i.Ry(r),d=3,c=4,u=new i.Ry(5),p=new i.Ry(100)},515367:(e,t,n)=>{n.d(t,{Z:()=>r,e:()=>o});var i=n(883119),a=n(282802),l=n(785893);const o=new i.Ry(1);function r({children:e,isImagePinForUnauthOnTablet:t}){const{isAuthenticated:n}=(0,a.B)();return(0,l.jsxs)(i.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:t?"40vw":void 0}},zIndex:n?void 0:o,display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!t||void 0,top:!0,children:[(0,l.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:.4,position:"absolute",right:!0,top:!0}),e]})}},898961:(e,t,n)=>{n.d(t,{Z:()=>Qe});var i=n(667294),a=n(702664),l=n(167912),o=n.n(l),r=n(616550),s=n(240684),d=n(883119),c=n(563962),u=n(604094),p=n(527386),m=n(220590),h=n(88622),g=n(536042),_=n(630089),y=n(17206),v=n(619795),f=n(110417),b=n(525571),x=n(5342),k=n(988014),P=n(624417),S=n(898252),w=n(769705),T=n(245410),I=n(282802),A=n(643183),C=n(466946),j=n(599226),E=n(611756),R=n(552369),L=n(98736),D=n(618569),F=n(739425),z=n(549201),M=n(272109),O=n(472921),B=n(799006),Z=n(14303),N=n(757924),U=n(586567),K=n(242892),V=n(930359),H=n(776842),G=n(209798),W=n(84262),$=n(752491),q=n(238941),Y=n(660016),X=n(447398),J=n(952809),Q=n(787234),ee=n(889685),te=n(43746),ne=n(348597),ie=n(822158),ae=n(230910),le=n(684262),oe=n(772356),re=n(963181),se=n(852930),de=n(199727),ce=n(624524),ue=n(471819),pe=n(369050),me=n(903201),he=n(383755),ge=n(199999),_e=n(190253),ye=n(260070),ve=n(446191),fe=n(525104),be=n(410834),xe=n(467037),ke=n(133835),Pe=n(252315),Se=n(117918),we=n(468776),Te=n(785893),Ie,Ae,Ce,je,Ee;const Re=300,Le=(0,s.ZP)({resolved:{},chunkName:()=>"StoryPinStream",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(28384).then(n.bind(n,297021)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 297021}}),De=(0,i.lazy)((()=>Promise.all([n.e(68138),n.e(40589)]).then(n.bind(n,692120)))),Fe=(0,i.lazy)((()=>Promise.all([n.e(24002),n.e(37229),n.e(48101),n.e(7865),n.e(77399)]).then(n.bind(n,577399)))),ze=(0,i.lazy)((()=>Promise.all([n.e(24002),n.e(37229),n.e(48101),n.e(7865)]).then(n.bind(n,184699)))),Me=(0,i.lazy)((()=>Promise.all([n.e(44696),n.e(74491),n.e(68378)]).then(n.bind(n,321450)))),Oe=(0,s.ZP)({resolved:{},chunkName:()=>"UnauthCloseupRelatedPins",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(74491),n.e(75676)]).then(n.bind(n,559124)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 559124}}),Be=void 0!==Ie?Ie:Ie=n(69039),Ze=void 0!==Ae?Ae:Ae=n(849947),Ne=void 0!==Ce?Ce:Ce=n(241643),Ue=void 0!==je?je:je=n(440433),Ke=void 0!==Ee?Ee:Ee=n(273043),Ve=({children:e,queryRef:t})=>{var n;return e((0,l.useFragment)(Ze,null===(n=(0,l.usePreloadedQuery)(Ne,t).v3GetPinQuery)||void 0===n?void 0:n.data))},He=({children:e,fallback:t,queryRef:n})=>n?(0,Te.jsx)(i.Suspense,{fallback:t,children:(0,Te.jsx)(Ve,{queryRef:n,children:t=>t&&e(t)})}):e(null),Ge=({children:e,pinId:t})=>{var n;const i=(0,z.HG)();return e((0,l.useFragment)(Ue,null===(n=(0,l.useLazyLoadQuery)(Ke,{pinId:t,isDesktop:i}).v3GetPinQuery)||void 0===n?void 0:n.data))},We=i.Fragment,$e=({children:e,uanuthDesktopSocialLandingPopover:t})=>e&&t?(0,Te.jsxs)(d.kC,{gap:{row:4,column:0},justifyContent:"center",children:[t,e]}):e,qe=({domain:e,isPromoted:t,hasLinkDomainOfficialUser:n,hasLinkUserWebsiteOfficialUser:i,hasNativeCreator:a,hasThirdPartyPinOwner:l,pinnerDomainVerified:o,pinnerDomainUrl:r})=>i||n||l||!!o&&r===e&&!t||a;function Ye({boardCollaboratedByMe:e,boardCollaboratorPermissions:t,boardIsCollaborative:n,boardOwnerId:l,boardId:o,boardUrl:s,clickthroughInterstitialExperience:w,closeupAttributionFullName:G,closeupPreviewMode:fe,embedSrc:Ie,embedSubtype:Ae,embedType:Ce,experience:je,hasLinkDomain:Ee,hasLinkDomainOfficialUser:Be,hasLinkUserWebsiteOfficialUser:Ze,hasNativeCreator:Ne,hasRichMetadata:Ue,hasRichMetadataProducts:Ke,hasRichMetadataArticle:Ve,hasRichMetadataRecipe:Ge,hasRichMetadataTutorial:Ye,hasThirdPartyPinOwner:Xe,imageSignature:Je,isDeletedStoryPin:Qe,isDownstreamPromotion:et,isProductPin:tt,isPromoted:nt,isStoryPin:it,isV1IdeaPin:at,isVideoPin:lt,link:ot,linkDomainName:rt,mobileLink:st,graphqlRefs:dt,pinCreatedAt:ct,pinDomain:ut,pinTrackingParams:pt,pinId:mt,imagesUrls:ht,pinSectionId:gt,pinnedToBoardId:_t,pinnedToBoardUrl:yt,pinnerDomainUrl:vt,pinnerDomainVerified:ft,pinnerId:bt,postDownloadModalEligibilityType:xt,promotedIsRemovable:kt,promoterId:Pt,seoBreadcrumbs:St,shouldOpenInStream:wt,storyPinDataId:Tt,trackedLink:It,uanuthDesktopSocialLandingPopover:At,videosId:Ct,viewerId:jt,viewingUser:Et}){var Rt,Lt,Dt;const Ft=(0,g.ZP)(),zt=(0,r.useHistory)(),Mt=(0,r.useLocation)(),Ot=(0,r.useRouteMatch)(),Bt=(0,z.ZP)(),Zt="desktop"===Bt,Nt=(0,a.useDispatch)(),Ut=(0,B.Z)(),{checkExperiment:Kt}=(0,T.F)(),Vt=(0,c.Z)(),Ht=(0,D.Z)(),Gt=(0,j.Z)(),Wt=(0,ue.Z)(),{isBot:$t,isSocialBot:qt,isAuthenticated:Yt,userAgent:Xt,locale:Jt}=(0,I.B)(),{setHomeFlyoutText:Qt,setShowHomeBadge:en,setShowHomeFlyoutWithButton:tn}=(0,pe.U)(),nn=null==dt?void 0:dt.pageRef,an=(0,m.M)(),{mountPlacement:ln,unmountPlacement:on,triggerExperimentsForPlacement:rn}=an,sn=(0,Pe.M)(),[dn,cn]=(0,i.useState)(!1);(0,i.useEffect)((()=>{cn(!1)}),[mt]);const[un,pn]=(0,O.Z)(!1,mt),mn=!Zt&&Kt(Yt?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,hn=it&&!1!==wt&&!Zt&&!$t&&!mn,gn=bt===jt,_n=(0,S._S)(ut)?(0,ae.Wj)({i18n:Ft,hasLinkDomain:Ee,hasRichMetadataArticle:Ve,hasRichMetadataRecipeCategorizedIngredients:Ge,hasRichMetadataTutorial:Ye,richMetadataRecipeFromAggregatedData:null}):Ft._('Uploaded to Pinterest', 'closeup.closeupDetails.pinCreditPrefix', 'tells the pinner that the pin was uploaded to Pinterest');(0,i.useEffect)((()=>{!(0,le.Z)(Mt)&&Yt&&(0,x.Z)(Et,null,28)&&Vt({event_type:9956,view_type:3,userIdStr:null==Et?void 0:Et.id}),Yt&&(0,L.Nc)("view_pin_page")}),[]);const[yn,vn]=(0,i.useState)(!1),[fn,bn]=(0,i.useState)(!1),[xn,kn]=(0,i.useState)(!1),[Pn,Sn]=(0,i.useState)(null),{showUnauthSharingModals:wn}=null!==(Rt=(0,C.l)())&&void 0!==Rt?Rt:Object.freeze({}),Tn=tt&&Yt||!Zt&&!tt,In=!tt&&Kt("auth_mweb_inline_action_bar").anyEnabled,[An,Cn]=(0,O.Z)(null!==(Lt=fe.actionBarIsInline)&&void 0!==Lt?Lt:!Tn&&(!Yt||Zt||In),mt),jn=An?"body":"header",En=(0,N.Z)({action:4,collaboratedByMe:null!=e&&e,collaboratorPermissions:t,ownerId:l}),Rn=(0,k.fY)(Mt),Ln=()=>{!$t&&null!=Et&&Et.id&&"undefined"!=typeof window&&(0,v.U)(window.location,Et.id,!0,Yt,(e=>zt.replace(e,Mt.state)))},Dn=()=>(0,R.Z)((()=>{mt&&Vt({event_type:110,view_type:3,view_parameter:156,component:lt?179:85,aux_data:{unauth_page_pin_id:mt}})}),Re),Fn=(0,i.useCallback)((()=>{const e=[1000112];null!=sn&&sn.isSaved(mt)&&e.push(1000494);const t={pin_image_signature:Je};Nt((0,p.pz)(e,$t,Yt?{...t,creator_username:G,is_creator_card_shown:!gn&&!!qe({domain:ut,isPromoted:nt,hasLinkDomainOfficialUser:Be,hasLinkUserWebsiteOfficialUser:Ze,hasNativeCreator:Ne,hasThirdPartyPinOwner:Xe,pinnerDomainVerified:ft,pinnerDomainUrl:vt})}:t))}),[Nt,G,Je,Yt,nt,$t,Be,Ze,Ne,Xe,ut,ft,vt,gn,mt,sn]);(0,i.useEffect)((()=>(null!=sn&&sn.isSaved(mt)&&(ln(1000112),rn(1000494)),()=>{null!=sn&&sn.isSaved(mt)&&on(1000494)})),[sn,mt,ln,rn,on]);const zn=e=>{hn&&Vt({component:229,element:10942,event_type:102,view_type:3,view_parameter:157}),Wt({fn:()=>{Sn("sendPinModal"),Yt||null==wn||wn()},modalHeader:(0,ce.hg)(Ft)})(e)},Mn=(0,z.ml)();(0,M.Z)((()=>{Ln(),(0,y.Z)();if((0,F.mB)(window.location.search).invite_code&&Vt({component:lt?179:85,element:46,event_type:47,view_type:3,view_parameter:156}),Yt){if(!Zt){(0,E.qn)(he.Hn)||(Nt((0,ve.Q_)("HAS_DONE_CLOSEUP",1)),(0,E.Nh)(he.Hn,!0))}}else window.addEventListener("scroll",Dn),(0,L.My)(`mweb.pin_page.${Xt.platform||"unknown"}`),ct&&(0,L.My)("mweb_unauth.pin_page.publish_date"),(0,L.NC)("view_pin_page");return Tt&&Nt((0,ye.FK)()),$t||Fn(),"t"===(0,F.mB)(Mt.search).open_share&&zn(),()=>{Tt&&Nt((0,ye.Cp)()),Yt||window.removeEventListener("scroll",Dn)}}));const On=(0,i.useRef)({linkDomainName:rt,pinId:mt});(0,i.useEffect)((()=>{const e=On.current,t=mt!==e.pinId,n=!e.pinId&&mt,i=e&&e.linkDomainName!==rt;t&&(Ln(),Yt&&(0,L.Nc)("view_pin_page")),(n||t||i&&Yt)&&Fn(),On.current={linkDomainName:rt,pinId:mt}}));const Bn=void 0===zt.location.state,Zn=Yt&&Bn&&dn&&!fn&&!xn;(0,i.useEffect)((()=>{Zn&&kn((0,me.Z)())}),[Zn]),(0,i.useEffect)((()=>{Nt((0,ye.Cp)())}),[Nt]);const Nn=(0,ge.a)(),{setShouldShowLearningUpsell:Un,shouldShowLearningUpsell:Kn}=null!=Nn?Nn:{},Vn=!Yt&&Mn&&["ios","android"].includes(Xt.platform);(0,i.useEffect)((()=>{if(Vn&&Un){const e=(0,R.Z)((()=>{window.scrollY>400&&(Un(!1),(0,L.My)("learning.upsell.dismiss.by.scroll.down"))}),10);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}return()=>{}}),[Vn,Un]);const Hn=(0,be.Z)({embedSrc:Ie,embedType:Ce,hasRichMetadata:Ue,hasRichMetadataProducts:Ke,hasRichMetadataArticle:Ve,hasRichMetadataRecipe:Ge,imagesUrls:ht,isStoryPin:it,pinId:mt}),Gn=(0,ke.Z)({boardId:null!=o?o:"",embedSrc:Ie,embedType:Ce,imagesUrls:ht,pinId:mt,pinnerId:null!=bt?bt:"",pinnedToBoardId:null!=_t?_t:"",pinSectionId:null!=gt?gt:"",trackingParams:pt}),Wn=(0,xe.Z)({embedSrc:Ie,embedType:Ce,imagesUrls:ht,pinId:mt,pinnerId:null!=bt?bt:""}),$n=(0,q.Z)({link:ot,mobileLink:st,trackedLink:It}),qn=(0,_e.J6)({boardIsCollaborative:n,isDownstreamPromotion:et,isEligibleForStaticImageIdeaPin:it&&!1===wt,isPromoted:nt,storyPinDataId:Tt,videosId:Ct}),Yn=Yt&&qn,Xn=(0,ne.Z)(null===(Dt=Mt.state)||void 0===Dt?void 0:Dt.trackingParams,pt),Jn=lt&&Yt&&!Zt,Qn=Yt?Kt("web_auth_exclude_original_images").anyEnabled:Kt("web_unauth_exclude_original_images").anyEnabled,ei=nn?{type:"graphqlRef",data:nn}:{type:"deprecated",data:mt},ti=(0,ie.Z)(ei),ni={downloadImageUrl:!lt&&(0,P.Z)({imagesUrls:ht,embedSrc:Ie,embedType:Ce,excludeOriginals:!$t&&!qt&&Qn})||null,isAuthenticated:Yt,isBot:$t,isSocialBot:qt,saveButtonConfig:{shouldShowSavedButton:Wn,onSaveButtonClick:e=>{Hn(e)},onUnsaveButtonClick:Gn,repinPageLocation:(0,S.NK)(mt,Mt)},clientTrackingParams:Xn,isStoryPin:it,viewParameter:(0,ae.CK)({hasRichMetadata:Ue,hasRichMetadataProducts:Ke,hasRichMetadataArticle:Ve,hasRichMetadataRecipe:Ge}),pinId:mt,canUpsellNativeApp:Ut,shouldShowReactions:Yn,onSendButtonClick:zn,isChromeOnIOS:"ios"===Xt.platform&&"Chrome"===Xt.browserName,handleDownloadPinImageClick:()=>{Ht({action:"click",item:"download-image-button",within:"action-bar"}),"unauthPostDownloadUpsell"===xt?(Sn(null),Zt||Gt({attributionLabel:"tap_closeup_download_button",reason:"UPSELL_LOGIN_OR_SIGNUP",mobileOptions:{headingType:"download"}})):xt&&Sn("postDownloadModal")},shouldRenderAsStoryPin:it&&!1!==wt&&!mn,shouldShowVisitInMoreOptions:$n&&Jn},ii=Yn&&(Ct?"video":it&&"storyPin")||null,ai=gn||En?Wt({fn:()=>zt.push(Ot.url+"edit/"),modalHeader:(0,ce.oM)(Ft),nextLocation:(0,ce.wI)(Mt)}):void 0,li=()=>{Sn("reportPinModal"),Vt({view_type:3,view_parameter:139,element:72,event_type:102,object_id_str:mt||""})},oi=(0,Te.jsx)(He,{queryRef:null==dt?void 0:dt.detailRef,children:e=>(0,Te.jsx)(Y.Z,{clickthroughInterstitialExperience:w,experience:je,isActionBarInline:An,isNewUser:(0,b.Z)(null==Et?void 0:Et.created_at),isRemovablePin:null!=kt&&kt,nativePinType:ii,onMobileTap:()=>{hn&&Vt({component:229,element:10946,event_type:102,view_type:3,view_parameter:157}),li()},onSendButtonClick:zn,pinId:mt,pinnedToBoardId:_t,pinnedToBoardUrl:(gn?s:yt)||"",scrolledToRelatedPins:dn,shouldShowReactions:Yn&&!Tn,onEditButtonClick:ai,shouldShowBackButton:"header"===jn,shouldShowShareOnVideoCloseup:Jn,isEligibleToVisitPin:$n,graphqlRef:e})}),ri=(Mt.search||"").includes("force_seo")||!Yt;return(0,Te.jsx)(H.Z,{pinKey:ei,pinId:mt,viewParameter:ni.viewParameter,children:(0,Te.jsxs)(K.Z,{closeupPageContext:ni,imageViewer:(0,k.Fr)(Mt)&&!hn&&Yt&&(0,Te.jsx)(He,{queryRef:null==dt?void 0:dt.detailRef,children:e=>(0,Te.jsx)(De,{postDownloadModalEligibilityType:xt,isRemovablePin:Boolean(kt),experience:je,graphqlRef:e,pinnedToBoardId:_t,pinnedToBoardUrl:(gn?s:yt)||"",pinId:mt,shouldShowSEOPinInfo:ri,setActionBarIsMinifiedToMainPinImage:vn})}),pinKey:ei,hasGutter:!hn,stickyUpsell:Vn&&Kn&&(0,Te.jsx)(we.Z,{pinId:mt}),children:[(0,Te.jsxs)(We,{children:[Yt&&(0,Te.jsxs)(i.Fragment,{children:[je&&(0,Te.jsx)(Q.Z,{experience:je}),je&&(0,Te.jsx)(ee.Z,{experience:je}),je&&(0,Te.jsx)(te.Z,{experience:je}),(null==sn?void 0:sn.isSaved(mt))&&(0,Te.jsx)(te.Z,{placementId:1000494})]}),!Yt&&Rn&&!Zt&&(0,Te.jsx)(J.Z,{isDesktop:!1,isStoryPin:it}),"header"===jn&&!yn&&oi,!Yt&&(Zt?(0,Te.jsx)(se.Z,{breadcrumbs:null!=St?St:[]}):!hn&&($t?(0,Te.jsx)(se.Z,{breadcrumbs:null!=St?St:[]}):(0,Te.jsx)(de.Z,{pinId:mt,shouldUseGraphQL:!!nn})))]}),(0,Te.jsxs)($e,{uanuthDesktopSocialLandingPopover:At,children:[(Tn||An)&&!hn&&(0,Te.jsx)(W.Z,{pinActionBarOptionsButton:Tn&&!dn&&(0,Te.jsx)(He,{queryRef:null==dt?void 0:dt.detailRef,children:e=>(0,Te.jsx)(d.xu,{"data-test-id":"ellipsis-button",children:(0,Te.jsx)(X.Z,{onMobileTap:li,pinCreditPrefix:_n,pinId:mt,graphqlRef:e,overlayingPinImage:!0,clickthroughInterstitialExperience:w})})}),l1interestFallbackUrl:null!=St&&St[St.length-1]?St[St.length-1].url:""}),hn?(0,Te.jsx)(u.Z,{name:"SafeSuspense_Closeup_StoryPinStream",children:(0,Te.jsx)(Le,{fallback:null,pinId:mt,graphqlRef:null==dt?void 0:dt.storyPinRef})}):Qe?(0,Te.jsx)(Se.Z,{}):(0,Te.jsx)(U.Z,{actionBarIsMinifiedToMainPinImage:yn,clickthroughInterstitialExperience:w,closeupIsFirstPageInHistoryStack:Bn,graphqlRefs:dt,isActionBarInline:An,isImagePinForUnauthOnTablet:!Yt&&!lt&&!(0,S.cL)({embedSrc:Ie,embedSubtype:Ae,embedType:Ce})&&("tablet"===Bt||(0,f.oy)()),isSendPinModalOpen:"sendPinModal"===Pn,isVideoPin:lt,onLinklessPinTap:()=>{const e=!yn;vn(e),Nt(e?(0,ye.Cp)():(0,ye.FK)())},onMoreButtonClick:li,onSendPin:zn,pinActionBar:"body"===jn?oi:null,pinCloseupExperience:je,pinId:mt,pinnedToBoardId:_t,setIsActionBarInline:Cn,setIsShowingCloseupDetailsSuspenseFallback:pn,shouldShowReactions:qn,shouldShowSEOPinInfo:ri,viewerId:jt})]}),Yt&&!hn&&(0,Te.jsx)(u.Z,{name:"SafeSuspense_Closeup_RelatedInterestUpsellContainer",children:(0,Te.jsx)(A.Z,{fallback:(0,Te.jsx)(V.Z,{}),children:(0,Te.jsx)(Me,{auxCommerceData:ti,graphqlConfig:dt?{fallback:(0,Te.jsx)(V.Z,{}),isShowingCloseupDetailsSuspenseFallback:un}:null,isProductDetailPage:tt,onRelatedPinsTitleEnter:()=>cn(!1),onRelatedPinsTitleExit:()=>cn(!0),pinId:mt})})}),!Yt&&!hn&&!Pt&&(0,Te.jsx)(He,{fallback:(0,Te.jsx)(V.Z,{}),queryRef:null==dt?void 0:dt.detailRef,children:e=>(0,Te.jsx)(Oe,{fallback:(0,Te.jsx)(V.Z,{}),isShowingCloseupDetailsSuspenseFallback:un,onRelatedPinsTitleEnter:()=>cn(!1),onRelatedPinsTitleExit:()=>cn(!0),pinId:mt,pinKey:e?{type:"graphqlRef",data:e}:{type:"deprecated",data:mt}})}),(0,Te.jsx)(He,{queryRef:null==dt?void 0:dt.detailRef,children:e=>(0,Te.jsxs)(i.Fragment,{children:[!Yt&&"phone"===Bt&&Ut&&(null==Nn?void 0:Nn.shouldShowVisualSearchAppUpsell)&&(0,Te.jsx)(h.ZP,{mobileAccessibilityCloseIconLabel:Ft._('Cancel', 'mweb.visual.search.app.upsell.cancel.on.pin.page', 'accessibble close icon label for visual search app upsell on pin page'),accessibilityModalLabel:"",_dangerouslyDisableScrollBoundaryContainer:!0,isOpen:!0,onDismiss:()=>{Nn.setShouldShowVisualSearchAppUpsell(!1),Vt({component:14157,element:10308,event_type:10220,view_type:156,view_parameter:3,aux_data:{app_upsell_type:"visual-search-app-upsell-on-pin-page"}})},children:(0,Te.jsx)(Z.Z,{pinId:mt,within:"visual-search-app-upsell-on-pin-page"})}),Yt&&!(0,oe.xT)(Et)&&Bn&&dn&&!fn&&!xn&&!Kt("mweb_turn_off_mini_renux_exp").anyEnabled&&(0,Te.jsx)(u.Z,{name:"SafeSuspense_Closeup_RelatedInterestUpsellContainer",children:(0,Te.jsx)(A.Z,{children:(0,Te.jsx)(ze,{onComplete:e=>{e&&(Qt((0,_.nk)(Ft._('We\'ve added fresh ideas for {{ interestName }}', 'navFooter.flyout.text', 'A flyout points at Home button to ask users to go to home page'),{interestName:(0,re.T_)(e,Jt)}).join("")),en(!0),tn(!0)),bn(!0)},pinId:mt,showRelatedInterestModal:()=>{Sn("relatedInterestsModal")}})})}),at&&(0,Te.jsx)($.Z,{pinId:mt,viewParameter:ni.viewParameter}),(0,Te.jsx)(u.Z,{name:"SafeSuspense_Closeup_CloseupModals",children:(0,Te.jsx)(A.Z,{children:(0,Te.jsx)(d.xu,{"data-test-id":"close-action-bar",children:(0,Te.jsx)(Fe,{graphqlRef:e,modal:Pn,onDismiss:()=>{Ht({action:"click",item:"close-action-bar",within:"action-bar"}),"relatedInterestsModal"===Pn&&bn(!0),Sn(null)},onEditButtonClick:ai,onSendButtonClick:zn,pinId:mt,postDownloadModalEligibilityType:xt,viewParameter:ni.viewParameter,clientTrackingParams:Xn,clickthroughInterstitialExperience:w,shouldShowShareOnVideoCloseup:Jn,nativePinType:ii})})})})]})})]})})}function Xe(e){var t,n,i,a,l,o,s,c,u,p,m,h,g,_,y,v,f,b,x,P,S;const{pinId:w}=e,T=(0,fe.S6)()(w),A=(0,z.HG)(),C=(0,r.useLocation)(),{isAuthenticated:j}=(0,I.B)(),E=null==T?void 0:T.board,R=null!=T&&T.promoter&&!T.is_downstream_promotion?T.promoter:null,L=null==T?void 0:T.pinner;return T&&L&&E?(0,Te.jsx)(Ye,{...e,boardCollaboratedByMe:null!==(t=E.collaborated_by_me)&&void 0!==t&&t,boardCollaboratorPermissions:E.collaborator_permissions,boardIsCollaborative:E.is_collaborative,boardOwnerId:null===(n=E.owner)||void 0===n?void 0:n.id,boardId:E.id,boardUrl:E.url,closeupAttributionFullName:null===(i=T.closeup_attribution)||void 0===i?void 0:i.full_name,embedSrc:null===(a=T.embed)||void 0===a?void 0:a.src,embedSubtype:null===(l=T.embed)||void 0===l?void 0:l.subtype,embedType:null===(o=T.embed)||void 0===o?void 0:o.type,graphqlRefs:null,hasLinkDomain:Boolean(T.link_domain),hasLinkDomainOfficialUser:Boolean(null===(s=T.link_domain)||void 0===s?void 0:s.official_user),hasLinkUserWebsiteOfficialUser:Boolean(null===(c=T.link_user_website)||void 0===c?void 0:c.official_user),hasNativeCreator:Boolean(T.native_creator),hasRichMetadata:Boolean(T.rich_metadata),hasRichMetadataProducts:Boolean(null===(u=T.rich_metadata)||void 0===u?void 0:u.products),hasRichMetadataArticle:Boolean(null===(p=T.rich_metadata)||void 0===p?void 0:p.article),hasRichMetadataRecipe:Boolean(null===(m=T.rich_metadata)||void 0===m?void 0:m.recipe),hasRichMetadataTutorial:Boolean(null===(h=T.rich_metadata)||void 0===h?void 0:h.tutorial),hasThirdPartyPinOwner:Boolean(T.third_party_pin_owner),imageSignature:T.image_signature,isDeletedStoryPin:null!==(g=null===(_=T.story_pin_data)||void 0===_?void 0:_.is_deleted)&&void 0!==g&&g,isDownstreamPromotion:T.is_downstream_promotion,isPromoted:T.is_promoted,isV1IdeaPin:T.is_v1_idea_pin,isVideoPin:!(null===(y=T.videos)||void 0===y||!y.video_list),link:T.link,linkDomainName:null===(v=T.link_domain)||void 0===v?void 0:v.name,mobileLink:T.mobile_link,pinCreatedAt:T.created_at,pinDomain:T.domain,pinId:w,imagesUrls:T.images?Object.keys(T.images).reduce(((e,t)=>{var n,i;return t&&null!==(n=T.images)&&void 0!==n&&null!==(i=n[t])&&void 0!==i&&i.url?{...e,[t]:T.images[t].url}:e}),{}):void 0,pinSectionId:null===(f=T.section)||void 0===f?void 0:f.id,pinTrackingParams:T.tracking_params,pinnedToBoardId:null===(b=T.pinned_to_board)||void 0===b?void 0:b.id,pinnedToBoardUrl:null===(x=T.pinned_to_board)||void 0===x?void 0:x.url,pinnerDomainVerified:L.domain_verified,pinnerDomainUrl:L.domain_url,pinnerId:L.id,promoterId:null==R?void 0:R.id,promotedIsRemovable:T.promoted_is_removable,seoBreadcrumbs:null===(P=T.pin_join)||void 0===P?void 0:P.seo_breadcrumbs,shouldOpenInStream:T.should_open_in_stream||!1,storyPinDataId:T.story_pin_data_id,trackedLink:T.tracked_link,videosId:null===(S=T.videos)||void 0===S?void 0:S.id}):(0,Te.jsx)(d.xu,{margin:5,children:j||A&&(0,k.fY)(C)?(0,Te.jsx)(V.Z,{}):(0,Te.jsx)(G.Z,{})})}function Je({graphqlRefs:e,...t}){var n,i,a,o,r,s,d,c,u,p,m,h,g,_,y,v,f,b,x,k,P,S,T,I,A;const{pinId:C}=t,j=(0,l.useFragment)(Be,e.pageRef),E=(0,w.Z)({type:"graphqlRef",data:j}),{board:R,pinner:L}=j,D=null===(n=j.pinJoin)||void 0===n||null===(i=n.seoBreadcrumbs)||void 0===i?void 0:i.map((({name:e,url:t})=>({name:null!=e?e:"",url:null!=t?t:""})));return(0,Te.jsx)(Ye,{...t,boardCollaboratedByMe:null!==(a=null==R?void 0:R.collaboratedByMe)&&void 0!==a&&a,boardCollaboratorPermissions:null==R?void 0:R.collaboratorPermissions,boardIsCollaborative:null==R?void 0:R.isCollaborative,boardOwnerId:null==R||null===(o=R.owner)||void 0===o?void 0:o.entityId,boardId:null==R?void 0:R.entityId,boardUrl:null==R?void 0:R.url,closeupAttributionFullName:null!==(r=null===(s=j.closeupAttribution)||void 0===s?void 0:s.fullName)&&void 0!==r?r:"",embedSrc:null===(d=j.embed)||void 0===d?void 0:d.src,embedSubtype:null===(c=j.embed)||void 0===c?void 0:c.subtype,embedType:null===(u=j.embed)||void 0===u?void 0:u.type,hasLinkDomain:Boolean(j.linkDomain),hasLinkDomainOfficialUser:Boolean(null===(p=j.linkDomain)||void 0===p?void 0:p.officialUser),hasLinkUserWebsiteOfficialUser:Boolean(null===(m=j.linkUserWebsite)||void 0===m?void 0:m.officialUser),hasNativeCreator:Boolean(j.nativeCreator),hasRichMetadata:Boolean(j.richMetadata),hasRichMetadataProducts:Boolean(null===(h=j.richMetadata)||void 0===h||null===(g=h.products)||void 0===g?void 0:g.length),hasRichMetadataArticle:Boolean(null===(_=j.richMetadata)||void 0===_?void 0:_.article),hasRichMetadataRecipe:Boolean(null===(y=j.richMetadata)||void 0===y?void 0:y.recipe),hasRichMetadataTutorial:Boolean(null===(v=j.richMetadata)||void 0===v?void 0:v.tutorial),hasThirdPartyPinOwner:Boolean(j.thirdPartyPinOwner),imageSignature:j.imageSignature,isDeletedStoryPin:null!==(f=null===(b=j.storyPinData)||void 0===b?void 0:b.isDeleted)&&void 0!==f&&f,isDownstreamPromotion:j.isDownstreamPromotion,isPromoted:j.isPromoted,isV1IdeaPin:j.isV1IdeaPin,isVideoPin:Boolean(null===(x=j.videos)||void 0===x?void 0:x.entityId),link:j.link,linkDomainName:null===(k=j.linkDomain)||void 0===k?void 0:k.name,mobileLink:j.mobileLink,pinCreatedAt:j.createdAt,pinDomain:j.domain,pinId:C,imagesUrls:E,pinSectionId:null===(P=j.section)||void 0===P?void 0:P.entityId,pinTrackingParams:j.trackingParams,pinnedToBoardId:null===(S=j.pinnedToBoard)||void 0===S?void 0:S.entityId,pinnedToBoardUrl:null===(T=j.pinnedToBoard)||void 0===T?void 0:T.url,pinnerDomainVerified:null==L?void 0:L.domainVerified,pinnerDomainUrl:null==L?void 0:L.domainUrl,pinnerId:null==L?void 0:L.entityId,promoterId:null===(I=j.promoter)||void 0===I?void 0:I.entityId,promotedIsRemovable:j.promotedIsRemovable,seoBreadcrumbs:null!=D?D:[],shouldOpenInStream:j.shouldOpenInStream||!1,storyPinDataId:j.storyPinDataId,trackedLink:j.trackedLink,videosId:null===(A=j.videos)||void 0===A?void 0:A.entityId,graphqlRefs:{...e,pageRef:j}})}function Qe({graphqlRefs:e,...t}){if(!e)return(0,Te.jsx)(Xe,{...t});const{isStoryPin:n,pinId:i}=t;return n?(0,Te.jsx)(Ge,{pinId:i,children:n=>n&&(0,Te.jsx)(Je,{...t,graphqlRefs:{...e,storyPinRef:n}})}):(0,Te.jsx)(Je,{...t,graphqlRefs:{...e,storyPinRef:null}})}},818746:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(883119),a=n(265259),l=n(549201),o=n(460914),r=n(963181),s=n(785893);const d=({detail:e,isShowingBreadcrumbs:t,media:n,sideBySideOptions:{mainImageEventHandlers:a}})=>{const d=(0,l.ZP)(),c="desktop"===d?8:"undefined"!=typeof window&&window.screen&&window.screen.width<750?0:54,u="desktop"===d?8:10;return(0,s.jsx)(i.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,s.jsxs)(i.xu,{position:"relative",display:"flex",maxWidth:1016,overflow:"phone"!==d?void 0:"hidden",minHeight:"40vh",rounding:"desktop"===d?void 0:6,dangerouslySetInlineStyle:"phone"!==d?{__style:{justifyContent:"center"}}:{__style:{marginTop:t?0:54,marginRight:c,marginBottom:54,marginLeft:c,boxShadow:"desktop"===d?void 0:"0px 0px 8px rgba(0, 0, 0, 0.1)"}},children:[(0,s.jsx)(o.Z,{onMouseEnter:null==a?void 0:a.onMouseEnter,onMouseLeave:null==a?void 0:a.onMouseLeave,onTouch:null==a?void 0:a.onTouch,pressState:"desktop"===d?"none":"compress",rounding:2,children:(0,s.jsx)(i.xu,{display:"phone"!==d?"block":"flex",height:"100%",justifyContent:"center",overflow:"phone"!==d?void 0:"hidden",rounding:"desktop"===d?8:void 0,width:"phone"!==d?r.Hg:"47vw",children:n})}),(0,s.jsx)(i.xu,{paddingX:"phone"!==d?0:u,width:"phone"!==d?r.Hg:"47vw",display:"flex",direction:"column",justifyContent:"between",children:e})]})})},c=({detail:e,isShowingBreadcrumbs:t,media:n,sideBySideOptions:o})=>{const c=(0,l.ZP)();return o?(0,s.jsx)(i.xu,{marginEnd:"auto",marginStart:"auto","data-test-id":"closeup-body-landscape",children:(0,s.jsx)(d,{detail:e,isShowingBreadcrumbs:t,media:n,sideBySideOptions:o})}):(0,s.jsxs)(i.xu,{marginEnd:"auto",marginStart:"auto",maxWidth:"desktop"===c?void 0:"phone"===c?r.g6:r.Hg,"data-test-id":"closeup-body-portrait",children:[t||"desktop"===c?(0,s.jsx)(a.Z,{roundedForLargeDevice:!0,children:n}):n,e]})}},317204:(e,t,n)=>{n.d(t,{Z:()=>f});n(167912);var i,a=n(825389),l=n(536042),o=n(630089),r=n(740494),s=n(282802),d=n(883119),c=n(785893);const u=void 0!==i?i:i=n(774049);function p({pin:e}){var t,n;const i=(0,l.ZP)(),{authorUrl:a,authorName:r,url:s,providerName:u,ccUrl:p}=e.attribution||{},m=null===(t=e.attribution)||void 0===t||null===(n=t.embed)||void 0===n?void 0:n.src,{type:h,src:g,subtype:_}=e.embed||{},y=g||m,v=!!u&&"Unknown"!==u,f={author:(0,c.jsx)(d.xu,{display:"inlineBlock",children:(0,c.jsx)(d.rU,{underline:"none",href:a||"",rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,c.jsx)(d.xv,{inline:!0,size:"200",weight:"bold",children:r})},"author")},"author"),provider:v?(0,c.jsx)(d.xu,{marginEnd:1,display:"inlineBlock",children:(0,c.jsx)(d.rU,{underline:"always",href:s||"",rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,c.jsx)(d.xv,{inline:!0,size:"200",weight:"bold",children:u})},"provider")},"provider"):null};let b=v?i._('from {{ provider }}', 'closeup.description.imageSourceWithProvider', 'Image source attribution without author on pin closeup'):null;return r&&(b=y&&"gif"!==h&&"pinstory"!==_?v?i._('Video by {{ author }} on {{ provider }}', 'closeup.description.videoSourceWithProvider', 'Video source attribution on pin closeup'):i._('Video by {{ author }}', 'closeup.description.videoSource', 'Video source attribution without provider on pin closeup'):v?i._('Photo by {{ author }} on {{ provider }}', 'closeup.description.photoSourceWithProvider', 'Photo source attribution on pin closeup'):i._('Photo by {{ author }}', 'closeup.description.photoSource', 'Photo source attribution without provider on pin closeup')),(0,c.jsx)(d.xu,{display:"inlineBlock","data-test-id":"photo-attribution",children:(0,c.jsxs)(d.xv,{size:"200",inline:!0,children:[!!b&&(0,o.nk)(b,f),p&&(0,c.jsx)(d.rU,{underline:"none",href:p,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,c.jsx)(d.xv,{size:"200",inline:!0,children:i._('(cc)', 'creative commons link text', 'creative commons link text')})},"link")]})})}function m({pinKey:e}){const{data:t}=(0,a.k5)(u,e,{type:"pin",useLegacyAdapter:e=>({attribution:e.attribution&&{authorName:e.attribution.author_name,authorUrl:e.attribution.author_url,ccUrl:e.attribution.cc_url,embed:e.attribution.embed&&{src:e.attribution.embed.src},providerName:e.attribution.provider_name,url:e.attribution.url},embed:e.embed&&{src:e.embed.src,subtype:e.embed.subtype,type:e.embed.type}})});return t&&(0,c.jsx)(p,{pin:t})}var h,g=n(90595);const _=void 0!==h?h:h=n(7202),y=(e,t)=>{if(e){const n=31536e6,i=e.getTime(),a=(new Date).getTime();return null==t||a-i<=t*n}return!1};function v(e,t){try{return new Intl.DateTimeFormat(t,{month:"long",day:"numeric",year:"numeric",calendar:"gregory"}).format(e)}catch(n){return e?e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate():""}}function f({pinKey:e}){var t,n,i,d,u,p,h,f;const b=(0,l.ZP)(),{isAuthenticated:x,locale:k}=(0,s.B)(),{data:P,childDataKey:S}=(0,a.k5)(_,e,{type:"pin",useLegacyAdapter:e=>({attribution:e.attribution&&{__typename:"Attribution"},closeupDescription:e.closeup_description,closeupUnifiedDescription:e.closeup_unified_description,description:e.description,richMetadata:e.rich_metadata&&{article:e.rich_metadata.article&&{datePublished:e.rich_metadata.article.date_published},description:e.rich_metadata.description,recipe:e.rich_metadata.recipe&&{__typename:"RecipeMetadata"}},richSummary:e.rich_summary&&{displayName:e.rich_summary.display_name},seoDescription:e.seo_description,seoNoindexReason:e.seo_noindex_reason,storyPinDataId:e.story_pin_data_id})});if(!P)return null;const{closeupDescription:w,closeupUnifiedDescription:T,storyPinDataId:I}=P,A=null!==(t=null===(n=P.richMetadata)||void 0===n?void 0:n.description)&&void 0!==t?t:"",C=null!==(i=null===(d=P.richMetadata)||void 0===d||null===(u=d.article)||void 0===u?void 0:u.datePublished)&&void 0!==i?i:"",j=null!==(p=null===(h=P.richSummary)||void 0===h?void 0:h.displayName)&&void 0!==p?p:"",E=P.description,R=!!P.attribution,L=P.seoDescription||"",D=P.seoNoindexReason||"",F=C&&new Date(C),z=x?null==T?void 0:T.trim():(0,r.Z)({storyPinDataId:I,pinDescription:E,richMetadataDescription:A,richSummaryDisplayName:j,closeupDescription:w,closeupUnifiedDescription:T,seoDescription:L,seoNoindexReason:D}),M=F&&y(F,2)&&z?(0,o.nk)(b._('{{ pinDescription }} Published on {{ date }}', 'closeup.details.descirptionWithPublishedDate', 'Pin description with publish date'),{date:v(F,k),pinDescription:z}).join(""):z;let O;if(R){const e=z?"{{ credit }}   ":"{{ credit }}";O=(0,o.nk)(e,{credit:(0,c.jsx)(m,{pinKey:S},"article-pin"),descriptionToDisplay:M})}return(0,c.jsx)(g.Z,{photoAttribution:O,text:null!==(f=P.richMetadata)&&void 0!==f&&f.recipe?null:z})}},90595:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(667294),a=n(883119),l=n(318583),o=n(47034),r=n(377234),s=n(536042),d=n(245410),c=n(282802),u=n(98736),p=n(618569),m=n(454709),h=n(549201),g=n(32762),_=n(785893);function y({text:e}){const{isAuthenticated:t,isBot:n}=(0,c.B)(),[y,v]=(0,i.useState)(!1),f=(0,g.si)(),{checkExperiment:b}=(0,d.F)(),x=(0,s.ZP)(),k=(0,h.ZP)(),P=(0,p.Z)(),{anyEnabled:S}=b("hfp_hf_ssr_mweb",{dangerouslySkipActivation:!0}),w=(0,r.vs)(),T=S?w:(0,r.Yc)(),{anyEnabled:I}=b("closeup_mweb_onepin_title_and_description",{dangerouslySkipActivation:!0}),{anyEnabled:A}=b("closeup_dweb_unauth_onepin_title_and_description"),C=(0,i.useCallback)((()=>{y||t||((0,u.NC)("click_open_description"),(0,u.My)("desktop"===k?"pcons.dweb-more-description":"pcons.mweb-more-description"),P({action:"click",item:"more-description"})),v(!y)}),[y,t,P,k]);return n||!I&&e.length<=f?(0,_.jsx)(a.xv,{inline:!0,children:e}):I&&"desktop"!==k?(0,_.jsx)(m.Z,{Wrapper:({children:e})=>(0,_.jsx)("h2",{style:{fontSize:"14px",wordWrap:"break-word",textAlign:"start"},children:e}),isExpanded:y,description:e,maxHeight:38,handleToggle:C}):A?(0,_.jsx)(l.Z,{isDarkMode:T,children:(0,o.Z)(e)}):(0,_.jsxs)("h2",{style:{fontSize:"14px",wordWrap:"break-word"},children:[(0,_.jsxs)(a.xv,{inline:!0,children:[y?e:`${e.substr(0,f-3)}...`,""]}),!y&&(0,_.jsx)(m.a,{isExpanded:y,onToggle:C,expandedText:x._('Less', 'Toggle less description button', 'Toggle less description button'),collapsedText:x._('More', 'Toggle more description button', 'Toggle more description button')})]})}function v({photoAttribution:e,text:t}){const n=(0,h.ZP)(),i=(0,p.Z)();return(0,_.jsxs)(a.xu,{"data-test-id":"CloseupDescriptionContainer",maxWidth:"100%",dangerouslySetInlineStyle:{__style:{textAlign:"phone"===n?"center":void 0}},children:[e,t&&(0,_.jsx)(a.xu,{"data-test-id":"main-pin-description-text",children:(0,_.jsx)(a.iP,{onTap:()=>{(0,u.My)("desktop"===n?"pcons.dweb.main-pin-description-text":"pcons.mweb.main-pin-description-text"),i({action:"click",item:"main-pin-description-text"})},children:(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{cursor:"auto"}},children:(0,_.jsx)(y,{text:t})})})})]})}},323215:(e,t,n)=>{n.d(t,{ZP:()=>ye,fL:()=>ce,xh:()=>re});var i=n(667294),a=n(167912),l=n.n(a),o=n(240684),r=n(883119),s=n(101789),d=n(342693),c=n(341027),u=n(651575),p=n(377234),m=n(604094),h=n(825389),g=n(536042),_=n(149596),y=n(525571),v=n(943795),f=n(898252),b=n(465991),x=n(245410),k=n(282802),P=n(643183),S=n(611756),w=n(493851),T=n(993926),I=n(549201),A=n(94080),C=n(317204),j=n(991074),E=n(281922),R=n(956745),L=n(226590),D=n(422279),F=n(18028),z=n(768865),M=n(431570),O=n(248288),B=n(60743),Z=n(230910),N=n(772356),U=n(712968),K=n(832400),V=n(229527),H=n(141418),G=n(432044),W=n(594563),$=n(196039),q=n(441266),Y=n(932124),X=n(646081),J=n(582319),Q=n(220271),ee=n(197838),te=n(785893),ne,ie;const ae=(0,o.ZP)({resolved:{},chunkName:()=>"Reactions-ReactionAggregation",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(15206).then(n.bind(n,425054)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 425054}}),le=(0,i.lazy)((()=>n.e(38427).then(n.bind(n,238427)))),oe=68,re=2,se=1,de=i.Fragment,ce=({children:e})=>"lg"===(0,K.H)()?(0,te.jsx)(r.Le,{top:oe,children:(0,te.jsx)(r.xu,{marginStart:4,children:e})}):e,ue=(0,i.lazy)((()=>n.e(23132).then(n.bind(n,823132)))),pe=void 0!==ne?ne:ne=n(179461),me=void 0!==ie?ie:ie=n(229985);function he(e){const t=(0,g.ZP)(),{commentCount:n,commentsDisabled:a,isEligibleForPdp:l,isImagePinForUnauthOnTablet:o,isStoryPin:c,onClickTitleOrDomain:h,shouldShowAggregatedComments:K,shouldShowReactions:X,shouldShowSEOPinInfo:Q,viewParameter:ne,viewerId:ie,pinActionBar:oe,sourceUserBlockedByMe:pe,sourceUserExplicitlyFollowedByMe:me,sourceUserFollowerCount:he,sourceUserFullName:ge,sourceUserId:_e,sourceUserImageLargeUrl:ye,sourceUserimageMediumUrl:ve,sourceUserImageSmallUrl:fe,sourceUserIsVerifiedMerchant:be,sourceUserUsername:xe,sourceUserVerifiedIdentityVerified:ke,pinId:Pe,pinLink:Se,pinDomain:we,pinProductPrice:Te,pinProductInStock:Ie,pinReactionCounts:Ae,promoterFullName:Ce,hasPinProduct:je,hasSourceUser:Ee,hasOfficialUser:Re,hasLinkDomain:Le,hasNativeCreator:De,hasOriginPinner:Fe,hasPromoter:ze,hasRichMetadataArticle:Me,hasRichMetadataTutorial:Oe,hasRichMetadataRecipe:Be,hasRichMetadataRecipeCategorizedIngredients:Ze,hasRichMetadataRecipeAggregateInfo:Ne,hasRichMetadataProductOfferSummary:Ue,hasRichSummaryProductOfferSummary:Ke,richMetadataRecipeFromAggregatedData:Ve,richMetadataProductName:He,richSummaryProductName:Ge,pinJoinVisualAnnotation:We,pinJoinAnnotationsWithLinks:$e,graphqlRef:qe,isActionBarInline:Ye,setIsActionBarInline:Xe,clientTrackingParams:Je,closeupUnifiedDescription:Qe,storyPinKeyValueBlocks:et}=e,{checkExperiment:tt}=(0,x.F)(),nt=(0,I.ZP)(),it="desktop"===nt,at="phone"===nt,{isAuthenticated:lt,country:ot,locale:rt,isBot:st,regionFromIp:dt}=(0,k.B)(),ct=(0,U.Tt)(),ut=(0,p.vs)(),pt=l&&lt||!it&&!l,mt=!it&&(!lt||pt&&Ye||!l&&tt("auth_mweb_inline_action_bar").anyEnabled);let ht="";Qe&&Qe.match(new RegExp(/(#\S*)/))||!it||lt||(ht=tt("unauth_desktop_vase_hashtags").group);const gt=ht.split("_");if(lt&&l)return(0,te.jsx)(ce,{children:(0,te.jsx)(r.xu,{"data-test-id":"CloseupDetails",children:(0,te.jsx)(r.xu,{width:"100%",paddingY:3,paddingX:2,children:(0,te.jsx)(W.Z,{onClickTitleOrDomain:h,graphqlRef:qe,pinId:Pe,inlinePinActionBar:mt?oe:void 0,setIsActionBarInline:pt?Xe:void 0})})})});const _t=tt("closeup_dweb_unauth_onepin_title_and_description").anyEnabled,yt=!it&&tt(lt?"closeup_auth_mweb_collapsable_modules":"closeup_unauth_mweb_collapsable_modules").anyEnabled,vt=(0,f._S)(we)?(Ue?He:Ge&&Ke)?t._('Product sold by ', 'pin annotation', 'pin annotation'):(0,Z.Wj)({i18n:t,hasLinkDomain:Le,hasRichMetadataArticle:Me,hasRichMetadataRecipeCategorizedIngredients:Ze,hasRichMetadataTutorial:Oe,richMetadataRecipeFromAggregatedData:Ve}):_t?void 0:t._('Uploaded to Pinterest', 'closeup.closeupDetails.pinCreditPrefix', 'tells the pinner that the pin was uploaded to Pinterest'),ft=!lt&&je&&(l||st||!tt("unauth_gate_product_pins_by_country_and_trustworthiness").anyEnabled),bt=!it&&tt("closeup_mweb_onepin_title_and_description").anyEnabled,{pinCreditLink:xt,pinCredit:kt}=(0,Z.Xe)({hasLinkDomain:Le,hasNativeCreator:De,hasOriginPinner:Fe,pinDomain:we,sourceUserUsername:xe,sourceUserFullName:ge}),{annotationsWithLinks:Pt}=(0,b.eK)({pinJoinVisualAnnotation:We,pinJoinAnnotationsWithLinks:$e}),St=(0,Z.AH)(Se),wt=Ee&&(!lt||kt&&xt),Tt=X&&!!Ae&&!tt((lt?"auth":"unauth")+"_mweb_reactions_expansion_mvp_idea_video_pin").anyEnabled,It=(0,y.Z)(null==ct?void 0:ct.created_at)&&!(0,N.V0)(ct),At=st&&!it&&pt&&tt("mweb_render_missing_seo_content_holdout_ff").anyEnabled,Ct=At?!pt:st||!pt,jt=!it&&Q&&(0,te.jsx)(r.xu,{children:(0,te.jsx)(H.Z,{dedupeVisualAnnotations:null,pinId:Pe,isMainPin:!0,isAuth:lt,pinCreditPrefix:vt,onClickTitleOrDomain:h,graphqlRef:qe,lazyLoadAnnotations:!lt&&!st,renderOnlyHiddenSEOContent:!At&&pt&&st})}),Et=!lt&&c,Rt=!Et&&Re&&(0,te.jsx)(r.xu,{marginBottom:2,children:(0,te.jsx)(F.Z,{hideFollowButton:tt("lex_follow_button").group.includes("hide_follow")||it,justifyContent:it?"start":"center",viewerId:ie,pinId:Pe,graphqlRef:qe,seeMoreButton:Ct&&jt,clientTrackingParams:Je})}),Lt=!Et&&!!wt&&!Re&&(0,te.jsxs)(r.xu,{flex:"grow",marginTop:$.dP,"data-test-id":"CloseupUserRep",display:"flex",justifyContent:"between",alignItems:"center",width:"100%",children:[(0,te.jsx)(J.Z,{activateLexFollowExp:()=>tt("lex_follow_button"),blockedByMe:null!=pe&&pe,explicitlyFollowedByMe:null!=me&&me,followerCount:null!=he?he:0,fullName:null!=ge?ge:"",id:null!=_e?_e:"",imageLargeUrl:null!=ye?ye:"",imageMediumUrl:null!=ve?ve:"",imageSmallUrl:null!=fe?fe:"",isEligibleForPdp:!!l,isImagePinForUnauthOnTablet:null!=o&&o,isOnCloseup:!0,isVerifiedMerchant:null!=be&&be,pinId:Pe,textColor:"default",type:"row",username:null!=xe?xe:"",verifiedIdentityVerified:null!=ke&&ke,viewParameter:ne,viewType:3,clientTrackingParams:Je}),Ct&&jt]}),Dt=!n&&"enabled_collapsible_heading"===ht,Ft=t._('Ideas you might love', 'vase.collapsibleHeading.title', 'Vase collapsible heading title'),zt=it&&gt.length>2&&"2"===gt[1],Mt=it&&(Pt||[]).length>0&&(0,te.jsx)(i.Fragment,{children:(0,te.jsx)(r.xu,{paddingX:zt?0:2,children:Dt?(0,te.jsx)(s.Z,{heading:Ft,children:(0,te.jsx)(ee.Z,{dedupeVisualAnnotations:null,pinId:Pe,mode:"inlineWithScrollArrows",graphqlRef:qe,showVaseTagsAsHashtagsGroup:ht})}):(0,te.jsx)(ee.Z,{dedupeVisualAnnotations:null,pinId:Pe,mode:"inlineWithScrollArrows",graphqlRef:qe,showVaseTagsAsHashtagsGroup:ht})})}),Ot=Tt&&(0,te.jsx)(m.Z,{name:"SafeSuspense_CloseupDetails_ReactionAggregation",children:(0,te.jsx)(P.Z,{children:(0,te.jsx)(r.xu,{alignSelf:"center",display:"flex",justifyContent:it?"start":"center",marginTop:it?2:void 0,children:(0,te.jsx)(ae,{pinId:Pe,reactionCounts:Ae,viewParameter:156,viewType:3,disableModal:!lt,textSize:_t?d.n:void 0,textWeight:_t?"bold":void 0})})})});let Bt;we&&Se&&(Bt={domain:we,url:Se});const Zt=qe?{type:"graphqlRef",data:qe}:{type:"deprecated",data:Pe},Nt=(et||[]).map(((e,t)=>{var n;return(0,te.jsx)(q.Z,{categoryType:null!==(n=e.categoryType)&&void 0!==n?n:e.category_type,value:e.value,type:"compact",size:"300"},`key-val-component-${t}`)})).filter((e=>null!=e));return(0,te.jsx)(ce,{children:(0,te.jsxs)(r.xu,{"data-test-id":"CloseupDetails",children:[(0,te.jsxs)(r.xu,{width:"100%",marginTop:4,marginBottom:yt?0:4,paddingX:re,children:[!mt&&oe,at&&Rt,_t&&Ot,(it||ft||St&&(!wt||o))&&(0,te.jsx)(r.xu,{"data-test-id":"callToActionButton",display:lt||it||o||ft?void 0:"none",marginTop:Tt||at?$.dP:0,children:(0,te.jsx)(E.Z,{isImagePinForUnauthOnTablet:o,isWebOnePinEnabled:_t,onClickTitleOrDomain:h,pinCreditPrefix:vt,pinDomain:we})}),!St&&!wt&&!1===tt("mweb_hide_uploaded_copy").anyEnabled&&(0,te.jsx)(r.xu,{display:"flex",justifyContent:at?"center":"start",alignItems:"center",marginTop:Tt||at?$.dP:0,children:(0,te.jsx)(r.xv,{size:"200",children:t._('Uploaded to Pinterest', 'closeup.details.uploadToPinterest', 'This is an image only Pin that was uploaded to Pinterest')})}),it&&ft&&Te&&(0,te.jsxs)(r.xu,{alignItems:"baseline",display:"flex",direction:"row",marginTop:1,children:[(0,te.jsx)(r.xv,{size:"500",children:Te}),(0,te.jsx)(r.xu,{marginStart:2,children:(0,te.jsx)(r.xv,{size:"400",children:Ie?t._('In stock', 'closeup.details.productPinInStock', 'Product pin in stock'):t._('Out of stock', 'Product pin out of stock', 'Product pin out of stock')})})]}),(0,te.jsxs)(de,{children:[at&&Lt,(0,te.jsx)(r.xu,{marginTop:$.dP,children:(0,te.jsx)(L.Z,{onClick:h,hasLink:St,lineClamp:bt?void 0:(0,D.Z)({isImagePinForUnauthOnTablet:o}),pinId:Pe,graphqlRef:qe,forceSmallerHeading:bt&&!o,textAlign:bt||it?"start":"center"})})]}),(0,te.jsx)(de,{children:at&&yt&&(0,te.jsx)(r.xu,{marginTop:$.dP,children:(0,te.jsx)(T.Z,{items:Nt.filter((e=>""!==e)),color:ut?"light":"default"})})}),!it&&Te&&(0,te.jsx)(r.xu,{display:"flex",justifyContent:"center",marginTop:2,marginBottom:2,children:(0,te.jsxs)(r.xv,{children:[Te,"  ",Ie?t._('In stock', 'closeup.details.productPinInStock', 'Product pin in stock'):t._('Out of stock', 'Product pin out of stock', 'Product pin out of stock')]})}),Be&&Ne&&!It&&(0,te.jsx)(M.Z,{pinId:Pe,graphqlRef:qe,boldText:!1,marginTop:$.dP,textSize:"300",isWideViewport:it}),(0,te.jsx)(de,{children:(0,te.jsx)(_.Z,{options:{threshold:[se]},onVisibilityChange:pt?e=>{if(e&&e.length>0&&Xe){const{intersectionRatio:t,boundingClientRect:n}=e[0],i=t===se,a=n.y<0;Xe(i||a)}}:()=>{},children:e=>(0,te.jsxs)(r.xu,{ref:e,children:[(0,te.jsx)(r.xu,{marginTop:$.dP,children:ft?(0,te.jsx)(G.Z,{onClickTitleOrDomain:h,pinKey:Zt}):(0,te.jsx)(C.Z,{pinKey:Zt})}),!_t&&Ot]})})}),mt&&oe,zt&&Mt,!at&&Lt,!at&&(0,te.jsx)(r.xu,{marginTop:$.dP,children:Rt}),it&&lt&&(0,te.jsx)(r.xu,{"data-test-id":"UnauthVaseFullBleedModalContainer",dangerouslySetInlineStyle:{__style:{visibility:"hidden"}},children:(0,te.jsx)(A.Z,{pinKey:Zt,onClose:()=>{}})}),!it&&!_t&&!zt&&Mt,!it&&ze&&(0,te.jsxs)(i.Fragment,{children:[(0,te.jsx)(r.xu,{marginTop:$.dP,children:(0,te.jsx)(r.iz,{})}),(0,te.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"between",margin:2,paddingX:1,children:[(0,te.jsx)(r.xv,{inline:!0,size:"200",weight:"bold",children:t._('Promoted Pin', 'Denotes promoted pin in closeup', 'Denotes promoted pin in closeup')}),(0,te.jsx)(m.Z,{name:"SafeSuspense_CloseupDetails_PinFeedbackButton",children:(0,te.jsx)(P.Z,{children:(0,te.jsx)(ue,{graphqlRef:qe,pinId:Pe,promoter:null!=Ce?Ce:"",type:"promoted"})})})]}),(0,te.jsx)(r.iz,{})]}),!It&&Be&&!c&&(0,te.jsx)(V.Z,{hash:"recipe",offset:-v.DEFAULT_HEIGHT,children:(0,te.jsx)(z.ZP,{pinId:Pe,graphqlRef:qe})}),!It&&c&&(0,te.jsx)(j.Z,{graphqlRef:qe,link:Bt,pinId:null!=Pe?Pe:"",clientTrackingParams:Je}),(0,te.jsx)(R.Z,{graphqlRef:qe,pinId:Pe}),!lt&&at&&"IN"===ot&&(rt||"").startsWith("en")&&Y.N3.includes(dt)&&Number((0,S.qn)("indiaUnauthLocaleShowCount",0))<=3&&(0,te.jsx)(m.Z,{name:"SafeSuspense_CloseupDetails_UnauthSwitchLanguageModal",children:(0,te.jsx)(P.Z,{children:(0,te.jsx)(le,{})})}),(0,te.jsx)(u.Z,{pinKey:Zt,isDesktop:it})]}),it&&!lt&&!zt&&Mt,it&&K&&!je&&(0,te.jsx)(m.Z,{name:"CommentThread",children:(0,te.jsxs)(r.xu,{paddingX:2,marginTop:lt?void 0:10,children:[(0,te.jsx)(r.X6,{size:"400",accessibilityLevel:2,children:n&&!a?(0,w.Z)(t.ngettext('{{ count }} Comment', '{{ count }} Comments', n, 'desktopPinCloseup.sectionTitle.commentsCountLabel', 'Comments on a Pin. count: number of comments'),{count:n.toString()}):t._('Comments', 'desktopPinCloseup.sectionTitle', 'Title of comments section')}),(0,te.jsx)(B.Z,{isReadOnly:!0,pinKey:Zt,pinId:Pe,viewParameter:ne}),!a&&tt("web_unauth_comment_upsell_copy").anyEnabled&&(0,te.jsx)(O.Z,{isStoryPin:!1,viewParameter:ne})]})})]})})}const ge=e=>{var t,n,i,l,o,r,s,d,c,u,p,m,h,g,_,y,v,f,b,x,P,S,w,T,I,A,C,j,E,R,L,D,F,z,M,O,B,Z,N,U;const K=(0,Q.Z)(e),V=(0,X.Z)(e),H=(0,a.useFragment)(pe,e.pinner),G=(0,a.useFragment)(pe,e.nativeCreator),W=(0,a.useFragment)(pe,null===(t=e.linkDomain)||void 0===t?void 0:t.officialUser),$=(0,a.useFragment)(pe,e.originPinner),q=(null===(n=e.pinJoin)||void 0===n?void 0:n.visualAnnotation)||[],Y=e.promoter&&!e.isDownstreamPromotion?e.promoter:null,J=null===(i=e.richMetadata)||void 0===i||null===(l=i.products)||void 0===l?void 0:l[0],ee=null===(o=e.richSummary)||void 0===o||null===(r=o.products)||void 0===r?void 0:r[0],te=((null===(s=e.aggregatedPinData)||void 0===s?void 0:s.commentCount)||0)+((null===(d=e.aggregatedPinData)||void 0===d||null===(c=d.didItData)||void 0===c?void 0:c.imagesCount)||0),{isAuthenticated:ne}=(0,k.B)();let ie;ie=G||(e.linkDomain?W:$||H),ne||ie||(ie=H);const ae=!!e.closeupAttribution;let le;return J&&J.name&&J.offerSummary&&(le=J.offerSummary),!le&&ee&&ee.name&&ee.offerSummary&&(le=ee.offerSummary),{commentCount:te,commentsDisabled:e.commentsDisabled,closeupUnifiedDescription:e.closeupUnifiedDescription,hasLinkDomain:!!e.linkDomain,hasNativeCreator:!!e.nativeCreator,hasOfficialUser:ae,hasOriginPinner:!!e.originPinner,hasPinProduct:null!==(u=!!le)&&void 0!==u&&u,hasPromoter:!!Y,hasRichMetadataArticle:!(null===(p=e.richMetadata)||void 0===p||!p.article),hasRichMetadataProductOfferSummary:!(null==J||!J.offerSummary),hasRichMetadataRecipe:!(null===(m=e.richMetadata)||void 0===m||!m.recipe),hasRichMetadataRecipeAggregateInfo:!(null===(h=e.richMetadata)||void 0===h||null===(g=h.recipe)||void 0===g||!g.displayCookTime)||!(null===(_=e.richMetadata)||void 0===_||null===(y=_.recipe)||void 0===y||!y.servingsSummary)||!(null===(v=e.richMetadata)||void 0===v||null===(f=v.recipe)||void 0===f||!f.aggregateRating),hasRichMetadataRecipeCategorizedIngredients:!(null===(b=e.richMetadata)||void 0===b||null===(x=b.recipe)||void 0===x||!x.categorizedIngredients),hasRichMetadataTutorial:!(null===(P=e.richMetadata)||void 0===P||!P.tutorial),hasRichSummaryProductOfferSummary:!(null==J||!J.offerSummary),hasSourceUser:!!ie,isEligibleForPdp:e.isEligibleForPdp,pinDomain:e.domain,pinJoinAnnotationsWithLinks:V,pinJoinVisualAnnotation:q,pinLink:e.link,pinProductInStock:null===(S=le)||void 0===S?void 0:S.inStock,pinProductPrice:null===(w=le)||void 0===w?void 0:w.price,pinReactionCounts:K,promoterFullName:null==Y?void 0:Y.fullName,richMetadataProductName:null==J?void 0:J.name,richMetadataRecipeFromAggregatedData:null===(T=e.richMetadata)||void 0===T||null===(I=T.recipe)||void 0===I?void 0:I.fromAggregatedData,richSummaryProductName:null==ee?void 0:ee.name,shouldShowAggregatedComments:e.isEligibleForAggregatedComments,sourceUserBlockedByMe:null===(A=ie)||void 0===A?void 0:A.blockedByMe,sourceUserExplicitlyFollowedByMe:null===(C=ie)||void 0===C?void 0:C.explicitlyFollowedByMe,sourceUserFollowerCount:null===(j=ie)||void 0===j?void 0:j.followerCount,sourceUserFullName:null===(E=ie)||void 0===E?void 0:E.fullName,sourceUserId:null===(R=ie)||void 0===R?void 0:R.entityId,sourceUserImageLargeUrl:null===(L=ie)||void 0===L?void 0:L.imageLargeUrl,sourceUserimageMediumUrl:null===(D=ie)||void 0===D?void 0:D.imageMediumUrl,sourceUserImageSmallUrl:null===(F=ie)||void 0===F?void 0:F.imageSmallUrl,sourceUserIsVerifiedMerchant:null===(z=ie)||void 0===z?void 0:z.isVerifiedMerchant,sourceUserUsername:null===(M=ie)||void 0===M?void 0:M.username,sourceUserVerifiedIdentityVerified:null===(O=ie)||void 0===O||null===(B=O.verifiedIdentity)||void 0===B?void 0:B.verified,storyPinKeyValueBlocks:null===(Z=e.storyPinData)||void 0===Z||null===(N=Z.metadata)||void 0===N||null===(U=N.basics)||void 0===U?void 0:U.keyValueBlocks}},_e=e=>{var t,n,i,a,l,o,r,s,d,u,p,m,h,g,_,y,v,f,b,x,P,S,w,T,I,A,C,j,E,R,L,D,F;const{isAuthenticated:z}=(0,k.B)(),M=(0,U.mN)();if(!e)return null;const O=((null===(t=e.aggregated_pin_data)||void 0===t?void 0:t.comment_count)||0)+((null===(n=e.aggregated_pin_data)||void 0===n||null===(i=n.did_it_data)||void 0===i?void 0:i.images_count)||0),B=e.promoter&&!e.is_downstream_promotion?e.promoter:null,N=null===(a=e.rich_metadata)||void 0===a||null===(l=a.products)||void 0===l?void 0:l[0],K=null===(o=e.rich_summary)||void 0===o||null===(r=o.products)||void 0===r?void 0:r[0],{link_domain:V,native_creator:H,origin_pinner:G,pinner:W}=e||{};let $,q=(0,Z.wS)(V,H,G,W);z||q||(q=W),q&&($="string"==typeof q?M(q):q);const Y=!!e.closeup_attribution;let X;return N&&N.name&&N.offer_summary&&(X=N.offer_summary),!X&&K&&K.name&&K.offer_summary&&(X=K.offer_summary),{commentCount:O,commentsDisabled:e.comments_disabled,hasLinkDomain:!!e.link_domain,hasNativeCreator:!!e.native_creator,hasOfficialUser:Y,hasOriginPinner:!!e.origin_pinner,hasPinProduct:null!==(s=!!X)&&void 0!==s&&s,hasPromoter:!!B,hasRichMetadataArticle:!(null===(d=e.rich_metadata)||void 0===d||!d.article),hasRichMetadataProductOfferSummary:!(null==N||!N.offer_summary),hasRichMetadataRecipe:!(null===(u=e.rich_metadata)||void 0===u||!u.recipe),hasRichMetadataRecipeCategorizedIngredients:!(null===(p=e.rich_metadata)||void 0===p||null===(m=p.recipe)||void 0===m||!m.categorized_ingredients),hasRichMetadataTutorial:!(null===(h=e.rich_metadata)||void 0===h||!h.tutorial),hasRichSummaryProductOfferSummary:!(null==N||!N.offer_summary),hasSourceUser:!!q,isEligibleForPdp:e.is_eligible_for_pdp,pinDomain:e.domain,pinJoinAnnotationsWithLinks:null===(g=e.pin_join)||void 0===g?void 0:g.annotations_with_links,pinJoinVisualAnnotation:null===(_=e.pin_join)||void 0===_?void 0:_.visual_annotation,pinLink:e.link,pinProductInStock:null===(y=X)||void 0===y?void 0:y.in_stock,pinProductPrice:X&&(0,c.Z)({maxPrice:X.max_price,minPrice:X.min_price,price:X.price}),pinReactionCounts:e.reaction_counts,promoterFullName:null==B?void 0:B.full_name,richMetadataProductName:null==N?void 0:N.name,richMetadataRecipeFromAggregatedData:null===(v=e.rich_metadata)||void 0===v||null===(f=v.recipe)||void 0===f?void 0:f.from_aggregated_data,richSummaryProductName:null==K?void 0:K.name,shouldShowAggregatedComments:e.is_eligible_for_aggregated_comments,sourceUserBlockedByMe:null===(b=$)||void 0===b?void 0:b.blocked_by_me,sourceUserExplicitlyFollowedByMe:null===(x=$)||void 0===x?void 0:x.explicitly_followed_by_me,sourceUserFollowerCount:null===(P=$)||void 0===P?void 0:P.follower_count,sourceUserFullName:null===(S=$)||void 0===S?void 0:S.full_name,sourceUserId:null===(w=$)||void 0===w?void 0:w.id,sourceUserImageLargeUrl:null===(T=$)||void 0===T?void 0:T.image_large_url,sourceUserimageMediumUrl:null===(I=$)||void 0===I?void 0:I.image_medium_url,sourceUserImageSmallUrl:null===(A=$)||void 0===A?void 0:A.image_small_url,sourceUserIsVerifiedMerchant:null===(C=$)||void 0===C?void 0:C.is_verified_merchant,sourceUserUsername:null===(j=$)||void 0===j?void 0:j.username,sourceUserVerifiedIdentityVerified:null===(E=$)||void 0===E||null===(R=E.verified_identity)||void 0===R?void 0:R.verified,storyPinKeyValueBlocks:null===(L=e.story_pin_data)||void 0===L||null===(D=L.metadata)||void 0===D||null===(F=D.basics)||void 0===F?void 0:F.key_value_blocks}};function ye({graphqlRef:e,pinId:t,...n}){const{data:i,childDataKey:a}=(0,h.JI)(me,e?{type:"graphqlRef",data:e}:{type:"deprecated",data:t},{type:"pin",useGraphQLAdapter:ge,useLegacyAdapter:_e});return!!i&&(0,te.jsx)(he,{...n,...i,pinId:t,graphqlRef:"graphqlRef"===a.type?a.data:null})}},991074:(e,t,n)=>{n.d(t,{Z:()=>P});var i,a=n(667294),l=n(167912),o=n(883119),r=n(101789),s=n(342693),d=n(44081),c=n(24286),u=n(536042),p=n(245410),m=n(282802),h=n(549201),g=n(323215),_=n(939782),y=n(525104),v=n(785893);const f=void 0!==i?i:i=n(943149);function b({listBlocks:e,templateType:t}){const n=(0,u.ZP)(),i=(0,h.ml)(),{checkExperiment:l}=(0,p.F)(),{isAuthenticated:y}=(0,m.B)(),f=i&&l(y?"closeup_auth_mweb_collapsable_modules":"closeup_unauth_mweb_collapsable_modules").anyEnabled,b=new Map([[null,n._('Notes', 'Closeup.CloseupDetailsBasicsLayout.notesLayoutTitle', 'Label for button to expand notes Story Pin details')],[1,n._('Ingredients', 'Closeup.CloseupDetailsBasicsLayout.recipeLayoutTitle', 'Label for button to expand ingredients Story Pin details')],[2,n._('Supplies', 'Closeup.CloseupDetailsBasicsLayout.diyHomeLayoutTitle', 'Label for button to expand supplies Story Pin details')]]),x=({children:e})=>f?(0,v.jsx)(a.Fragment,{children:e}):(0,v.jsx)(d.Z,{children:e});return(0,v.jsx)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:e&&e.length>0&&(0,v.jsxs)(a.Fragment,{children:[f&&(0,v.jsx)(_.Z,{marginStart:-(c.D6+g.xh)}),(0,v.jsx)(o.xu,{marginTop:4,marginBottom:f?4:0,children:(0,v.jsx)(r.Z,{heading:b.get(t),children:(0,v.jsx)(x,{children:e.map(((e,t)=>{var n;const i=`${e.heading||"empty"}-${t}-listHeading`;return(0,v.jsxs)(a.Fragment,{children:[(0,v.jsx)(o.xu,{paddingY:2,marginTop:2}),(0,v.jsx)(o.xv,{size:s.n,weight:"bold",children:e.heading}),(null!==(n=e.blocks)&&void 0!==n?n:[]).map(((t,n)=>{const i=`item-${n}-${e.heading||"empty"}`;return(0,v.jsx)(a.Fragment,{children:(0,v.jsx)(o.xu,{marginBottom:1,children:(0,v.jsxs)(o.xv,{size:s.n,children:[" ",t.text?t.text:""]})})},i)}))]},i)}))})})})]})})}function x({pinId:e,graphqlRef:t,...n}){var i,a,l,o,r;const s=(0,y.S6)()(e),d=(null==s||null===(i=s.story_pin_data)||void 0===i||null===(a=i.metadata)||void 0===a?void 0:a.basics)||{},{key_value_blocks:c,list_blocks:u}=d;return(0,v.jsx)(b,{...n,pinId:e,keyValueBlocks:c,listBlocks:u,title:null!==(l=null==s?void 0:s.title)&&void 0!==l?l:"",templateType:null==s||null===(o=s.story_pin_data)||void 0===o||null===(r=o.metadata)||void 0===r?void 0:r.template_type})}function k({pinId:e,graphqlRef:t,...n}){var i,a,o,r,s;const d=(0,l.useFragment)(f,t),c=(null==d||null===(i=d.storyPinData)||void 0===i||null===(a=i.metadata)||void 0===a?void 0:a.basics)||{};return(0,v.jsx)(b,{...n,pinId:e,listBlocks:c.listBlocks,keyValueBlocks:c.keyValueBlocks,graphqlRef:d,title:null!==(o=null==d?void 0:d.title)&&void 0!==o?o:"",templateType:null==d||null===(r=d.storyPinData)||void 0===r||null===(s=r.metadata)||void 0===s?void 0:s.templateType})}function P(e){return e.graphqlRef?(0,v.jsx)(k,{graphqlRef:e.graphqlRef,...e}):(0,v.jsx)(x,{...e})}},741099:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(667294),a=n(883119),l=n(536042),o=n(245410),r=n(397352),s=n(282802),d=n(552369),c=n(549201),u=n(464649),p=n(515367),m=n(599226),h=n(98736),g=n(618569),_=n(785893);function y({setShowClickthroughOverlay:e,isEligibleForPdp:t,isEligibleForDesktopSocialInviteOverlay:n,inviterFirstName:o}){const r=(0,l.ZP)(),s=(0,g.Z)(),d=(0,m.Z)(),u=(0,i.useRef)(),p=(0,c.ZP)(),y="desktop"===p,v=o&&n,f=v&&(r._('Sign up to join {{ name }} on Pinterest', 'pin.closeup.wash.desktop.shareNotification', 'Clickthrough overlay for desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",o),b=r._('Click to make the most out of this idea with a free account', 'web.unauth.plp.clickable_wash.header', 'Copy shown on hover to sign up for an account'),x=r._('Tap to make the most out of this idea with a free account', 'mweb.unauth.plp.clickable_wash.header', 'Pin clickable wash header text'),k=y?f||b:x;return(0,_.jsx)(a.iP,{onMouseEnter:()=>{v&&(0,h.My)("dweb.main_pin.social.wash.view"),(0,h.My)("dweb.pin.wash.view")},onMouseLeave:()=>{v&&(0,h.My)("dweb.main_pin.social.wash.dismiss"),(0,h.My)("dweb.pin.wash.dismiss")},onTap:({event:e})=>{y&&(e.preventDefault(),s({action:"click",item:"pin-image"}),n&&o&&(0,h.My)("dweb.main_pin.social.wash.click"),(0,h.My)("dweb_unauth_main_pin_image_click.signup_modal.show"),d({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_closeup",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}}),t&&(0,h.My)("unauth.pdp.pin.img.click",{device:p}))},children:(0,_.jsxs)(a.xu,{zIndex:new a.Ry(2),children:[(0,_.jsx)(a.xu,{top:!0,bottom:!0,left:!0,right:!0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:n?"center":void 0,direction:"column",position:"absolute",ref:u,"data-test-id":"main-pin-hover-overlay",children:(0,_.jsx)(a.xu,{paddingY:10,display:"flex",alignItems:"center",maxWidth:240,direction:"column",children:(0,_.jsx)(a.xu,{marginTop:8,children:(0,_.jsx)(a.X6,{size:v?"500":"400",align:"center",color:"light",children:k})})})}),!y&&(0,_.jsx)(a.xu,{position:"absolute",top:!0,right:!0,marginTop:4,marginEnd:4,children:(0,_.jsx)(a.hU,{icon:"cancel",iconColor:"white",onClick:({event:t})=>{t.stopPropagation(),e&&(e(!1),(0,h.My)("main.pin.wash.cancel"))},accessibilityLabel:r._('Close pin clickable wash', 'mweb.unauth.plp.clickable_wash.close_button', 'Close button'),size:"md"})})]})})}var v=n(963181),f=n(199999);const b=e=>{var t;const n=(0,l.ZP)(),{alt:m,clickthroughOverlayOptions:h,color:g,isFlashlightPage:b,naturalHeight:x,naturalWidth:k,placeholder:P,pwtElementTimingId:S,pwtSurfaceContext:w,setShowClickthroughOverlay:T,showSpinner:I,src:A,stickyFooter:C,isEligibleForPdp:j}=e,E=(0,u.Z)(),{checkExperiment:R}=(0,o.F)(),L=!E,{isAuthenticated:D}=(0,s.B)(),F=(0,c.ZP)(),z="desktop"===F,M=D&&!z&&R("auth_mweb_inline_action_bar").anyEnabled,O=(0,i.useRef)(),[B,Z]=(0,i.useState)(!L||!!A&&!!P&&P===A),N=(0,i.useRef)(""),U=()=>{w&&w.markConstraintComplete("PinPageMainImageRendered")};(0,i.useEffect)((()=>{const e=new Image;e.onload=()=>Z(!0),e.src=A}),[]);const K=(0,i.useRef)(null===(t=(0,f.a)())||void 0===t?void 0:t.setHasScrolledPastMainContent);(0,i.useEffect)((()=>{const e=(0,d.Z)((()=>{if(O.current){var t;const n=window.scrollY>O.current.offsetTop+O.current.offsetHeight;null===(t=K.current)||void 0===t||t.call(K,n),n&&window.removeEventListener("scroll",e)}}),10);window.addEventListener("scroll",e)}),[]);const[V,H]=(0,i.useState)();(0,i.useEffect)((()=>{O.current&&H(O.current.scrollHeight)}),[]);const G=!b&&"tablet"===F,W=L?(0,_.jsx)(r.Z,{alt:m,color:g,elementTiming:S,naturalHeight:x,naturalWidth:k,src:P,onLoad:U}):null;return(0,_.jsxs)(a.xu,{"data-test-id":"pin-closeup-image",maxHeight:"100%",minHeight:V,maxWidth:"tablet"===F?v.g6:void 0,overflow:C?void 0:"hidden",position:"relative",width:b||"phone"===F?"100%":z?508:v.Hg,rounding:b||"phone"===F?0:6,ref:O,marginTop:"tablet"===F&&M?12:0,children:[!D&&h&&(0,_.jsx)(p.Z,{isImagePinForUnauthOnTablet:!1,children:(0,_.jsx)(y,{setShowClickthroughOverlay:T,inviterFirstName:N.current,isEligibleForPdp:j})}),W&&(G?(0,_.jsx)(a.xu,{rounding:6,overflow:"hidden",children:W}):W),(0,_.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:B?1:0,transition:B&&!z?"opacity .5s ease-in-out":void 0,backgroundColor:g}},left:!0,position:L?"absolute":"relative",right:!0,rounding:G?6:5,overflow:G?"hidden":void 0,top:!0,children:L?(0,_.jsx)(a.Ee,{alt:m,naturalHeight:x,naturalWidth:k,src:A}):(0,_.jsx)(r.Z,{alt:m,color:g,elementTiming:S,naturalHeight:x,naturalWidth:k,src:A,onLoad:U})}),I&&(0,_.jsx)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:B?0:1,transition:B?"opacity .5s ease-in-out":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:!B&&(0,_.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:(0,_.jsx)(a.$j,{accessibilityLabel:n._('Loading image', 'Loading higher resolution image', 'Loading higher resolution image'),show:!0})})}),C]})}},109530:(e,t,n)=>{n.d(t,{Z:()=>h});var i,a=n(167912),l=n(883119),o=n(536042),r=n(245410),s=n(525104),d=n(785893);const c=void 0!==i?i:i=n(284014),u=({embedsrc:e,pinImgSrc:t})=>{const n=(0,o.ZP)(),{checkExperiment:i}=(0,r.F)(),a={},s="/embed/";if(e&&e.includes("youtube")&&e.includes(s)&&i("web_load_youtube_image_preview").anyEnabled){const n=e.indexOf(s)+7,l=e.indexOf("?"),o=e.slice(n,l),r=i("web_load_youtube_image_preview").group;"enabled_sd"===r?a.background=`url("https://i.ytimg.com/vi/${o}/sddefault.jpg")`:"enabled_internal"===r&&(a.background=`url("${t||""}")`),a.backgroundSize="cover",a.backgroundPosition="center"}return(0,d.jsx)(l.xu,{column:12,dangerouslySetInlineStyle:{__style:{paddingBottom:"50%",background:a.background,backgroundSize:a.backgroundSize,backgroundPosition:a.backgroundPosition}},overflow:"hidden",position:"relative",rounding:2,children:(0,d.jsx)("iframe",{allowFullScreen:!0,frameBorder:0,src:null==e?void 0:e.replace("http://","https://"),style:{width:"100%",height:"100%",position:"absolute",border:0},title:n._('Embedded content', 'Embedded iframe accessibility title', 'Embedded iframe accessibility title')})})},p=({graphqlRef:e})=>{var t;const n=(0,a.useFragment)(c,e),{embed:i,imageSpec_736x:l}=n,o=null!==(t=null==l?void 0:l.url)&&void 0!==t?t:"";return(0,d.jsx)(u,{embedsrc:null==i?void 0:i.src,pinImgSrc:o})},m=({pinId:e})=>{var t;const n=(0,s.S6)()(e),{embed:i,images:a}=null!=n?n:Object.freeze({});return(0,d.jsx)(u,{embedsrc:null==i?void 0:i.src,pinImgSrc:a?null===(t=a["736x"])||void 0===t?void 0:t.url:void 0})};function h({graphqlRef:e,pinId:t}){return e?(0,d.jsx)(p,{graphqlRef:e}):(0,d.jsx)(m,{pinId:t})}},586567:(e,t,n)=>{n.d(t,{Z:()=>ae});var i=n(667294),a=n(702664),l=n(167912),o=n.n(l),r=n(616550),s=n(240684),d=n(883119),c=n(241643),u=n.n(c),p=n(788241),m=n(402833),h=n(356193),g=n(898252),_=n(245410),y=n(41162),v=n(282802),f=n(99220),b=n(98736),x=n(549201),k=n(818746),P=n(323215),S=n(109530),w=n(990930),T=n(932765),I=n(251951),A=n(305202),C=n(142900),j=n(936840),E=n(99562),R=n(673118),L=n(781925),D=n(411224),F=n(535483),z=n(525104),M=n(832400),O=n(389190),B=n(521190),Z=n(785893),N,U,K;const V=(0,s.ZP)({resolved:{},chunkName:()=>"CloseupVideo",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(91564).then(n.bind(n,598615)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 598615}}),H=(0,s.ZP)({resolved:{},chunkName:()=>"StoryPinCloseupBodyOnDesktop",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(7620),n.e(29164)]).then(n.bind(n,406700)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 406700}}),G=(0,s.ZP)({resolved:{},chunkName:()=>"StoryPinCloseupDetailsOnDesktop",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(7620).then(n.bind(n,214109)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 214109}}),W=(0,s.ZP)({resolved:{},chunkName:()=>"StoryPinCloseupBodyOnMobile",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(34258).then(n.bind(n,409633)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 409633}}),$=(0,s.ZP)({resolved:{},chunkName:()=>"SEODebugModule",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(91576).then(n.bind(n,440482)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 440482}}),q=(0,s.ZP)({resolved:{},chunkName:()=>"packages-rich-snippet-LeafSnippet",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(36e3).then(n.bind(n,682959)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 682959}}),Y=void 0!==N?N:N=n(403309),X=void 0!==U?U:U=n(360142),J=void 0!==K?K:K=n(680178),Q=({children:e,queryRef:t})=>{var n;return e((0,l.useFragment)(X,null===(n=(0,l.usePreloadedQuery)(u(),t).v3GetPinQuery)||void 0===n?void 0:n.data))},ee=({children:e,fallback:t,queryRef:n})=>n?(0,Z.jsx)(i.Suspense,{fallback:t,children:(0,Z.jsx)(Q,{queryRef:n,children:t=>t&&e(t)})}):e(null);function te({actionBarIsMinifiedToMainPinImage:e,clickthrough:t,closeupIsFirstPageInHistoryStack:n,embedSrc:l,embedSubtype:o,embedType:s,graphqlRefs:c,hasImages:u,hasProductAdditionalImages:j,shouldRenderAsStoryPinVideo:z,isActionBarInline:N,isEligibleForPdp:U,isImagePinForUnauthOnTablet:K,isSendPinModalOpen:Y,isVideoPin:X,onMoreButtonClick:Q,onSendPin:te,pinActionBar:ne,pinCloseupExperience:ie,pinId:ae,pinImageLargeUrl:le,pinLink:oe,pinMobileLink:re,pinnedToBoardId:se,pinTrackedLink:de,setIsActionBarInline:ce,setIsShowingCloseupDetailsSuspenseFallback:ue,shipsToUserCountry:pe,shouldShowReactions:me,shouldShowSEOPinInfo:he,viewerId:ge}){var _e;const ye=null==c?void 0:c.pageRef,{isAuthenticated:ve,isBot:fe}=(0,v.B)(),{seoDebug:be}=(0,a.useSelector)((({session:e})=>e)),{clientTrackingParams:xe,isStoryPin:ke,viewParameter:Pe,shouldRenderAsStoryPin:Se}=(0,I.R)(),we=(0,r.useLocation)(),Te=(0,M.H)(),Ie=(0,y.E)(),Ae=(0,x.HG)(),{viewType:Ce}=(0,p.SU)(),{checkExperiment:je}=(0,_.F)(),Ee=!ve&&je((0,L.Z)({isDesktop:Ae})).anyEnabled||!1,Re=!Ae&&je(ve?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,[Le,De]=(0,i.useState)(!1),[Fe,ze]=(0,i.useState)(!0),Me=(0,m.g)(),Oe=null==Me?void 0:Me.pinLinkClickHandler,Be=()=>{t(),Oe&&Oe()},Ze=(0,R.Z)(),Ne=()=>Ze({linkType:(re?"mobile":de&&"tracked")||oe&&"external"||"original",viewParameter:Pe}),Ue=(0,a.useDispatch)(),Ke=(0,a.useSelector)((({pinNavContext:e})=>(null==e?void 0:e.pinId)!==ae?{}:e),((e,t)=>(null==e?void 0:e.pinId)===(null==t?void 0:t.pinId)));return(0,i.useEffect)((()=>{null!=Ke&&Ke.pinId&&Ke.pinId!==ae&&Ue((0,F.H)())}),[]),!1===pe&&!X&&ve&&je("remove_pdp_shipping_restrictions"),(0,Z.jsxs)(T.Z,{imageLargeUrl:le,isVideoPin:X,pinId:ae,children:[be&&Fe&&(0,Z.jsx)($,{entityId:ae,entityType:"pin",setShowSeoDebugModule:ze}),e&&(0,Z.jsx)(E.Z,{onMoreButtonTap:Q,onSendButtonTap:te}),Se?(0,Z.jsxs)(i.Fragment,{children:[(0,Z.jsx)(h.Z,{fragment:J,fragmentKey:null==c?void 0:c.storyPinRef,children:e=>Ae?(0,Z.jsx)(H,{pinId:ae,graphqlRef:e,clientTrackingParams:xe,pinActionBar:ne}):(0,Z.jsx)(W,{clientTrackingParams:xe,pinId:ae,pinCloseupExperience:ie,pinnedToBoardId:se,viewParameter:Pe,viewType:3,graphqlRef:e})}),(0,Z.jsx)(ee,{queryRef:null==c?void 0:c.detailRef,children:e=>!Ae&&!K&&(0,Z.jsx)(P.ZP,{pinId:ae,isStoryPin:!0,onClickTitleOrDomain:ve?Ne:Be,shouldShowReactions:me,shouldShowSEOPinInfo:he,viewParameter:Pe,graphqlRef:e,isActionBarInline:N,setIsActionBarInline:ce,clientTrackingParams:xe})})]}):(0,Z.jsx)(k.Z,{isShowingBreadcrumbs:!(ve||ke&&!Ae),sideBySideOptions:"lg"===Te||Ae?{mainImageEventHandlers:X?void 0:Ae?{onMouseEnter:()=>{De(!0)},onMouseLeave:()=>{De(!1)},onTouch:()=>{Ee&&(0,b.My)("dweb.unauth_visual_search_exp.main_image.click")}}:{onTouch:e=>{e.stopPropagation(),e.preventDefault(),Ne()}}}:null,media:(0,Z.jsx)(f.Z,{clientTrackingParams:xe,component:X?179:85,viewParameter:Pe,children:X?(0,Z.jsx)(V,{isAuthenticated:ve,isFirstPageInHistoryStack:n,isSendPinModalOpen:Y,onSendPin:te,pinId:ae,pinKey:ye?{type:"graphqlRef",data:ye}:{type:"deprecated",data:ae},handleVideoTimeChange:e=>{Ue((0,F.k)({pinId:ae,video:{elapsedTime:e}}))},startTimeAt:null==Ke||null===(_e=Ke.video)||void 0===_e?void 0:_e.elapsedTime}):(0,g.cL)({embedSrc:l,embedSubtype:o,embedType:s})?(0,Z.jsx)(ee,{queryRef:null==c?void 0:c.detailRef,children:e=>(0,Z.jsx)(S.Z,{graphqlRef:e,pinId:ae})}):!Ae&&j&&(ve?U:!fe)?(0,Z.jsx)(ee,{queryRef:null==c?void 0:c.detailRef,children:e=>(0,Z.jsx)(O.Z,{graphqlRef:e,pinId:ae,viewParameter:Pe,pwtSurfaceContext:Ie,unauthLazyLoad:!ve})}):u?(0,Z.jsx)(D.x,{children:(0,Z.jsx)(w.Z,{actionBarIsMinifiedToMainPinImage:e,clickthrough:Le?Be:void 0,onImageClick:e=>{e&&(e.preventDefault(),e.stopPropagation()),z||Ne()},shouldShowSEOPinInfo:he,viewParameter:Pe,setShowClickthroughOverlay:De,pinId:ae,graphqlRef:ye,shouldRenderAsStaticImageIdeaPin:ke&&!Se,isUnauthVisualSearchExp:Ee,shouldRenderAsStoryPinVideo:z,renderStoryPinBlock:({placeholder:e})=>(0,Z.jsx)(h.Z,{fragment:J,fragmentKey:null==c?void 0:c.storyPinRef,children:t=>z&&Re?(0,Z.jsx)(B.Z,{clientTrackingParams:xe,experience:ie,location:we,pinId:ae,pinnedToBoardId:se,viewParameter:Pe,viewType:Ce,graphqlRef:t}):(0,Z.jsx)(C.Z,{pinId:ae,pinKey:t?{type:"graphqlRef",data:t}:{type:"deprecated",data:ae},placeholder:e})})})}):(0,Z.jsx)(i.Fragment,{children:null})}),detail:ke&&!Se&&Ae?(0,Z.jsx)(h.Z,{fragment:J,fragmentKey:null==c?void 0:c.storyPinRef,children:e=>(0,Z.jsx)(P.fL,{children:(0,Z.jsxs)(d.xu,{padding:3,children:[ne,(0,Z.jsx)(G,{fallback:null,pinId:ae,graphqlRef:e,shouldHideReactions:!0,disableScroll:!0,clientTrackingParams:xe})]})})}):(0,Z.jsx)(ee,{queryRef:null==c?void 0:c.detailRef,fallback:(0,Z.jsx)(A.rb,{actionBarPosition:{isInline:N,setIsInline:ce},pinId:ae,setIsShowingCloseupDetailsSuspenseFallback:ue}),children:t=>(0,Z.jsx)(P.ZP,{isStoryPin:ke,pinId:ae,isImagePinForUnauthOnTablet:K,onClickTitleOrDomain:Be,pinActionBar:e?null:ne,shouldShowReactions:me,shouldShowSEOPinInfo:he,viewParameter:Pe,viewerId:ge,graphqlRef:t,isActionBarInline:N,setIsActionBarInline:ce,clientTrackingParams:xe})})}),!ve&&(0,Z.jsx)(ee,{queryRef:null==c?void 0:c.detailRef,children:e=>(0,Z.jsx)(q,{pinId:ae,graphqlRef:e})})]})}function ne({actionBarIsMinifiedToMainPinImage:e,clickthroughInterstitialExperience:t,graphqlRefs:n,onLinklessPinTap:i,pinId:a,...o}){var r,s,d,c,u,p,m,h,_,y,v,f;const b=(0,l.useFragment)(Y,n.pageRef),x=(0,j.It)({clickthroughInterstitialExperience:t,linklessOptions:(0,g.rM)({mobileLink:b.mobileLink,trackedLink:b.trackedLink,link:b.link})?{actionBarIsMinifiedToMainPinImage:e,onTap:i}:void 0,graphqlRef:b}),k=null===(r=b.richMetadata)||void 0===r||null===(s=r.products)||void 0===s?void 0:s[0],P=Number(null==k||null===(d=k.additionalImageSpec_236x)||void 0===d?void 0:d.length)>0||Number(null==k||null===(c=k.additionalImageSpec_474x)||void 0===c?void 0:c.length)>0||Number(null==k||null===(u=k.additionalImageSpec_564x)||void 0===u?void 0:u.length)>0||Number(null==k||null===(p=k.additionalImageSpec_736x)||void 0===p?void 0:p.length)>0,S=null===(m=b.storyPinData)||void 0===m||null===(h=m.pages)||void 0===h?void 0:h.filter((e=>!(2===e.layout&&!e.ad||5===e.layout||6===e.layout))),w=(null==S?void 0:S.some((e=>{var t;return null===(t=e.blocks)||void 0===t?void 0:t.find((e=>3===e.blockType))})))||null!==(_=null==S?void 0:S.length)&&void 0!==_&&_;return(0,Z.jsx)(te,{...o,actionBarIsMinifiedToMainPinImage:e,clickthroughInterstitialExperience:t,onLinklessPinTap:i,clickthrough:x,pinId:a,hasImages:!!b.imageSpec_orig,shouldRenderAsStoryPinVideo:!!w,isEligibleForPdp:b.isEligibleForPdp,pinMobileLink:b.mobileLink,pinTrackedLink:b.trackedLink,pinLink:b.link,pinImageLargeUrl:b.imageLargeUrl,shipsToUserCountry:b.shipsToUserCountry,embedSrc:null===(y=b.embed)||void 0===y?void 0:y.src,embedSubtype:null===(v=b.embed)||void 0===v?void 0:v.subtype,embedType:null===(f=b.embed)||void 0===f?void 0:f.type,hasProductAdditionalImages:P,graphqlRefs:{...n,pageRef:b}})}function ie({actionBarIsMinifiedToMainPinImage:e,clickthroughInterstitialExperience:t,onLinklessPinTap:n,pinId:i,...a}){var l,o,r,s,d,c,u,p,m;const h=(0,z.S6)()(i),_=(0,j.ZP)({clickthroughInterstitialExperience:t,linklessOptions:(0,g.rM)({mobileLink:null==h?void 0:h.mobile_link,trackedLink:null==h?void 0:h.tracked_link,link:null==h?void 0:h.link})?{actionBarIsMinifiedToMainPinImage:e,onTap:n}:void 0,pinId:i}),y=null==h||null===(l=h.story_pin_data)||void 0===l||null===(o=l.pages)||void 0===o?void 0:o.filter((e=>!(2===e.layout&&!e.ad||5===e.layout||6===e.layout))),v=(null==y?void 0:y.some((e=>{var t;return null===(t=e.blocks)||void 0===t?void 0:t.find((e=>3===e.block_type))})))||null!==(r=null==y?void 0:y.length)&&void 0!==r&&r;return h?(0,Z.jsx)(te,{...a,actionBarIsMinifiedToMainPinImage:e,clickthrough:_,clickthroughInterstitialExperience:t,pinId:i,hasImages:!!h.images,shouldRenderAsStoryPinVideo:!!v,isEligibleForPdp:h.is_eligible_for_pdp,onLinklessPinTap:n,pinMobileLink:h.mobile_link,pinTrackedLink:h.tracked_link,pinLink:h.link,pinImageLargeUrl:h.image_large_url,shipsToUserCountry:h.ships_to_user_country,embedSrc:null===(s=h.embed)||void 0===s?void 0:s.src,embedSubtype:null===(d=h.embed)||void 0===d?void 0:d.subtype,embedType:null===(c=h.embed)||void 0===c?void 0:c.type,hasProductAdditionalImages:Number(null===(u=h.rich_metadata)||void 0===u||null===(p=u.products)||void 0===p||null===(m=p[0].additional_images)||void 0===m?void 0:m.length)>0}):null}function ae({graphqlRefs:e,...t}){return e?(0,Z.jsx)(ne,{...t,graphqlRefs:e}):(0,Z.jsx)(ie,{...t})}},990930:(e,t,n)=>{n.d(t,{Z:()=>q});var i=n(667294),a=n(702664),l=n(167912),o=n(883119),r=n(59089),s=n(536042),d=n(525571),c=n(265259),u=n(624417),p=n(968358);function m({countryFromIp:e,isBot:t,isDesktop:n,pinnerConnectionType:i,shouldRenderSIIP:a}){return a?"236x":n?void 0:(0,p.Z)(e||"",t,n)&&["Dialup","Cellular"].includes(i)?"236x":"736x"}var h,g=n(898252),_=n(465991),y=n(769705),v=n(245410),f=n(578699),b=n(41162),x=n(360588),k=n(282802),P=n(98736),S=n(348672),w=n(549201),T=n(741099),I=n(858815),A=n(781925),C=n(460914),j=n(772356),E=n(411224),R=n(963181),L=n(199999),D=n(525104),F=n(712968),z=n(204722),M=n(935340),O=n(738162),B=n(785893);const Z="236x",N=500,U=100,K=void 0!==h?h:h=n(526859),V=({children:e,onTouch:t})=>{const n=(0,w.HG)();return(0,B.jsx)(c.Z,{roundedForLargeDevice:!0,children:n?e:(0,B.jsx)(C.Z,{onTouch:e=>{e.preventDefault(),e.stopPropagation(),t()},pressState:"none",fullWidth:!0,children:e})})},H=({pinId:e})=>(0,a.useSelector)((({feeds:t})=>{const n=t[`related-pins:${e||""}`];return!!n&&0===n.length}));function G({actionBarIsMinifiedToMainPinImage:e,clickthrough:t,onImageClick:n,setShowClickthroughOverlay:a,shouldShowSEOPinInfo:l,viewParameter:c,imagesUrls:p,isUnauthVisualSearchExp:h,embedSrc:y,embedType:C,description:D,descriptionHtml:Z,altText:K,autoAltText:G,dominantColor:W,pinId:$,domain:q,pinJoinVisualAnnotation:Y,pinnerConnectionType:X,hasPromoter:J,graphqlRef:Q,isEligibleForPdp:ee,isHiddenPin:te,isUnsafePin:ne,shouldRenderAsStaticImageIdeaPin:ie,renderStoryPinBlock:ae,imageSignature:le,shouldRenderAsStoryPinVideo:oe,placeholder:re,isSmallestImgPlaceholder:se}){var de,ce,ue;const pe=(0,s.ZP)(),me=(0,b.E)(),he=(0,w.HG)(),ge=(0,w.ml)(),_e=(0,E.Z)(),ye=(0,S.Z)(),{isAuthenticated:ve,isBot:fe,isSocialBot:be,countryFromIp:xe,userAgent:{platform:ke,canUseNativeApp:Pe}}=(0,k.B)(),Se=(0,w.ZP)(),we=`${ke}.${Se}`,Te=(0,i.useRef)(Date.now()),Ie=(0,i.useRef)(null),Ae=!ve&&!he&&["ios","ipad","android"].includes(ke),Ce=!ve&&ge&&["ios","android"].includes(ke),je=!ve&&ge&&["ios","android"].includes(ke),Ee=(0,L.a)(),{shouldShowLearningUpsell:Re,setShouldShowLearningUpsell:Le,hasScrolledPastMainContent:De}=null!=Ee?Ee:Object.freeze({}),Fe=(0,F.Tt)(),ze=H({pinId:$});let Me=null;const{checkExperiment:Oe}=(0,v.F)(),Be=h&&!he&&Oe((0,A.Z)({isDesktop:he})).group.includes("replace"),Ze=!he&&Oe(ve?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,Ne=(0,r.Z)({isHiddenPin:te,isUnsafePin:ne});he&&!h||(ve||ze||De||he||Be?!Ne||!ve&&ge&&!Pe&&!h||t&&!h||ve&&((0,d.Z)(null==Fe?void 0:Fe.created_at)&&!(0,j.V0)(Fe)||J||(0,g.sY)(C)||e)||(Me="visualSearch"):Me="moreLikeThisButton");const Ue=(0,O.I)(),Ke=ve?Oe("web_auth_exclude_original_images").anyEnabled:Oe("web_unauth_exclude_original_images").anyEnabled,Ve=(0,u.Z)({imagesUrls:p,embedSrc:y,embedType:C,preferredResolution:m({isDesktop:he,countryFromIp:xe,isBot:fe,pinnerConnectionType:X,shouldRenderSIIP:ie}),excludeOriginals:!fe&&!be&&Ke});(0,i.useEffect)((()=>{if(Ue){var e,t;const i=null!==(e=null===(t=document.getElementById("pin-image-preload"))||void 0===t?void 0:t.getAttribute("href"))&&void 0!==e?e:"";let a="";try{a=document.URL.split("/pin/")[1].slice(0,-1)}catch(n){a="unknown"}(0,M.nP)("www.closeup.preloadImageCheck",{sampleRate:1,tags:{isAuthenticated:ve,deviceType:Se,isEqual:i===Ve,isGraphQL:!!Q}}),(0,f.w)((e=>{const{entries:t}=e,{element:n,url:a}=t[t.length-1];(0,M.nP)("www.closeup.mainPinImageLcpCheck",{sampleRate:1,tags:{isAuthenticated:ve,deviceType:Se,isEqual:Ve===a,isGraphQL:!!Q,isPreloadEqual:i===a,nodeName:n?n.nodeName:"unknown"}})})),i!==Ve&&((0,M.nP)("www.closeup.preloadImageCheckWithId",{sampleRate:.5,tags:{isAuthenticated:ve,deviceType:Se,pinId:a}}),(0,M.nP)("www.closeup.preloadImageCheckWithResolutions",{sampleRate:1,tags:{isAuthenticated:ve,deviceType:Se,resolution:Ve.split("/")[3]}}));const l=document.querySelector('[data-test-id="pin-closeup-image"]');((null==l?void 0:l.querySelectorAll("img").length)||0)>1&&((0,M.nP)("www.closeup.mainImageCount",{sampleRate:1,tags:{isAuthenticated:ve,deviceType:Se}}),(0,M.nP)("www.closeup.mainImageCountWithId",{sampleRate:.1,tags:{isAuthenticated:ve,deviceType:Se,pinId:a}}))}}),[]);const He=he?508:R.Hg,Ge="phone"===Se?"100%":He;return(0,B.jsx)(o.xu,{position:"relative",width:"100%",children:(0,B.jsx)(V,{onTouch:()=>{je&&Le?(Re?(0,P.My)("learning.upsell.tap.hide"):(0,P.My)("learning.upsell.tap.show"),Le(!Re)):n(),Ae&&(0,P.My)(`unauth.mweb.${we}.pin.image.touch`),!ve&&ee&&(0,P.My)("unauth.pdp.pin.img.click",{device:Se})},children:(0,B.jsxs)(o.xu,{display:"flex",justifyContent:"center",onContextMenu:e=>{!ve&&ee&&(0,P.My)("unauth.pdp.pin.context_menu.open",{device:Se}),e.preventDefault(),e.stopPropagation(),he?(_e((0,B.jsx)(z.Z,{desktopContextMenuState:{x:e.clientX,y:e.clientY},pinId:$,graphqlRef:Q,isMainPinImage:!0})),(0,P.My)("pcons.dweb.main_pin.context_menu.open")):(0,P.My)((ve?"auth":"unauth")+".mweb_pin_closeup_page.pin_image.long_press")},onTouchStart:e=>{if((Ae||Ce)&&(e.stopPropagation(),Te.current=Date.now(),(0,P.My)(`unauth.mweb.${we}.pin.image.touch.start`),e.changedTouches&&e.changedTouches.length>0)){const t=e.changedTouches.item(0);t&&(Ie.current={x:t.clientX,y:t.clientY})}},onTouchMove:e=>{Ce&&e.stopPropagation()},onTouchEnd:e=>{if(!Ae&&!Ce)return;e.stopPropagation(),(0,P.My)(`unauth.mweb.${we}.pin.image.touch.end`);const t=Date.now()-Te.current>N;let n=!1;const i=Ie.current;if(e.changedTouches&&e.changedTouches.length>0&&i){const t=e.changedTouches.item(0),a=t.clientX-i.x,l=t.clientY-i.y;n=t&&Math.pow(a,2)+Math.pow(l,2)>U}Ae&&t&&!n&&((0,P.My)(`unauth.mweb.${we}.pin.image.long.touch`),e.preventDefault(),ve||he||ye({pinId:$,location:"main-pin-long-press"}))},dangerouslySetInlineStyle:{__style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"}},children:[(!ie||!Ze)&&(0,B.jsx)(T.Z,{alt:l?(0,_.rw)(null!=D?D:"",Z||"",Y,K||"",G||""):pe._('Pin image', 'Pin closeup image', 'Pin closeup image'),color:W||"#efefef",naturalHeight:null!==(de=null==re?void 0:re.height)&&void 0!==de?de:1,naturalWidth:null!==(ce=null==re?void 0:re.width)&&void 0!==ce?ce:1,clickthroughOverlayOptions:t?{onConfirm:t,visitButtonText:"Uploaded by user"===q?pe._('Uploaded by user', 'pin.default_domain', 'default domain for the pin'):q||""}:void 0,setShowClickthroughOverlay:a,placeholder:null!==(ue=null==re?void 0:re.url)&&void 0!==ue?ue:"",pwtElementTimingId:x.f,pwtSurfaceContext:me,showSpinner:se,src:Ve,isEligibleForPdp:ee,stickyFooter:Me&&(0,B.jsx)(I.Z,{type:Me,viewParameter:c,imageSignature:le,pinId:$,isUnauthVisualSearchExp:h})},$),ie&&(Ze?(0,B.jsxs)(o.xu,{width:Ge,marginStart:-2,marginEnd:-2,overflow:Me?void 0:"hidden",children:[ae({placeholder:re&&{height:re.height,width:re.width}}),Me&&!oe&&(0,B.jsx)(I.Z,{type:Me,viewParameter:c,imageSignature:le,pinId:$,isUnauthVisualSearchExp:h})]}):(0,B.jsx)(o.xu,{position:"absolute",left:!0,right:!0,top:!0,bottom:!0,overflow:"hidden",rounding:6,marginStart:-2,marginEnd:-2,children:ae({placeholder:re&&{height:re.height,width:re.width}})}))]})})})}function W({graphqlRef:e,pinId:t,...n}){var i,a;const o=(0,l.useFragment)(K,e),r=(0,y.Z)({type:"graphqlRef",data:o}),s=o.imageSpec_236x||o.imageSpec_136x136,d=Boolean(s&&!o.imageSpec_236x);return(0,B.jsx)(G,{...n,embedSrc:o.embed&&o.embed.src,embedType:o.embed&&o.embed.type,imagesUrls:r,placeholder:s&&{height:s.height,width:s.width,url:s.url},isSmallestImgPlaceholder:d,description:o.description,descriptionHtml:o.descriptionHtml,altText:o.altText,autoAltText:o.autoAltText,dominantColor:o.dominantColor,pinId:t,domain:o.domain,pinJoinVisualAnnotation:null===(i=o.pinJoin)||void 0===i?void 0:i.visualAnnotation,pinnerConnectionType:null===(a=o.pinner)||void 0===a?void 0:a.connectionType,hasPromoter:!!o.promoter&&!o.isDownstreamPromotion,isEligibleForPdp:Boolean(o.isEligibleForPdp),isHiddenPin:o.isHidden,isUnsafePin:o.isUnsafe,imageSignature:o.imageSignature,graphqlRef:o})}function $({pinId:e,...t}){var n,i,a,l,o,r,s;const d=(0,D.S6)()(e),c=(null==d||null===(n=d.images)||void 0===n?void 0:n["236x"])||(null==d||null===(i=d.images)||void 0===i?void 0:i["136x136"]),u=Boolean(c&&!(null!=d&&null!==(a=d.images)&&void 0!==a&&a[Z])),p=(0,y.Z)({type:"deprecated",data:d});return(0,B.jsx)(G,{...t,embedSrc:null==d||null===(l=d.embed)||void 0===l?void 0:l.src,embedType:null==d||null===(o=d.embed)||void 0===o?void 0:o.type,imagesUrls:p,placeholder:c&&{height:c.height,width:c.width,url:c.url},isSmallestImgPlaceholder:u,description:null==d?void 0:d.description,descriptionHtml:null==d?void 0:d.description_html,altText:null==d?void 0:d.alt_text,autoAltText:null==d?void 0:d.auto_alt_text,dominantColor:null==d?void 0:d.dominant_color,pinId:e,domain:null==d?void 0:d.domain,pinJoinVisualAnnotation:null==d||null===(r=d.pin_join)||void 0===r?void 0:r.visual_annotation,pinnerConnectionType:null==d||null===(s=d.pinner)||void 0===s?void 0:s.connection_type,hasPromoter:!(!d||!d.promoter||d.is_downstream_promotion),isEligibleForPdp:Boolean(null==d?void 0:d.is_eligible_for_pdp),isHiddenPin:null==d?void 0:d.is_hidden,isUnsafePin:null==d?void 0:d.is_unsafe,imageSignature:null==d?void 0:d.image_signature})}function q({graphqlRef:e,...t}){return e?(0,B.jsx)(W,{...t,graphqlRef:e}):(0,B.jsx)($,{...t})}},932765:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(616550),a=n(883119),l=n(272109),o=n(251951),r=n(870428),s=n(994405),d=n(328939),c=n(785893);const u=({children:e,imageLargeUrl:t,isVideoPin:n,pinId:u})=>{const p=(0,i.useHistory)(),{clientTrackingParams:m,viewParameter:h}=(0,o.R)(),g=(0,s.Yg)();return(0,l.Z)((()=>{null==g||g("main_pin_impression")})),(0,c.jsx)(a.xu,{"data-layout-shift-boundary-id":"CloseupPageBody",children:(0,c.jsx)(d.dL,{auxData:{closeup_navigation_type:(0,r.Z)(p)},component:n?179:85,loggingId:u,impressionData:{imageURL:t,type:13},trackingParams:m,slotIndex:-1,viewData:{pin_id:u},viewParameter:h,viewType:3,children:({impressionTrackerRef:t})=>(0,c.jsx)(a.xu,{"data-test-id":"CloseupMainPin",maxWidth:"100%",position:"relative",ref:t,children:e})},u)})}},242892:(e,t,n)=>{n.d(t,{Z:()=>y});n(167912);var i=n(883119),a=n(825389),l=n(993869),o=n(882973),r=n(251951),s=n(992865),d=n(667294),c=n(604094),u=n(643183),p=n(785893);function m({children:e,imageViewer:t}){return(0,p.jsxs)(d.Fragment,{children:[(0,p.jsx)(i.xu,{display:t?"visuallyHidden":"block",opacity:t?0:1,"data-layout-shift-boundary-id":"CloseupPageContainerInner",dangerouslySetInlineStyle:{__style:{transition:"opacity 0.2s ease-out"}},children:!t&&e}),(0,p.jsx)(c.Z,{name:"SafeSuspense_Closeup_ImageViewer",children:(0,p.jsx)(u.Z,{children:(0,p.jsx)(i.xu,{display:t?"block":"visuallyHidden",opacity:t?1:0,dangerouslySetInlineStyle:{__style:{transition:"opacity 0.2s ease-in"}},children:t})})})]})}var h,g=n(163766),_=n(126979);function y({children:e,closeupPageContext:t,hasGutter:d,imageViewer:c,pinKey:u,stickyUpsell:y}){const{childDataKey:v}=(0,a.k5)(void 0!==h?h:h=n(325168),u,{type:"pin",useLegacyAdapter:()=>({})});return(0,p.jsx)(r.q,{value:t,children:(0,p.jsxs)(i.xu,{position:"relative",width:"100%",children:[!!y&&(0,p.jsx)(i.Le,{top:o.SB,zIndex:new i.Ry(99999),children:y}),(0,p.jsx)(_.Z,{graphqlRef:"graphqlRef"===v.type?v.data:null,children:(0,p.jsx)(g.kq,{children:(0,p.jsx)(l.default,{dataLayoutShiftBoundaryId:"CloseupPageContainer",hasFixedHeader:!0,hasGutter:d,children:(0,p.jsx)(s.m,{children:(0,p.jsx)(m,{imageViewer:c,children:e})})})})})]})})}},251951:(e,t,n)=>{n.d(t,{R:()=>l,q:()=>a});var i=n(583592);const{Provider:a,useHook:l}=(0,i.Z)("CloseupPageContext")},930359:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(536042),l=n(785893);function o(){const e=(0,a.ZP)();return(0,l.jsx)(i.xu,{padding:5,children:(0,l.jsx)(i.$j,{accessibilityLabel:e._('Loading pin data', 'closeupPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})})}},776842:(e,t,n)=>{n.d(t,{G:()=>p,Z:()=>m});n(167912);var i,a=n(616550),l=n(825389),o=n(99220),r=n(676794),s=n(870428),d=n(480462),c=n(348597),u=n(785893);function p({children:e,pin:{imageSignature:t,isEligibleForPdp:n,isOosProduct:i,isStaleProduct:l,shoppingFlags:p,trackingParams:m},pinId:h,viewParameter:g}){var _;const y=(0,a.useHistory)(),v=(0,a.useLocation)(),f=(0,c.Z)(null===(_=v.state)||void 0===_?void 0:_.trackingParams,m);return(0,u.jsx)(r.Z,{auxData:{closeup_navigation_type:(0,s.Z)(y),commerce_data:(0,d.Z)({isEligibleForPdp:n,isOosProduct:i,isStaleProduct:l,pinShoppingFlags:null!=p?p:[]})},clientTrackingParams:f,objectIdStr:h,viewData:{pin_id:h,closeup_rich_types:null!=p?p:[],image_signature:t||null},viewParameter:g,viewType:3,component:13283,children:(0,u.jsx)(o.Z,{view:3,objectId:h,clientTrackingParams:f,children:e})})}function m({children:e,pinKey:t,...a}){const{data:o}=(0,l.k5)(void 0!==i?i:i=n(162247),t,{type:"pin",useLegacyAdapter:e=>({imageSignature:e.image_signature,isEligibleForPdp:e.is_eligible_for_pdp,isOosProduct:e.is_oos_product,isStaleProduct:e.is_stale_product,shoppingFlags:e.shopping_flags,trackingParams:e.tracking_params})});return o?(0,u.jsx)(p,{pin:o,...a,children:e}):null}},281922:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(883119),a=n(342693),l=n(536042),o=n(630089),r=n(898252),s=n(282802),d=n(98736),c=n(618569),u=n(549201),p=n(785893);function m({isImagePinForUnauthOnTablet:e,isWebOnePinEnabled:t,onClickTitleOrDomain:n,pinCreditPrefix:m,pinDomain:h}){const{isAuthenticated:g}=(0,s.B)(),_=(0,l.ZP)(),y=(0,c.Z)(),v=(0,u.HG)(),f=(0,r._S)(h);return(0,p.jsx)(i.kC,{alignItems:"center",direction:"row",justifyContent:v?"start":"center",width:"100%",children:(0,o.nk)(_._('{{ pinCreditPrefix }} {{ pinCredit }}', 'tells the user where the pin is from in the form of Saved from website', 'tells the user where the pin is from in the form of Saved from website'),{pinCreditPrefix:(0,p.jsx)(i.xu,{display:"inlineBlock",children:(0,p.jsx)(i.xv,{inline:!0,size:t?a.n:"200",children:m})},"pinCreditsPrefix"),pinCredit:f?(0,p.jsx)(i.xu,{display:"inlineBlock",marginStart:1,maxWidth:"60vw","data-test-id":"pin-domain-link",children:(0,p.jsx)(i.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),y({action:"click",item:"pin-domain-link"}),(0,d.My)("mweb_pin_page.pin_link.clickthrouh"),g||(0,d.NC)("click_pin_closeup_link_clickthrough"),n()},tapStyle:"compress",children:(0,p.jsx)(i.xv,{size:t?a.n:"200",weight:e?void 0:"bold",lineClamp:1,children:(0,p.jsx)("span",{style:e?{textDecoration:"underline"}:{},children:h})},"pinLinkDomain")})},"pinCredits"):""})})}},723608:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(536042),a=n(265259),l=n(993869),o=n(41162),r=n(360588),s=n(818746),d=n(741099),c=n(930359),u=n(776842),p=n(305202),m=n(84262),h=n(673118),g=n(460914),_=n(785893);function y({data:e}){var t,n,a;const l=(0,o.E)(),s=(0,i.ZP)(),{derived:{imageUrl:c,placeholder:u},pin:m}=e,y=(0,h.Z)();return(0,_.jsx)(g.Z,{onTouch:e=>{e.preventDefault(),e.stopPropagation(),y({linkType:(m.mobileLink?"mobile":m.trackedLink&&"tracked")||m.link&&"external"||"original",viewParameter:(0,p.M_)(m)})},pressState:"none",fullWidth:!0,children:(0,_.jsx)(d.Z,{alt:s._('Pin image', 'Pin closeup image', 'Pin closeup image'),color:m.dominantColor||"#efefef",naturalHeight:null!==(t=null==u?void 0:u.height)&&void 0!==t?t:1,naturalWidth:null!==(n=null==u?void 0:u.width)&&void 0!==n?n:1,placeholder:null!==(a=null==u?void 0:u.url)&&void 0!==a?a:"",pwtElementTimingId:r.f,pwtSurfaceContext:l,showSpinner:!1,src:c})})}function v({children:e,previewData:{pin:t},shouldTrackView:n}){return n?(0,_.jsx)(u.G,{pin:{imageSignature:t.imageSignature,isEligibleForPdp:null,isOosProduct:null,isStaleProduct:null,shoppingFlags:null,trackingParams:t.trackingParams},pinId:t.entityId,viewParameter:(0,p.M_)(t),children:e}):e}function f({actionBarPosition:{isInline:e,setIsInline:t},data:n,detailsEnabled:i,shouldTrackView:o}){const r=null!=e&&e;return(0,_.jsx)(v,{previewData:n,shouldTrackView:o,children:(0,_.jsxs)(l.default,{dataLayoutShiftBoundaryId:"CloseupPageContainer",hasFixedHeader:!0,hasGutter:!0,children:[(0,_.jsx)(m.Z,{}),i&&!r&&(0,_.jsx)(p.Hw,{data:n,isInline:!1}),(0,_.jsx)(s.Z,{isShowingBreadcrumbs:!1,sideBySideOptions:null,media:(0,_.jsx)(a.Z,{roundedForLargeDevice:!0,children:(0,_.jsx)(y,{data:n})}),detail:i?(0,_.jsx)(p.kU,{actionBarPosition:{setIsInline:t,isInline:r},data:n}):null}),(0,_.jsx)(c.Z,{})]})})}},305202:(e,t,n)=>{n.d(t,{Hw:()=>z,M_:()=>R,kU:()=>N,rb:()=>U});var i=n(667294),a=n(702664),l=n(616550),o=n(883119),r=n(870243),s=n(536042),d=n(149596),c=n(7997),u=n(898252),p=n(465991),m=n(245410),h=n(618569),g=n(549201),_=n(90595),y=n(281922),v=n(936840),f=n(238941),b=n(944625),x=n(292439),k=n(270697),P=n(994405),S=n(460914),w=n(348597),T=n(230910),I=n(410834),A=n(467037),C=n(133835),j=n(428876),E=n(785893);const R=e=>{var t,n,i,a;return(0,T.CK)({hasRichMetadata:!!e.richMetadata,hasRichMetadataProducts:!(null===(t=e.richMetadata)||void 0===t||null===(n=t.products)||void 0===n||!n.length),hasRichMetadataArticle:!(null===(i=e.richMetadata)||void 0===i||!i.article),hasRichMetadataRecipe:!(null===(a=e.richMetadata)||void 0===a||!a.recipe)})},L=({pin:e,derived:t})=>{var n,i,l,o;const{commerceData:r,imagesUrls:s}=t,d=(0,a.useSelector)((({experiences:e})=>e[1000162]));return(0,v.O5)({category:e.category,clickthroughInterstitialExperience:d,commerceData:r,domain:e.domain,embedSrc:null===(n=e.embed)||void 0===n?void 0:n.src,embedType:null===(i=e.embed)||void 0===i?void 0:i.type,hasPin:!0,hasPromoter:!(!e.promoter||e.isDownstreamPromotion),imageSignature:e.imageSignature,imagesUrls:s,link:e.link,linkDomainOfficialUserImageMediumUrl:null===(l=e.linkDomain)||void 0===l||null===(o=l.officialUser)||void 0===o?void 0:o.imageMediumUrl,mobileLink:e.mobileLink,pinId:e.entityId,trackedLink:e.trackedLink,trackingParams:e.trackingParams,viewParameter:R(e)})};function D({data:{pin:e,derived:t}}){var n,i,a,o,r,s,d,c,p,m,h,g,_,y,v,f,b,x,k,S,T;const{imagesUrls:L}=t,D=(0,l.useLocation)(),{deeplinkUri:F,mwebUri:z}=(0,u.NK)(e.entityId,D),M=(0,P.Yg)(),O=(0,I.Z)({embedSrc:null===(n=e.embed)||void 0===n?void 0:n.src,embedType:null===(i=e.embed)||void 0===i?void 0:i.type,hasRichMetadata:!!e.richMetadata,hasRichMetadataArticle:!(null===(a=e.richMetadata)||void 0===a||!a.article),hasRichMetadataProducts:!(null===(o=e.richMetadata)||void 0===o||null===(r=o.products)||void 0===r||!r.length),hasRichMetadataRecipe:!(null===(s=e.richMetadata)||void 0===s||!s.recipe),imagesUrls:L,isStoryPin:!1,pinId:e.entityId}),B=(0,C.Z)({boardId:null!==(d=null===(c=e.board)||void 0===c?void 0:c.entityId)&&void 0!==d?d:"",embedSrc:null===(p=e.embed)||void 0===p?void 0:p.src,embedType:null===(m=e.embed)||void 0===m?void 0:m.type,imagesUrls:L,pinId:e.entityId,pinnerId:null!==(h=null===(g=e.pinner)||void 0===g?void 0:g.entityId)&&void 0!==h?h:"",pinnedToBoardId:null!==(_=null===(y=e.pinnedToBoard)||void 0===y?void 0:y.entityId)&&void 0!==_?_:"",pinSectionId:null!==(v=null===(f=e.section)||void 0===f?void 0:f.entityId)&&void 0!==v?v:"",trackingParams:e.trackingParams}),Z=(0,A.Z)({embedSrc:null===(b=e.embed)||void 0===b?void 0:b.src,embedType:null===(x=e.embed)||void 0===x?void 0:x.type,imagesUrls:L,pinId:e.entityId,pinnerId:null!==(k=null===(S=e.pinner)||void 0===S?void 0:S.entityId)&&void 0!==k?k:""});return(0,E.jsx)(j.Z,{clientTrackingParams:(0,w.Z)(D.state?D.state.trackingParams:"",e.trackingParams),deeplinkUri:Z&&(null===(T=e.pinnedToBoard)||void 0===T?void 0:T.url)||F,onTouch:e=>{null==M||M("main_pin_savebutton_pinactionbar_preview"),O(e)},onUnsave:B,pinId:e.entityId,shouldShowSavedButton:Z,to:z,viewType:3,viewParameter:R(e),color:"primary"})}function F({data:e}){var t,n;const i=(0,s.ZP)(),{pin:a}=e,l=(0,c.Z)({hasRecipe:!(null===(t=a.richMetadata)||void 0===t||!t.recipe),hasArticle:!(null===(n=a.richMetadata)||void 0===n||!n.article),i18n:i}),r=L(e),d=(0,h.Z)(),u=(0,P.Yg)();return(0,E.jsx)(o.zx,{accessibilityLabel:l,fullWidth:!0,size:"lg",onClick:()=>{d({action:"click",item:"main-pin-section-visit-button"}),null==u||u("main_pin_clickthrough"),r()},text:l})}function z({data:e,isInline:t}){const{pin:n}=e,i=(0,f.Z)({link:n.link,mobileLink:n.mobileLink,trackedLink:n.trackedLink});return(0,E.jsx)(x.Z,{isActionBarInline:t,showHorizontalActionBar:!0,backButton:t?null:(0,E.jsx)(b.Z,{viewParameter:R(n)}),commentButton:null,editOrMoreButton:null,headerLimitedOverflow:!1,saveButton:(0,E.jsx)(D,{data:e}),shareButtonGroup:null,visitButton:i?(0,E.jsx)(o.xu,{paddingX:2,"data-test-id":"visit-button-mobile",children:(0,E.jsx)(F,{data:e})}):null,isDesktop:!1})}function M({user:e}){var t,n,i;const a=(0,s.ZP)(),l=(0,h.Z)();return e?e.isCloseupAttribution?(0,E.jsxs)(o.kC,{alignItems:"center",direction:"row",justifyContent:"center",children:[(0,E.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",flex:"shrink",children:(0,E.jsx)(r.qE,{name:null!==(t=e.username)&&void 0!==t?t:"",size:"md",src:null!==(n=e.imageMediumUrl)&&void 0!==n?n:""})}),(0,E.jsxs)(o.xu,{display:"flex",direction:"column",marginStart:2,justifyContent:"center",minWidth:0,children:[(0,E.jsx)(o.xv,{size:"300",lineClamp:1,weight:"bold",children:e.fullName}),(0,E.jsx)(o.xv,{size:"300",children:null})]}),(0,E.jsx)(o.xu,{marginStart:"auto",children:null})]}):(0,E.jsx)(o.kC,{alignItems:"center",flex:"grow",justifyContent:"between",width:"100%",children:(0,E.jsx)(o.kC,{alignItems:"center",justifyContent:"between",overflow:"hidden",children:(0,E.jsxs)(o.kC,{alignItems:"center",flex:"shrink",justifyContent:"start",children:[(0,E.jsx)(o.xu,{flex:"none",marginEnd:2,children:(0,E.jsx)(o.HE,{accessibilityLabel:a._('User`s avatar', 'User`s avatar', 'User`s avatar'),onClick:()=>{l({action:"click",item:"avatar-image"})},collaborators:[{name:null!==(i=e.fullName)&&void 0!==i?i:"",src:e.imageMediumUrl||e.imageSmallUrl||void 0}],size:"md"})}),(0,E.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:(0,E.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",children:(0,E.jsx)(o.xv,{weight:"bold",children:e.fullName})})})]})})}):null}function O({data:e}){var t,n;const i=(0,g.ml)(),a=(0,s.ZP)(),l=L(e),{checkExperiment:r}=(0,m.F)(),{pin:d}=e;return!(0,T.AH)(d.link)&&r("mweb_hide_uploaded_copy").anyEnabled?null:(0,T.AH)(d.link)?(0,E.jsx)(o.xu,{"data-test-id":"callToActionButton",paddingY:i?2:0,children:(0,E.jsx)(y.Z,{isImagePinForUnauthOnTablet:!1,isWebOnePinEnabled:!0,onClickTitleOrDomain:l,pinCreditPrefix:(0,u._S)(d.domain)?(0,T.Wj)({i18n:a,hasLinkDomain:!!d.linkDomain,hasRichMetadataArticle:!(null===(t=d.richMetadata)||void 0===t||!t.article),hasRichMetadataRecipeCategorizedIngredients:!1,hasRichMetadataTutorial:!(null===(n=d.richMetadata)||void 0===n||!n.tutorial),richMetadataRecipeFromAggregatedData:!1}):null,pinDomain:d.domain})}):(0,E.jsx)(o.xu,{display:"flex",justifyContent:i?"center":"start",alignItems:"center",paddingY:i?2:0,children:(0,E.jsx)(o.xv,{size:"200",children:a._('Uploaded to Pinterest', 'closeup.details.uploadToPinterest', 'This is an image only Pin that was uploaded to Pinterest')})})}function B({data:e}){var t,n,i,a,l;const{pin:r}=e,s=L(e),d=(0,E.jsx)(o.X6,{align:"center",accessibilityLevel:1,overflow:"breakWord",size:"500",lineClamp:2,children:(0,p.Ly)({pinTitle:r.title,gridTitle:r.gridTitle,richSummaryDisplayName:null===(t=r.richSummary)||void 0===t?void 0:t.displayName,richMetadataTitle:null===(n=r.richMetadata)||void 0===n?void 0:n.title,storyPinDataId:r.storyPinDataId,storyPinDataMetadataPinTitle:null===(i=r.storyPinData)||void 0===i||null===(a=i.metadata)||void 0===a?void 0:a.pinTitle,pinJoinVisualAnnotation:null===(l=r.pinJoin)||void 0===l?void 0:l.visualAnnotation,seoNoindexReason:r.seoNoindexReason,seoTitle:r.seoTitle})});return(0,E.jsx)(o.xu,{"data-test-id":"pinTitle",maxWidth:"100%",alignSelf:"stretch",children:(0,T.AH)(r.link)?(0,E.jsx)(S.Z,{pressState:"compress",onTouch:e=>{e.preventDefault(),e.stopPropagation(),s()},children:d}):d})}function Z({data:e}){var t,n;const{pin:i}=e,a=(0,g.ml)(),l=null===(t=i.closeupUnifiedDescription)||void 0===t?void 0:t.trim();return(0,E.jsx)(o.xu,{maxWidth:"100%",dangerouslySetInlineStyle:{__style:{textAlign:a?"center":void 0}},children:(0,E.jsx)(_.Z,{photoAttribution:null,text:null!==(n=i.richMetadata)&&void 0!==n&&n.recipe?null:l})})}const N=({actionBarPosition:e,data:t})=>{const n=(0,g.ml)(),{pin:i}=t,a=i.nativeCreator||(i.linkDomain?i.linkDomain.officialUser:i.originPinner||i.pinner),l=a&&!i.nativeCreator&&(i.linkDomain||i.originPinner),r=!l&&(0,E.jsx)(O,{data:t}),s=(0,E.jsx)(M,{user:i.closeupAttribution?{isCloseupAttribution:!0,fullName:i.closeupAttribution.fullName,imageMediumUrl:i.closeupAttribution.imageMediumUrl,username:i.closeupAttribution.username}:a&&l?{isCloseupAttribution:!1,fullName:a.fullName,imageMediumUrl:a.imageMediumUrl,imageSmallUrl:a.username}:null});return(0,E.jsxs)(o.xu,{width:"100%",paddingY:4,paddingX:2,children:[n&&s,r,(0,E.jsx)(o.xu,{paddingY:2,children:(0,E.jsx)(o.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,E.jsx)(B,{data:t})})}),(0,E.jsx)(d.Z,{options:{threshold:[1]},onVisibilityChange:t=>{if(t&&t.length>0){const{intersectionRatio:n,boundingClientRect:i}=t[0],a=1===n,l=i.y<0;e.setIsInline(a||l)}},children:e=>(0,E.jsx)(o.xu,{ref:e,children:(0,E.jsx)(o.xu,{paddingY:2,children:(0,E.jsx)(Z,{data:t})})})}),!n&&s,e.isInline&&(0,E.jsx)(o.xu,{paddingY:2,children:(0,E.jsx)(z,{data:t,isInline:!0})})]})},U=({actionBarPosition:e,pinId:t,setIsShowingCloseupDetailsSuspenseFallback:n})=>{(0,i.useEffect)((()=>(n(!0),()=>n(!1))),[n]);const a=(0,k.Z)(t);return a.enabled&&a.detailsEnabled?(0,E.jsx)(N,{actionBarPosition:e,data:a.data}):null}},956745:(e,t,n)=>{n.d(t,{Z:()=>m});n(167912);var i,a=n(883119),l=n(870243),o=n(825389),r=n(536042),s=n(630089),d=n(802071),c=n(785893);const u=void 0!==i?i:i=n(737304);function p({pin:e}){var t,n,i;const o=(0,r.ZP)(),u=(0,d.Z)(),p=!("quick_creates"!==(null===(t=e.board)||void 0===t?void 0:t.layout));if(!(u.id===(null===(n=e.pinner)||void 0===n?void 0:n.entityId))||p||!u.isAuth)return null;const{imageMediumUrl:m,username:h}=u||{};let g;if(null!==(i=e.section)&&void 0!==i&&i.title&&e.section.slug){var _,y,v;const t=`${null!==(_=null===(y=e.board)||void 0===y?void 0:y.url)&&void 0!==_?_:""}${e.section.slug}/`;g=(0,s.nk)(o._('{{ you }} {{ savedTo }} {{ sectionName }}', 'closeup.savedAttribution.section', 'Showing that you saved this pin to a section within a board on closeup'),{you:(0,c.jsx)(a.xu,{display:"inlineBlock",marginEnd:1,children:(0,c.jsx)(a.rU,{href:`/${h}`,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,c.jsx)(a.xv,{size:"300",weight:"bold",children:o._('You', 'closeup.savedAttribution.user', 'This is the user')})},"author")},h),savedTo:(0,c.jsx)(a.xu,{children:(0,c.jsx)(a.xv,{size:"300",children:o._('saved to', 'closeup.savedAttribution.savedTo', 'saved to text')})},"saved-to"),sectionName:(0,c.jsx)(a.xu,{display:"inlineBlock",marginStart:1,children:(0,c.jsx)(a.rU,{href:t,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,c.jsx)(a.xv,{size:"300",weight:"bold",lineClamp:1,children:null===(v=e.section)||void 0===v?void 0:v.title})},"section")},t)})}else{var f,b,x,k,P,S;g=(0,s.nk)(o._('{{ you }} {{ savedTo }} {{ boardName }}', 'closeup.savedAttribution.board', 'Indicating you saved this pin to a board on closeup'),{you:(0,c.jsx)(a.xu,{display:"inlineBlock",marginEnd:1,children:(0,c.jsx)(a.rU,{href:`/${h}`,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,c.jsx)(a.xv,{inline:!0,size:"300",weight:"bold",children:o._('You', 'closeup.savedAttribution.user', 'This is the user')})},"author")},h),savedTo:(0,c.jsx)(a.xu,{children:(0,c.jsx)(a.xv,{size:"300",children:o._('saved to', 'closeup.savedAttribution.savedTo', 'saved to text')})},"saved-to"),boardName:(0,c.jsx)(a.xu,{display:"inlineBlock",marginStart:1,children:(0,c.jsx)(a.rU,{href:null!==(x=null===(k=e.board)||void 0===k?void 0:k.url)&&void 0!==x?x:"",rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,c.jsx)(a.xv,{inline:!0,size:"300",weight:"bold",children:null!==(P=null===(S=e.board)||void 0===S?void 0:S.name)&&void 0!==P?P:""})},"author")},null!==(f=null===(b=e.board)||void 0===b?void 0:b.url)&&void 0!==f?f:"")})}return(0,c.jsxs)(a.xu,{display:"flex",direction:"row",maxWidth:"100%",marginTop:12,"data-test-id":"saved-attribution",children:[(0,c.jsx)(a.xu,{display:"flex",flex:"shrink","data-test-id":"saved-attribution-avatar",children:(0,c.jsx)(a.iP,{rounding:"circle",children:(0,c.jsx)(a.rU,{href:`/${h}`,rel:"nofollow",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,c.jsx)(l.qE,{size:"md",name:h,src:null!=m?m:""})},"profile")})}),(0,c.jsx)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:(0,c.jsx)(a.xu,{"data-test-id":"saved-attribution-board-or-section",alignItems:"baseline",display:"flex",marginStart:2,children:g})})]})}function m({graphqlRef:e,pinId:t}){const{data:n}=(0,o.k5)(u,e?{type:"graphqlRef",data:e}:{type:"deprecated",data:t},{type:"pin",useLegacyAdapter:e=>({board:e.board&&{layout:e.board.layout,name:e.board.name,url:e.board.url},pinner:e.pinner&&{entityId:e.pinner.id},section:e.section&&{slug:e.section.slug,title:e.section.title}})});return n&&(0,c.jsx)(p,{pin:n})}},209798:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(667294),a=n(883119),l=n(536042),o=n(874261),r=n(282802),s=n(756876);const d="undefined"!=typeof window&&window.innerWidth-32||400,c=40,u=40,p=e=>[{name:`${e}closeup`,width:d,height:d},{name:`${e}title`,width:d,height:24},{name:`${e}attribution`,width:u,height:c},{name:`${e}credit`,width:d-u-8,height:40},{name:`${e}visit_button`,width:d,height:40},{name:`${e}pin_grid_pin`,width:(d-32)/2,height:100}].map((({name:e,width:t,height:n})=>(0,s.Z)({name:e,width:t,height:n}))).join("");var m=n(785893);const h="CloseupPageSkeletonLoader__",g=()=>{const e=(0,l.ZP)(),{isAuthenticated:t}=(0,r.B)();return(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(o.Z,{unsafeCSS:p(h)}),(0,m.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,m.jsxs)(i.Fragment,{children:[(0,m.jsx)(a.xu,{marginTop:4,marginEnd:3,children:(0,m.jsx)("div",{className:h+"closeup"})}),(0,m.jsx)(a.xu,{marginTop:3,children:(0,m.jsx)("div",{className:h+"title"})}),(0,m.jsxs)(a.xu,{display:"flex",direction:"row",marginTop:3,children:[(0,m.jsx)(a.xu,{children:(0,m.jsx)("div",{className:h+"attribution"})}),(0,m.jsx)(a.xu,{marginStart:2,children:(0,m.jsx)("div",{className:h+"credit"})})]}),(0,m.jsx)(a.xu,{marginTop:3,children:(0,m.jsx)(a.iz,{})})]}),(0,m.jsx)(a.xu,{marginBottom:3,marginTop:2,children:(0,m.jsx)(a.xv,{weight:"bold",align:t?void 0:"center",children:e._('More like this', 'On mobile web pin page, title for related pins beneath pin closeup', 'On mobile web pin page, title for related pins beneath pin closeup')})}),(0,m.jsxs)(a.xu,{display:"flex",direction:"row",marginTop:3,children:[(0,m.jsx)(a.xu,{marginStart:t?2:1,marginEnd:t?2:1,children:(0,m.jsx)("div",{className:h+"pin_grid_pin"})}),(0,m.jsx)(a.xu,{marginStart:t?2:1,marginEnd:t?2:1,children:(0,m.jsx)("div",{className:h+"pin_grid_pin"})})]})]})]})}},84262:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(883119),a=n(633917),l=n(282802),o=n(882973),r=n(549201),s=n(519218),d=n(785893);function c({pinActionBarOptionsButton:e,l1interestFallbackUrl:t}){const{isAuthenticated:n}=(0,l.B)(),c=(0,r.ZP)();return(0,d.jsx)(i.Le,{top:n?0:(0,o.x9)(c),children:(0,d.jsx)(i.xu,{position:"absolute",marginTop:2,width:"100%",dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:(0,d.jsxs)(i.kC,{justifyContent:"between",children:[(0,d.jsx)(a.Z,{children:(0,d.jsx)(s.Z,{fallbackUrlForExp:t,bgColor:"white",color:"darkGray",fallbackUrl:n?"/":"/ideas",padding:3,viewParameter:156,viewType:3})}),!!e&&(0,d.jsx)(a.Z,{children:e})]})})})}},142900:(e,t,n)=>{n.d(t,{Z:()=>d});n(167912);var i,a=n(635408),l=n(825389),o=n(463031),r=n(896507),s=n(785893);function d({pinId:e,pinKey:t,placeholder:d}){var c,u;const{data:p,childDataKey:m}=(0,l.JI)(void 0!==i?i:i=n(947715),t,{type:"pin",useGraphQLAdapter:e=>e.storyPinData,useLegacyAdapter:e=>e?e.story_pin_data:null}),h=null==p||null===(c=p.pages)||void 0===c?void 0:c[0].pageId,g=null==p||null===(u=p.pages)||void 0===u?void 0:u[0].blocks,{blocks:_}=(0,a.Z)({storyPinBlocks:null!=g?g:[],blocksToRender:[o.h8.COMMENT_REPLY_STICKER,o.h8.GENERIC_STICKER,o.h8.HEADING,o.h8.MENTION_STICKER,o.h8.PARAGRAPH,o.h8.PRODUCT_STICKER,o.h8.VTO_MAKEUP_STICKER,o.h8.IMAGE]});return p?(0,s.jsx)(r.Z,{blocks:_,isActive:!0,isCoverImageWithTitle:!0,isSinglePage:!0,isStaticImageIdeaPin:!0,muteVideos:!0,pinAspectRatio:((null==d?void 0:d.width)||0)/((null==d?void 0:d.height)||1),pinId:e,pageId:h,maybeGraphqlRef:"graphqlRef"===m.type?m.data:null}):null}},226590:(e,t,n)=>{n.d(t,{Z:()=>k});var i,a=n(167912),l=n(883119),o=n(525571),r=n(943795),s=n(465991),d=n(282802),c=n(98736),u=n(549201),p=n(460914),m=n(525104),h=n(712968),g=n(229527),_=n(785893);const y=({children:e,handleTap:t})=>t?(0,_.jsx)(p.Z,{onTouch:t,pressState:"compress",children:e}):e,v=void 0!==i?i:i=n(357285);function f({onClick:e,hasLink:t,forceSmallerHeading:n,textAlign:i,pinTitle:a,gridTitle:p,richSummaryDisplayName:m,richMetadataTitle:v,storyPinDataId:f,storyPinDataMetadataPinTitle:b,pinJoinVisualAnnotation:x,lineClamp:k,seoNoindexReason:P,seoTitle:S}){const w=(0,u.ZP)(),{isAuthenticated:T,isBot:I}=(0,d.B)(),A=(0,h.Tt)(),C=(0,o.Z)(null==A?void 0:A.created_at)&&!(null!=A&&A.is_matured_new_user),j=n||C,E=(0,s.Ly)({pinTitle:a,gridTitle:p,richSummaryDisplayName:m,richMetadataTitle:v,storyPinDataId:f,storyPinDataMetadataPinTitle:b,pinJoinVisualAnnotation:x,seoNoindexReason:P,seoTitle:S});return(0,_.jsx)(g.Z,{hash:"details",offset:-r.DEFAULT_HEIGHT,children:(0,_.jsx)(l.kC,{alignItems:"desktop"===w?"start":"center",direction:"column",justifyContent:"center",children:(0,_.jsx)(l.xu,{"data-test-id":"pinTitle",maxWidth:"100%",alignSelf:"stretch",children:(0,_.jsx)(y,{handleTap:"desktop"!==w&&t?t=>{t.preventDefault(),t.stopPropagation(),(0,c.My)("mweb_pin_page.pin_title.click"),T||(0,c.NC)("unauth_click_pin_closeup_title"),e()}:null,children:(0,_.jsx)(l.X6,{align:i||("desktop"===w?"start":"center"),accessibilityLevel:1,overflow:"breakWord",size:j?"400":"500",lineClamp:I?void 0:k,children:E})})})})})}function b(e){var t,n,i,l,o,r,s;const d=(0,a.useFragment)(v,e.graphqlRef);return(0,_.jsx)(f,{onClick:e.onClick,hasLink:e.hasLink,forceSmallerHeading:e.forceSmallerHeading,lineClamp:e.lineClamp,textAlign:e.textAlign,pinId:e.pinId,pinTitle:null==d?void 0:d.title,gridTitle:null==d?void 0:d.gridTitle,richSummaryDisplayName:null!==(t=null==d||null===(n=d.richSummary)||void 0===n?void 0:n.displayName)&&void 0!==t?t:"",richMetadataTitle:null!==(i=null==d||null===(l=d.richMetadata)||void 0===l?void 0:l.title)&&void 0!==i?i:"",storyPinDataId:null==d?void 0:d.storyPinDataId,storyPinDataMetadataPinTitle:null==d||null===(o=d.storyPinData)||void 0===o||null===(r=o.metadata)||void 0===r?void 0:r.pinTitle,pinJoinVisualAnnotation:(null==d||null===(s=d.pinJoin)||void 0===s?void 0:s.visualAnnotation)||void 0,seoNoindexReason:null==d?void 0:d.seoNoindexReason,seoTitle:null==d?void 0:d.seoTitle})}function x(e){var t,n,i,a,l,o,r;const s=(0,m.S6)()(e.pinId||"");return s?(0,_.jsx)(f,{onClick:e.onClick,hasLink:e.hasLink,forceSmallerHeading:e.forceSmallerHeading,lineClamp:e.lineClamp,textAlign:e.textAlign,pinId:e.pinId,pinTitle:s.title,gridTitle:s.grid_title,richSummaryDisplayName:null!==(t=null===(n=s.rich_summary)||void 0===n?void 0:n.display_name)&&void 0!==t?t:"",richMetadataTitle:null!==(i=null===(a=s.rich_metadata)||void 0===a?void 0:a.title)&&void 0!==i?i:"",storyPinDataId:s.story_pin_data_id,storyPinDataMetadataPinTitle:null===(l=s.story_pin_data)||void 0===l||null===(o=l.metadata)||void 0===o?void 0:o.pin_title,pinJoinVisualAnnotation:null===(r=s.pin_join)||void 0===r?void 0:r.visual_annotation,seoNoindexReason:s.seo_noindex_reason,seoTitle:s.seo_title}):null}function k(e){return e.graphqlRef?(0,_.jsx)(b,{...e}):(0,_.jsx)(x,{...e})}},558533:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),a=n(515367);const l=new i.H3([a.e])},939782:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),a=n(785893);const l=function({marginStart:e}){return(0,a.jsx)(i.xu,{width:"100vw",dangerouslySetInlineStyle:{__style:{marginLeft:4*e+"px"}},children:(0,a.jsx)(i.iz,{})})}},752491:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),a=n(883119),l=n(388011),o=n(88622),r=n(536042),s=n(785893);function d({pinId:e,viewParameter:t}){const{logContextEvent:n}=(0,l.v)(),d=(0,r.ZP)(),[c,u]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{u(!1)}),[e]),c?null:(0,s.jsx)(o.ZP,{accessibilityModalLabel:"",mobileIsSlideUp:!0,isOpen:!0,onDismiss:()=>{n({event_type:102,view_type:3,view_parameter:t,element:12511}),u(!0)},mobileHideCloseIcon:!0,children:(0,s.jsx)(a.xu,{rounding:6,padding:9,marginBottom:3,color:"default",children:(0,s.jsxs)(a.kC,{gap:{row:0,column:4},direction:"column",alignItems:"center",justifyContent:"center",children:[(0,s.jsx)(a.xv,{align:"center",children:d._('This Pin was created with early test tools that no longer exist, so parts of the content may be permanently missing.', 'storyPinCloseup.MobileModal.V1DeprecationMessage', 'Message letting user know that V1 Idea Pins are deprecated.')}),(0,s.jsx)(a.zx,{color:"red",text:d._('Got it', 'storyPinCloseup.MobileModal.V1DeprecationAcknowledgementButton', 'Button for user\'s acknowledgement of V1 idea pins deprecation.'),onClick:()=>{n({event_type:102,view_type:3,view_parameter:t,element:12511}),u(!0)}})]})})})}},99562:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(282802),l=n(785893);const o=new i.H3([new i.Ry(0)]);function r({onMoreButtonTap:e,onSendButtonTap:t}){const{userAgent:{platform:n}}=(0,a.B)();return(0,l.jsxs)(i.xu,{position:"absolute",top:!0,zIndex:o,width:"100%",padding:6,display:"flex",justifyContent:"end",children:[(0,l.jsx)(i.hU,{accessibilityLabel:"share",icon:"android"===n?"android-share":"share",bgColor:"transparentDarkGray",onClick:t,size:"md"}),(0,l.jsx)(i.xu,{marginStart:2,children:(0,l.jsx)(i.hU,{accessibilityLabel:"overflow menu",icon:"ellipsis",bgColor:"transparentDarkGray",onClick:e,size:"md"})})]})}},858815:(e,t,n)=>{n.d(t,{Z:()=>M});var i=n(883119),a=n(616550),l=n(388011),o=n(377234),r=n(536042),s=n(282802),d=n(98736),c=n(618569),u=n(549201),p=n(272109),m=n(199999),h=n(785893);const g=44,_=20;function y({imageSignature:e,pinId:t,showUpsell:n=!0,viewParameter:y}){const v=(0,r.ZP)(),{logContextEvent:f}=(0,l.v)(),b=(0,c.Z)(),{isAuthenticated:x}=(0,s.B)(),k=(0,o.vs)(),P=(0,u.HG)(),S=(0,u.ml)(),w=(0,a.useHistory)(),T=(0,m.a)(),I=k?"rgba(51, 51, 51, 0.8)":"rgba(255, 255, 255, 0.8)";return(0,p.Z)((()=>{f({aux_data:{image_signature:e},component:128,element:234,event_type:120,view_parameter:y,view_type:3})})),(0,h.jsx)(i.iP,{onTap:({event:i})=>{x||((0,d.My)((P?"dweb":"mweb")+"_pin_page.flashlight_icon_click"),b({action:"click",item:"visual-search-icon",within:"pin-image"})),i.stopPropagation(),i.preventDefault(),f({aux_data:{image_signature:e},component:128,element:234,event_type:102,view_parameter:y,view_type:3}),!x&&S&&T&&n?T.setShouldShowVisualSearchAppUpsell(!0):w&&t?w.push(`/pin/${t}/visual-search/`):(0,d.My)((P?"dweb":"mweb")+"_pin_page.flashlight_icon_click.error")},tapStyle:"compress",children:(0,h.jsx)(i.xu,{"data-test-id":"visual-search-icon",alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:I}},display:"flex",height:g,justifyContent:"center",rounding:"pill",width:g,children:(0,h.jsx)(i.JO,{accessibilityLabel:v._('Visual search', 'flashlight.button', 'Button to search for visually similar Pins'),color:"default",icon:"flashlight",size:_})})})}var v=n(992865);const f=()=>{const{scrollToPins:e}=(0,v.Z)(),t=(0,r.ZP)();return(0,h.jsx)(i.xu,{"data-test-id":"more-like-this-button",children:(0,h.jsx)(i.iP,{onTap:({event:t})=>{t.stopPropagation(),t.preventDefault(),(0,d.My)("remove_drawer_exp.more_like_this.scroll_to_pins"),e(!0)},children:(0,h.jsx)(i.kC,{alignItems:"stretch",justifyContent:"end",children:(0,h.jsxs)(i.xu,{alignContent:"between",alignItems:"center",color:"default",display:"flex",padding:3,rounding:"pill",children:[(0,h.jsx)(i.xu,{marginEnd:3,rounding:"pill",color:"default",children:(0,h.jsx)(i.xv,{inline:!0,weight:"bold",children:t._('More like this', 'mobilePinPage.relatedPins.title', 'On mobile web pin page, title for related pins beneath pin closeup')})}),(0,h.jsx)(i.JO,{accessibilityLabel:t._('Scroll to related pins button', 'mobilePinPage.relatedPins.scroll', 'Button to auto scroll to the related pins section'),color:"dark",icon:"arrow-down",inline:!0})]})})})})};var b=n(667294),x=n(245410),k=n(164671),P=n(552369),S=n(882973);const w=80,T=16;function I({pinId:e,imageSignature:t,unauthVisualSearchExpGroup:n}){const a=(0,u.HG)(),l=(0,u.ml)(),[o,r]=(0,b.useState)(!1),[s,d]=(0,b.useState)(!1),c=(0,b.useRef)();return(0,p.Z)((()=>{const e=(0,P.Z)((()=>{if(c.current){const t=c.current,{top:n}=t.getBoundingClientRect(),i=n>(l?S.SB:S.Pw);!s&&i&&(r(!0),d(!0),window.removeEventListener("scroll",e))}}),10);n.includes("enabled_animated")&&!a?window.addEventListener("scroll",e):r(!0)})),(0,h.jsxs)(i.xu,{bottom:!0,left:!0,right:!0,top:!0,position:"absolute",children:[(0,h.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{height:"calc(100% - 60px)"}}}),(0,h.jsx)(i.Le,{bottom:T+(l?w:0),children:(0,h.jsx)(i.xu,{display:"flex",alignItems:"stretch",justifyContent:"end",paddingX:4,ref:c,children:(0,h.jsx)(i.xu,{overflow:"hidden",children:(0,h.jsx)(k.default,{animateShopButton:o,id:e,imageSignature:t,onAnimationComplete:()=>{r(!1)},surfaceType:"flashlight"})})})})]})}var A=n(163766);const C=new i.Ry(3),j=new i.Ry(1),E=({pulsarLocation:e,pinId:t,setHasVisualSearchEducationalPulsarBeenDismissed:n,setShowEducationalPulsar:l})=>{const[o,s]=(0,b.useState)(!1);(0,p.Z)((()=>{s(!0)}));const c=(0,b.useRef)(),u=(0,r.ZP)(),m=(0,a.useHistory)();return(0,h.jsxs)(i.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{top:e.current.top-S.Pw-2+"px",left:e.current.left-2+"px"}},zIndex:j,children:[(0,h.jsx)(i.xu,{position:"absolute",top:!0,margin:-5,ref:c,children:(0,h.jsx)(i.o3,{size:88})}),o&&(0,h.jsx)(i.Li,{anchor:c.current,idealDirection:"right",onDismiss:()=>{l(!1),n(!0),(0,d.My)("dweb.pin_page.flashlight_pulsar_action.click.dismiss")},message:u._('Want more Pins like this? Try visual search', 'closeup.mainPinImage.visualSearchPulsar.popover.message', 'a popover message for a pulsar that prompts users to try visual search'),primaryAction:{text:u._('Try it', 'closeup.pinImage.visualSearchPulsar.popover', 'a popover message for a pulsar that prompts users to try visual search'),onClick:()=>{(0,d.My)("dweb.pin_page.flashlight_pulsar_action.click"),l(!1),n(!0),(0,A.O_)(!0),m&&t?((e,t)=>{e.push(`/pin/${t}/visual-search/`)})(m,t):(0,d.My)("dweb.pin_page.flashlight_pulsar_action.click.error")}}})]})};function R({viewParameter:e,pinId:t}){const[n,a]=(0,b.useState)(!0),l=(0,b.useRef)(),{setHasVisualSearchEducationalPulsarBeenDismissed:o,showVisualSearchEducationalPulsar:r}=(0,A.ZP)(),s=(0,b.useRef)({top:0,left:0});return(0,p.Z)((()=>{if(l.current){var e,t;const{top:n,left:i}=l.current.getBoundingClientRect(),a=(null===(e=document.documentElement)||void 0===e?void 0:e.scrollTop)||0,o=(null===(t=document.documentElement)||void 0===t?void 0:t.scrollLeft)||0;s.current={top:n+a,left:i+o}}})),(0,b.useEffect)((()=>{l.current&&n&&r((0,h.jsx)(E,{pinId:t,pulsarLocation:s,setHasVisualSearchEducationalPulsarBeenDismissed:o,setShowEducationalPulsar:a}))}),[r,t,n,o]),(0,h.jsx)(i.Le,{bottom:0,zIndex:C,children:(0,h.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-76}},display:"flex",flex:"none",justifyContent:"end",padding:3,position:"absolute",right:!0,children:(0,h.jsx)(i.xu,{display:"flex",flex:"none",justifyContent:"end",paddingX:3,children:(0,h.jsx)(i.xu,{ref:l,children:(0,h.jsx)(y,{viewParameter:e,pinId:t,showUpsell:!1})})})})})}var L=n(781925);function D({viewParameter:e,pinId:t,imageSignature:n}){const{checkExperiment:i}=(0,x.F)(),a=(0,u.HG)(),{group:l}=i((0,L.Z)({isDesktop:a})),o=l.includes("animated");return(0,p.Z)((()=>{n||(0,d.My)("unauth_visual_search_exp.missing_image_signature")})),(0,h.jsx)(b.Fragment,{children:o?n&&(0,h.jsx)(I,{imageSignature:n,pinId:t,unauthVisualSearchExpGroup:l}):(0,h.jsx)(R,{viewParameter:e,pinId:t})})}const F=2,z=44+4*F*2;function M({imageSignature:e,isUnauthVisualSearchExp:t,pinId:n,type:a,viewParameter:l}){return"visualSearch"===a&&t?(0,h.jsx)(D,{pinId:n,imageSignature:e,viewParameter:l}):(0,h.jsx)(i.Le,{bottom:0,children:(0,h.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-z}},padding:F,position:"absolute",right:!0,children:"moreLikeThisButton"===a?(0,h.jsx)(f,{}):(0,h.jsx)(y,{imageSignature:e,pinId:n,viewParameter:l})})})}},18028:(e,t,n)=>{n.d(t,{Z:()=>S});var i,a=n(667294),l=n(702664),o=n(167912),r=n(883119),s=n(563962),d=n(870243),c=n(536042),u=n(734417),p=n(630089),m=n(282802),h=n(436422),g=n(41669),_=n(427778),y=n(525104),v=n(712968),f=n(785893);const b=void 0!==i?i:i=n(268511);function x({hideFollowButton:e,hideFollowerCount:t,viewerId:n,justifyContent:i,avatarSize:o,seeMoreButton:y,graphqlRef:b,pinId:x,pinImageSignature:k,userData:P,clientTrackingParams:S}){const w=(0,c.ZP)(),T=(0,u.Z)(),{id:I="",image_medium_url:A,follower_count:C,followed_by_me:j,username:E="",is_ads_only_profile:R=!1,ads_only_profile_site:L=""}=P,D=(0,v.mN)()(I),F=(0,l.useDispatch)(),z=(0,a.useRef)(),M=(0,s.Z)(),{locale:O}=(0,m.B)(),[B,Z]=(0,a.useState)(D?D.explicitly_followed_by_me:j),N=R&&L,U=N&&L?L:`/${E}/`;return(0,f.jsxs)(r.xu,{display:"flex",direction:"row","data-test-id":"official-user-attribution",alignItems:"center",justifyContent:i||"center",children:[(0,f.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",flex:"shrink",children:(0,f.jsx)(r.iP,{role:"link",href:U,rel:N?"nofollow":"none",target:N?"blank":null,onTap:()=>{N&&M({event_type:9371,element:13382,component:123})},children:(0,f.jsx)(d.qE,{name:E,size:o||"md",src:null!=A?A:""})})}),(0,f.jsxs)(r.xu,{display:"flex",direction:"column",marginStart:2,justifyContent:"center",minWidth:0,children:[(0,f.jsx)(h.Z,{fontWeight:"bold",graphqlRef:b,pinId:x}),!t&&(0,f.jsx)(r.xv,{size:"300",children:(0,p.nk)(w._('{{ followerCount }} followers', 'closeup.officialUser.followerCount', 'Official user\'s follower count'),{followerCount:T(O,C||0,{shortform:!0,shortform_maximum_fraction_digits:0})})})]}),y,!e&&(0,f.jsx)(a.Fragment,{children:(0,f.jsx)(r.xu,{marginStart:"auto",ref:z,children:(0,f.jsx)(g.Z,{followEventType:45,id:I,isFollowed:B,isUserFollowButton:!0,isUserMe:n===I,onFollow:e=>{Z(!0),F((0,_.ZN)(e,null,S))},onUnfollow:e=>{Z(!1),F((0,_.fv)(e,null,S))},pinId:x,size:"lg",shouldUseLegoColors:!0,unfollowEventType:46,viewType:3,auxData:x&&k?{pin_id:x,image_signature:k}:void 0,clientTrackingParams:S})})})]})}function k({graphqlRef:e,pinId:t,...n}){var i,l,r,s,d,c;const u=(0,o.useFragment)(b,e),p=u.closeupAttribution;return p&&u?(0,f.jsx)(x,{...n,pinId:t,pinImageSignature:null!==(i=u.imageSignature)&&void 0!==i?i:void 0,userData:{id:null!==(l=p.entityId)&&void 0!==l?l:void 0,image_medium_url:null!==(r=p.imageMediumUrl)&&void 0!==r?r:void 0,follower_count:null!==(s=p.followerCount)&&void 0!==s?s:void 0,followed_by_me:null!==(d=p.followedByMe)&&void 0!==d?d:void 0,username:null!==(c=p.username)&&void 0!==c?c:void 0,is_ads_only_profile:!!p.isAdsOnlyProfile,ads_only_profile_site:p.adsOnlyProfileSite},graphqlRef:u}):(0,f.jsx)(a.Fragment,{})}function P({pinId:e,...t}){var n;const i=(0,y.S6)()(e),l=null==i?void 0:i.closeup_attribution;return l&&i?(0,f.jsx)(x,{...t,pinId:e,pinImageSignature:null!==(n=i.image_signature)&&void 0!==n?n:void 0,userData:l}):(0,f.jsx)(a.Fragment,{})}function S({graphqlRef:e,...t}){return e?(0,f.jsx)(k,{...t,graphqlRef:e}):(0,f.jsx)(P,{...t})}},436422:(e,t,n)=>{n.d(t,{Z:()=>g});var i,a=n(667294),l=n(167912),o=n(883119),r=n(563962),s=n(793085),d=n(525104),c=n(785893);const u=void 0!==i?i:i=n(584473);function p({getDisplayName:e,fontWeight:t="normal",isVerifiedMerchant:n,fullName:i="",verifiedIdentityVerified:a,username:l="",isAdsOnlyProfile:d=!1,adsOnlyProfileSite:u="",onMouseDown:p}){const m=(0,r.Z)(),h=n||a,g=d&&u,_=g&&u?u:`/${l}/`;return(0,c.jsx)(o.iP,{role:"link",href:_,rel:g?"nofollow":"none",target:g?"blank":null,onMouseDown:()=>{p&&p()},onTap:()=>{g&&m({event_type:9371,element:13382,component:123})},children:(0,c.jsxs)(o.kC,{alignItems:"center",direction:"row",justifyContent:"start",minWidth:0,children:[(0,c.jsx)(o.xv,{size:"300",lineClamp:1,weight:t,children:e?e(i):i}),h&&(0,c.jsx)(o.xu,{marginStart:1,marginEnd:2,children:(0,c.jsx)(s.Z,{showVerifiedIdentity:!n,isVerifiedMerchant:n,size:"sm"})})]})})}function m(e){var t,n,i,o,r,s;const d=(0,l.useFragment)(u,e.graphqlRef),m=null==d?void 0:d.closeupAttribution;return m?(0,c.jsx)(p,{getDisplayName:e.getDisplayName,fontWeight:e.fontWeight,isVerifiedMerchant:null!==(t=m.isVerifiedMerchant)&&void 0!==t?t:void 0,fullName:null!==(n=m.fullName)&&void 0!==n?n:void 0,verifiedIdentityVerified:null!==(i=null===(o=m.verifiedIdentity)||void 0===o?void 0:o.verified)&&void 0!==i?i:void 0,username:null!==(r=m.username)&&void 0!==r?r:void 0,isAdsOnlyProfile:null!==(s=m.isAdsOnlyProfile)&&void 0!==s&&s,adsOnlyProfileSite:m.adsOnlyProfileSite,onMouseDown:e.onMouseDown}):(0,c.jsx)(a.Fragment,{})}function h(e){var t;const n=(0,d.S6)()(e.pinId),i=null==n?void 0:n.closeup_attribution;return i?(0,c.jsx)(p,{getDisplayName:e.getDisplayName,fontWeight:e.fontWeight,isVerifiedMerchant:i.is_verified_merchant,fullName:i.full_name,verifiedIdentityVerified:null===(t=i.verified_identity)||void 0===t?void 0:t.verified,username:i.username,isAdsOnlyProfile:i.is_ads_only_profile,adsOnlyProfileSite:i.ads_only_profile_site,onMouseDown:e.onMouseDown}):(0,c.jsx)(a.Fragment,{})}function g(e){return e.graphqlRef?(0,c.jsx)(m,{...e}):(0,c.jsx)(h,{...e})}},660016:(e,t,n)=>{n.d(t,{Z:()=>X});var i=n(667294),a=n(167912),l=n(883119),o=n(604094),r=n(536042),s=n(7997),d=n(450667),c=n(245410),u=n(282802),p=n(643183),m=n(549201),h=n(802071),g=n(736409),_=n(611756);const y=()=>{const e=(0,_.qn)("relatedPinsAppUpsell"),t=e&&Date.now()-e>g.F4;return!e||t};var v,f=n(799006),b=n(251951),x=n(873610),k=n(944625),P=n(292439),S=n(393786),w=n(447398),T=n(618569),I=n(936840),A=n(994405),C=n(785893);const j=void 0!==v?v:v=n(157035),E=({clickthrough:e,onLoad:t,actionButtonText:n})=>{const a=(0,T.Z)(),o=(0,A.Yg)();return(0,i.useEffect)((()=>{t&&t()}),[t]),(0,C.jsx)(l.xu,{"data-test-id":"main-pin-section-visit-button",children:(0,C.jsx)(l.zx,{accessibilityLabel:n,fullWidth:!0,size:"lg",onClick:()=>{a({action:"click",item:"main-pin-section-visit-button"}),null==o||o("main_pin_clickthrough"),e()},text:n||""})})},R=({clickthroughInterstitialExperience:e,graphqlRef:t,actionButtonText:n})=>{const i=(0,a.useFragment)(j,t),l=(0,I.It)({clickthroughInterstitialExperience:e,graphqlRef:i});return(0,C.jsx)(E,{clickthrough:l,actionButtonText:n})},L=({clickthroughInterstitialExperience:e,pinId:t,actionButtonText:n})=>{const i=(0,I.ZP)({clickthroughInterstitialExperience:e,pinId:t});return(0,C.jsx)(E,{clickthrough:i,actionButtonText:n})};function D({clickthroughInterstitialExperience:e,pinId:t,graphqlRef:n,actionButtonText:i}){return n?(0,C.jsx)(R,{graphqlRef:n,clickthroughInterstitialExperience:e,actionButtonText:i}):(0,C.jsx)(L,{clickthroughInterstitialExperience:e,pinId:t,actionButtonText:i})}var F,z=n(879100),M=n(411056),O=n(525104),B=n(712968),Z=n(428876),N=n(259501),U=n(753081);const K=(0,i.lazy)((()=>n.e(68657).then(n.bind(n,468657)))),V=(0,i.lazy)((()=>Promise.resolve().then(n.bind(n,154500)))),H=void 0!==F?F:F=n(272245),G=({children:e,experience:t,onCompleteRef:n})=>{const a=(0,i.useRef)();return(0,C.jsxs)(i.Fragment,{children:[(0,C.jsx)(l.xu,{ref:a,children:(0,C.jsx)(l.xu,{children:e})}),(0,C.jsx)(o.Z,{name:"SafeSuspense_PinActionBarSaveButton_ExperienceTooltipDelayedPulsar",children:(0,C.jsx)(p.Z,{children:(0,C.jsx)(K,{experience:t,eligibleIds:[503459,503761],anchor:a.current,showTooltip:!0,onCompleteRef:n})})})]})};function W({pinId:e,viewParameter:t}){const n=(0,r.ZP)(),[a,o]=(0,i.useState)(!1),s=(0,i.useRef)(null);return(0,C.jsxs)(l.xu,{ref:s,children:[(0,C.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:(0,C.jsx)(N.Z,{onDefaultSendButtonClick:()=>{o(!0)},viewParameter:t})}),a&&(0,C.jsx)(U.Z,{anchor:s.current,objectId:e,objectType:1,onDismiss:()=>o(!1),viewType:3,viewParameter:t,component:194,title:n._('Send this pin', 'PinCloseup.ShareMenu.Title', 'title for share menu popover')})]})}function $({aggregatedPinDataId:e,clickthroughInterstitialExperience:t,experience:n,isEligibleForAggregatedComments:a,isNewUser:s,isRemovablePin:g,onEditButtonClick:_,onMobileTap:v,onSendButtonClick:T,pinId:I,actionButtonText:j,pinnedToBoardId:E,pinnedToBoardUrl:R,nativePinType:L,scrolledToRelatedPins:F,shouldShowReactions:O,shouldShowBackButton:U,shouldShowShareOnVideoCloseup:K,isEligibleToVisitPin:H,hasPin:$,isEligibleForPdp:q,pinnerBlockedByMe:Y,maybeGraphqlRef:X,isActionBarInline:J}){const Q=(0,r.ZP)(),{checkExperiment:ee}=(0,c.F)(),te=(0,m.HG)(),{isAuthenticated:ne}=(0,u.B)(),ie=(0,b.R)(),{clientTrackingParams:ae,isStoryPin:le,shouldRenderAsStoryPin:oe,saveButtonConfig:re,viewParameter:se}=ie,de=(0,f.Z)(),ce=(0,i.useRef)(null),{id:ue}=(0,h.Z)(),pe=(0,B.mN)()(null!=ue?ue:""),{countryFromIp:me}=(0,u.B)(),{COUNTRY_CODES:he}=M.LAW_CONFIGURATION.dsa,ge=he.includes(me),_e=!ne&&ge,ye=q&&ne||!te&&!q,ve=ne&&!te&&ee("auth_mweb_inline_action_bar").anyEnabled,fe=(0,x.z)(),be=(0,A.Yg)();(()=>{const{locale:e}=(0,u.B)();(0,i.useEffect)((()=>{(0,d.we)(e)}),[e])})();const xe=!!n&&8===n.type;if(!te&&le&&oe)return null;if(F&&ne&&!ve&&!ye){const e=de&&s&&!(null!=pe&&pe.is_partner)&&y();return(0,C.jsx)(P.Z,{backButton:U?(0,C.jsx)(k.Z,{bgColor:"white",viewParameter:se}):null,headerLimitedOverflow:xe,isRelatedPinsAppUpsellShown:e,isTransparentBackground:!0,isActionBarInline:J,showHorizontalActionBar:ye,isDesktop:te})}const ke=!te&&!q&&a&&(!ne||["enabled","running_experiments"].includes(ee("community_engagement_holdout_2023_h1").group));return(0,C.jsx)(P.Z,{isActionBarInline:J,showHorizontalActionBar:ye,backButton:U?(0,C.jsx)(k.Z,{viewParameter:se}):null,commentButton:ke&&(0,C.jsx)(z.default,{pinKey:X?{type:"graphqlRef",data:X}:{type:"deprecated",data:I},pinId:I,viewParameter:se}),editOrMoreButton:!ye&&(_?(0,C.jsx)(l.xu,{"data-test-id":"editBoardButton",children:(0,C.jsx)(l.hU,{accessibilityLabel:Q._('edit', 'Pin edit button', 'Pin edit button'),iconColor:"darkGray",icon:"edit",onClick:({event:e})=>_(e),size:"lg"})}):(0,S.E)(ie,_e)&&!!$&&(0,C.jsx)(l.xu,{"data-test-id":"ellipsis-button",children:(0,C.jsx)(w.Z,{onMobileTap:v,pinId:I,graphqlRef:X})})),headerLimitedOverflow:xe,saveButton:ne&&(g||Y)?null:(0,C.jsx)(G,{experience:n,onCompleteRef:ce,children:(0,C.jsx)(Z.Z,{clientTrackingParams:ae,deeplinkUri:re.shouldShowSavedButton&&R||re.repinPageLocation.deeplinkUri,onTouch:e=>{var t;null===(t=ce.current)||void 0===t||t.call(ce),re.onSaveButtonClick(e);const n=!(null==fe||!fe.getData(I));null==be||be(n?"main_pin_savebutton_pinactionbar_withcloseuppreviewdata":"main_pin_savebutton_pinactionbar")},onUnsave:re.onUnsaveButtonClick,pinId:I,pinnedToBoardId:E,shouldShowSavedButton:re.shouldShowSavedButton,to:re.repinPageLocation.mwebUri,viewType:3,viewParameter:se,color:"primary"})}),shareButtonGroup:O&&L?(0,C.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[(0,C.jsx)(o.Z,{name:"SafeSuspense_PinActionBarSaveButton_ReactionPickerContainer",children:(0,C.jsx)(p.Z,{children:(0,C.jsx)(V,{aggregatedPinDataId:e,clientTrackingParams:ae,pinId:I,nativePinType:L,experience:n})})}),K&&(0,C.jsx)(N.Z,{onDefaultSendButtonClick:T,viewParameter:ie.viewParameter})]}):(0,C.jsx)(l.xu,{"data-test-id":"share-button",children:!ne&&te?(0,C.jsx)(W,{pinId:I,viewParameter:ie.viewParameter}):(0,C.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:(0,C.jsx)(N.Z,{onDefaultSendButtonClick:T,viewParameter:ie.viewParameter})})}),visitButton:!K&&H?(0,C.jsx)(l.xu,{paddingX:2,"data-test-id":"visit-button-mobile",children:(0,C.jsx)(D,{clickthroughInterstitialExperience:t,pinId:I,graphqlRef:X,actionButtonText:j})}):null,isDesktop:te})}const q=({graphqlRef:e,...t})=>{var n,i,l,o,d;const c=(0,r.ZP)(),u=(0,a.useFragment)(H,e),p=null===(n=u.richMetadata)||void 0===n?void 0:n.recipe,m=(0,s.Z)({hasRecipe:!(null==p||!p.name||null===(i=p.categorizedIngredients)||void 0===i||!i.length||p.fromAggregatedData),hasArticle:!(null===(l=u.richMetadata)||void 0===l||!l.article),i18n:c});return(0,C.jsx)($,{aggregatedPinDataId:null===(o=u.aggregatedPinData)||void 0===o?void 0:o.entityId,hasPin:!!u,isEligibleForAggregatedComments:u.isEligibleForAggregatedComments,isEligibleForPdp:u.isEligibleForPdp,pinnerBlockedByMe:null===(d=u.pinner)||void 0===d?void 0:d.blockedByMe,maybeGraphqlRef:u,actionButtonText:m,...t})},Y=({pinId:e,...t})=>{var n,i,a;const l=(0,O.S6)()(e),o=(0,r.ZP)(),d=null==l?void 0:l.pinner,c=null==l||null===(n=l.rich_metadata)||void 0===n?void 0:n.recipe,u=(0,s.Z)({hasRecipe:!(null==c||!c.name||!c.categorized_ingredients||c.from_aggregated_data),hasArticle:!(null==l||null===(i=l.rich_metadata)||void 0===i||!i.article),i18n:o});return(0,C.jsx)($,{aggregatedPinDataId:null==l||null===(a=l.aggregated_pin_data)||void 0===a?void 0:a.id,pinId:e,actionButtonText:u,hasPin:!!l,isEligibleForAggregatedComments:null==l?void 0:l.is_eligible_for_aggregated_comments,isEligibleForPdp:null==l?void 0:l.is_eligible_for_pdp,pinnerBlockedByMe:null==d?void 0:d.blocked_by_me,maybeGraphqlRef:null,...t})};function X({graphqlRef:e,...t}){return e?(0,C.jsx)(q,{graphqlRef:e,...t}):(0,C.jsx)(Y,{...t})}},944625:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),a=n(282802),l=n(251951),o=n(519218),r=n(785893);const s=({bgColor:e,color:t})=>{const{viewParameter:n}=(0,l.R)(),{isAuthenticated:s}=(0,a.B)();return(0,r.jsx)(i.xu,{"data-test-id":"back-button",children:(0,r.jsx)(o.Z,{bgColor:e,color:t||"darkGray",fallbackUrl:s?"/":"/ideas",padding:"auto",viewParameter:n,viewType:3,size:"xl"})})}},292439:(e,t,n)=>{n.d(t,{V:()=>u,Z:()=>m});var i=n(667294),a=n(883119),l=n(943795),o=n(282802),r=n(832400),s=n(785893);const d=new a.Ry(2),c=new a.Ry(1),u=new a.Ry(4),p=({children:e,headerLimitedOverflow:t,isDesktop:n,isActionBarInline:i,isRelatedPinsAppUpsellShown:o,isTransparentBackground:r,showHorizontalActionBar:d,zIndex:c})=>!n&&d?(0,s.jsxs)(a.xu,{children:[(0,s.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{opacity:i?0:1,transition:"opacity .4s ease-in-out"}},children:(0,s.jsx)(l.FixedFooter,{paddingY:5,hasTopShadow:!0,zIndex:c,children:e},String(r))}),i&&(0,s.jsx)(a.xu,{paddingY:5,dangerouslySetInlineStyle:{__style:{opacity:i?1:0,transition:"opacity .4s ease-in-out"}},children:e})]}):(0,s.jsx)(l.FixedHeader,{headerLimitedOverflow:t,isTranslucent:!r,isTransparentBackground:r,ignoreObstructions:r,paddingY:o?0:void 0,zIndex:c,children:e},String(r)),m=({backButton:e,commentButton:t,copyButton:n,editOrMoreButton:l,headerLimitedOverflow:m,isActionBarInline:h=!1,isDesktop:g,isRelatedPinsAppUpsellShown:_,isTransparentBackground:y,saveButton:v,showHorizontalActionBar:f,shareButtonGroup:b,visitButton:x})=>{const k=(0,r.H)(),{isAuthenticated:P}=(0,o.B)();let S;return P?"lg"===k?S=d:f&&(S=u):S=f?u:c,(0,s.jsx)(a.xu,{"data-test-id":"header",children:(0,s.jsx)(p,{headerLimitedOverflow:m,isDesktop:g,isActionBarInline:h,isRelatedPinsAppUpsellShown:_,isTransparentBackground:y,showHorizontalActionBar:f,zIndex:S,children:(0,s.jsx)(a.xu,{marginTop:-1,marginBottom:-1,children:(0,s.jsx)(a.kC,{alignItems:"center",justifyContent:"between",children:f?(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:t||null}),(0,s.jsxs)(a.xu,{display:"flex",alignItems:"center",justifyContent:"start",marginStart:!t&&b?12:0,children:[x||null,v||null]}),(0,s.jsx)(a.kC,{alignItems:"center",justifyContent:"start",children:b||null})]}):(0,s.jsxs)(i.Fragment,{children:[(0,s.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[!!e&&(0,s.jsx)(a.xu,{marginStart:-1,color:y?"default":void 0,rounding:"circle",dangerouslySetInlineStyle:{__style:y?{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"}:{}},children:e}),(0,s.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[t||null,b||null,l||null,n||null]})]}),(0,s.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[x||null,v||null]})]})})})})})}},393786:(e,t,n)=>{n.d(t,{E:()=>I,Z:()=>R});var i,a=n(167912),l=n(883119),o=n(388011),r=n(737311),s=n(765456),d=n(536042),c=n(630089),u=n(245410),p=n(497088),m=n(599226),h=n(549201),g=n(802071),_=n(700453),y=n(251951),v=n(936840),f=n(996902),b=n(460914),x=n(395253),k=n(154500),P=n(525104),S=n(785893);const w=void 0!==i?i:i=n(463146),T=({canUpsellNativeApp:e,downloadImageUrl:t,pinId:n,shouldShowReactions:i,isAuthenticated:a,shouldShowVisitInMoreOptions:l})=>n?{react:i,editPin:a,downloadImageUrl:t,openInApp:e,reportPin:a,sendPin:i,visitPin:l}:Object.freeze({}),I=(e,t)=>{const n=T(e);return!!(n.react||n.openInApp||n.sendPin||n.downloadImageUrl||n.reportPin||n.visitPin||t)},A=({imageUrl:e,closeupUnifiedDescription:t,gridTitle:n,title:i,pinId:a,imageSignature:o,textSize:r})=>{const s=(0,d.ZP)(),{isChromeOnIOS:c,viewParameter:u,handleDownloadPinImageClick:p,isAuthenticated:g}=(0,y.R)(),_=(0,m.Z)(),v=(0,h.HG)(),x=t&&t.trim(),k=n||i;return(0,S.jsx)(f.Z,{imgSrc:e,isChromeOnIOS:c,filename:k||x,pinId:a,viewParameter:u,viewType:3,imageSignature:o||void 0,children:e=>(0,S.jsx)(l.xu,{"data-test-id":"more-options-download-pin",children:(0,S.jsx)(b.Z,{pressState:"none",onTouch:()=>{e().then((()=>{v&&!g&&_({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_closeup_download_button",desktopOptions:{modalType:"signup",modalOptions:{source:"downloadImageBtnDweb",container:"download"}}}),p()}))},children:(0,S.jsx)(l.xv,{weight:"bold",size:r,children:s._('Download image', 'Button to download Pin image', 'Button to download Pin image')})})})})},C=({aggregatedPinDataId:e,pinId:t,domain:n,closeupUnifiedDescription:i,gridTitle:a,title:m,imageSignature:f,textSize:P,onDismiss:w,onEditButtonClick:I,isIdeaPin:C,isIdeaPinDeleted:j,shouldShowShareOnVideoCloseup:E,clickthroughInterstitialExperience:R,nativePinType:L})=>{const D=(0,d.ZP)(),F=(0,y.R)(),{clientTrackingParams:z,onSendButtonClick:M,isAuthenticated:O}=F,B=(0,v.ZP)({clickthroughInterstitialExperience:R,pinId:t}),{logContextEvent:Z}=(0,o.v)(),N=(0,s._)({id:1000112}),U=(0,h.HG)(),{isAuth:K}=(0,g.Z)(),{checkExperiment:V}=(0,u.F)(),H=T(F);return(0,S.jsxs)(l.kC,{direction:"column",gap:{row:0,column:4},children:[H.react&&!!L&&!U&&!V((K?"auth":"unauth")+"_mweb_reactions_expansion_mvp_idea_video_pin").anyEnabled&&(0,S.jsx)(r.Z,{name:"SafeSuspense_PinActionBarMoreOptionsMenu_ReactionPickerContainer",children:(0,S.jsx)(p.Z,{children:(0,S.jsx)(b.Z,{pressState:"none",onTouch:w,children:(0,S.jsx)(k.default,{aggregatedPinDataId:e,clientTrackingParams:z,pinId:t,nativePinType:L,experience:N,isTextButton:!0})})})}),!U&&H.editPin&&I&&(0,S.jsx)(l.xu,{"data-test-id":"editBoardButton",children:(0,S.jsx)(b.Z,{pressState:"none",onTouch:()=>I(),children:(0,S.jsx)(l.xv,{weight:"bold",size:P,children:D._('Edit Pin', 'closeup.PinActionBarMoreOptions.editButton', 'Option in overflow menu on Pin closeup to edit this pin')})})}),H.openInApp&&(0,S.jsx)(_.Z,{componentType:14162,within:O?"auth-pin-page-action-bar":"unauth-pin-page-action-bar",children:({handleOpenApp:e})=>(0,S.jsx)(l.xu,{"data-test-id":"more-options-open-app",children:(0,S.jsx)(b.Z,{pressState:"none",onTouch:()=>e({deepLinkUri:`pin/${t}`}),children:(0,S.jsx)(l.xv,{weight:"bold",size:P,children:D._('Open in app', 'Option in overflow menu on Pin closeup to open the Pin in the Pinterest app', 'Option in overflow menu on Pin closeup to open the Pin in the Pinterest app')})})})}),!E&&!C&&H.sendPin&&(0,S.jsx)(l.xu,{"data-test-id":"more-options-send-app",children:(0,S.jsx)(b.Z,{pressState:"none",onTouch:M,children:(0,S.jsx)(l.xv,{weight:"bold",size:P,children:D._('Send Pin', 'Option in overflow menu on Pin closeup to send this pin', 'Option in overflow menu on Pin closeup to send this pin')})})}),!C&&H.visitPin&&(0,S.jsx)(b.Z,{pressState:"none",onTouch:B,children:(0,S.jsx)(l.xv,{weight:"bold",size:P,children:(0,c.Wc)(D._('Visit {{domain}}', 'videoPinCloseup.overflowMenu.visit', 'Option in overflow menu on Pin closeup to visit the source of pin, domain: the domain name of the url that takes user to source of pin'),{domain:n||""})})}),!C&&!j&&H.downloadImageUrl&&(0,S.jsx)(A,{imageUrl:H.downloadImageUrl,closeupUnifiedDescription:i,gridTitle:a,title:m,pinId:t,imageSignature:f,textSize:P}),H.reportPin&&(0,S.jsx)(x.Z,{callbackFunction:w,nextLocation:`/pin/${t}/report/`,children:(0,S.jsx)(l.xv,{weight:"bold",size:P,children:(0,S.jsx)(l.xu,{"data-test-id":"more-options-report-pin",children:(0,S.jsx)(l.rU,{href:`/pin/${t}/report/`,tapStyle:"none",onClick:()=>{Z({view_type:48,element:176,event_type:102,component:13,object_id_str:t})},children:D._('Report Pin', 'Takes you to a separate page where you can give reasons why you are reporting this Pin (e.g spam, pornography)', 'Takes you to a separate page where you can give reasons why you are reporting this Pin (e.g spam, pornography)')})})})})]})},j=({graphqlRef:e,...t})=>{var n,i,l,o;const r=(0,a.useFragment)(w,e);return(0,S.jsx)(C,{aggregatedPinDataId:null===(n=r.aggregatedPinData)||void 0===n?void 0:n.entityId,pinId:null!==(i=r.entityId)&&void 0!==i?i:"",domain:r.domain,closeupUnifiedDescription:r.closeupUnifiedDescription,gridTitle:r.gridTitle,title:r.title,imageSignature:r.imageSignature,isIdeaPinDeleted:null!==(l=null===(o=r.storyPinData)||void 0===o?void 0:o.isDeleted)&&void 0!==l&&l,...t})},E=e=>{var t,n,i,a;const{pinId:l}=(0,y.R)(),o=e.pinId||l,r=(0,P.S6)()(o);return(0,S.jsx)(C,{aggregatedPinDataId:null==r||null===(t=r.aggregated_pin_data)||void 0===t?void 0:t.id,pinId:null!==(n=null==r?void 0:r.id)&&void 0!==n?n:"",domain:null==r?void 0:r.domain,closeupUnifiedDescription:null==r?void 0:r.closeup_unified_description,gridTitle:null==r?void 0:r.grid_title,title:null==r?void 0:r.title,imageSignature:null==r?void 0:r.image_signature,isIdeaPinDeleted:null!==(i=null==r||null===(a=r.story_pin_data)||void 0===a?void 0:a.is_deleted)&&void 0!==i&&i,...e})};function R({graphqlRef:e,...t}){return e?(0,S.jsx)(j,{graphqlRef:e,...t}):(0,S.jsx)(E,{...t})}},447398:(e,t,n)=>{n.d(t,{Z:()=>k});var i,a=n(667294),l=n(167912),o=n(883119),r=n(536042),s=n(282802),d=n(98736),c=n(618569),u=n(348672),p=n(549201),m=n(936840),h=n(525104),g=n(204722),_=n(50169),y=n(785893);const v=void 0!==i?i:i=n(179419),f=({pinId:e,pinCreditPrefix:t,onClickTitleOrDomain:n,onMobileTap:i,hasPinner:l,graphqlRef:m,overlayingPinImage:h=!1})=>{const v=(0,r.ZP)(),f=(0,c.Z)(),b=(0,u.Z)(),x=(0,a.useRef)(),k=(0,p.HG)(),P=(0,p.Wb)(),{isAuthenticated:S}=(0,s.B)(),[w,T]=(0,a.useState)(null),I=!!w;(0,a.useEffect)((()=>{const e=()=>{T(null),(0,d.My)("dweb.unauth.context_menu.click_away")};return I&&document.addEventListener("click",e),()=>{I&&document.removeEventListener("click",e)}}),[I]);let A,C=h?"white":"darkGray";return k||(C=h?"darkGray":"white",A=h?"white":"darkGray"),(0,y.jsxs)(a.Fragment,{children:[(0,y.jsx)(o.xu,{ref:x,children:(0,y.jsx)(o.hU,{accessibilityLabel:v._('more', 'Pin more button', 'Pin more button'),iconColor:C,bgColor:A,icon:"ellipsis",onClick:({event:a})=>{if(S||k)if(f({action:"click",item:"ellipsis-button"}),k){if(a.stopPropagation(),a.preventDefault(),(0,d.My)("dweb.ellipsis_button.context_menu.open"),x.current){const e=x.current.getBoundingClientRect(),t=e.left,n=e.top;T({x:t,y:n})}}else i(a);else e&&l?b({pinId:e,location:"main-pin-overflow",vaseSection:!P&&(0,y.jsx)(_.Z,{dedupeVisualAnnotations:null,pinId:e,pinKey:m?{type:"graphqlRef",data:m}:{type:"deprecated",data:e},pinCreditPrefix:t,onClickTitleOrDomain:n})}):i(a)},size:"lg"})}),w&&k&&e&&l&&(0,y.jsx)(g.Z,{desktopContextMenuState:w,pinId:e,source:"dweb.plp.ellipsis.button",graphqlRef:m})]})},b=({graphqlRef:e,pinId:t,pinCreditPrefix:n,onMobileTap:i,overlayingPinImage:a,clickthroughInterstitialExperience:o})=>{const r=(0,l.useFragment)(v,e),s=(0,m.It)({clickthroughInterstitialExperience:o,graphqlRef:r});return(0,y.jsx)(f,{hasPinner:!!r.pinner,pinId:t,pinCreditPrefix:n,onClickTitleOrDomain:s,onMobileTap:i,graphqlRef:r,overlayingPinImage:a})},x=({pinId:e,pinCreditPrefix:t,onMobileTap:n,overlayingPinImage:i,clickthroughInterstitialExperience:a})=>{const l=(0,h.S6)()(e),o=(0,m.ZP)({clickthroughInterstitialExperience:a,pinId:e});return(0,y.jsx)(f,{hasPinner:!(null==l||!l.pinner),pinId:e,pinCreditPrefix:t,onClickTitleOrDomain:o,onMobileTap:n,overlayingPinImage:i})};function k({graphqlRef:e,pinId:t,pinCreditPrefix:n,onMobileTap:i,overlayingPinImage:a,clickthroughInterstitialExperience:l}){const o={pinId:t,pinCreditPrefix:n,onMobileTap:i,overlayingPinImage:a,clickthroughInterstitialExperience:l};return e?(0,y.jsx)(b,{...o,graphqlRef:e}):(0,y.jsx)(x,{...o})}},768865:(e,t,n)=>{n.d(t,{IS:()=>v,Ys:()=>y,ZP:()=>T,j$:()=>x});var i,a=n(667294),l=n(167912),o=n(883119),r=n(101789),s=n(44081),d=n(536042),c=n(630089),u=n(245410),p=n(895200),m=n(549201),h=n(525104),g=n(785893);const _=void 0!==i?i:i=n(24789),y=({m:e,h:t,rm:n,rh:i},a,l=!1)=>e&&(!t||i<=0)?l?(0,c.nk)(a._('{{mins}}min', 'closeup.makeRecipeTimeText.minutes', 'number showing the minutes to complete a recipe'),{mins:n.toString()}):(0,c.nk)(a.ngettext('{{mins}} minute', '{{mins}} minutes', n, 'number showing the minutes to complete a recipe', 'number showing the minutes to complete a recipe'),{mins:n.toString()}):t?l?(0,c.nk)(a._('{{hrs}}hr {{mins}}min', 'closeup.makeRecipeTimeText.hours', 'hrs: number showing the hours to complete a recipe, mins: number showing the minutes to complete a recipe'),{hrs:t.toString(),mins:e.toString()}):(0,c.nk)(a.ngettext('{{hrs}} hour', '{{hrs}} hours', i, 'number showing the hours to complete a recipe', 'number showing the hours to complete a recipe'),{hrs:i.toString()}):null,v=({m:e,h:t,rm:n,rh:i,i18n:a})=>e&&(!t||i<=0)?(0,c.nk)(a._('{{mins}}m', 'number showing minutes to complete a recipe', 'number showing mnutes to complete a recipe'),{mins:n.toString()}):t?(0,c.nk)(a._('{{hrs}}h {{mins}}m', 'number showing hours to complete a recipe', 'number showing hours to complete a recipe'),{hrs:t.toString(),mins:e.toString()}):null,f=(e,t)=>{const n=e&&e.length>0&&e.join(", "),i=t&&t.summary;return n&&i?`${n}  ${i}`:n||i},b=e=>e?e.reduce(((e,t)=>{var n,i;return e+(null!==(n=null===(i=t.ingredients)||void 0===i?void 0:i.length)&&void 0!==n?n:0)}),0):0,x=({displayCookTime:e,i18n:t,isShortened:n})=>y((0,p.u)(e),t,n);function k({category:e,ingredients:t,textSize:n="300",isOnePinEnabled:i}){return(0,g.jsxs)(o.xu,{marginBottom:4,children:[e&&(0,g.jsx)(o.xu,{children:(0,g.jsx)(o.xv,{weight:"bold",size:n,children:e})}),(null!=t?t:[]).map((e=>{var t,a;return(0,g.jsx)(o.xu,{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",marginTop:1,children:(0,g.jsxs)(o.xv,{size:n,children:[i?"":""," ",e.amt||null," ",e.name]})},`${null!==(t=e.name)&&void 0!==t?t:""}-${null!==(a=e.name)&&void 0!==a?a:""}`)}))]})}const P=({categorizedIngredients:e,displayCookTime:t,image:n,ingredientCount:i,ingredientsDescription:l,name:c})=>{const p=(0,d.ZP)(),{checkExperiment:h}=(0,u.F)(),_=(0,m.ZP)(),y=h("closeup_dweb_unauth_onepin_title_and_description").anyEnabled;if(!(t?x({displayCookTime:t,i18n:p,isShortened:y}):null)&&!i&&!l)return null;const v="desktop"===_,f=p._('Ingredients', 'Closeup.PinRecipe.ingredientsLabel', 'Ingredients category heading for recipes');return(0,g.jsxs)(o.xu,{"data-test-id":"pin-recipe-container",direction:"column",display:"flex",marginTop:12,marginBottom:4,marginEnd:6,overflow:"hidden",children:[(!y||!v)&&(0,g.jsx)(o.xu,{marginBottom:4,children:(0,g.jsx)(o.xv,{weight:"bold",align:"desktop"===_?"start":"center",children:f})}),(0,g.jsx)("meta",{content:c,itemProp:"name"}),n&&(0,g.jsx)("meta",{content:n,itemProp:"image"}),y&&v&&(0,g.jsx)(o.xu,{"data-test-id":"one-pin-layout",children:Array.isArray(e)&&e.length>0&&(0,g.jsx)(r.Z,{heading:f,children:(0,g.jsx)(s.Z,{children:e.map((({category:e,ingredients:t},n)=>{const i=`ingredient-${n}`;return(0,g.jsx)(a.Fragment,{children:(0,g.jsx)(o.xu,{marginBottom:4,children:(0,g.jsx)(k,{category:e,ingredients:t,textSize:"300",isOnePinEnabled:y})})},i)}))})})}),(!y||!v)&&Array.isArray(e)&&e.length>0&&(0,g.jsx)(o.xu,{column:12,"data-test-id":"single-column-ingredients",children:e.map((({category:e,ingredients:t},n)=>(0,g.jsx)(o.xu,{marginBottom:2,children:(0,g.jsx)(k,{category:e,ingredients:t,textSize:"300",isOnePinEnabled:y})},n)))})]})},S=({graphqlRef:e,checkExperiment:t})=>{const n=(0,l.useFragment)(_,e),{imageSpec_474x:i,richMetadata:a}=n,o=null==a?void 0:a.recipe,r=null==o?void 0:o.categorizedIngredients,s=b(r),d=(null==o?void 0:o.categorizedIngredients)&&f(o.diets,o.servingsSummary);return(0,g.jsx)(P,{categorizedIngredients:r,displayCookTime:null==o?void 0:o.displayCookTime,image:null==i?void 0:i.url,ingredientCount:s,ingredientsDescription:d,name:null==o?void 0:o.name,checkExperiment:t})},w=({pinId:e,checkExperiment:t})=>{var n,i;const a=(0,h.S6)()(e),l=(null==a||null===(n=a.rich_metadata)||void 0===n?void 0:n.recipe)||{},{display_cook_time:o,name:r,categorized_ingredients:s,diets:d,servings_summary:c}=l,u=b(s),p=s&&f(d,c);return(0,g.jsx)(P,{categorizedIngredients:s,displayCookTime:o,image:(null===(i=((null==a?void 0:a.images)||{})["474x"])||void 0===i?void 0:i.url)||"",ingredientCount:u,ingredientsDescription:p,name:r,checkExperiment:t})};function T({graphqlRef:e,pinId:t}){const{checkExperiment:n}=(0,u.F)();return e?(0,g.jsx)(S,{graphqlRef:e,checkExperiment:n}):(0,g.jsx)(w,{pinId:t,checkExperiment:n})}},431570:(e,t,n)=>{n.d(t,{Z:()=>v});var i,a=n(167912),l=n(883119),o=n(536042),r=n(630089),s=n(245410),d=n(31407),c=n(549201),u=n(768865),p=n(525104),m=n(785893);const h=void 0!==i?i:i=n(761952);function g({boldText:e=!0,marginTop:t=3,onlyShowNumber:n=!1,textSize:i="md",width:a=12,isWideViewport:p,ratingBestRating:h,ratingRatingValue:g,ratingReviewCount:_,hasPinRecipe:y,displayCookTime:v,dietList:f,servingSummarySummary:b,servingSummaryServes:x}){const k=(0,o.ZP)(),{checkExperiment:P}=(0,s.F)(),S=P("closeup_dweb_unauth_onepin_title_and_description").anyEnabled,w=(0,c.ZP)(),T=(0,r.nk)(k.ngettext('{{review_count}} rating', '{{review_count}} ratings', null != _ ? _ : 0, 'closeup.recipe.ratings', 'number of ratings for this recipe pin'),{review_count:_}),I=v?(0,u.j$)({displayCookTime:v,i18n:k,isShortened:S}):null,A=Number(x),C=[f,S?(0,r.nk)(k.ngettext('{{serves}} serving', '{{serves}} servings', Number.isNaN(A) ? 0 : A, 'closeup.recipe.serves', 'number of servings for this recipe pin'),{serves:x}).join(""):b].filter(Boolean);let j=(0,r.nk)(k._('{{ ratingStars }} {{ count }}', 'closeup.recipe.rating', 'recipe ratings and count'),{ratingStars:(0,m.jsx)(d.Z,{rating:g,max_rating:h,width:a},"ratingStars"),count:(0,m.jsx)(l.xv,{inline:!0,size:i,weight:e?"bold":"normal",children:n?_:T},"ratingCount")});return y&&(j=(0,m.jsx)(l.xu,{"data-test-id":"CookTime",children:(0,r.nk)(k._('{{ recipeText }} {{cookTime}} {{ pinRecipe }}', 'closeup recipe cooktime', 'This is the bar under the title which shows these three things. recipeText: shows the rating of the Pin. cookTime: shows the amount of time it takes to prepare the food. pinRecipe: includes any dietary restrictions and how many servings the Pin serves.'),{recipeText:(0,m.jsx)(l.xv,{inline:!0,children:j},"recipeText"),cookTime:(0,m.jsxs)(l.xv,{inline:!0,children:[I&&" ",I]},"cookTimeText"),pinRecipe:(0,m.jsx)(l.xv,{inline:!0,children:C.length>0&&(0,m.jsx)(l.xv,{inline:!0,children:`  ${C.join("  ")}`})},"pinRecipe")})})),(0,m.jsx)(l.xu,{alignItems:"baseline","data-test-id":"PinRecipeContainer",display:y&&"phone"===w?"block":"flex",justifyContent:"start",marginTop:t,children:(0,m.jsx)(l.xv,{align:p||"phone"!==w?"start":"center",inline:!0,children:j})})}const _=({graphqlRef:e,...t})=>{var n,i,l,o,r;const s=(0,a.useFragment)(h,e),{richMetadata:d}=s,c=null==d?void 0:d.recipe;return(0,m.jsx)(g,{...t,displayCookTime:null==c?void 0:c.displayCookTime,dietList:((null==c?void 0:c.diets)||[]).join(", "),servingSummarySummary:null==c||null===(n=c.servingsSummary)||void 0===n?void 0:n.summary,servingSummaryServes:null==c||null===(i=c.servingsSummary)||void 0===i?void 0:i.serves,hasPinRecipe:!(null==d||!d.recipe),ratingBestRating:null==c||null===(l=c.aggregateRating)||void 0===l?void 0:l.bestRating,ratingRatingValue:null==c||null===(o=c.aggregateRating)||void 0===o?void 0:o.ratingValue,ratingReviewCount:null==c||null===(r=c.aggregateRating)||void 0===r?void 0:r.reviewCount})},y=({pinId:e,...t})=>{var n,i,a,l,o;const r=(0,p.S6)()(e),s=(null==r||null===(n=r.rich_metadata)||void 0===n?void 0:n.recipe)||{},{diets:d,display_cook_time:c,servings_summary:u}=s;return(0,m.jsx)(g,{...t,displayCookTime:c,dietList:(d||[]).join(", "),servingSummarySummary:null==u?void 0:u.summary,servingSummaryServes:null==u?void 0:u.serves,hasPinRecipe:!(null==r||null===(i=r.rich_metadata)||void 0===i||!i.recipe),ratingBestRating:null===(a=s.aggregate_rating)||void 0===a?void 0:a.best_rating,ratingRatingValue:null===(l=s.aggregate_rating)||void 0===l?void 0:l.rating_value,ratingReviewCount:null===(o=s.aggregate_rating)||void 0===o?void 0:o.review_count})};function v({graphqlRef:e,pinId:t,...n}){return e?(0,m.jsx)(_,{...n,graphqlRef:e}):(0,m.jsx)(y,{...n,pinId:t})}},979275:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(536042),l=n(282802),o=n(785893);const r=({onSendButtonClick:e,trackShareTap:t,color:n,size:r,bgColor:s})=>{const d=(0,a.ZP)(),{userAgent:{platform:c}}=(0,l.B)(),u="android"===c;return(0,o.jsx)(i.hU,{accessibilityLabel:d._('Send', 'Board.Pin.SendButton', 'Accessible label for button to send a pin or a board'),onClick:({event:n})=>{e(n),t()},size:r||"lg",bgColor:s||"transparent",iconColor:n||"darkGray",icon:u?"android-share":"share"})}},248288:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(883119),a=n(123228),l=n(394366),o=n(245410),r=n(643183),s=n(599226),d=n(98736),c=n(738318),u=n(785893);function p(e){const{checkExperiment:t}=(0,o.F)(),{viewParameter:n,isStoryPin:p}=e,m=(0,s.Z)();return(0,u.jsx)(r.Z,{fallback:null,children:(0,u.jsx)(i.xu,{marginTop:4,children:(0,u.jsx)(l.Z,{commentWarningModalState:a.A9.NONE,dismissCommentWarningModal:()=>{},objectType:c.o.pin,onEnter:()=>{(0,d.My)(p?"dweb.unauth.comment_compose.story_pin.tap":"dweb.unauth.comment_compose.tap"),m({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_comment_composer",desktopOptions:{modalType:t("web_unauth_comment_upsell_copy").group.includes("signup")?"signup":"login",modalOptions:{source:"commentComposerExp",container:"closeup"}}})},statusType:"textStaticDisplay",viewParameter:n})})})}},657006:(e,t,n)=>{n.d(t,{v:()=>i});const i="imgViewer"},870428:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(286354);const a=e=>{const t=(0,i.Z)({url:e.location.search});switch(e.action){case"PUSH":return"news_hub"===t.entrySource?"deeplink":"click";case"REPLACE":return"click";case"POP":return e.location.key?"click":"deeplink";default:return null}}},422279:(e,t,n)=>{function i({isImagePinForUnauthOnTablet:e}){return e?3:2}n.d(t,{Z:()=>i})},32762:(e,t,n)=>{n.d(t,{Ph:()=>a,Re:()=>o,si:()=>l});var i=n(549201);const a=(e,t)=>e&&!t?e:null,l=()=>"phone"!==(0,i.ZP)()?180:130,o=()=>"phone"!==(0,i.ZP)()?180:80},936840:(e,t,n)=>{n.d(t,{ZP:()=>F,It:()=>D,O5:()=>L});var i=n(702664),a=n(167912),l=n(616550),o=n(563962),r=n(527386),s=n(525571),d=n(354428),c=n(624417),u=n(898252),p=n(769705),m=n(245410),h=n(282802),g=n(98736),_=n(618569),y=n(739425),v=n(251951),f=n(870428),b=n(32762),x=n(970588);const k=e=>{(async({pinId:e,link:t,mobileLink:n,origImageUrl:i,trackedLink:a,clientTrackingParams:l})=>{var o;const r=await(0,x.Z)({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:l,pin_id:null!=e?e:null,url:null!==(o=(0,u.Zt)({link:t,mobileLink:n,origImageUrl:i,trackedLink:a}))&&void 0!==o?o:""}});if(r&&r.resource_response&&!r.resource_response.error){const{redirect_status:e}=r.resource_response.data;return e}return"error"})(e).then((e=>(0,g.My)(`mweb.unauth.clickthrough_quality.${e}`)))};var P,S=n(348597),w=n(822158),T=n(836),I=n(495590),A=n(525104);const C=void 0!==P?P:P=n(567045),j=()=>navigator.onLine,E=({context:{dispatch:e,history:t,isAuthenticated:n,isBot:i,isSocialBot:a,location:l,logContextEvent:o,shouldUpsellHomePage:s,trackInteraction:p,userIsNew:h},data:{category:_,clickthroughInterstitialExperience:v,commerceData:b,domain:x,embedSrc:P,embedType:w,hasPin:I,hasPromoter:A,imageSignature:C,imagesUrls:E,link:R,linkDomainOfficialUserImageMediumUrl:L,linklessOptions:D,mobileLink:F,pinId:z,trackedLink:M,trackingParams:O,viewParameter:B}})=>()=>{var Z;if(!I)return;const N=(({commerceData:e,imageSignature:t,location:n,pinId:i,trackingParams:a,viewParameter:l})=>({object_id_str:i,component:4,element:35,view_type:3,view_parameter:l,clientTrackingParams:(0,S.Z)((n.state||{}).trackingParams,a),aux_data:{commerce_data:e,image_signature:t}}))({commerceData:b,imageSignature:C,location:l,pinId:z,trackingParams:O,viewParameter:B});(0,g.My)("mweb_pin_page.pin_image.clickthrough_occurred"),p({action:"click",item:"clickthrough"}),n||k({pinId:z,link:R,mobileLink:F,origImageUrl:null==E?void 0:E.orig,trackedLink:M,clientTrackingParams:N.clientTrackingParams});12===(0,T.jC)(N)&&o({event_type:8948,view_type:3,view_parameter:B,object_id_str:z,clientTrackingParams:N.clientTrackingParams,aux_data:{image_signature:C,closeup_navigation_type:(0,f.Z)(t),click_type:"clickthrough",cosmic_ray_count:"1"}});const U=null!==(Z=(0,u.Zt)({link:R,mobileLink:F,origImageUrl:null==E?void 0:E.orig,trackedLink:M}))&&void 0!==Z?Z:"",K={pin:z,client_tracking_params:N.clientTrackingParams};if(D){if(!D.actionBarIsMinifiedToMainPinImage){const e=new XMLHttpRequest;e.open("GET",(0,d.Se)(U,{queryParams:K})),e.send()}return void D.onTap()}const V=!A&&(h||s);if(V&&e((0,r.kd)(1000162)),V&&v){e((0,r.UT)(v.placement_id,v.experience_id)),e((0,r.CK)(v.placement_id,v.experience_id));const t=(0,d.Se)(U,{queryParams:K}),{checkExperiment:o}=(0,m.F)(),s=n?o("web_auth_exclude_original_images").anyEnabled:o("web_unauth_exclude_original_images").anyEnabled,u=(0,c.Z)({imagesUrls:E,embedSrc:P,embedType:w,excludeOriginals:!i&&!a&&s}),p=l.pathname+l.search;if(!j())return;const h={domain:null!=x?x:"",domainImageUrl:null!=L?L:"",origin:p,pinCategory:_,pinImageUrl:u,redirectUrl:t};window.open((0,y.ru)("/pin_redirect",h),"_blank")}else{if(!j())return;(0,d.Gj)(U,{queryParams:K})}},R=()=>{const e=(0,l.useHistory)(),t=(0,l.useLocation)(),n=(0,i.useDispatch)(),a=(0,I.S)(),r=(0,i.useSelector)((({users:e,session:t})=>(0,s.Z)(e[t.userId].created_at))),{isAuthenticated:d,isBot:c,isSocialBot:u}=(0,h.B)();return{history:e,location:t,dispatch:n,shouldUpsellHomePage:a,userIsNew:r,isAuthenticated:d,isBot:c,isSocialBot:u,logContextEvent:(0,o.Z)(),trackInteraction:(0,_.Z)()}},L=e=>E({context:R(),data:e}),D=({clickthroughInterstitialExperience:e,linklessOptions:t,graphqlRef:n})=>{var i,l,o,r,s,d;const{viewParameter:c}=(0,v.R)(),u=(0,a.useFragment)(C,n),m=(0,p.Z)({type:"graphqlRef",data:u}),h=(0,w.Z)({type:"graphqlRef",data:u});return L({hasPromoter:!(!u.promoter||u.isDownstreamPromotion),viewParameter:c,clickthroughInterstitialExperience:e,linklessOptions:t,hasPin:Boolean(u.entityId),pinId:null!==(i=u.entityId)&&void 0!==i?i:"",commerceData:h,imageSignature:u.imageSignature,mobileLink:u.mobileLink,trackingParams:u.trackingParams,link:u.link,trackedLink:u.trackedLink,imagesUrls:m,embedSrc:null===(l=u.embed)||void 0===l?void 0:l.src,embedType:null===(o=u.embed)||void 0===o?void 0:o.type,category:null!==(r=u.category)&&void 0!==r?r:"",domain:u.domain,linkDomainOfficialUserImageMediumUrl:null===(s=u.linkDomain)||void 0===s||null===(d=s.officialUser)||void 0===d?void 0:d.imageMediumUrl})},F=({clickthroughInterstitialExperience:e,linklessOptions:t,pinId:n})=>{var i,a,l,o,r;const s=(0,A.S6)()(n),d=(0,b.Ph)(null==s?void 0:s.promoter,null==s?void 0:s.is_downstream_promotion),{viewParameter:c}=(0,v.R)(),u=(0,w.Z)({type:"deprecated",data:n}),m=(0,p.Z)({type:"deprecated",data:s});return L({hasPromoter:!!d,viewParameter:c,clickthroughInterstitialExperience:e,linklessOptions:t,hasPin:Boolean(s),pinId:null!==(i=null==s?void 0:s.id)&&void 0!==i?i:"",commerceData:u,imageSignature:null==s?void 0:s.image_signature,mobileLink:null==s?void 0:s.mobile_link,trackingParams:null==s?void 0:s.tracking_params,link:null==s?void 0:s.link,trackedLink:null==s?void 0:s.tracked_link,imagesUrls:m,embedSrc:null==s||null===(a=s.embed)||void 0===a?void 0:a.src,embedType:null==s||null===(l=s.embed)||void 0===l?void 0:l.type,category:null==s?void 0:s.category,domain:null==s?void 0:s.domain,linkDomainOfficialUserImageMediumUrl:null==s||null===(o=s.link_domain)||void 0===o||null===(r=o.official_user)||void 0===r?void 0:r.image_medium_url})}},238941:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(525571),a=n(898252),l=n(802071),o=n(772356),r=n(712968);function s({link:e,mobileLink:t,trackedLink:n}){const{id:s}=(0,l.Z)(),d=(0,r.mN)()(null!=s?s:"");return!(!(e||t||n)||(0,i.Z)(null==d?void 0:d.created_at)&&!(0,o.V0)(d)||(0,a.ZE)(e))}},952809:(e,t,n)=>{n.d(t,{Z:()=>w});var i=n(167912),a=n(883119),l=n(643183),o=n(868489),r=n(870243),s=n(536042),d=n(599226),c=n(98736),u=n(460914),p=n(40660),m=n(785893);function h({isStoryPin:e,inviteText:t,inviterFirstName:n,isThinnerStyle:i,username:l}){const o=t.split(n);return(0,m.jsx)(a.xu,{children:(0,m.jsx)(u.Z,{onTouch:()=>{p.Z.increment("mweb_social_unauth.closeup.social_text_click")},pressState:"none",children:(0,m.jsxs)(a.kC,{direction:"row",gap:{row:1,column:0},children:[(0,m.jsx)(a.xv,{inline:!0,size:"300",children:o[0]}),e?(0,m.jsx)(a.xv,{inline:!0,size:"300",weight:"bold",children:(0,m.jsx)(a.rU,{href:"/"+l,target:"blank",onClick:()=>(0,c.My)("mweb_unauth_inviter_profile_click"),children:n})}):(0,m.jsx)(a.xv,{inline:!0,size:i?"200":"300",weight:i?"normal":"bold",children:(0,m.jsx)(a.rU,{href:"/"+l,target:"blank",onClick:()=>(0,c.My)("mweb_unauth_inviter_profile_click_not_story"),children:n})}),(0,m.jsx)(a.xv,{inline:!0,size:i?"200":"300",children:o[1]})]})})})}function g({inviter:e,socialContextBannerStyle:t,setShouldShowSocialUpsellBanner:n}){const{shouldShowSignupUpsellText:i,isDismissible:l}=t,o=(0,s.ZP)(),{username:p}=e,g=e.imageMediumUrl,_=e.firstName,y=(0,d.Z)();return(0,m.jsx)(a.kC,{justifyContent:l?"center":"start",alignItems:"center",children:(0,m.jsx)(a.xu,{children:(0,m.jsx)(a.iP,{fullHeight:!0,onTap:()=>{(0,c.My)("dweb.unauth.social_banner.click"),y({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_desktop_unauth_social_context_banner",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}})},children:(0,m.jsxs)(a.xu,{alignItems:"center",direction:"row",display:"flex",height:44,width:l?1012:void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(233, 228, 255, 0.9)"}},marginTop:2,marginBottom:6,marginStart:l?0:2,paddingX:l?4:2,paddingY:4,rounding:"pill",position:l?"static":"absolute",top:!0,zIndex:new a.Ry(1),children:[(0,m.jsx)(a.xu,{marginTop:8,marginBottom:8,marginEnd:1,width:32,children:(0,m.jsx)(u.Z,{onTouch:e=>{e.stopPropagation(),p&&window.open("/"+p),(0,c.My)("dweb.unauth.social_banner.avatar_click")},pressState:"none",children:null!=g&&g.includes("default")?(0,m.jsx)(a.JO,{accessibilityLabel:"pinterest logo",color:"default",icon:"pinterest",size:24}):(0,m.jsx)(r.qE,{size:"fit",src:null!=g?g:void 0,name:_})})}),(0,m.jsxs)(a.kC,{flex:"grow",direction:"row",children:[(0,m.jsx)(h,{isStoryPin:!1,inviteText:i?(o._('{{ name }} shared this idea.', 'pin.closeup.long_banner.desktop.shareNotification', 'Long banner notifying desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",_):(o._('{{ name }} shared this idea ', 'pin.closeup.banner.desktop.shareNotification', 'Banner notifying desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",_),inviterFirstName:_,username:p,isThinnerStyle:i}),i&&(0,m.jsx)(a.xu,{marginStart:1,marginEnd:2,children:(0,m.jsx)(a.xv,{inline:!0,size:"200",weight:"bold",children:o._('Sign up to join them', 'pin.header.social_context_dweb', 'label')})})]}),l&&(0,m.jsx)(a.hU,{icon:"cancel",accessibilityLabel:"cancel",size:"sm",onClick:({event:e})=>{e.stopPropagation(),(0,c.My)("unauth.dweb.social_banner.dismiss"),null==n||n(!1)}})]})})})})}var _=n(245410),y=n(549201),v=n(700453),f=n(799006);const b=360;function x({inviter:{imageMediumUrl:e,username:t,firstName:n},isStoryPin:i}){const l=(0,s.ZP)(),{checkExperiment:o}=(0,_.F)(),g=(0,y.ml)(),x=()=>p.Z.increment("mweb_social_unauth.closeup.avatar_click"),k=(0,f.Z)(),P=(0,d.Z)(),S=(l._('{{ name }} shared this idea', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them')).replace("{{ name }}",t),w="undefined"!=typeof window&&window.innerWidth<b,T=t.length>25,I=g&&!i&&o("mweb_social_context_header_upsell").anyEnabled,A=o("mweb_social_context_header_upsell").group;return k&&i?(0,m.jsxs)(a.kC,{gap:{row:2,column:0},alignItems:"center",justifyContent:"center",minHeight:T?100:80,children:[(0,m.jsx)(a.xu,{marginTop:4,marginBottom:4,width:40,children:(0,m.jsx)(u.Z,{onTouch:x,pressState:"none",children:(0,m.jsx)(r.qE,{size:"fit",src:null!=e?e:void 0,name:n})})}),(0,m.jsx)(a.kC.Item,{flex:"grow",children:(0,m.jsxs)(a.xu,{display:"flex",direction:T?"column":"row",alignItems:"center",justifyContent:T?"start":"between",padding:T?3:0,children:[(0,m.jsxs)(a.kC,{direction:"column",alignItems:"start",gap:{row:0,column:1},wrap:!w,children:[(0,m.jsx)(a.kC,{children:(0,m.jsxs)(a.xv,{align:T?"center":"start",children:[(0,m.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,m.jsx)(a.rU,{display:"inlineBlock",href:`/${null!=t?t:""}/`,target:"blank",onClick:()=>(0,c.My)("mweb_unauth_inviter_profile_click"),underline:"hover",children:t})}),S.split(t)[1]]})}),!T&&(0,m.jsx)(a.xv,{size:"100",children:l._('Open Pinterest to see more', 'unauth.mweb.shared.banner.edu', 'education for CTA to open app on shared banner')})]}),(0,m.jsx)(a.xu,{display:"flex",justifyContent:"center",alignItems:"center",minWidth:T?0:100,marginTop:T?3:0,children:(0,m.jsx)(v.Z,{componentType:14161,within:"social-context-header",children:({handleOpenApp:e})=>(0,m.jsx)(a.zx,{onClick:()=>e(),size:"md",text:l._('Open app', 'unauth.mweb.shared.banner.cta', 'CTA to open app on shared banner')})})})]})})]}):(0,m.jsx)(u.Z,{onTouch:()=>{I&&P({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_mobile_unauth_social_context_header"})},pressState:"none",children:(0,m.jsxs)(a.kC,{alignItems:"center",gap:4,justifyContent:"start",minHeight:80,children:[(0,m.jsx)(a.xu,{marginTop:4,marginStart:I?2:0,marginBottom:4,width:48,children:(0,m.jsx)(u.Z,{onTouch:x,pressState:"none",children:(0,m.jsx)(r.qE,{src:null!=e?e:void 0,name:n})})}),(0,m.jsxs)(a.kC,{alignItems:I?"start":"center",justifyContent:"start",direction:"column",children:[(0,m.jsx)(a.xu,{marginStart:I?-1:0,children:(0,m.jsx)(h,{isStoryPin:i,inviteText:I&&A.includes("join")?(l._('{{ name }} shared this idea', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",n):I&&A.includes("converse")?(l._('{{ name }} sent an idea', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",n):I&&A.includes("explore")?(l._('{{ name }} sent this idea', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",n):(l._('{{ name }} shared this idea with you', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",n),inviterFirstName:n,username:t,isThinnerStyle:I})}),I&&(0,m.jsx)(a.xu,{marginTop:1,children:(0,m.jsx)(a.xv,{inline:!0,size:"300",weight:"bold",children:A.includes("join")?l._('Tap to join them on Pinterest', 'pin.closeup.header.shareNotification.text', 'header notifying users to tap on area'):A.includes("converse")?l._('Tap to share feedback', 'pin.closeup.header.shareNotification.text', 'header notifying users to tap on area'):A.includes("explore")&&l._('Tap to see more like it', 'pin.closeup.header.shareNotification.text', 'header notifying users to tap on area')})})]})]})})}var k;const P=void 0!==k?k:k=n(80259),S=({children:e,variables:t})=>e((0,i.useLazyLoadQuery)(P,t));function w({inviterFirstNameRef:e,isDesktop:t,isStoryPin:n,setShouldShowSocialUpsellBanner:i,socialContextBannerStyle:r}){return(0,m.jsx)(l.Z,{children:(0,m.jsx)(o.ty,{children:l=>l?(0,m.jsx)(S,{variables:{inviteCode:l},children:l=>{var o,s;const d=null===(o=l.v3GetInviteCodeQuery)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.sender,{firstName:c,imageMediumUrl:u,username:p}=null!=d?d:Object.freeze({});return c&&p?(e&&(e.current=c),t?(0,m.jsx)(g,{inviter:{firstName:c,imageMediumUrl:u,username:p},socialContextBannerStyle:null!=r?r:{isDismissible:!0,shouldShowSignupUpsellText:!0},setShouldShowSocialUpsellBanner:i}):(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 1px 0 0 rgba(0, 0, 0, 0.08)"}},marginStart:-2,paddingX:2,marginEnd:-2,children:(0,m.jsx)(x,{inviter:{firstName:c,imageMediumUrl:u,username:p},isStoryPin:!!n})})):null}}):null})})}},493876:(e,t,n)=>{n.d(t,{E:()=>g,Z:()=>y});var i=n(702664),a=n(624417),l=n(245410),o=n(282802),r=n(599226),s=n(860438),d=n(98736),c=n(549201),u=n(369050),p=n(199999),m=n(260070),h=n(619277);const g=({action:e,isAuthenticated:t})=>(0,d.My)(`mweb_${e}.closeup.is_auth_${String(t)}`),_=(e,t,n,i)=>{n&&e((0,m.Cp)()),t||i(!0),setTimeout((()=>{n||e((0,m.FK)()),t&&i(!1)}),3e3)};function y({embedSrc:e,embedType:t,imagesUrls:n,pinId:d,isFromUnauthContextMenu:y,attributionLabel:v}){var f;const b=(0,p.a)(),{numUnauthSavedPins:x,setNumUnauthSavedPins:k}=(0,u.U)(),P=(0,i.useDispatch)(),S=(0,c.ZP)(),w=(0,r.Z)(),T=!!(d&&b&&b.unauthSavedPinsStore.isSaved(d)),{forceShowNavFooter:I,setForceShowNavFooter:A}=(0,u.U)(),C=null!==(f=(0,i.useSelector)((({session:e})=>e.shouldHideNavBar)))&&void 0!==f&&f,{checkExperiment:j}=(0,l.F)(),{isAuthenticated:E,isBot:R,isSocialBot:L}=(0,o.B)();if(b&&d)return{isSaved:T,onSave:()=>{g({action:"save_click",isAuthenticated:!1});let i="save",l=!0;if("desktop"!==S||j("dweb_unauth_profile_v1").anyEnabled){const{unauthSavedPinsStore:o}=b,r=!!o.pins.length;if(!y&&o.canSaveMore()){const i=E?j("web_auth_exclude_original_images").anyEnabled:j("web_unauth_exclude_original_images").anyEnabled;o.save({id:d,imageUrl:(0,a.Z)({imagesUrls:n,embedSrc:e,embedType:t,excludeOriginals:!R&&!L&&i})}),l=!1,k(x+1),"desktop"!==S&&_(P,I,C,A)}else"desktop"!==S?P((0,m.QZ)(d)):s.Z.setItem(h.M8,d),i=r&&!y?"extended_save_out_of_quota":"save"}else s.Z.setItem(h.M8,d);l&&w({attributionLabel:"extended_save_out_of_quota"===i?"click_save_button_with_max_unauth_saves":v||"click_save_button_on_closeup",reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",mobileOptions:{headingType:i},desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save"}}})},onUnsave:()=>{x>=1&&k(x-1);const{unauthSavedPinsStore:e}=b;e.unsave(d),g({action:"unsave_click",isAuthenticated:!1}),"desktop"===S&&s.Z.removeItem(h.M8)}}}},673118:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),a=n(616550),l=n(388011),o=n(788241),r=n(282802),s=n(98736),d=n(618569),c=n(657006),u=n(624658);function p(){var e;const{isAuthenticated:t}=(0,r.B)(),n=(0,a.useLocation)(),p=(0,a.useHistory)(),m=(0,d.Z)(),{logContextEvent:h}=(0,l.v)(),{viewType:g}=(0,o.SU)(),[_,y]=(0,i.useState)(!1),v=(0,a.useRouteMatch)(),f=null===(e=n.state)||void 0===e?void 0:e.trackingParams;return({linkType:e,viewParameter:n})=>{(0,s.NC)("click_pin_closeup_image"),t||m({action:"click",item:"pin-image"}),(0,u.Z)(e),t?v.params.id&&p.push(`/pin/${v.params.id}#${c.v}`,{trackingParams:f}):_?(h({event_type:14688,element:13319,component:14215,view_type:g,view_data:n,aux_data:{upsell_reason:"click_pin_closeup_image"}}),p.push("/signup"),(0,s.My)("main.pin.wash.click")):((0,s.My)("main.pin.wash.show"),y(!_))}}},992865:(e,t,n)=>{n.d(t,{Z:()=>r,m:()=>o});var i=n(667294),a=n(785893);const l=(0,i.createContext)({isScrolledToPins:!1,scrollToPins:()=>{}});function o({children:e}){const[t,n]=(0,i.useState)(!1),o=(0,i.useMemo)((()=>({isScrolledToPins:t,scrollToPins:n})),[t,n]);return(0,a.jsx)(l.Provider,{value:o,children:e})}const r=()=>(0,i.useContext)(l)},60743:(e,t,n)=>{n.d(t,{Z:()=>S});var i,a=n(667294),l=n(702664),o=(n(167912),n(616550)),r=n(442279),s=n(883119),d=n(496484),c=n(825389),u=n(819079),p=n(549201),m=n(272109),h=n(802071),g=n(76008),_=n(738318),y=n(726304),v=n(274796),f=n(712968),b=n(785893);const x=(0,r.P1)(((e,t,n)=>n),(({feeds:e},t)=>e[`${v.Z.UNIFIED_COMMENTS}:${t||""}`]),(({didItData:e})=>e),((e,t,n,i)=>i),((e,t,n,i)=>(null==t?void 0:t.map((({id:t,type:a})=>{var l,o;const r="aggregatedcomment"===a.toLowerCase()?e[t]:n[t];if(!r)return;const s="string"==typeof r.user?null!==(l=i[r.user])&&void 0!==l?l:{}:null!==(o=r.user)&&void 0!==o?o:{};return{...r,tagged_users:(r.tagged_users||[]).map((e=>{var t;return null!==(t=i[e.id])&&void 0!==t?t:{}})),user:null!=s?s:{}}})).filter((e=>e)))||[])),k=void 0!==i?i:i=n(371446),P=({aggregatedPinDataId:e,closeupAttributionId:t,closeupAttributionUsername:n,commentsDisabled:i,hasComments:r,isReadOnly:c,pinId:v,isVideo:k,pinnerId:P,setIsComposingNewComment:S=(()=>{}),storyPinDataId:w,viewParameter:T,toggleComposerForReply:I,openMwebOverflowMenu:A})=>{const{comment_id:C}=(0,o.useParams)(),j=(0,p.HG)(),E=(0,h.Z)(),{isLoaded:R}=(0,u.Z)(r?{name:"UnifiedCommentsResource",options:{aggregated_pin_id:e,comment_featured_ids:C,page_size:j?10:25,redux_normalize_feed:!0}}:null),{removeUnauthCommentPinId:L,unauthCommentPinId:D}=(0,y.C)(),F=(0,g.lV)(),{toggleAggregatedCommentHelpful:z,toggleAggregatedCommentLike:M}=(0,g.nf)(),O=(0,f.kW)(),B=(0,l.useSelector)((t=>x(t,e,F,O))),[Z,N]=(0,a.useState)(void 0);(0,m.Z)((()=>{!j&&E.isAuth&&D&&v&&D===v&&(S(!0),L())}));return(0,b.jsx)(a.Fragment,{children:(0,b.jsx)(s.xu,{display:"flex",marginTop:j?6:0,width:"100%",children:(0,b.jsx)(d.Z,{comments:B,commentsDisabled:i,isDesktop:j,isReadOnly:c,isLoaded:R||!r,openOverflowMenu:A,toggleReplyComposer:I,parentId:null!=e?e:"",parentType:_.o.pin,toggleHelpful:(e,t)=>()=>{z({aggregatedCommentId:e,isMarkedHelpfulByMe:t})},toggleLike:(e,t)=>()=>{M({aggregatedCommentId:e,isLikedByMe:t})},userAvatarSize:"sm",aggregatedPinDataId:e,closeupAttributionId:t,closeupAttributionUsername:n,pinId:v,isVideo:k,storyPinDataId:w,pinnerId:P,showReactionListForComment:N,reactionListCommentId:Z,viewParameter:T})})})};function S({pinKey:e,...t}){var n,i,a,l,o,r,s,d,u;const{data:p}=(0,c.k5)(k,e,{type:"pin",useLegacyAdapter:e=>{var t,n,i;return{aggregatedPinData:e.aggregated_pin_data&&{commentCount:e.aggregated_pin_data.comment_count,didItData:e.aggregated_pin_data.did_it_data&&{imagesCount:e.aggregated_pin_data.did_it_data.images_count},entityId:null!==(t=e.aggregated_pin_data.id)&&void 0!==t?t:""},closeupAttribution:e.closeup_attribution&&{entityId:null!==(n=e.closeup_attribution.id)&&void 0!==n?n:"",username:e.closeup_attribution.username},commentsDisabled:e.comments_disabled,doneByMe:e.done_by_me,entityId:e.id,pinner:e.pinner&&{entityId:e.pinner.id},storyPinData:e.story_pin_data&&{entityId:null!==(i=e.story_pin_data.id)&&void 0!==i?i:""},videos:e.videos&&{videoList:e.videos.video_list&&{__typename:"VideoList"}}}}}),m=((null==p||null===(n=p.aggregatedPinData)||void 0===n?void 0:n.commentCount)||0)+((null==p||null===(i=p.aggregatedPinData)||void 0===i||null===(a=i.didItData)||void 0===a?void 0:a.imagesCount)||0);return(0,b.jsx)(P,{aggregatedPinDataId:null==p||null===(l=p.aggregatedPinData)||void 0===l?void 0:l.entityId,closeupAttributionId:null==p||null===(o=p.closeupAttribution)||void 0===o?void 0:o.entityId,closeupAttributionUsername:null==p||null===(r=p.closeupAttribution)||void 0===r?void 0:r.username,commentsDisabled:null==p?void 0:p.commentsDisabled,disablePhotoCommentSelection:!(null==p||!p.doneByMe),hasComments:m>0&&!(null!=p&&p.commentsDisabled),isVideo:!(null==p||null===(s=p.videos)||void 0===s||!s.videoList),pinId:null==p?void 0:p.entityId,pinnerId:null==p||null===(d=p.pinner)||void 0===d?void 0:d.entityId,storyPinDataId:null==p||null===(u=p.storyPinData)||void 0===u?void 0:u.entityId,...t})}},879100:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Pe});var i,a=n(667294),l=(n(167912),n(616550)),o=n(883119),r=n(563962),s=n(377234),d=n(825389),c=n(536042),u=n(245410),p=n(98736),m=n(802071),h=n(251951),g=n(702664),_=n(442279),y=n(914939),v=n(81660),f=n(630089),b=n(467763),x=n(497088),k=n(154500),P=n(525104),S=n(220271),w=n(785893);const T=void 0!==i?i:i=n(125555),I=({aggregatedPinDataId:e,commentCount:t,commentsDisabled:n,nativePinType:i,onCancel:a,pinUid:l,reactionCounts:r,refetchReactionCount:s})=>{const d=(0,c.ZP)(),{clientTrackingParams:u}=(0,h.R)();return(0,w.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:"1px solid var(--color-gray-roboflow-200)"}},display:"flex",justifyContent:"between",paddingX:4,paddingY:3,children:[(0,w.jsxs)(o.kC,{alignItems:"center",gap:{row:4,column:0},children:[(0,w.jsx)(o.iP,{onTap:a,children:(0,w.jsx)(o.JO,{accessibilityLabel:d._('cancel', 'commentThreadModal.header.cancel', 'icon to close comment thread modal'),color:"default",icon:"cancel"})}),(0,w.jsx)(o.xv,{weight:"bold",children:t&&!n?(0,f.nk)(d.ngettext('{{ commentCount }} comment', '{{ commentCount }} comments', t, 'pinCloseup.commentThread.header', 'Number of comments on a Pin. commentCount: number of comments'),{commentCount:t}):d._('What do you think?', 'pinCloseup.commentThread.header', 'prompt user to comment on Pin')})]}),(0,w.jsxs)(o.kC,{alignItems:"center",gap:{column:0,row:3},children:[(0,w.jsx)(b.Z,{isBold:!1,paddingY:0,pinId:l,reactionCounts:r}),(0,w.jsx)(k.default,{aggregatedPinDataId:e,clientTrackingParams:u,hasBackground:!0,isTrayPositionRelative:!1,onReactionUpdated:()=>{s&&s()},nativePinType:i,pinId:l})]})]})};function A(e){var t;const{data:n,refetch:i}=(0,v.Z)(T,{pinId:e.pinUid},{suspendOnRefetch:!1}),a=(0,S.Z)(null===(t=n.v3GetPinQuery)||void 0===t?void 0:t.data);return(0,w.jsx)(I,{...e,reactionCounts:a,refetchReactionCount:i})}function C(e){const t=(0,P.S6)()(e.pinUid);return(0,w.jsx)(I,{...e,reactionCounts:null==t?void 0:t.reaction_counts})}function j({shouldUseGraphQL:e,...t}){return e?(0,w.jsx)(x.Z,{children:(0,w.jsx)(A,{...t})}):(0,w.jsx)(C,{...t})}var E=n(123228),R=n(394366),L=n(88622),D=n(315219),F=n(549201),z=n(272109),M=n(76008),O=n(738318),B=n(676794),Z=n(60743),N=n(219236),U=n(411132),K=n(388011);const V=({action:e,text:t})=>(0,w.jsx)(o.iP,{onTap:e,children:(0,w.jsx)(o.xv,{weight:"bold",children:t})});var H=n(150875),G=n(550140),W=n(63262);const $="spam",q="nudity",Y="self-harm",X="hate-speech",J="attacks",Q="graphic-violence",ee="medical-misinformation",te=({onReasonSelect:e})=>{const t=(0,c.ZP)();return(e=>[{key:$,title:e._('Spam', 'report.comment.option.spam.title', 'Report comment option'),subtitle:e._('Misleading or repetitive posts', 'report.comment.option.spam.subtitle', 'Report comment option description')},{key:q,title:e._('Sexual commentary', 'report.comment.option.sexualCommentary.title', 'Report comment option'),subtitle:e._('Sexually explicit content', 'report.comment.option.sexualCommentary.subtitle', 'Report comment option description')},{key:Y,title:e._('Self-harm', 'report.comment.option.selfHarm.title', 'Report comment option'),subtitle:e._('Eating disorders, cutting, suicide, drugs', 'report.comment.option.selfHarm.subtitle', 'Report comment option description')},{key:ee,title:e._('Medical misinformation', 'report.comment.option.medicalMisinformation.title', 'Report comment option'),subtitle:e._('Harmful or misleading content about health and safety', 'report.comment.option.medicalMisinformation.subtitle', 'Report comment option description')},{key:X,title:e._('Hate speech', 'report.comment.option.hateSpeech.title', 'Report comment option'),subtitle:e._('Prejudice or attacks directed at protected groups', 'report.comment.option.hateSpeech.subtitle', 'Report comment option description')},{key:J,title:e._('Harassment or privacy violations', 'report.comment.option.harassment.title', 'Report comment option'),subtitle:e._('Blackmail, personal attacks or bullying', 'report.comment.option.harassment.subtitle', 'Report comment option description')},{key:Q,title:e._('Graphic violence', 'report.comment.option.violence.title', 'Report comment option'),subtitle:e._('Threats or promotion of violence', 'report.comment.option.violence.subtitle', 'Report comment option description')}])(t).map((({key:n,title:i,subtitle:a})=>(0,w.jsx)(o.iP,{onTap:e(n),children:(0,w.jsxs)(o.xu,{paddingY:3,display:"flex",justifyContent:"between",children:[(0,w.jsxs)(o.xu,{children:[(0,w.jsx)(o.X6,{size:"400",children:i}),(0,w.jsx)(o.xv,{size:"300",color:"subtle",children:a})]}),(0,w.jsx)(o.JO,{icon:"arrow-forward",accessibilityLabel:t._('Arrow Forward', 'reportPinReasonSelection.openUrl.accessibilityLabel', 'Accessibility label on arrow icon'),color:"default"})]})},n)))},ne=e=>{const t="policies";switch(e){case $:return[$,"spamPin"];case q:return[t,q];case Y:return[t,"hurtfulContent","selfHarm"];case X:return[t,"hurtfulContent","hateSpeech"];case J:return[t,"hurtfulContent","harassingMeOrMyChild"];case Q:return[t,"gore"];default:return[]}},ie=({commentId:e,onDismiss:t,reason:n})=>{const i=(0,c.ZP)(),{flagAggregatedComment:l,aggregatedCommentHidden:r}=(0,M.nf)(),{showToast:s}=(0,W.F9)(),[d,u]=(0,a.useState)(!1),{title:p,nonRemovals:m,removals:h}=(e=>({[$]:{title:e._('Report spam?', 'Confirm report comment reason title', 'Confirm report comment reason title'),removals:[e._('Misleading content or behavior', 'Example of spam', 'Example of spam'),e._('Repetitive posts', 'Example of spam', 'Example of spam'),e._('Unsolicited commercial messages', 'Example of spam', 'Example of spam')]},[q]:{title:e._('Report a sexual comment?', 'Confirm report comment reason title', 'Confirm report comment reason title'),removals:[e._('Graphic sexual descriptions', 'Example of sexual comment', 'Example of sexual comment'),e._('Unsolicited sexual remarks', 'Example of sexual comment', 'Example of sexual comment'),e._('Links to sexual content', 'Example of sexual comment', 'Example of sexual comment')]},[Y]:{title:e._('Report this comment?', 'Confirm report comment reason title', 'Confirm report comment reason title'),removals:[e._('Encouragement of self-injury, suicide, eating disorders and substance abuse', 'Example of self-injury', 'Example of self-injury'),e._('Buying or selling drugs', 'Example of self-injury', 'Example of self-injury'),e._('Jokes about self-harm', 'Example of self-injury', 'Example of self-injury')],notes:e._('We may send support resources to the person who left this comment.', 'Note on further actions Pinterest may take in the case of self-harm content.', 'Note on further actions Pinterest may take in the case of self-harm content.')},[ee]:{title:e._('Report medical misinformation?', 'Confirm report comment reason title', 'Confirm report comment reason title'),removals:[e._('False cures for cancer or other chronic or terminal illnesses', 'Example of medical misinformation', 'Example of medical misinformation'),e._('Anti-vaccination advice', 'Example of medical misinformation', 'Example of medical misinformation')],nonRemovals:[e._('Diet advice, including cleanses and supplements that can boost the immune system', 'Example of a comment we will not remove', 'Example of a comment we will not remove'),e._('Teas, oils and herbs proposed for aromatic and sleep quality', 'Example of a comment we will not remove', 'Example of a comment we will not remove')]},[X]:{title:e._('Report hateful speech?', 'Confirm report comment reason title', 'Confirm report comment reason title'),removals:[e._('Attacks or slurs directed at protected groups', 'Example of hate speech', 'Example of hate speech'),e._('Support for hate groups and their messages', 'Example of hate speech', 'Example of hate speech'),e._('Denial of someone\u2019s gender or sexual identity', 'Example of hate speech', 'Example of hate speech')]},[J]:{title:e._('Report harassment?', 'Confirm report comment reason title', 'Confirm report comment reason title'),removals:[e._('Bullying', 'Example of harassment', 'Example of harassment'),e._('Profanity directed at individuals', 'Example of harassment', 'Example of harassment'),e._('Personally identifiable information (even if shared voluntarily)', 'Example of harassment', 'Example of harassment')]},[Q]:{title:e._('Report graphic violence?', 'Confirm report comment reason title', 'Confirm report comment reason title'),removals:[e._('Glorification or promotion of violence', 'Example of violence', 'Example of violence'),e._('Threats of harm', 'Example of violence', 'Example of violence')]}}))(i)[n];return(0,w.jsxs)(a.Fragment,{children:[(0,w.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,w.jsx)(o.xu,{paddingY:4,children:(0,w.jsx)(o.X6,{align:"center",children:p})}),(0,w.jsxs)(o.xu,{paddingY:4,children:[(0,w.jsx)(o.xv,{children:"We remove things such as"}),(0,w.jsx)(o.xu,{paddingY:2,children:h.map((e=>(0,w.jsxs)(o.xv,{children:[" ",e]},e)))})]}),m&&(0,w.jsxs)(o.xu,{paddingY:4,children:[(0,w.jsx)(o.xv,{children:"We don't remove things like"}),(0,w.jsx)(o.xu,{paddingY:2,children:m.map((e=>(0,w.jsxs)(o.xv,{children:[" ",e]},e)))})]}),(0,w.jsx)(o.xu,{alignSelf:"center",marginTop:3,children:(0,w.jsx)(o.zx,{color:"red",onClick:()=>{r(e),l({commentId:e,reason:n,detailedReasons:ne(n)}).then((()=>{s((({hideToast:e})=>(0,w.jsx)(G.ZP,{text:i._('Thanks! Your feedback helps us improve Pinterest.', 'reportPinReasonDetail.submit.toast', 'Message to user after successfully reporting a pin'),onHide:e}))),setTimeout((()=>{t()}),3500)}))},size:"lg",text:i._('Report', 'reportCommentConfirmation.button.report', 'button to report comment')})})]}),d&&(0,w.jsx)(G.ZP,{onHide:(g=!1,()=>{u(g)}),text:i._('Thanks! Your feedback helps us improve Pinterest', 'comment.report.confirmationToast', 'Toast confirming that user has successfully reported a comment'),duration:3500})]});var g},ae=({commentId:e,isModalOpen:t,onDismiss:n})=>{const i=(0,c.ZP)(),[l,r]=(0,a.useState)(void 0);(0,a.useEffect)((()=>{t&&r(void 0)}),[t]);if(!e)return null;const{windowHeight:s}=(0,H.Z)();return(0,w.jsx)(L.ZP,{mobileAccessibilityCloseIconLabel:i._('Close', 'commentThreadModal.close', 'Close modal window'),accessibilityModalLabel:"",heading:i._('Report Comment', 'reportComment.heading', 'Heading for report comment page in report comment flow'),isOpen:t,mobileIsSlideUp:!0,onDismiss:n,children:(0,w.jsx)(o.xu,{height:s-90,paddingX:5,paddingY:3,children:l?(0,w.jsx)(ie,{commentId:e,onDismiss:n,reason:l}):(0,w.jsx)(te,{onReasonSelect:e=>()=>{r(e)}})})})};var le=n(446191);const oe=({author:e,commentId:t,isMenuOpen:n,isViewingOwnComment:i,onDelete:l,onDismiss:r,openEditComposer:s})=>{const d=(0,c.ZP)(),{isAuth:u}=(0,m.Z)(),p=(0,g.useDispatch)(),{logContextEvent:h}=(0,K.v)(),{aggregatedCommentsHiddenForUser:_}=(0,M.nf)(),[y,v]=(0,a.useState)(!1),f=e=>()=>{h({component:14349,event_type:e})};return(0,w.jsxs)(a.Fragment,{children:[(0,w.jsx)(L.ZP,{mobileAccessibilityCloseIconLabel:d._('Close', 'commentOverflowMenu.close', 'Close modal window'),accessibilityModalLabel:"",isOpen:n,mobileIsSlideUp:!0,onDismiss:r,children:(0,w.jsx)(o.xu,{padding:3,children:(0,w.jsx)(o.kC,{direction:"column",gap:{row:0,column:4},children:u?(0,w.jsx)(a.Fragment,{children:i?(0,w.jsxs)(a.Fragment,{children:[(0,w.jsx)(V,{action:s,text:d._('Edit', 'commentOverflowMenu.option.edit', 'Edit comment')}),(0,w.jsx)(V,{action:l(t),text:d._('Delete', 'commentOverflowMenu.option.delete', 'Delete comment')})]}):(0,w.jsxs)(o.kC,{direction:"column",gap:4,children:[(0,w.jsx)(V,{action:()=>{v(!0)},text:d._('Report', 'commentOverflowMenu.option.report', 'Report comment')}),(0,w.jsx)(U.Z,{cancelBlockCallback:f(9408),onBlock:()=>{const{id:t}=e;p((0,le.Ge)({id:t,blockSource:"comment",blockContext:t})),_(t),f(9407)()},onBlockCallback:r,openModalCallback:f(9406),size:"300",user:e})]})}):(0,w.jsx)(o.rU,{href:"https://policy.pinterest.com/de/netzdg/",target:"blank",underline:"none",children:(0,w.jsx)(o.xv,{weight:"bold",children:d._('Report comment for NetzDG', 'commentOverflowMenu.option.reportForNetzDG', 'Report comment - NetzDG')})})})})}),(0,w.jsx)(ae,{commentId:t,isModalOpen:y,onDismiss:()=>{v(!1),r()}})]})};var re=n(726304),se=n(638136),de=n(690108);var ce,ue=n(491452),pe=n(952239),me=n(274796);const he={height:150,signature:"",url:"",width:150},ge=(0,_.P1)(((e,t,n)=>n),(({feeds:e},t)=>e[`${me.Z.UNIFIED_COMMENTS}:${t}`]),(({didItData:e})=>e),((e,t,n)=>(null==t?void 0:t.map((({id:t,type:i})=>"aggregatedcomment"===i.toLowerCase()?e[t]:n[t])).filter((e=>e)))||[])),_e=void 0!==ce?ce:ce=n(553703);function ye({isModalOpen:e,isReactionsExpansionEnabled:t,onDismiss:n,pinId:i,pinKey:l,viewParameter:r}){var s,p,h,_,v,b,x,k,P;const{data:S,childDataKey:T}=(0,d.k5)(_e,l,{type:"pin",useLegacyAdapter:e=>{var t,n;return{aggregatedPinData:e.aggregated_pin_data&&{commentCount:e.aggregated_pin_data.comment_count,didItData:e.aggregated_pin_data.did_it_data&&{imagesCount:e.aggregated_pin_data.did_it_data.images_count},entityId:null!==(t=e.aggregated_pin_data.id)&&void 0!==t?t:""},commentsDisabled:e.comments_disabled,doneByMe:e.done_by_me,pinner:e.pinner&&{entityId:e.pinner.id},storyPinData:e.story_pin_data&&{entityId:null!==(n=e.story_pin_data.id)&&void 0!==n?n:""},videos:e.videos&&{videoList:e.videos.video_list&&{__typename:"VideoList"}}}}}),I=(0,c.ZP)(),{isAuth:A}=(0,m.Z)(),C=(0,F.HG)(),U=(0,m.Z)(),K=(0,M.lV)(),V=(0,g.useDispatch)(),{checkExperiment:H}=(0,u.F)(),[G,W]=(0,a.useState)(!1),{removeUnauthCommentPinId:$,unauthCommentPinId:q}=(0,re.C)(),{updateAggregatedComment:Y}=(0,M.nf)(),X=(0,se.Z)(),J=(0,y.Z)(),Q=function(){const{aggregatedCommentDeleted:e,updateCommentCount:t}=(0,M.nf)();return async({commentId:n,parentId:i,isReply:a})=>{de.Z.create("AggregatedCommentResource",{commentId:n,pinId:a?void 0:i}).callDelete().then((()=>{e(i,n),a&&t(i,-1)}))}}(),[ee,te]=(0,a.useState)(""),[ne,ie]=(0,a.useState)(void 0),[ae,le]=(0,a.useState)(void 0),[ce,ye]=(0,a.useState)(E.A9.NONE),[ve,fe]=(0,a.useState)(!1),[be,xe]=(0,a.useState)(void 0),[ke,Pe]=(0,a.useState)(void 0),[Se,we]=(0,a.useState)(he),[Te,Ie]=(0,a.useState)(!(null==S||!S.doneByMe)),Ae=U.isAuth?U.id:null,Ce=null==S||null===(s=S.aggregatedPinData)||void 0===s?void 0:s.entityId,je=(0,g.useSelector)((e=>ge(e,Ce,K))),Ee=()=>{te(I._('Add comment', 'commentComposer.heading.addComment', 'Comment composer title when composing new comment')),W(!0)};if((0,z.Z)((()=>{!C&&U.isAuth&&q&&i&&q===i&&(Ee(),$())})),!S)return null;let Re,Le="",De=[];if(ne&&(H("mweb_photo_comment_replies").anyEnabled?"aggregatedcomment"===ne.parentType||"userdiditdata"===ne.parentType:"aggregatedcomment"===ne.parentType))Le=`@${ne.user.username} `,De=[{length:ne.user.username.length+1,object_id:ne.user.id,offset:0,tag_type:ue.XU}];else if(ae){var Fe;Le=null!==(Fe=ae.text||ae.details)&&void 0!==Fe?Fe:"",De=ae.tags,Re=ae.images?ae.images[0]["150x150"]:void 0}const ze=()=>{W&&W(!1),ie(void 0),le(void 0),te(""),we(he)},Me=()=>{fe(!1)},Oe=()=>{ze(),Me()},Be=({photoHeight:e,photoUrl:t,photoWidth:n,photoSignature:i})=>{we({height:e,url:t,signature:i,width:n})},Ze=(null!==(p=null===(h=S.aggregatedPinData)||void 0===h?void 0:h.commentCount)&&void 0!==p?p:0)+(null!==(_=null===(v=S.aggregatedPinData)||void 0===v||null===(b=v.didItData)||void 0===b?void 0:b.imagesCount)&&void 0!==_?_:0),Ne=!(null===(x=S.storyPinData)||void 0===x||!x.entityId);return(0,w.jsx)(L.ZP,{mobileAccessibilityCloseIconLabel:I._('Close', 'commentThreadModal.close', 'Close modal window'),accessibilityModalLabel:"",heading:!t&&I._('Comments', 'commentThreadModal.heading', 'Comment thread'),isOpen:e,mobileHideCloseIcon:t,mobileIsSlideUp:!0,onDismiss:n,children:(0,w.jsx)(B.Z,{viewParameter:r,viewType:98,children:(0,w.jsxs)(o.kC,{alignContent:"stretch",alignItems:"stretch",justifyContent:"start",direction:"column",height:"75vh",children:[t&&(0,w.jsx)(j,{aggregatedPinDataId:null===(k=S.aggregatedPinData)||void 0===k?void 0:k.entityId,commentCount:Ze,commentsDisabled:S.commentsDisabled,nativePinType:(Ne?"storyPin":(null===(P=S.videos)||void 0===P?void 0:P.videoList)&&"video")||"image",onCancel:n,pinUid:i,shouldUseGraphQL:"graphqlRef"===T.type}),(0,w.jsx)(o.xu,{display:"flex",flex:"grow",paddingX:4,paddingY:6,minHeight:128,overflow:"scrollY",children:(0,w.jsx)(Z.Z,{disablePhotoCommentSelection:Te,isComposingNewComment:G,isReadOnly:!A,pinId:i,pinKey:T,setIsComposingNewComment:W,viewParameter:r,toggleComposerForReply:(e,t,n)=>{if(e){const{user:{first_name:i,full_name:a,username:l}}=e;te((0,f.nk)(I._('Reply to {{ name }}', 'commentComposer.heading.replyTo', 'Comment composer title when reply to comment'),{name:i||a||l}).join("")),e.parentId=t,e.parentType=n}ie(e)},openMwebOverflowMenu:e=>{fe(!0),xe(e.id),Pe(e.user)}})}),!S.commentsDisabled&&A&&(0,w.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid var(--color-gray-roboflow-200)"}},paddingX:4,paddingY:4,children:H("mweb_photo_commenting").anyEnabled?!G&&(0,w.jsx)(R.Z,{commentWarningModalState:E.A9.NONE,disablePhotoCommentSelection:Te,dismissCommentWarningModal:()=>{},handlePhotoSelect:Be,objectType:O.o.pin,onEnter:Ee,statusType:"textStaticDisplay",viewParameter:r}):(0,w.jsx)(R.Z,{commentWarningModalState:E.A9.NONE,disablePhotoCommentSelection:Te,dismissCommentWarningModal:()=>{},handlePhotoSelect:Be,objectType:O.o.pin,onEnter:Ee,statusType:"textStaticDisplay",viewParameter:r})}),!C&&(0,w.jsx)(N.Z,{commentWarningModalState:ce,defaultText:Le,disablePhotoCommentSelection:Te,dismissCommentWarningModal:()=>{ye(E.A9.NONE)},handlePhotoSelect:Be,heading:ee,initialMentions:De,isCommentReply:!!ne,isCommentEdit:!!ae,isModalOpen:!!G||!!ne||!!ae,onDismiss:ze,onPost:async(e,t,n)=>{let a;var l;if(ae)"userdiditdata"===ae.type&&H("mweb_photo_commenting").anyEnabled?(V((0,pe.IU)({id:ae.id,details:e,pinId:null!=i?i:"",image_signatures:null!==(l=ae.image_signatures)&&void 0!==l?l:[]})),Oe()):a=Y({commentId:ae.id,force:n,text:e,tags:"[]"});else if(i){var o,r;const l="aggregatedcomment"===(null==ne?void 0:ne.parentType),s=(null==ne||null===(o=ne.parentType)||void 0===o?void 0:o.toLowerCase())===O.n.didIt,d=l||s?null==ne?void 0:ne.parentId:(null==ne?void 0:ne.id)||(null===(r=S.aggregatedPinData)||void 0===r?void 0:r.entityId),c="userdiditdata"===(null==ne?void 0:ne.type)||s?O.o.didIt:O.o.aggregatedComment;if(d)if(Se.signature){const t={aggregatedPinDataId:d,details:e,image_signatures:Se.signature,pin_id:null!=i?i:"",username:U.username||"",fromUnifiedComment:!0};await V((0,pe.DD)(t)),Ie(!0),Oe()}else a=H("mweb_photo_comment_replies").anyEnabled?J({force:n,fromUnifiedComment:!0,objectId:d,pinId:i,objectType:ne?c:O.o.pin,text:e,tags:JSON.stringify(t),replyToCommentId:l||s?null==ne?void 0:ne.id:""}):X({force:n,parentId:d,pinId:i,text:e,tags:JSON.stringify(t),isReply:!!ne,replyToCommentId:l?null==ne?void 0:ne.id:null})}if(!a)return!0;try{await a,Oe()}catch(s){return[D.ky,D.LJ].includes(s.api_error_code)&&ye(s.api_error_code===D.ky?E.A9.WARNING:E.A9.BLOCK),!1}return!0},uploadedPhotoProperties:Se,postedPhoto:Re}),be&&!!ke&&(0,w.jsx)(oe,{author:ke,commentId:be,isMenuOpen:ve,isViewingOwnComment:ke.id===Ae,onDelete:e=>()=>{var t;const n=(null==ne?void 0:ne.id)||(null===(t=S.aggregatedPinData)||void 0===t?void 0:t.entityId),a=je.find((e=>e.id===be)),l=null!=a?a:K[null!=be?be:""];try{n&&("aggregatedcomment"===l.type?Q({commentId:e,parentId:n,isReply:!!ne}).then(Me):V((0,pe.lg)({aggregatedPinDataId:null!=Ce?Ce:"",feedType:me.Z.UNIFIED_COMMENTS,id:e,isOwnedByMe:!0,pinId:null!=i?i:"",username:l.user.username,updateParentDidItCount:!0})),Ie(!1),Me())}catch(o){}},onDismiss:Me,openEditComposer:()=>{const e=je.find((e=>e.id===be)),t=null!=e?e:K[null!=be?be:""];!t||t.images&&!H("mweb_photo_commenting").anyEnabled||(te(I._('Edit comment', 'commentComposer.heading.editComment', 'Comment composer title when editing own comment')),le(t))}})]})})})}var ve=n(196039);const fe="PHN2ZyB3aWR0aD0iMjIiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyMiAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMS4wMDAyIDJDNS45Mzc2NiAyIDEuODMzNSA2LjEwNDE3IDEuODMzNSAxMS4xNjY3QzEuODMzNSAxMy4zNjMzIDIuNjA4NSAxNS4zNzgzIDMuODk2ODMgMTYuOTU3NUwyLjY4MDE2IDIxLjQ4MDhDMi41OTEgMjEuODM3NSAyLjk3MTgzIDIyLjEyNTggMy4yOTEgMjEuOTQ0Mkw3LjUyNTE2IDE5LjY0NzVDOC41OTc2NiAyMC4wODY3IDkuNzY5MzMgMjAuMzMzMyAxMS4wMDAyIDIwLjMzMzNDMTYuMDYyNyAyMC4zMzMzIDIwLjE2NjggMTYuMjI5MiAyMC4xNjY4IDExLjE2NjdDMjAuMTY2OCA2LjEwNDE3IDE2LjA2MjcgMiAxMS4wMDAyIDJaIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjMiLz4KPC9zdmc+Cg==";function be({color:e}){return(0,w.jsx)(o.xu,{alignItems:"center",minHeight:ve.CR,minWidth:ve.CR,"data-test-id":"comment-button-container",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:`url("data:image/svg+xml;base64,${fe}")`,WebkitMaskRepeat:"no-repeat",WebkitMaskPosition:"center",background:e}},display:"flex",justifyContent:"center",position:"relative"})}var xe;const ke=void 0!==xe?xe:xe=n(249117);function Pe({pinId:e,pinKey:t,viewParameter:n}){var i;const{data:g,childDataKey:_}=(0,d.k5)(ke,t,{type:"pin",useLegacyAdapter:e=>({videos:e.videos&&{entityId:e.videos.id||""}})}),y=(0,s.vs)(),v=(0,c.ZP)(),{checkExperiment:f}=(0,u.F)(),b=(0,r.Z)(),{comment_id:x}=(0,l.useParams)(),{unauthCommentPinId:k}=(0,re.C)(),{isStoryPin:P,shouldRenderAsStoryPin:S}=(0,h.R)(),{isAuth:T}=(0,m.Z)(),[I,A]=(0,a.useState)(!!x||T&&!!k&&!!e&&k===e);if(!g)return null;const{anyEnabled:C}=f(`${T?"auth":"unauth"}_mweb_reactions_expansion_mvp_${null!==(i=g.videos)&&void 0!==i&&i.entityId||P?"idea_video":"web"}_pin`),j=S||y;return(0,w.jsx)(a.Fragment,{children:(0,w.jsxs)(o.xu,{"data-test-id":"comment-button",children:[(0,w.jsx)(o.iP,{accessibilityLabel:v._('comments', 'closeup.storyPin.actionBar.commentThread', 'Comments entry point'),onTap:()=>{T||(0,p.My)("pcons.comment_button_clicked"),b({event_type:102,element:2,view_type:3}),A(!0)},children:C?(0,w.jsx)(o.xu,{alignItems:"center",minHeight:ve.CR,minWidth:ve.CR,"data-test-id":"comment-button-container",display:"flex",justifyContent:"center",position:"relative",children:(0,w.jsxs)(a.Fragment,{children:[(0,w.jsx)(o.xu,{position:"absolute",children:(0,w.jsx)(o.JO,{accessibilityLabel:"",color:j?"light":"dark",icon:"speech",size:24})}),(0,w.jsx)(o.xu,{position:"absolute",children:(0,w.jsx)(o.JO,{accessibilityLabel:"",color:j?"dark":"light",icon:"heart",size:10})})]})}):(0,w.jsx)(be,{color:j?"white":"black"})}),I&&(0,w.jsx)(ye,{isModalOpen:!0,isReactionsExpansionEnabled:C,onDismiss:()=>{A(!1)},pinId:e,pinKey:_,viewParameter:n})]})})}},726304:(e,t,n)=>{n.d(t,{C:()=>r,p:()=>s});var i=n(667294),a=n(583592),l=n(785893);const{Provider:o,useHook:r}=(0,a.Z)("Session");function s({children:e}){const[t,n]=(0,i.useState)(void 0),a=(0,i.useCallback)((()=>n(void 0)),[]),r=(0,i.useMemo)((()=>({unauthCommentPinId:t,setUnauthCommentPinId:n,removeUnauthCommentPinId:a})),[t,a]);return(0,l.jsx)(o,{value:r,children:e})}},219236:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),a=n(883119),l=n(388011),o=n(88622),r=n(536042),s=n(643183),d=n(785893);const c=(0,i.lazy)((()=>Promise.all([n.e(72586),n.e(46888),n.e(89136),n.e(17932)]).then(n.bind(n,417932)))),u=({commentWarningModalState:e,defaultText:t,disablePhotoCommentSelection:n,dismissCommentWarningModal:u,handlePhotoSelect:p,heading:m,initialMentions:h,isCommentEdit:g,isCommentReply:_,isModalOpen:y,onDismiss:v,onPost:f,placeholder:b,uploadedPhotoProperties:x,postedPhoto:k})=>{const P=(0,r.ZP)(),{logContextEvent:S}=(0,l.v)(),[w,T]=(0,i.useState)(!1);(0,i.useEffect)((()=>{y&&S({component:14348,event_type:8983})}),[y,S]);const I=(0,d.jsx)(a.xv,{align:"center",size:"300",weight:"bold",children:m});return(0,d.jsx)(o.ZP,{mobileAccessibilityCloseIconLabel:P._('Close', 'commentComposer.close', 'Close comment composer'),accessibilityModalLabel:"",heading:I,mobileIsFullscreen:w,isOpen:y,mobileIsSlideUp:!0,onDismiss:()=>{S({component:14348,event_type:8985}),v(),T(!1)},children:(0,d.jsx)(a.xu,{padding:3,children:(0,d.jsx)(s.Z,{children:(0,d.jsx)(c,{defaultText:t,disablePhotoCommentSelection:n,dismissCommentWarningModal:u,handlePhotoSelect:p,initialMentions:h,isCommentEdit:!!g,isCommentReply:!!_,onPost:(e,t,n)=>()=>{S({component:14348,event_type:8984}),f(e,t,n)},placeholder:b,postedPhoto:k,toggleFullScreen:e=>{T(e)},uploadedPhotoProperties:x,warningModalState:e})})})})}},638136:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(702664),a=n(690108),l=n(76008),o=n(541268),r=n(274796);function s(){const e=(0,i.useDispatch)(),{aggregatedCommentCreated:t,updateCommentCount:n}=(0,l.nf)();return async({force:i,parentId:l,pinId:s,text:d,tags:c,isReply:u,replyToCommentId:p})=>{const m={force:i,objectId:l,pinId:s,tags:c,text:d,replyToCommentId:p},h=u?"AggregatedCommentReplyResource":"AggregatedCommentResource";return a.Z.create(h,m).callCreate().then((i=>{const a=i.resource_response.data;t(l,a),e((0,o.vX)({feedType:u?r.Z.AGGREGATED_COMMENT_REPLIES:r.Z.UNIFIED_COMMENTS,feedId:l,itemIds:[a.id],itemType:a.type})),u&&n(l,1)}))}}},425118:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(667294),a=n(240684),l=n(883119),o=n(536042),r=n(28630),s=n(589665),d=n(785893);const c=new l.Ry(s.fe),u=new l.H3([c]),p=new l.H3([u]),m={modalMargin:24,gestaltModalMargin:6,closeButtonMargin:6},h={width:540,height:363},g={modalMargin:24,gestaltModalMargin:6,closeButtonMargin:4},_={width:320,height:215},y=(0,a.ZP)({resolved:{},chunkName:()=>"video-VideoWrapper",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(67631),n.e(3875)]).then(n.bind(n,473383)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 473383}});function v(e){const{displayData:t,handleComplete:n,handleDismiss:a,isMobile:o}=e,{video:s,image:c,title:u,body:p,completeButton:h,dismissButton:_}=t,y=o?g:m,v=o?"center":"start",b=(0,r.Z)({url:h.url})?"nofollow":"none";return(0,d.jsxs)(i.Fragment,{children:[(0,d.jsx)(f,{isMobile:o,image:c,video:s,handleDismiss:a,title:u}),(0,d.jsxs)(l.xu,{margin:y.gestaltModalMargin,justifyContent:"center",display:"flex",direction:"column",children:[(0,d.jsx)(l.X6,{align:v,children:u}),(0,d.jsx)(l.xu,{marginTop:2,marginBottom:4,children:(0,d.jsx)(l.xv,{align:v,children:p})}),(0,d.jsxs)(l.xu,{margin:-1,display:"flex",justifyContent:o?"center":"end",dangerouslySetInlineStyle:{__style:{flexWrap:"wrap-reverse"}},children:[_&&!_.hideDismissButton&&(0,d.jsx)(l.xu,{padding:1,fit:!0,minWidth:o?130:void 0,flex:o?"grow":"none",children:(0,d.jsx)(l.zx,{fullWidth:o,color:"gray",size:"lg",text:_.text,onClick:a})}),h&&(0,d.jsx)(l.xu,{padding:1,fit:!0,minWidth:o?130:void 0,flex:o?"grow":"none",children:h.url?(0,d.jsx)(l.ZP,{fullWidth:o,color:"red",size:"lg",text:h.text,onClick:()=>n(),href:h.url,rel:b}):(0,d.jsx)(l.zx,{fullWidth:o,color:"red",size:"lg",text:h.text,onClick:()=>n()})})]})]})]})}const f=e=>{var t,n;const{isMobile:i,image:a,video:r,handleDismiss:s,title:c}=e,u=(0,o.ZP)(),v=i?g:m,f=i?_:h,b=(0,d.jsx)(l.xu,{margin:v.closeButtonMargin,display:"flex",justifyContent:i?"start":"end",position:"absolute",zIndex:p,width:f.width-2*v.modalMargin,children:(0,d.jsx)(l.hU,{accessibilityLabel:u._('Dismiss', 'experiences.ExperienceModalWindow.modalDismissIconButton', 'Accessibility lable for the X icon button to dismiss the modal window'),icon:"cancel",iconColor:"darkGray",onClick:s,size:"sm"})}),x=a?a.imageAlt:c,k=a?a.url:null==r||null===(t=r.metadata)||void 0===t?void 0:t.thumbnail,P=3===(null==a||null===(n=a.dominantColor)||void 0===n?void 0:n.length)?`rgb(${a.dominantColor[0]}, ${a.dominantColor[1]}, ${a.dominantColor[2]})`:"rgb(111, 91, 77)";let S=f.width/f.height,w={width:f.width,height:f.height};a&&a.width&&a.height?(S=a.width/a.height,w={width:a.width,height:a.height}):r&&r.metadata.width&&r.metadata.height&&(S=r.metadata.width/r.metadata.height,w={width:r.metadata.width,height:r.metadata.height});const T=k&&(0,d.jsx)(l.Ee,{alt:x||"",color:P,naturalHeight:w.height,naturalWidth:w.width,src:k,fit:"cover"}),I=Math.trunc(f.width/S);return(0,d.jsxs)(l.xu,{top:!0,left:!0,bottom:!0,right:!0,width:f.width,height:I,overflow:"hidden",children:[b,a&&T,r&&(0,d.jsx)(y,{fallback:T,aspectRatio:S,objectFit:"cover",captions:"",controls:!1,loop:!0,isAutoPlay:!0,onPlay:()=>{},onPlayError:()=>{},playing:!0,playsInline:!0,poster:(null==a?void 0:a.url)||r.metadata.thumbnail,src:r.url,volume:0})]})}},787234:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(33476),a=n(667294),l=n(883119),o=n(874261),r=n(279409),s=n(150875),d=n(716793),c=n(377234),u=n(599551),p=n(250307),m=n(28630),h=n(785893);const g={lightMode:{backgroundColor:"#E60023",color:"#FFFFFF"},darkMode:{backgroundColor:"#E60023",color:"#FFFFFF"}},_={lightMode:{backgroundColor:"#EFEFEF",color:"#111111"},darkMode:{backgroundColor:"#292929",color:"#EFEFEF"}},y=({color:e,isPrimary:t,shape:n,text:i,textColor:a})=>{const o=(t?g:_)[(0,c.Yc)()?"darkMode":"lightMode"];return(0,h.jsx)(l.xv,{align:"center",weight:"bold",children:(0,h.jsx)("div",{className:t?"banner-button-primary":"banner-button-secondary",style:{backgroundColor:e||o.backgroundColor,borderRadius:"pill"===n?"24px":"4px",color:a||o.color,padding:"10px 14px"},children:i})})},v=({external:e,onTouch:t,pressState:n,to:i,accessibilityLabel:a,color:o,isPrimary:r,textColor:s,minHeight:d=40,shape:c,text:g})=>{const _=(0,p.Z)(i),v=(0,u.Z)({externalData:{dangerouslyForceOffsiteUrl:e},href:_});return(0,h.jsx)(l.xu,{"aria-label":a,minHeight:d,children:_?(0,h.jsx)(l.iP,{role:"link",onTap:({event:e})=>{null==t||t(e),e.defaultPrevented||v({event:e})},href:_,target:"blank",rel:(0,m.Z)({url:_})?"nofollow":"none",tapStyle:n||"none",rounding:"pill"===c?"pill":2,children:(0,h.jsx)(y,{color:o,isPrimary:r,shape:c,text:g,textColor:s})}):(0,h.jsx)(l.iP,{onTap:({event:e})=>null==t?void 0:t(e),tapStyle:n||"none",rounding:"pill"===c?"pill":2,children:(0,h.jsx)(y,{color:o,isPrimary:r,shape:c,text:g,textColor:s})})})};function f(e){return e.startsWith("https://")||e.startsWith("http://")}const b=function({experience:e,onComplete:t,onDismiss:n}){const{display_data:i={},experience_id:c,placement_id:u}=e||{},p=(0,a.useMemo)((()=>(0,r.Z)(d.Z)(i)),[i]),{backgroundColorNarrowMweb:m,backgroundColorWideMweb:g,backgroundImageNarrow:_,backgroundImageWide:y,button1ColorNarrowMweb:b,button1ColorWideMweb:x,button1TextColorNarrowMweb:k,button1TextColorWideMweb:P,button1Text:S,button1Uri:w,button2ColorNarrowMweb:T,button2ColorWideMweb:I,button2TextColorNarrowMweb:A,button2TextColorWideMweb:C,button2Text:j,button2Uri:E,completeButtonAction:R,coverImage:L,detailedTextWithLinks:D,iconImage:F,layoutNarrow:z,layoutWide:M,links:O,linkTitles:B,primaryColorNarrowMweb:Z,primaryColorWideMweb:N,titleText:U}=p,{windowWidth:K}=(0,s.Z)(),V=K<=480,H=V?z:M,G=!V&&3!==H,W=V?m:g,$=V?b:x,q=V?k:P,Y=V?T:I,X=V?A:C,J=V?Z:N,{altText:Q,uri:ee}=(V?_:y)||{},{altText:te,uri:ne}=L||{},{altText:ie,uri:ae}=F||{},le=V&&2===H||!V&&2===H,oe=V?"96px":"48px",re=V&&3===H,se=S&&(0,h.jsx)(l.xu,{marginEnd:2,children:(0,h.jsx)(v,{accessibilityLabel:S,color:$,external:w?f(w):void 0,onTouch:()=>{!w&&u&&c&&n&&n()},shape:"pill",text:S,textColor:q,to:w})}),de=j&&(0,h.jsx)(v,{accessibilityLabel:j,color:Y,external:E?f(E):void 0,isPrimary:!0,onTouch:()=>{return e=R,void(t&&t(e));var e},shape:"pill",text:j,textColor:X,to:E}),ce=O.reduce(((e,t,n)=>{const i=`<a href="${t}" ${f(t)?'rel="noreferrer noopener" target="_blank"':""}>${B[n]}</a>`;return e.replace(`{${n}}`,i)}),D),ue={backgroundColor:W,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},pe={backgroundImage:!ee||le||re?void 0:`url(${ee})`,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"};return(0,h.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:ue},marginBottom:1,rounding:4,children:(0,h.jsxs)(l.zd,{rounding:4,children:[re&&ne&&(0,h.jsx)(l.kC,{alignItems:"start",height:128,justifyContent:"center",width:"100%",children:(0,h.jsx)(l.Ee,{alt:te||"cover image",fit:"cover",naturalHeight:1,naturalWidth:3,src:ne})}),(0,h.jsxs)(l.xu,{"aria-label":Q,alignItems:"center",dangerouslySetInlineStyle:{__style:pe},direction:G?"row":"column",display:"flex",justifyContent:"between",marginTop:re?-2:0,padding:6,children:[(0,h.jsxs)(l.kC,{alignItems:"center",direction:G?"row":"column",justifyContent:"between",maxWidth:G?void 0:"560px",children:[le&&ae&&(0,h.jsx)(l.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginEnd:G?4:0,marginBottom:G?0:6,children:(0,h.jsx)(l.xu,{height:oe,width:oe,children:(0,h.jsx)(l.zd,{rounding:G?4:6,children:(0,h.jsx)(l.Ee,{alt:ie||"icon",naturalHeight:1,naturalWidth:1,src:ae})})})}),!G&&U&&(0,h.jsx)(l.xv,{align:"center",weight:"bold",children:(0,h.jsx)(l.xu,{marginBottom:2,dangerouslySetInlineStyle:{__style:{color:J,fontSize:"20px"}},children:U})}),D&&(0,h.jsxs)(l.xv,{align:G?"start":"center",overflow:"normal",children:[(0,h.jsx)(o.Z,{unsafeCSS:`\n                      .nag-text a {\n                        color: ${J||""};\n                        font-weight: bold;\n                      }`}),(0,h.jsx)("div",{className:"nag-text",dangerouslySetInnerHTML:{__html:ce},style:{color:J}})]})]}),(se||de)&&(0,h.jsxs)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:G?0:-1,marginStart:G?4:0,marginTop:G?0:4,wrap:!G,children:[se,de]})]})]})})},x=({experience:e={}})=>(0,h.jsx)(i.Z,{experience:e,predicate:e=>e&&e.display_data&&1===e.display_data.component_type,children:({complete:e,dismiss:t,experience:n})=>(0,h.jsx)(b,{experience:n,onComplete:e,onDismiss:t})})},889685:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),a=n(702664),l=n(527386),o=n(33476),r=n(785893);const s=[502321,502322];class d extends i.Component{componentDidMount(){const{experience:e,completeExperience:t}=this.props;e&&s.includes(e.experience_id)&&t(e.placement_id,e.experience_id,!0)}render(){return(0,r.jsx)(o.Z,{experience:this.props.experience,eligibleIds:s,children:(0,r.jsx)("span",{})})}}function c(e){const t=(0,a.useDispatch)();return(0,r.jsx)(d,{...e,completeExperience:(e,n,i)=>t((0,l.CK)(e,n,i))})}},43746:(e,t,n)=>{n.d(t,{Z:()=>y});var i=n(883119),a=n(33476),l=n(279409),o=n(716793),r=n(667294),s=n(387977),d=n(467105),c=n(536042),u=n(906215),p=n(455788),m=n(886365),h=n(785893);function g({accessibilityModalLabel:e,allowScroll:t=!1,children:n,closeOnOutsideClick:a=!0,footer:l,isOpen:o,modalWidth:g,onDismiss:_,zIndex:y}){const v=(0,c.ZP)(),f=(0,r.useRef)(!1),{setAppFocusState:b}=(0,m.I)();(0,r.useEffect)((()=>(f.current=(0,s.Z)((()=>{})),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&f.current&&(window.cancelAnimationFrame(f.current),f.current=null)})),[]),(0,r.useEffect)((()=>(o?(u.Z.pause(),b(!1)):(u.Z.resume(),b(!0)),()=>{o&&(u.Z.resume(),b(!0))})),[b,o]),(0,r.useEffect)((()=>{const e=o&&!t;return e&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}})(),()=>{e&&(()=>{if(document.body){const{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}})()}}),[o,t]);return o?(0,h.jsx)(p.Z,{children:(0,h.jsx)(i.mh,{children:(0,h.jsxs)(i.xu,{"aria-label":e,zIndex:y||d.b7,position:"relative",role:"dialog",children:[(0,h.jsx)(i.iP,{accessibilityLabel:v._('Mobile Popup Modal Mask', 'mweb.experience_popup_modal.mask', 'The acessibility label for the mask of popup modal'),onTap:()=>{a&&_()},tapStyle:"none",children:(0,h.jsx)(i.xu,{height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new i.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}}})}),(0,h.jsxs)(i.xu,{position:"fixed",color:"default",top:!0,width:g,zIndex:new i.Ry(1),rounding:4,overflow:"hidden",dangerouslySetInlineStyle:{__style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out"}},children:[n,l]})]})})}):null}var _=n(425118);const y=({experience:e,placementId:t,zIndex:n})=>(0,h.jsx)(a.Z,{experience:e,eligibleTypes:[26],placementId:t,children:({complete:e,dismiss:t,experience:{display_data:i}})=>{const a=(0,l.Z)(o.Z)(i);return(0,h.jsx)(g,{modalWidth:320,accessibilityModalLabel:null==a?void 0:a.title,onDismiss:t,isOpen:!0,zIndex:n,children:(0,h.jsx)(_.Z,{isMobile:!0,displayData:a,handleComplete:e,handleDismiss:t})})}})},90046:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),a=n(702664),l=n(883119),o=n(527386),r=n(33476),s=n(460914),d=n(785893);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.PureComponent{constructor(...e){super(...e),c(this,"state",{paused:!1,showPulsar:!1,hasMounted:!1}),c(this,"handleDismiss",(()=>{const{onClickDismiss:e,dismissExperience:t,experience:n}=this.props;if(!n)return;const{experience_id:i,placement_id:a}=n;t(a,i),e&&e()})),c(this,"wrapperRef",(0,i.createRef)())}componentDidMount(){this.props.experience&&(this.mountPulsar(),this.setState({hasMounted:!0}))}componentDidUpdate(e){this.props.experience&&e.experience!==this.props.experience&&(this.mountPulsar(),this.setState({hasMounted:!0}))}mountPulsar(){const{experience:e}=this.props;if(!e)return;const{display_data:t}=e;t.has_pulsar&&this.setState({showPulsar:!0})}renderPulsar(){const e=this.wrapperRef,{paused:t}=this.state;if(!e||!e.current)return null;const n=e.current.getBoundingClientRect(),{height:i,width:a}=n,o=-(68+i/2),r=-(68-a/2);return(0,d.jsx)(s.Z,{pressState:"none",children:(0,d.jsx)(l.xu,{position:"absolute",zIndex:new l.Ry(1),dangerouslySetInlineStyle:{__style:{marginTop:o,marginLeft:r,pointerEvents:"none"}},children:(0,d.jsx)(l.o3,{paused:t,size:136})})})}render(){const{children:e,color:t,eligibleIds:n,experience:i,idealDirection:a,onClickComplete:o,showCaret:s,size:c,textWeight:u="bold",textAlign:p,textOverflow:m,fontSize:h}=this.props,{showPulsar:g,hasMounted:_}=this.state;if(!i||!n.includes(i.experience_id)||!_)return e({experience:i});const{display_data:{scroll_to_dismiss:y,scroll_to_dismiss_delay_in_seconds:v=0,...f}}=i;return(0,d.jsx)(r.Z,{eligibleIds:n,experience:i,children:({complete:n})=>{const r=()=>(_(),setTimeout(this.handleDismiss,1e3*v)),_=()=>{y&&(window.removeEventListener("scroll",r),window.removeEventListener("touchmove",r))};y&&(window.addEventListener("scroll",r),window.addEventListener("touchmove",r));return(0,d.jsxs)(l.xu,{ref:this.wrapperRef,children:[e({experience:i}),g?this.renderPulsar():f.has_tooltip&&(0,d.jsx)(l.J2,{anchor:this.wrapperRef.current,color:"blue"===t?"deprecatedBlue":t,idealDirection:a||"down",onDismiss:this.handleDismiss,_deprecatedShowCaret:s,size:c,children:(0,d.jsx)(l.xu,{padding:3,children:(0,d.jsxs)(l.kC,{direction:"column",gap:{row:0,column:3},children:[(0,d.jsx)(l.xu,{column:12,children:(0,d.jsxs)(l.xv,{align:"right"===p?"end":p,color:"inverse",overflow:m,size:h,weight:u||"bold",children:[f.text,f.secondary_cta_link&&(0,d.jsx)(l.xu,{display:"inlineBlock",marginStart:1,children:(0,d.jsx)(l.xv,{size:h,weight:"bold",color:"inverse",children:(0,d.jsx)(l.rU,{display:"inlineBlock",target:"blank",href:f.secondary_cta_link.url,underline:"hover",children:f.secondary_cta_link.text})})})]})}),f.complete_button_text&&(0,d.jsx)(l.kC,{alignItems:"stretch",justifyContent:"center",children:f.complete_button_text&&(0,d.jsx)(l.kC,{alignContent:"center",children:(0,d.jsx)(l.zx,{color:"white",onClick:()=>{_(),n(1),o&&o()},size:"md",text:f.complete_button_text})})})]})})})]})}})}}function p(e){const t=(0,a.useDispatch)();return(0,d.jsx)(u,{...e,dismissExperience:(e,n)=>t((0,o.Qu)(e,n)),completeExperience:(e,n)=>t((0,o.CK)(e,n))})}},781925:(e,t,n)=>{n.d(t,{Z:()=>i});const i=({isDesktop:e})=>e?"dweb_unauth_visual_search":"mweb_unauth_visual_search"},536540:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(785893);function a({size:e,noCircle:t}){return(0,i.jsxs)("svg",{height:e,style:{display:"block"},viewBox:t?"3 3 70 70":"-3 -3 82 82",width:e,children:[t?null:(0,i.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,i.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#fb7072",fillRule:"evenodd"})]})}},971467:(e,t,n)=>{n.d(t,{_l:()=>f,cO:()=>v,t2:()=>b,w2:()=>x,xM:()=>y});var i=n(667294),a=n(616550),l=n(690108),o=n(988014),r=n(739425),s=n(549201),d=n(802071),c=n(785893);const u="UnauthDesktopSocialPinLandingPageContext",p="AthDesktopSocialPinLandingPageContext",m="AuthMobileSocialPinLandingPageContext",h=(0,i.createContext)(),g=({children:e})=>{const[t,n]=(0,i.useState)(!1),[a,l]=(0,i.useState)(!1),o=(0,i.useMemo)((()=>({hasSeenAuthMobileLandingToast:t,setHasSeenAuthMobileLandingToast:n,hasSeenAuthDesktopLandingToast:a,setHasSeenAuthDesktopLandingToast:l})),[t,n,a,l]);return(0,c.jsx)(h.Provider,{value:o,children:e})},_=(0,i.createContext)({key:"",data:null}),y=({children:e})=>{const t=(0,a.useLocation)(),n=(0,d.Z)(),h=n&&n.isAuth,y=(0,s.HG)(),v=(0,i.useRef)((0,o.fY)(t)&&(0,r.mB)(t.search).invite_code||null),f=(0,a.matchPath)(t.pathname,{path:"/pin/:id"}),b=f&&f.params.id||"",[x,k]=(0,i.useState)({key:"",data:null});return(0,i.useEffect)((()=>{!async function(){const e=v.current;if(e)try{const i=l.Z.create("InviteCodeMetadataResource",{invite_code:e}),a=(await i.callGet()).resource_response.data;if(a){var t;const e=null!==(t=a.sender)&&void 0!==t?t:null,i=h&&e.id!==n.id&&(null==e?void 0:e.should_show_messaging)&&n.should_show_messaging;!h&&y?k({key:u,data:{inviter:e,popoverData:e&&![5,9,12,16].includes(a.invite_channel)?{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name}:null}}):i&&!y?k({key:m,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:n.id||""},pin:{pinId:b}}}}):i&&y&&k({key:p,data:{toastData:{inviter:{inviterAvatarUrl:e.image_medium_url||"",inviterName:e.first_name||e.full_name,inviterId:e.id},viewer:{viewerId:n.id||""},pin:{pinId:b}}}})}else k({key:"",data:null})}catch(i){k({key:"",data:null})}}()}),[h,y,n.id,b,n.should_show_messaging]),(0,c.jsx)(g,{children:(0,c.jsx)(_.Provider,{value:x,children:e})})},v=()=>{const e=(0,i.useContext)(_);return e.key===u?e:null},f=()=>{const e=(0,i.useContext)(_);return e.key===m?e:null},b=()=>{const e=(0,i.useContext)(_);return e.key===p?e:null},x=()=>(0,i.useContext)(h)},480462:(e,t,n)=>{function i({isEligibleForPdp:e,isOosProduct:t,isStaleProduct:n,pinShoppingFlags:i}){if(i){const a=i,l={pin_is_shop_the_look:a.includes(2),pin_show_pdp:e||t||n,is_available:a.includes(1),is_product_pin_v2:a.includes(5),is_rich_product_pin:a.includes(6)};return JSON.stringify(l)}}n.d(t,{Z:()=>i})},348597:(e,t,n)=>{function i(e,t){return e||`${t||""}~0`}n.d(t,{Z:()=>i})},822158:(e,t,n)=>{n.d(t,{Z:()=>r});n(167912);var i,a=n(825389),l=n(480462);const o=void 0!==i?i:i=n(46844);function r(e){const{data:t}=(0,a.k5)(o,e,{type:"pin",useLegacyAdapter:e=>({isEligibleForPdp:e.is_eligible_for_pdp,isOosProduct:e.is_oos_product,isStaleProduct:e.is_stale_product,shoppingFlags:e.shopping_flags})});return t?(0,l.Z)({isEligibleForPdp:t.isEligibleForPdp,isOosProduct:t.isOosProduct,isStaleProduct:t.isStaleProduct,pinShoppingFlags:t.shoppingFlags}):null}},352865:(e,t,n)=>{n.d(t,{G3:()=>c,Rp:()=>d,kp:()=>s});var i=n(736409),a=n(611756),l=n(173085);const o=14*i.F4;function r(e,t,n){return e-t>n}const s=e=>{const t=function(){const e=Date.now(),t=Number((0,a.qn)("appUpsell"));return{currentTime:e,firstUpsellTime:Number((0,a.qn)("firstUpsellTime")),lastUpsellTime:t,showedAppUpsellCurrentSession:Boolean((0,l.qn)("showedAppUpsellCurrentSession"))}}();return e?function(e,t,n){const{currentTime:i,firstUpsellTime:l,lastUpsellTime:s,showedAppUpsellCurrentSession:d}=e;return n=n||o,!l||function(e,t,n){return e<t+n}(i,l,t)?!d:!!r(i,s,n)&&((0,a.L_)("firstUpsellTime"),!0)}(t,i.F4):function(e,t){const{currentTime:n,lastUpsellTime:i}=e;return t=t||o,!i||r(n,i,t)}(t)},d=({isBot:e,platform:t,userAgent:n})=>{try{return!e&&"android"===t&&parseFloat((e=>{const t=(e=e.toLowerCase()).match(/android\s([0-9\.]*)/i);return t?t[1]:void 0})(n))<7}catch(i){return!1}},c=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},509342:(e,t,n)=>{n.d(t,{AA:()=>l,E9:()=>_,EU:()=>f,IO:()=>v,KH:()=>c,Lg:()=>m,QR:()=>d,Uw:()=>a,ZR:()=>b,dy:()=>s,eA:()=>p,eV:()=>h,fo:()=>g,k7:()=>o,rT:()=>y,tz:()=>u,u9:()=>x,zR:()=>r,zu:()=>i});const i="OPEN_UNAUTH",a="openUnauthType",l="_isAfterLogin",o="_lastVisitedPages",r="_lastVisitedPagesBeforeLogin",s="_lastVisitedBoardPages",d="_lastVisitedPagesBeforeNavPage",c="_lastVisitedSessionPages",u="_unauthVisitedPages",p=20,m="_inviteCodeRedemption",h="_paidTrafficLand",g="_unauthReferrerString",_="unauthTopicsFollowed",y=["US","CA","NZ","AU"],v=new Set(["GB","IE"]),f=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),b=new Set(["BR","MX","AR","CL","CO","PE"]),x="ad_img"},624658:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(40660);const a=e=>{i.Z.increment(`closeup.image.clicked.${e}`,1,{platform:"mobile"})}},185803:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(40660),a=n(865173),l=n(739425);const o="http://play.google.com/store/apps/details?id=com.pinterest",r=["access_token","new_password","new_password_confirm","password","next"],s=(e,t)=>t?(0,l.ru)(e,{invite_code:t}):e,d=(e,t,n)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){const t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return"string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e?s(e,n):"ios"===t||"ipad"===t?s(e.iOS,n):"android"===t?s(e.android,n):null},c=({isAuthenticated:e,checkExperiment:t,deeplinkUri:n,fallbackUrl:s,invite_code:c,logContextEvent:u,platform:p,redirectToLite:m,unauthId:h,userAgent:g,within:_})=>{null==u||u({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:_}});let y="https://pinterest.onelink.me/TVSr/21e04bfd";switch(null==t?void 0:t(e?"mweb_auth_apple_app_store_custom_page_referral":"mweb_unauth_apple_app_store_custom_page_referral").group){case"enabled_1":y="https://pinterest.onelink.me/TVSr/d47vxerq";break;case"enabled_2":y="https://pinterest.onelink.me/TVSr/hhstj28i";break;case"enabled_3":y="https://pinterest.onelink.me/TVSr/b16kbfgq";break;case"enabled_4":y="https://pinterest.onelink.me/TVSr/nfh3eyy2";break;case"enabled_5":y="https://pinterest.onelink.me/TVSr/elsthgd7"}if(n){const t=(({deeplinkUri:e,invite_code:t,platform:n,fallbackUrl:i,unauthId:a})=>({deeplink_path:d(e,n,t),current_page_url:(0,l.Gw)("undefined"!=typeof window?window.location.href:"",r),install_id:a,utm_source:140,utm_medium:2152,...i?{af_r:i}:null}))({isAuthenticated:e,deeplinkUri:n,fallbackUrl:s,invite_code:c,platform:p,unauthId:h,userAgent:g});if(i.Z.increment("mweb.deeplink",1,{platform:p}),c&&i.Z.increment("mweb.deeplink.invite_code",1),i.Z.increment("mweb.deeplink.unauthId",1,{withUnauthId:Boolean(h)}),m){i.Z.increment("mweb.deeplink.lite_link",1),null==u||u({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:_}});const e=(({unauthId:e})=>{const t=(0,l.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e});return{referrer:encodeURI(t)}})({unauthId:h});window.location.href=(0,l.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===p){null==u||u({component:14347,element:13582,event_type:703,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:_}});const e=(({deeplinkUri:e,invite_code:t,platform:n,unauthId:i})=>{const a=JSON.stringify({deeplink_path:d(e,n,t),current_page_url:(0,l.Gw)("undefined"!=typeof window?window.location.href:"",r),install_id:i});return{referrer:(0,l.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:a})}})({deeplinkUri:n,invite_code:c,platform:p,unauthId:h});(0,a.v)()?(0,a.Z)().then((n=>{if(n.length>0){const e=(0,l.ru)(window.location.href,t);window.open(e)}else null==u||u({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:_}}),window.location.href=(0,l.ru)(o,e)})).catch((()=>{i.Z.increment("mweb_android.deeplink.playStore.error",1)})):(null==u||u({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:_}}),window.location.href=(0,l.ru)(o,e))}else{if(i.Z.increment("mweb.deeplink.appsflyer_link",1),"ios"===p&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal"))return void(window.location.href=(0,l.ru)("https://pinterest.com/pinterest-predicts",t));null==u||u({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:_}}),window.location.href=(0,l.ru)(y,t)}}}},230910:(e,t,n)=>{n.d(t,{AH:()=>d,CK:()=>s,Wj:()=>o,Xe:()=>l,bb:()=>a,kb:()=>r,wS:()=>i});const i=(e,t,n,i)=>{let a;return a=t||(e?e.official_user:n||i),a},a=(e,t)=>("camel"===t?e=e.replaceAll(" ",""):"snake"===t?e=e.toLowerCase().replaceAll(" ","_"):"dash"===t?e=e.toLowerCase().replaceAll(" ","-"):"lower"===t&&(e=e.toLowerCase().replaceAll(" ","")),e.startsWith("#")||(e="#".concat(e)),e);function l({hasLinkDomain:e,hasNativeCreator:t,hasOriginPinner:n,pinDomain:i,sourceUserUsername:a,sourceUserFullName:l}){return!t&&(e||n)&&a?{pinCreditLink:`/${a}/`,pinCredit:l}:{pinCreditLink:void 0,pinCredit:!t&&e?i:""}}const o=({i18n:e,hasLinkDomain:t,hasRichMetadataArticle:n,hasRichMetadataRecipeCategorizedIngredients:i,hasRichMetadataTutorial:a,richMetadataRecipeFromAggregatedData:l})=>(!t||l)&&e._('Saved by ', 'Closeup pin annotation', 'Closeup pin annotation')||a&&e._('Saved from ', 'pin annotation', 'pin annotation')||i&&e._('Recipe from ', 'pin annotation', 'pin annotation')||n&&e._('Article from ', 'pin annotation', 'pin annotation')||e._('From ', 'Closeup pin annotation', 'Closeup pin annotation'),r=({hasLinkDomain:e,richMetadata:t,richSummary:n})=>{var i;return e&&(null==t||null===(i=t.recipe)||void 0===i||!i.fromAggregatedData)&&null!=t&&t.products&&t.products[0]&&t.products[0].name&&t.products[0].offerSummary?t.products[0].offerSummary:null!=n&&n.products&&n.products[0]&&n.products[0].name&&n.products[0].offerSummary?n.products[0].offerSummary:void 0},s=({hasRichMetadata:e,hasRichMetadataProducts:t,hasRichMetadataArticle:n,hasRichMetadataRecipe:i})=>e?t?144:n?141:i?145:139:140,d=e=>!!e&&!e.startsWith("https://i.pinimg.com")},684262:(e,t,n)=>{function i(e){return!!e.key}n.d(t,{Z:()=>i})},836:(e,t,n)=>{n.d(t,{XK:()=>r,jC:()=>o,yd:()=>s});var i=n(541842);let a=null,l=null;const o=((e,t)=>{let n=null;return o=>{if(o&&!n){var r,s;const t={...o,time:(0,i.Z)()};return n={...t,event_type:e},null===(r=l)||void 0===r||r.logContextEvent(n),null===(s=a)||void 0===s||s.storeClickthroughProperties(t),e}if(!o&&n){var d;const e={...n,event_type:t,duration_ns:(0,i.Z)()-n.time};return null===(d=l)||void 0===d||d.logContextEvent(e),n=null,t}return null}})(12,4100),r=e=>{a=e},s=e=>{l=e}},261453:(e,t,n)=>{n.d(t,{CC:()=>r,H$:()=>d,Mt:()=>o,dp:()=>s,p9:()=>c});var i=n(611756),a=n(173085),l=n(509342);const o=(e,t,n,a,o,r,s=l.k7)=>{const d=(0,i.qn)(s)?JSON.parse((0,i.qn)(s)):[];if(!d[0]||d[0].path!==e){const l=[{path:e,ts:Date.now(),pin_id:n||0,first_pin_image_signature:t||"",first_pin_id:n||"",image_info:a||"",pin_description:o||"",is_shared:!!r,pin_invite_code:r}];(0,i.Nh)(s,JSON.stringify(l.concat(d)))}},r=({path:e,image:t,dominant_color:n,pin_description:i,pin_id:o})=>{const r=(()=>{const e=(0,a.qn)(l.KH);if(!e)return[];let t;try{t=JSON.parse(e)}catch(n){t=[]}return t})();if(!r[0]||r[0].path!==e){const s=[{path:e,image:t,pin_description:i||"",dominant_color:n||"",pin_id:o||""}];(0,a.Nh)(l.KH,JSON.stringify(s.concat(r)))}};function s(e,t,n,i,a,r){o(e,t,n,i,a,r,l.zR)}const d=(e,t,n,i,a)=>{o(e,t,n,i,null!=a?a:"","",l.dy)};function c(e,t,n,i,a){o(e,t,n,i,a,"",l.QR)}},495590:(e,t,n)=>{n.d(t,{E:()=>o,S:()=>r});var i=n(667294),a=n(611756);const l="_loggingInNotHome",o=e=>{e?(0,a.Nh)(l,1):(0,a.L_)(l)},r=()=>{const[e,t]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{t(!0)}),[]),e&&(0,a.qn)(l)}},411224:(e,t,n)=>{n.d(t,{Z:()=>d,x:()=>s});var i=n(667294),a=n(98736),l=n(785893);const o=(0,i.createContext)((()=>{})),r=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")},s=({children:e})=>{const[t,n]=(0,i.useState)(null);(0,i.useEffect)((()=>r),[]);const s=(0,i.useCallback)((e=>{(0,a.My)("dweb.unauth.context_menu.open_menu"),document&&document.body&&document.body.style&&(document.body.style.overflow="hidden"),n(e)}),[]),d=!!t;return(0,i.useEffect)((()=>{const e=()=>{n(null),r(),(0,a.My)("dweb.unauth.context_menu.click_away")};return d&&document.addEventListener("click",e),()=>{d&&document.removeEventListener("click",e)}}),[d]),(0,l.jsx)(o.Provider,{value:s,children:(0,l.jsxs)(i.Fragment,{children:[e,t]})})},d=()=>(0,i.useContext)(o)},163766:(e,t,n)=>{n.d(t,{O_:()=>s,ZP:()=>c,kq:()=>d});var i=n(667294),a=n(860438),l=n(619277),o=n(785893);const r=(0,i.createContext)({showVisualSearchEducationalPulsar:()=>{},setHasVisualSearchEducationalPulsarBeenDismissed:()=>{}}),s=e=>{a.Z.setItem(l.me,e)},d=({children:e})=>{const[t,n]=(0,i.useState)(null),[d,c]=(0,i.useState)(!0),[u,p]=(0,i.useState)(!1),m=(0,i.useMemo)((()=>({showVisualSearchEducationalPulsar:e=>{n(e)},setHasVisualSearchEducationalPulsarBeenDismissed:p})),[]),h=a.Z.getItem(l.me)||!1;return(0,i.useEffect)((()=>{null!==t&&(h?(c(!1),n(null)):u&&(s(!0),c(!1),n(null)))}),[t,u,h]),(0,o.jsx)(r.Provider,{value:m,children:(0,o.jsxs)(i.Fragment,{children:[e,d&&!h&&t]})})},c=()=>(0,i.useContext)(r)},772356:(e,t,n)=>{function i(e){return Boolean(null==e?void 0:e.is_matured_new_user)}n.d(t,{IR:()=>o,V0:()=>i,Wn:()=>l,xT:()=>a});const a=e=>!!e&&2===e.login_state,l=e=>!(!e||!e.match(/\/static\/images\/user\/default_\d+\.png$/));function o(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},963181:(e,t,n)=>{n.d(t,{D5:()=>r,Hg:()=>a,T_:()=>o,g6:()=>l,w6:()=>i});const i=(e,t)=>Array.from({length:t-e},((t,n)=>n+e)),a=508,l=600;function o(e,t){if(!t.startsWith("en"))return e;return e.split(" ").map((e=>e===e.toUpperCase()?e:e.toLowerCase())).join(" ")}const r=()=>{const e=new URL(window.location.href),t=e.hostname.replace("www.","");let n=e.pathname;return n=n.replace(/\/\d+\//,"/").replace(/\/$/,""),`${t}${n}`}},756876:(e,t,n)=>{n.d(t,{Z:()=>i});const i=({name:e,width:t,height:n})=>{const i=`${n}${"number"==typeof n?"px":""}`,a="number"==typeof t?t:236;return`\n.${e} {\n  -webkit-animation-duration: 1s;\n  -webkit-animation-fill-mode: forwards;\n  -webkit-animation-iteration-count: infinite;\n  -webkit-animation-name: ${e}_placeHolderShimmer;\n  -webkit-animation-timing-function: linear;\n  border-radius: 16px;\n  background: #f6f7f9;\n  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);\n  background-repeat: no-repeat;\n  background-size: ${a} ${i};\n  width: ${`${t}${"number"==typeof t?"px":""}`};\n  height: ${i};\n}\n\n@keyframes ${e}_placeHolderShimmer{\n  0% {\n      background-position: -${a}px 0;\n  }\n  100% {\n      background-position: ${a}px 0;\n  }\n}\n`}},393599:(e,t,n)=>{n.d(t,{H:()=>l,o:()=>a});var i=n(583592);const{Provider:a,useHook:l}=(0,i.Z)("LimitedLogin")},198060:(e,t,n)=>{n.d(t,{N4:()=>l,Wh:()=>i,hr:()=>a});const i=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),a=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),l=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},624524:(e,t,n)=>{n.d(t,{Bb:()=>_,Bx:()=>s,F4:()=>r,OG:()=>l,Qj:()=>d,_6:()=>g,gv:()=>o,hg:()=>c,is:()=>m,jP:()=>h,lt:()=>a,oM:()=>u,wI:()=>p});var i=n(739425);const a=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),l=e=>e.pathname,o=({firstName:e,i18n:t})=>e?(t._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):t._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),r=e=>{const t=(0,i.mB)(e.search).board_url;if(t){const e=(0,i.Jx)(t),n=(0,i.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${n}`:`${e}?${n}`}return e.pathname},s=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),d=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},c=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),u=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),p=e=>{const t=e.pathname;if(t.startsWith("/pin/")){const e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},m=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),h=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),g=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),_=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},395253:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(536042),a=n(624524),l=n(393599),o=n(785893);function r({children:e,callbackFunction:t,modalHeader:n,nextLocation:r}){const s=(0,i.ZP)(),{viewer:d,loginForMore:c,limitedLoginModalSubheader:u,limitedLoginModalNextLocation:p}=(0,l.H)(),m="LIMITED_LOGIN"===d.type;return(0,o.jsx)("div",{onClickCapture:e=>{m&&(t&&t(),e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),null==c||c.setVisible(!0),null==u||u.setText(n||(0,a.lt)(s)),r&&(null==p||p.setRoute(r)))},children:e})}},471819:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(536042),a=n(549201),l=n(393599),o=n(198060);const r=()=>{const e=(0,i.ZP)(),t=(0,a.HG)(),{viewer:n,loginForMore:r,limitedLoginModalSubheader:s,limitedLoginModalNextLocation:d}=(0,l.H)();return"LIMITED_LOGIN"===n.type?({modalHeader:n,nextLocation:i})=>a=>{let l=null;a&&(a.nativeEvent&&a.nativeEvent instanceof Event?l=a:a.event&&(l=a.event)),l&&(l.preventDefault&&l.preventDefault(),l.stopPropagation&&l.stopPropagation()),null==r||r.setVisible(!0),null==s||s.setText(n||(t?(0,o.hr)(e):(0,o.Wh)(e))),i&&(null==d||d.setRoute(i))}:({fn:e})=>e}},383755:(e,t,n)=>{n.d(t,{Hn:()=>u,Jw:()=>g,L7:()=>i,Qc:()=>a,Tt:()=>y,UF:()=>d,UV:()=>o,W1:()=>l,Ws:()=>p,ZW:()=>s,cK:()=>_,cy:()=>h,o4:()=>m,tr:()=>c,vF:()=>r});const i=1,a=2,l="female",o="male",r="unspecified",s="en-US",d="US",c=3,u="has_done_closeup",p="Gender",m="InterestPicker",h="LoadingStep",g="AppInstall",_={NUX_GENDER_STEP_NAME:p,NUX_INTEREST_PICKER_STEP_NAME:m,NUX_LOADING_STEP_NAME:h,NUX_APP_INSTALL_STEP_NAME:g},y=2500},28557:(e,t,n)=>{n.d(t,{Z:()=>E});var i=n(667294),a=n(376030),l=n(883119),o=n(536042),r=n(455788),s=n(272109),d=n(874261),c=n(785893);function u({addedStyles:e,button:t,headerText:n,icon:a,iconOverride:o,minHeight:r,subHeaderText:s}){return(0,c.jsx)(l.xu,{display:"flex",justifyContent:"center",width:"100vw",paddingX:2,children:(0,c.jsxs)(l.xu,{alignContent:"center",alignItems:"center",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{boxShadow:"0 3px 6px rgba(0,0,0,0.18)",transform:"translateY(-20px)",...e}},display:"flex",minHeight:r||75,padding:6,position:"relative",rounding:4,width:"100%",children:[(()=>{const e=o||(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(d.Z,{unsafeCSS:"\n@keyframes baseEduToastIconScale {\n  0% {\n    transform: scale(0)\n  }\n  30% {\n    transform: scale(1.2);\n  }\n  50% {\n    transform: scale(1);\n  }\n}\n"}),(0,c.jsx)(l.xu,{alignItems:"center",color:"education","data-test-id":"pin-save-toast",direction:"column",dangerouslySetInlineStyle:{__style:{animation:"baseEduToastIconScale 3s"}},display:"flex",height:60,justifyContent:"center",minHeight:60,minWidth:60,rounding:"circle",width:60,children:(0,c.jsx)(l.JO,{accessibilityLabel:a.accessibilityLabel,color:a.color,dangerouslySetSvgPath:a.dangerouslySetSvgPath,icon:a.icon,inline:a.inline,size:a.size})})]});return(0,c.jsx)(l.xu,{marginEnd:4,children:e})})(),(0,c.jsxs)(l.xu,{marginEnd:"auto",children:[(0,c.jsx)(l.xv,{color:"default",weight:"bold",children:n}),!!s&&(0,c.jsx)(l.xu,{paddingY:1,children:(0,c.jsx)(l.xv,{size:"300",color:"default",children:s})})]}),(0,c.jsx)(l.xu,{display:"flex",flex:"shrink",marginStart:2,children:t})]})})}var p=n(217861);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const h=(e,t)=>(e-t)/2,g=200,_=68,y=h(_,68),v=h(_,66),f=h(_,60),b="cubicBezier(0.25, 0.1, 0.25, 1)",x="encourageToastIconContainer",k="encourageToastIconRadiateBg",P="encourageToastIconRadiateRing",S={targets:`#${x}`,duration:300,scale:1.4,easing:b},w={targets:`#${x}`,duration:300,scale:1,easing:b,endDelay:1e3},T={targets:`#${x}`,duration:300,scale:.42,easing:b},I={targets:`#${k}`,duration:400,opacity:0,scale:1.6,easing:b},A={targets:`#${P}`,duration:650,opacity:0,scale:2,easing:b};function C({hiding:e,visible:t}){return t?e?{opacity:0,transform:"scale(1.0)",transition:"opacity transform .2s"}:{opacity:1,transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)"}:Object.freeze({})}class j extends i.PureComponent{constructor(...e){super(...e),m(this,"delayTimer",null),m(this,"requestAnimationFrameId",null),m(this,"playAnimation",(()=>{this.requestAnimationFrameId=window.requestAnimationFrame((()=>{(0,a.Z)(I),(0,a.Z)(A),(0,a.Z)(S).finished.then((()=>{(0,a.Z)(w).finished.then((()=>{a.Z.set(`#${x}`,{transformOrigin:"top right"}),(0,a.Z)(T)}))}))}))})),m(this,"getHeaderText",(()=>{const{text:e}=this.props;return Array.isArray(e)?e[0]:e})),m(this,"getIconProps",(()=>({accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30}))),m(this,"getSubHeaderText",(()=>{const{text:e}=this.props;return e instanceof Array&&e.length>1&&e[1]?e[1]:""})),m(this,"renderAnimatedIcon",(()=>(0,c.jsxs)(l.xu,{height:_,position:"relative",width:_,children:[(0,c.jsx)(l.xu,{"data-test-id":"pin-save-toast",width:60,height:60,overflow:"hidden",position:"absolute",rounding:4,dangerouslySetInlineStyle:{__style:{left:`${f}px`,top:`${f}px`}},children:this.props.thumbnail}),(0,c.jsxs)(l.xu,{id:x,height:_,width:_,dangerouslySetInlineStyle:{__style:{transform:"scale(0)"}},position:"absolute",children:[(0,c.jsx)(l.xu,{color:"infoBase",id:k,width:68,height:68,position:"absolute",rounding:"circle",dangerouslySetInlineStyle:{__style:{left:`${y}px`,top:`${y}px`,transform:"scale(0)"}}}),(0,c.jsx)(l.xu,{id:P,width:66,height:66,position:"absolute",rounding:"circle",opacity:1,dangerouslySetInlineStyle:{__style:{borderWidth:"2px",borderStyle:"solid",borderColor:"#0074e8",left:`${v}px`,top:`${v}px`,transform:"scale(0)"}}}),(0,c.jsx)(l.xu,{alignItems:"center",color:"infoBase",direction:"column",display:"flex",height:_,justifyContent:"center",minHeight:_,minWidth:_,position:"absolute",rounding:"circle",width:_,children:(0,c.jsx)(l.JO,{accessibilityLabel:this.props.i18n._('Check icon', 'Label for check icon on toast shown after board create', 'Label for check icon on toast shown after board create'),color:"inverse",icon:"check",size:30})})]})]})))}componentDidMount(){this.delayTimer=setTimeout(this.playAnimation,700)}componentWillUnmount(){this.delayTimer&&clearTimeout(this.delayTimer),this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}render(){const{isRepinToExistingBoard:e,button:t}=this.props,n=e;return(0,c.jsx)(u,{button:t,headerText:this.getHeaderText(),icon:this.getIconProps(),iconOverride:n?void 0:this.renderAnimatedIcon(),subHeaderText:this.getSubHeaderText()})}}function E(e){const{duration:t,onHide:n}=e,a=(0,o.ZP)(),[d,u]=(0,i.useState)(!1),[m,h]=(0,i.useState)(!1),_=(0,i.useRef)(),y=()=>{u(!0),_.current=setTimeout(n,g)},v=()=>{_.current&&clearTimeout(_.current)};(0,s.Z)((()=>(setTimeout((()=>h(!0)),100),_.current=setTimeout(y,t||p.w),v)));let f=(0,c.jsx)(j,{...e,i18n:a});return e.href&&(f=(0,c.jsx)(l.rU,{href:e.href,onClick:y,rounding:"pill",tapStyle:"none",children:f})),(0,c.jsx)(r.Z,{children:(0,c.jsx)(l.mh,{children:(0,c.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...C({hiding:d,visible:m})}},justifyContent:"center",position:"fixed",width:"100%",display:"flex",zIndex:p.k,children:f})})})}},903201:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(611756);const a=2592e5;function l(){const e=(0,i.qn)("lastViewedMiniRenux");return!!e&&Date.now()-Number(e)<a}},451826:(e,t,n)=>{n.r(t),n.d(t,{default:()=>J,getPinResourceOptions:()=>H});var i=n(667294),a=n(702664),l=n(167912),o=n.n(l),r=n(616550),s=n(240684),d=n(243370),c=n(765456),u=n(898252),p=n(578699),m=n(845092),h=n(282802),g=n(85044),_=n(331211),y=n(739425),v=n(769623),f=n(549201),b=n(272109),x=n(472921),k=n(802071),P=n(799006),S=n(36278),w=n(898961),T=n(930359),I=n(723608),A=n(270697),C=n(971467),j=n(261453),E=n(968358),R=n(199999),L=n(913137),D=n(260070),F=n(525104),z=n(712968),M=n(935340),O=n(113309),B=n(738162),Z=n(785893),N,U;const K=(0,s.ZP)({resolved:{},chunkName:()=>"tv-EpisodeCloseupPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(92918),n.e(69717),n.e(69512),n.e(10293)]).then(n.bind(n,640585)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 640585}}),V=3e3,H=({id:e,isAuthenticated:t,addUserConnectionType:n,shouldLazyLoadPinJoin:i,getPageMetadata:a})=>t?{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0,is_mobile_fork:!0,add_connection_type:n}:{id:e,field_set_key:"unauth_react_main_pin",get_page_metadata:a?"seo":void 0,add_connection_type:n,fetch_pin_join_by_default:!i},G=void 0!==N?N:N=n(907673),W=void 0!==U?U:U=n(91394);function $({closeupPreviewMode:e,description:t,dominantColor:n,graphqlRefs:l,imageSignature:o,isGif:s,isLoaded:u,isProductPin:g,isRecipePin:_,isStoryPin:v,isVideoPin:x,pinId:S,pinImage:T,pinTitle:I,renderAuthMobilePinLandingToast:A,uanuthDesktopSocialLandingPopover:E}){const F=(0,O.U)(),N=(0,a.useDispatch)(),U=(0,r.useLocation)(),K=(0,f.ZP)(),H=(0,c._)({id:1000112}),{id:G}=(0,k.Z)(),{isAuthenticated:W,isBot:$}=(0,h.B)(),q=(0,z.mN)()(null!=G?G:""),Y=(0,B.I)(),X=(0,a.useSelector)((({experiences:e})=>e)),J=(s?"gif":g&&"productPin")||_&&"recipePin"||v&&"storyPin"||x&&"video"||"image";(0,i.useEffect)((()=>{F&&setTimeout((()=>{var e;null===(e=F.preload)||void 0===e||e.call(F,new URL("pin/[id]/repin.js","file://"))}),500)}),[]),(0,i.useEffect)((()=>{if(Y){const e=document.querySelector('div[data-test-id="CloseupMainPin"]');(0,p.w)((t=>{const{entries:n}=t,{element:i}=n[n.length-1];(0,M.nP)("www.closeup.lcpCheck",{sampleRate:1,tags:{isAuthenticated:W,deviceType:K,isGraphQL:!!l,isMainPin:null==e?void 0:e.contains(i),nodeName:i?i.nodeName:"unknown",pinType:J}})}))}}),[]),(0,d.Z)("closeup");const Q=(0,f.HG)();(0,i.useEffect)((()=>{const e=()=>{N((0,D.Cp)()),window.removeEventListener("scroll",e)};if(!Q&&!$?window.addEventListener("scroll",e):N(v?(0,D.FK)():(0,D.Cp)()),W)o&&N((0,D.xu)(o));else{var i;const e=U.pathname,a=null!=t?t:"",l=null!=n?n:null;(0,j.Mt)(e,o),(0,j.CC)({path:e,image:T,dominant_color:l,pin_description:a,pin_id:S});const r=(0,y.mB)(U.search).invite_code;(0,j.dp)(e,o,S,T,null!=a?a:"",r),null!==(i=U.state)&&void 0!==i&&i.isFromNavFooterPage||(0,j.p9)(e,o,S,T,"pin")}}),[U]);const ee=(0,R.a)(),te=null==ee?void 0:ee.onPinTypeLoad,ne=!!u;(0,i.useEffect)((()=>{ne&&te&&te(v)}),[ne,v,te]);const ie="pin_closeup_lcp",ae=(0,m.PY)(ie);(0,i.useEffect)((()=>{ae&&(0,m.ku)({stopwatchName:ie,binaryAnnotationName:"pinType",value:J,annotationType:"STRING"})}),[ae,J]);const le=(0,P.Z)(),oe=W?(0,L.o)({canUpsellNativeApp:le}):"unauthPostDownloadUpsell",re=(0,C.w2)();return(0,b.Z)((()=>{if(!A||!re||re.hasSeenAuthMobileLandingToast)return()=>{};const{setHasSeenAuthMobileLandingToast:e}=re,i=setTimeout((()=>{A({type:"pin",id:S,data:{title:I||t||"",imgUrl:(null==T?void 0:T.url)||"",dominantColor:n||""}})}),V);return()=>{e(!0),clearTimeout(i)}})),(0,Z.jsx)(w.Z,{clickthroughInterstitialExperience:X[1000162],closeupPreviewMode:e,experience:H,isProductPin:g,isStoryPin:v,graphqlRefs:l,pinId:S,postDownloadModalEligibilityType:oe,uanuthDesktopSocialLandingPopover:E,viewerId:null!=G?G:"",viewingUser:q})}function q({pinId:e,queryRefs:t,...n}){var i,a,o,s,d,c,p,m,g,y,v,f,b;const x=(0,l.usePreloadedQuery)(W,t.pageRef),k=(0,l.useFragment)(G,null===(i=x.v3GetPinQuery)||void 0===i?void 0:i.data),{isAuthenticated:P,countryFromIp:S,country:w}=(0,h.B)();return k?k.creatorClass&&k.creatorClassInstance?(0,_.pf)(w,S,P)?(0,Z.jsx)(r.Redirect,{to:"/tv/error"}):(0,Z.jsx)(K,{pinId:e}):(0,Z.jsx)($,{...n,description:k.description,dominantColor:k.dominantColor,graphqlRefs:{...t,pageRef:k},imageSignature:null!==(a=k.imageSignature)&&void 0!==a?a:"",isGif:(0,u.sY)(null===(o=k.embed)||void 0===o?void 0:o.type),isLoaded:!0,isProductPin:!!k.isEligibleForPdp,isRecipePin:"recipe"===(null===(s=k.richSummary)||void 0===s?void 0:s.typeName),isStoryPin:!!k.storyPinDataId,isVideoPin:!(null===(d=k.videos)||void 0===d||null===(c=d.videoUrls)||void 0===c||!c.length),pinId:e,pinImage:k.imageSpec_236x?{dominant_color:null!==(p=k.imageSpec_236x.dominantColor)&&void 0!==p?p:"",height:null!==(m=k.imageSpec_236x.height)&&void 0!==m?m:0,type:null!==(g=k.imageSpec_236x.type)&&void 0!==g?g:"",url:null!==(y=k.imageSpec_236x.url)&&void 0!==y?y:"",width:null!==(v=k.imageSpec_236x.width)&&void 0!==v?v:0}:null,pinTitle:null!==(f=null!==(b=k.gridTitle)&&void 0!==b?b:k.gridDescription)&&void 0!==f?f:"",storyPinDataId:k.storyPinDataId}):(0,Z.jsx)(r.Redirect,{to:{pathname:P?"/":"/ideas/",state:{showError:!0}}})}function Y({pinId:e,queryRefs:t,...n}){const a=(0,A.Z)(e),[l,o]=(0,x.Z)(null,e);return(0,Z.jsx)(i.Suspense,{fallback:a.enabled?(0,Z.jsx)(I.Z,{actionBarPosition:{isInline:l,setIsInline:o},data:a.data,detailsEnabled:a.detailsEnabled,shouldTrackView:a.shouldTrackView}):(0,Z.jsx)(T.Z,{}),children:"QUERY_MISS"!==t&&(0,Z.jsx)(q,{...n,closeupPreviewMode:a.enabled?{enabled:!0,actionBarIsInline:l,homefeedRecommendationReason:a.data.derived.homefeedRecommendationReason}:{enabled:!1},pinId:e,queryRefs:t})})}function X({pinId:e,...t}){var n,i,a,l,o,s,d,c,p;const{country:m,countryFromIp:y,isBot:v,isAuthenticated:b}=(0,h.B)(),x=(0,f.HG)(),k=(0,E.Z)(null!=y?y:"",v,x),P=(0,g.Z)({name:"PinResource",options:H({id:e,isAuthenticated:b,addUserConnectionType:k,shouldLazyLoadPinJoin:!x&&!b&&!v})}),S=(0,F.S6)()(e),w=P.data||S;return null!=w&&null!==(n=w.creator_class)&&void 0!==n&&n.id&&null!==(i=w.creator_class_instance)&&void 0!==i&&i.id?(0,_.pf)(m,y,b)?(0,Z.jsx)(r.Redirect,{to:"/tv/error"}):(0,Z.jsx)(K,{pinId:e}):(0,Z.jsx)($,{...t,closeupPreviewMode:{enabled:!1},description:null==w?void 0:w.description,dominantColor:null==w?void 0:w.dominant_color,graphqlRefs:null,imageSignature:null==w?void 0:w.image_signature,isGif:(0,u.sY)(null==w||null===(a=w.embed)||void 0===a?void 0:a.type),isLoaded:!!w,isProductPin:!(null==w||!w.is_eligible_for_pdp),isRecipePin:"recipe"===(null==w||null===(l=w.rich_summary)||void 0===l?void 0:l.type_name),isStoryPin:!(null==w||!w.story_pin_data_id),isVideoPin:!(null==w||null===(o=w.videos)||void 0===o||!o.video_list),pinId:e,pinImage:null!==(s=null==w||null===(d=w.images)||void 0===d?void 0:d["236x"])&&void 0!==s?s:null,pinTitle:null!==(c=null!==(p=null==w?void 0:w.grid_title)&&void 0!==p?p:null==w?void 0:w.grid_description)&&void 0!==c?c:"",storyPinDataId:null==w?void 0:w.story_pin_data_id})}function J({queryRefs:e,...t}){const n=(0,r.useRouteMatch)(),{pinId:i}=(0,v.Z)(n.params.id||"");return(0,Z.jsx)(S.Z,{type:"duplo",children:"GRAPHQL_DISABLED"===e?(0,Z.jsx)(X,{...t,pinId:i}):(0,Z.jsx)(Y,{...t,pinId:i,queryRefs:e})})}},968358:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(509342);const a=(e,t,n)=>!t&&!n&&i.ZR.has(e)},411056:(e,t,n)=>{n.d(t,{C:()=>d,LAW_CONFIGURATION:()=>c,Z:()=>u});var i=n(682492),a=n.n(i),l=n(883119),o=n(187309),r=n(536042),s=n(785893);const d=["DMCA","Trademark","GDPR"],c={test:{LAW:"test",DECIDER_KEY:"legal_webapp_takedown_form_test",COUNTRY_CODES:["US"],API:"/v3/legal/takedowns/test/",COMPLAINTS_OFFICE:!0,RESTRICT_MULTIPLE_LAWS:!1,ALLOW_ANON_SUBMISSION:!1},netzdg:{LAW:"netzdg",DECIDER_KEY:"legal_webapp_takedown_form_netzdg",COUNTRY_CODES:["DE"],API:"/v3/legal/takedowns/netzdg/",COMPLAINTS_OFFICE:!0,RESTRICT_MULTIPLE_LAWS:!1,ALLOW_ANON_SUBMISSION:!1},turkey:{LAW:"turkey",DECIDER_KEY:"legal_webapp_takedown_form_turkey",COUNTRY_CODES:["TR"],API:"/v3/legal/takedowns/turkey/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!1},koplg:{LAW:"koplg",DECIDER_KEY:"legal_webapp_takedown_form_koplg",COUNTRY_CODES:["AT"],API:"/v3/legal/takedowns/koplg/",COMPLAINTS_OFFICE:!0,RESTRICT_MULTIPLE_LAWS:!1,ALLOW_ANON_SUBMISSION:!1},loi_fr:{LAW:"loi_fr",DECIDER_KEY:"legal_webapp_takedown_form_fr",COUNTRY_CODES:["FR"],API:"/v3/legal/takedowns/fr_dsa/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!1},dsa:{LAW:"dsa",DECIDER_KEY:"legal_webapp_takedown_form_dsa",EXPERIMENT_KEY:"legal_web_dsa_form",COUNTRY_CODES:o.Z.filter((e=>"GB"!==e&&"CH"!==e)),API:"/v3/legal/takedowns/dsa/",COMPLAINTS_OFFICE:!1,RESTRICT_MULTIPLE_LAWS:!0,ALLOW_ANON_SUBMISSION:!0}};function u(e,t){const n=(0,r.ZP)(),i={test:{header:"Test Header",subHeader:"Test SubHeader",laws:[{name:"Test Law A",label:"Test Law A"},{name:"Test Law B",label:"Test Law B"}]},netzdg:{header:n._('NetzDG Complaint Form', 'Takedown.NetzDG.FormTitle', 'The title of the form'),subHeader:n._('Use this form to identify content that violates German laws that are subject to the Netzwerkdurchsetzungsgesetz (NetzDG). Please fill out the information below with as much detail as possible to allow us to evaluate your complaint.', 'Takedown.NetzDG.FormDescription', 'Provides a description of what the form is used for'),laws:[{name:"Dissemination of propaganda material of unconstitutional organizations (Section 86 StGB)",label:n._('Dissemination of propaganda material of unconstitutional organizations (Section 86 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Using symbols of unconstitutional organizations (Section 86a StGB)",label:n._('Using symbols of unconstitutional organizations (Section 86a StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Preparation of a serious violent offense endangering the state (Section 89a StGB)",label:n._('Preparation of a serious violent offense endangering the state (Section 89a StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Encouraging the commission of a serious violent offense endangering the state (Section 91 StGB)",label:n._('Encouraging the commission of a serious violent offense endangering the state (Section 91 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Treasonous forgery (Section 100a StGB)",label:n._('Treasonous forgery (Section 100a StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Public incitement to crime (Section 111 StGB)",label:n._('Public incitement to crime (Section 111 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Breach of the public peace by threatening to commit offenses (Section 126 StGB)",label:n._('Breach of the public peace by threatening to commit offenses (Section 126 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Forming criminal organizations (Section 129 StGB)",label:n._('Forming criminal organizations (Section 129 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Forming terrorist organizations (Section 129a StGB)",label:n._('Forming terrorist organizations (Section 129a StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Criminal and terrorist organizations abroad; extended confiscation and deprivation (Section 129b StGB)",label:n._('Criminal and terrorist organizations abroad; extended confiscation and deprivation (Section 129b StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Incitement to hatred (Section 130 StGB)",label:n._('Incitement to hatred (Section 130 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Dissemination of depictions of violence (Section 131 StGB)",label:n._('Dissemination of depictions of violence (Section 131 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Rewarding and approving of criminal offenses (Section 140 StGB)",label:n._('Rewarding and approving of criminal offenses (Section 140 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Insulting denominations, religious communities and ideological associations (Paragraph 166 StGB)",label:n._('Insulting denominations, religious communities and ideological associations (Paragraph 166 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Making available child pornography by broadcasting, media services, or telecommunication services (Section 184b/184d StGB)",label:n._('Making available child pornography by broadcasting, media services, or telecommunication services (Section 184b/184d StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Insult (Section 185 StGB)",label:n._('Insult (Section 185 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Defamation (Section 186 StGB)",label:n._('Defamation (Section 186 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Intentional Defamation (Section 187 StGB)",label:n._('Intentional Defamation (Section 187 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Denigration of the memory of the deceased (Paragraph 189 StGB)",label:n._('Denigration of the memory of the deceased (Paragraph 189 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Violation of intimate privacy by taking photographs (Section 201a StGB)",label:n._('Violation of intimate privacy by taking photographs (Section 201a StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Threatening the commission of a felony (Section 241 StGB)",label:n._('Threatening the commission of a felony (Section 241 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')},{name:"Forgery of data intended to provide proof (Section 269 StGB)",label:n._('Forgery of data intended to provide proof (Section 269 StGB)', 'Takedown.NetzDG.Law', 'These are German laws which a user can report a pin for takedown')}]},turkey:{header:n._('Turkish Internet Law Complaint Form', 'Takedown.Turkey.FormSubHeader', 'The title of the form'),subHeader:n._('Use this form to identify content that violates Turkish laws that are subject to the Turkish Internet Law. Please fill out the information below with as much detail as possible to allow us to evaluate your complaint.', 'Takedown.Turkey.FormSubheader', 'The sub-title of the form'),laws:[{label:n._('Personal rights violation', 'Takedown.Turkey.Law.Personal', 'These are laws which a user can report a pin for takedown'),name:"Personal rights violation"},{label:n._('Privacy rights violation', 'Takedown.Turkey.Law.Privacy', 'These are laws which a user can report a pin for takedown'),name:"Privacy rights violation"}]},koplg:{header:n._('Austria KoPl-G Form', 'AustriaKoPl-G.FormTitle', 'The title of the form'),subHeader:n._('Use this form to identify content that violates Austrian laws that are subject to the Kommunikationsplattformen-Gesetz (KoPl-G). Please fill out the information below with as much detail as possible to allow us to evaluate your complaint.', 'AustriaKoPl-G.FormDescription', 'Provides a description of what the form is used for'),laws:[{label:"Ntigung",name:"Ntigung"},{label:"Gefhrliche Drohung",name:"Gefhrliche Drohung"},{label:"Beharrliche Verfolgung",name:"Beharrliche Verfolgung"},{label:"Fortdauernde Belstigung im Wege einer Telekommunikation",name:"Fortdauernde Belstigung im Wege einer Telekommunikation"},{label:"Vorwurf einer schon abgetanen gerichtlich strafbaren Handlung",name:"Vorwurf einer schon abgetanen gerichtlich strafbaren Handlung"},{label:"Beleidigung",name:"Beleidigung"},{label:"Unbefugte Bildaufnahmen",name:"Unbefugte Bildaufnahmen"},{label:"Erpressung",name:"Erpressung"},{label:"Herabwrdigung religiser Lehren",name:"Herabwrdigung religiser Lehren"},{label:"Pornographische Darstellungen Minderjhriger",name:"Pornographische Darstellungen Minderjhriger"},{label:"Anbahnung von Sexualkontakten zu Unmndigen",name:"Anbahnung von Sexualkontakten zu Unmndigen"},{label:"Terroristische Vereinigung",name:"Terroristische Vereinigung"},{label:"Anleitung zur Begehung einer terroristischen Straftat",name:"Anleitung zur Begehung einer terroristischen Straftat"},{label:"Anleitung zu terroristischen Straftaten und Gutheiung terroristischer Straftaten",name:"Anleitung zu terroristischen Straftaten und Gutheiung terroristischer Straftaten"},{label:"Verhetzung",name:"Verhetzung"},{label:"Nazionalsozialistische Propaganga",name:"Nazionalsozialistische Propaganga"}]},loi_fr:{header:n._('Bill confirming respect for the principles of the Republic Form', 'French_DSA.FormTitle', 'The title of the form'),subHeader:n._('Use this form to identify content that violates French laws that are subject to the bill confirming respect for the principles of the Republic. Please fill out the information below with as much detail as possible to allow us to evaluate your complaint.', 'French_DSA.FormDescription', 'Provides a description of what the form is used for'),laws:[{name:"Apology of/sympathy to crimes",label:n._('Apology of/sympathy to crimes', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Provocation to discrimination, hatred or violence on the ground of origin, ethnic group, nation, race or religion, or sex, sexual orientation or gender identity or their disability",label:n._('Provocation to discrimination, hatred or violence on the ground of origin, ethnic group, nation, race or religion, or sex, sexual orientation or gender identity or their disability', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Challenging the existence of crimes against humanity, denial, minimization or trivialization of crimes of genocide, crimes of enslavement or war crimes",label:n._('Challenging the existence of crimes against humanity, denial, minimization or trivialization of crimes of genocide, crimes of enslavement or war crimes', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Sexual harassment",label:n._('Sexual harassment', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Child pornography",label:n._('Child pornography', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Human trafficking",label:n._('Human trafficking', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Procuring/pimping",label:n._('Procuring/pimping', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Direct provocation or public apology for acts of terrorism",label:n._('Direct provocation or public apology for acts of terrorism', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Insult based on origin, ethnic group, nation, race or religion",label:n._('Insult based on origin, ethnic group, nation, race or religion', 'French_DSA.Law', 'A French law which a user can report content for takedown')},{name:"Insult based on gender, sexual orientation, gender identify or disability",label:n._('Insult based on gender, sexual orientation, gender identify or disability', 'French_DSA.Law', 'A French law which a user can report content for takedown')}]},dsa:{header:n._('European Union Illegal Content Reporting Form', 'DSA.FormTitle', 'The title of the form'),subHeader:n._('Use this form to report content you believe to be illegal in the European Union. Please fill out the form with as much detail as possible to allow us to efficiently evaluate your report.', 'DSA.FormDescription', 'The sub-title of the form'),laws:[{name:"Promoting or condoning terrorist acts",label:n._('Promoting or condoning terrorist acts', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('E.g., Incitement to or apology of terrorist acts', 'DSA.Law', 'Example of this law')},{name:"Threatening commission of or condoning serious criminal offense",label:n._('Threatening commission of or condoning serious criminal offense', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('E.g., Threats to commit serious criminal offense against individuals or their condemnation', 'DSA.Law', 'Example of this law')},{name:"Child sexual abuse material (CSAM)",label:n._('Child sexual abuse material (CSAM)', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('E.g., Dissemination or\xA0 procurement of child pornographic content', 'DSA.Law', 'Example of this law')},{name:"Hate speech, hateful acts and discrimination",label:n._('Hate speech, hateful acts and discrimination', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('E.g., Incitement to hatred, violence or discrimination against protected and vulnerable groups', 'DSA.Law', 'Example of this law')},{name:"Graphic Violence",label:n._('Graphic Violence', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('E.g., Gore/graphic wounds and mutilation, beatings, excessive blood, corpses', 'DSA.Law', 'Example of this law')},{name:"Denying or condoning crimes against humanity",label:n._('Denying or condoning crimes against humanity', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('E.g., Denial of genocides, war crimes and other crimes against humanity', 'DSA.Law', 'Example of this law')},{name:"Illegal goods and services",label:n._('Illegal goods and services', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('E.g., Illegal sale of drugs, live animals or the illegal offer of services', 'DSA.Law', 'Example of this law')},{name:"Harassment",label:n._('Harassment', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('E.g., Online stalking or sexual harassment', 'DSA.Law', 'Example of this law')},{name:"Harmful to minors",label:n._('Harmful to minors', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('E.g., Incitement of minors to engage in actions which put them in physical danger or to intentionally harm themselves', 'DSA.Law', 'Example of this law')},{name:"Nudity or pornography",label:n._('Nudity or pornography', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('E.g., Dissemination of pornographic content', 'DSA.Law', 'Example of this law')},{name:"Disinformation",label:n._('Disinformation', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('E.g., Deliberate disinformation of individuals or groups of people', 'DSA.Law', 'Example of this law')},{name:"Affront to personal honor",label:n._('Affront to personal honor', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('E.g., Insults or defamation', 'DSA.Law', 'Example of this law')},{name:"Violation of privacy",label:n._('Violation of privacy', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('E.g., Non-consensual sharing of private images', 'DSA.Law', 'Example of this law')},{name:"DMCA",label:n._('Copyright infringement', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:(0,s.jsxs)(l.xv,{size:"100",inline:!0,color:"warning",children:[" ",n._('Fill out the', 'Dsa.Law.DMCA', 'Subtext for filling out the DMCA form'),(0,s.jsxs)(l.rU,{href:"https://www.pinterest.com/about/copyright/dmca-pin/",underline:"always",display:"inline",children:[" ",n._(' Copyright Complaint form here', 'DSA.Law', 'Hyperlink to copyright form')]})]})},{name:"Trademark",label:n._('Trademark infringement', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:(0,s.jsxs)(l.xv,{size:"100",inline:!0,color:"warning",children:[" ",n._('Fill out the ', 'Dsa.Law.Trademark', 'Subtext for filling out the trademark form'),(0,s.jsxs)(l.rU,{href:"https://www.pinterest.com/about/trademark/",underline:"always",display:"inline",children:[" ",n._('Trademark Complaint form here', 'DSA.Law', 'Hyperlink to trademark form')]})]})},{name:"GDPR",label:n._('Contains my personal data', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:(0,s.jsxs)(l.xv,{size:"100",inline:!0,color:"warning",children:[" ",n._('You can delete your data by going to your settings or by contacting ', 'Dsa.Law.GDPR', 'Subtext for removing your personal data'),(0,s.jsxs)(l.rU,{href:"mailto:privacy-support@pinterest.com",underline:"always",display:"inline",children:[" ",n._('privacy-support@pinterest.com', 'DSA.Law', 'Hyperlink to privacy support email')]})]})},{name:"Other illegal behavior",label:n._('Other illegal behavior', 'DSA.Law', 'An EU law which a user can report content for takedown'),subtext:n._('Report behavior that does not match the above categories here', 'DSA.Law', 'Example of this law')}]}},o={header:n._('Complaint Information', 'AustriaKoPl-G.ComplaintInformation.Header', 'Complaint Information header'),reportedUrl:n._('Identify the URL of the content', 'AustriaKoPl-G.ContentUrlField', 'The url of the content the user wants to report'),dsaReportedUrl:n._('What is the URL of the content you want to report?', 'Dsa.ContentUrlField', 'The url of the content the user wants to report for DSA'),reportedUrlHelperText:n._('Please provide the full URL of the content you are complaining about. 1 URL per form.', 'AustriaKoPl-G.ComplaintInformation.ContentUrl.HelperText', 'Complaint Information url field helper text'),contentPortionHeader:n._('What portion(s) of the content are you reporting?', 'AustriaKoPl-G.ContentReporting.Header', 'Header describing which part of the content the user is reporting'),dsaContentPortionHeader:n._('What portion of the content are you reporting?', 'DSA.ContentReporting.Header', 'Header describing which part of the content the user is reporting for DSA'),lawsViolatedLabel:n._('Which law(s) do you believe the content violates?', 'AustriaKoPl-G.ContentReporting.Header', 'Header describing which part of the content the user is reporting'),dsaLawsViolatedLabel:n._('Why do you think this content is illegal under local law?', 'DSA.ContentReporting.Header', 'Header describing which part of the content the user is reporting for DSA'),dsaLawsViolatedSubtext:n._('Please carefully consider the option you select, so we can address your report as efficiently as possible.', 'DSA.ContentReporting.Subtext', 'Subtext asking to carefully choose the law being violated for DSA'),otherLabel:n._('Enter other portion of content', 'AustriaKoPl-G.ContentPortion.OtherValue', 'Field to describe other portion of the pin they are reporting'),dsaOtherLabel:n._('Please describe what other portion of the content you are reporting', 'DSA.ContentPortion.OtherValue', 'Field to describe other portion of the content they are reporting for DSA'),additionalInformationLabel:n._('Additional information on illegality of content (Optional)', 'AustriaKoPl-G.ContentReporting.Header', 'Header describing which part of the content the user is reporting'),additionalInformationPlaceholder:n._('250 character limit...', 'AustriaKoPl-G.ContentReporting.Header', 'Header describing which part of the content the user is reporting'),dsaAdditionalInformationLabel:n._('Please provide additional information about why you think the content is illegal. You may cite or link to relevant statutes, if you like. (Optional)', 'DSA.ContentReporting.Header', 'Label for the additional details textbox of the DSA form'),dsaAdditionalInformationPlaceholder:n._('Provide additional details here', 'DSA.ContentReporting.Placeholder', 'Placeholder for the additional details textbox of the DSA form'),countryHeader:n._('Under what country\u2019s laws do you believe this content is illegal?', 'DSA.Country.Header', 'Header describing the country in which the content is illegal'),otherViolationLabel:n._('Report behavior that does not match the above categories here', 'DSA.OtherViolation.Field', 'Field to describe other violation reason of the reported content'),attachmentLabel:n._('If you have additional documents that could help us understand your report (e.g., court order), you can attach it here. Please upload PDFs only, with a maximum file size of 5 MB.', 'DSA.OtherViolation.Field', 'Field for uplodaing attachments'),moduleCollapseLabel:n._('Collapse the module', 'DSA.CollapseModule', 'Text for collapsing items module'),moduleExpandLabel:n._('Expand the module', 'DSA.ExpandModule', 'Text for expanding items module'),noCountryResultText:n._('No countries found', 'DSA.NoCountries', 'Text for country combo box no countries found error'),clearButtonLabel:n._('Clear search field', 'DSA.ClearInput', 'Accessibility text for clearing combobox field'),invalidUrlText:n._('Invalid URL', 'DSA.Invalid Url', 'Accessibility text for invalid pinterest urls'),selectedLawErrorText:n._('Please fill out the appropriate form for this complaint', 'DSA.InvalidLaw', 'Accessibility text for redirecting to the appropriate place for this law'),multiselectPlaceholder:n._('Select an option', 'DSA.Multiselect.Placeholder', 'Header prompting user to select an option')},d={contactHeader:n._('Contact Information', 'TakedownsContactInformation.OwnerInformationHeading', 'Heading with the word Owner Information'),companyCheckbox:n._('Do you represent a complaints office? (Yes)', 'TakedownsContactInformation.ComplaintsOfficeValidation', 'Checkbox to determine if represents a complaints office'),company:n._('Complaints office', 'TakedownsContactInformation.ComplaintsOfficeNameField', 'The name of the organization or office submitting the complaint'),trustedFlaggerCheckbox:n._('Are you a trusted flagger? (Yes)', 'TakedownsContactInformation.TrustedFlagger', 'Checkbox to determine if reporter is a trusted flagger'),trustedFlaggerSubtext:n._('Trusted flaggers are designated parties, usually associated with NGOs, government entities, or private bodies', 'TakedownsContactInformation.TrustedFlaggerSubtext', 'Defines a trusted flagger'),anonSubmissionCheckbox:n._('Do you wish to remain anonymous? (Yes)', 'TakedownsContactInformation.AnonSubmission', 'Checkbox to determine if reporter wishes to remain anonymous'),anonSubmissionSubtext:n._('If you select this box, you will not receive any additional communications about your report, including the final outcome of your report.', 'TakedownsContactInformation.AnonSubmissionSubtext', 'Anon submission disclaimer'),organization:n._('Organization Name', 'TakedownsContactInformation.OrganizationNameField', 'The name of the organization or office submitting the complaint'),name:n._('Name of Reporter', 'TakedownsContactInformation.NameField', 'User\'s name'),email:n._('Email Address', 'TakedownsContactInformation.EmailField', 'User\'s email address'),phone:n._('Phone Number', 'TakedownsContactInformation.PhoneField', 'Users phone number'),address:n._('Full Address', 'TakedownsContactInformation.AddressField', 'User address')},u={termsHeading:n._('By checking the following boxes, I confirm:', 'TakedownsForm.LabelForCheckboxes', 'Label describing the checkboxes'),isAccurate:n._('The information in this application is accurate.', 'TakedownsContactInformation.isAccurateBoolean', 'Confirmation checkbox that information in form is accurate'),consequences:n._('I understand that if I use this form to submit fraudulent or abusive complaints, I might be subject to claims of liability by Pinterest or other third parties.', 'temp', 'temp'),possibleSuspension:n._('I understand that frequently submitting reports that are fraudulent or abusive may lead Pinterest to suspend the processing of my reports.', 'TakedownsContactInformation.possibleSuspension', 'Confirmation checkbox that fraudulent reports may lead to suspension'),terms:(0,s.jsx)(l.xv,{children:n._('I have a good faith belief that the content violates the law(s) identified.', 'TakedownsContactInformation.termsBoolean', 'Checkbox to confirm they are owner of items they are claiming')}),dsaIsAccurate:n._('I have a good faith belief that the information and allegations contained in this report are accurate and complete.', 'TakedownsContactInformation.DSA.termsBoolean', 'Checkbox to confirm that the information is accurate and complete'),submitText:n._('Submit', 'TakedownsForm.SubmitApplication', 'Submit application form'),cancelText:n._('Cancel', 'TakedownsForm.CancelApplication', 'Cancel application form'),errorCallout:n._('Please fill out all required fields before submitting the application', 'CCP.AppValidationCallout', 'Call out that lets user know there\'s a validation error ')},p={pin_image:n._('Pin Image / Video', 'TakedownsForm.ContentPortion.Image', 'Checkbox content portion for Image'),pin_description:n._('Pin Description', 'TakedownsForm.ContentPortion.Description', 'Checkbox content portion for Description'),pin_notes:n._('Pin Comments / Notes', 'TakedownsForm.ContentPortion.Notes', 'Checkbox content portion for Notes'),profile_image:n._('Profile Image', 'TakedownsForm.ContentPortion.Image', 'Checkbox content portion for Image'),profile_name:n._('Profile Name', 'TakedownsForm.ContentPortion.Name', 'Checkbox content portion for Name'),profile_description:n._('Profile Description', 'TakedownsForm.ContentPortion.Description', 'Checkbox content portion for Description'),board_name:n._('Board Name', 'TakedownsForm.ContentPortion.Name', 'Checkbox content portion for Name'),board_description:n._('Board Description', 'TakedownsForm.ContentPortion.Description', 'Checkbox content portion for Description'),other:n._('Other...', 'TakedownsForm.ContentPortion.Other', 'Checkbox content portion for Other')},m=a()({takedown:i[e],contactInformation:d,complaints:o,terms:u,reportedPortion:p},t);return a()({configuration:c[e],translations:m})}},434927:(e,t,n)=>{n.d(t,{AL:()=>R,CY:()=>s,Ct:()=>b,FW:()=>c,Jd:()=>v,Lc:()=>a,M5:()=>D,MV:()=>x,OL:()=>S,RA:()=>g,RZ:()=>i,S2:()=>l,S7:()=>I,Tx:()=>f,Vr:()=>p,XP:()=>E,Ym:()=>w,Zf:()=>m,aj:()=>o,bQ:()=>_,gn:()=>d,hK:()=>k,jn:()=>A,k6:()=>u,mD:()=>h,oF:()=>P,oZ:()=>T,oc:()=>C,wL:()=>y,wS:()=>r,wW:()=>L,yd:()=>j});const i=1200,a=240,l=426,o=60,r=1100,s=8,d=200,c=8,u=2,p="400",m=71+4*c,h="OVERVIEW",g="VISUALS",_="PRODUCTS",y="ATTENDEES",v="REVIEW",f={UPCOMING:1,PREVIOUS:2,PENDING:3,DRAFT:4,REJECTED:5},b={PRE_LIVE:1,OFFLINE:2,LIVE:3,POST_LIVE:4},x={NORMAL:1,PRODUCT_DROP:2,SHOPPING:3},k={NORMAL:1,PRODUCT_DROP:2,SHOPPING:3},P={PENDING:1,REJECTED:2,APPROVED:3,DRAFT:4,SOFT_REJECTED:5},S={BAD_TITLE:1,BAD_COVER_IMAGE:2,BAD_DATETIME:3,TITLE_NOT_DESCRIPTIVE:4,ALREADY_BOOKED_TIME:5,START_TIME_IN_PAST:6,COVER_IMG_BLURRY:7,COVER_IMG_CONTENT:8,COVER_IMG_FAIL_GUIDELINES:9,VIDEO_CONTENT:10},w={TRENDSETTER:0,IMMERSIVE:1,HOW_TO:2,TRANSFORMATIVE:3,LIVE_EVENT:4},T={PENDING:0,APPROVED:1,HIDDEN:2},I={CREATOR_STUDIO:1,PINTEREST_APP:2,MANAGED:3},A={CLASS_HERO_VIDEO:"1",CLASS_INSTANCE_HERO_VIDEO:"2",CLASS_INSTANCE_REPLAY_VIDEO:"3",APPLICATION_EXAMPLE_VIDEO:"4"},C={NO_LIVE_CREATOR:1,MANAGED_CREATOR:2,COMMUNITY_CREATOR:3,ORGANIC_CREATOR:4},j=(new Intl.DateTimeFormat).resolvedOptions().timeZone||"America/Los Angeles",E={PIN_ID:"424605071130991177",PIN_URL:"https://www.pinterest.com/pin/424605071130991177/",PIN_URL_SHORTENED:"https://pin.it/2T2eRb6"},R={IS_SPONSORED:!0,IS_NOT_SPONSORED:!1},L={IS_SPONSORED:"I am receiving something of value for including links or promoting a brand/product in my episode.",IS_NOT_SPONSORED:"I am not receiving anything of value from a brand/product for including links or a brand/product in my episode OR I am not including any brand/product in my episode."},D="Anytime you receive something of value to promote a brand or its product(s), you have an obligation to disclose that. Something of value can be money, like affiliate earnings or direct payments from the brand. It can also be free products or even discounts on products. If your episode includes multiple products and you were only compensated for some of those products, you must still disclose that."},952055:(e,t,n)=>{function i(e,t,n){return{privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e}}n.d(t,{Z:()=>i})},789144:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t)=>`${e}:${t||""}`},248641:(e,t,n)=>{n.d(t,{O:()=>r,Q:()=>s});var i=n(756513),a=n(789144),l=n(541268);const o=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],r={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:n,username:i},a)=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:i,page_size:25,group_by:n?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0,...a?{orbac_subject_id:a}:Object.freeze({})})},s=e=>o.reduce(((t,n)=>{const o=[(0,l.N8)("profileBoards",(0,a.Z)(e,n))];return[!0,!1].forEach((t=>{[!0,!1].forEach((a=>{o.push((0,i.jB)(r.name,r.options({username:e,boardOrder:n,mixPublicSecret:t,filterStories:a})))}))})),t.concat(o)}),[])},953595:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(883119),a=n(88622),l=n(536042),o=n(630089),r=n(837792),s=n(549201),d=n(785893);const c=r.K_+"?source=block_dialogue";function u({firstName:e,onBlockUser:t,onClearModal:n}){const r=(0,l.ZP)(),u=(0,s.HG)(),p=(0,o.nk)(r._('Block {{ firstName }}?', 'blockUser.modal.header', 'header text asking if we should block the user'),{firstName:e}).join(""),m=(0,o.nk)(r._('Blocking {{ firstName }}, stops messages, follows, and comments. You can still view each other\u2019s profiles.', 'blockUser.modal.description', 'explanation of what blocking another user means'),{firstName:e});return u?(0,d.jsxs)(a.ZP,{accessibilityModalLabel:p,onDismiss:n,heading:p,footer:(0,d.jsxs)(i.xu,{marginStart:-1,marginEnd:-1,display:"flex",alignItems:"center",justifyContent:"end",children:[(0,d.jsx)(i.xu,{padding:1,children:(0,d.jsx)(i.zx,{fullWidth:!0,size:"md",text:r._('Cancel', 'blockUser.modal.cancel', 'Cancel blocking a user'),onClick:n})}),(0,d.jsx)(i.xu,{padding:1,children:(0,d.jsx)(i.zx,{fullWidth:!0,size:"md",color:"red",text:r._('Block', 'Button to confirm blocking a user', 'Button to confirm blocking a user'),onClick:t})})]}),role:"alertdialog",size:"md",children:[(0,d.jsx)(i.xu,{padding:4,"data-test-id":"block-text",children:(0,d.jsx)(i.xv,{children:m})}),(0,d.jsx)(i.xu,{padding:4,children:(0,d.jsx)(i.xv,{color:"default",weight:"bold",children:(0,d.jsx)(i.rU,{target:"blank",href:c,children:r._('Learn more', 'link to help center to learn more about blocking', 'link to help center to learn more about blocking')})})})]}):(0,d.jsxs)(a.ZP,{accessibilityModalLabel:p,onDismiss:n,mobileHideCloseIcon:!0,type:"block_button",children:[(0,d.jsx)(i.xu,{paddingX:3,paddingY:5,alignItems:"center",display:"flex",children:(0,d.jsx)(i.X6,{accessibilityLevel:1,size:"500",children:p})}),(0,d.jsx)(i.xu,{marginBottom:3,marginStart:2,marginEnd:2,children:(0,d.jsx)(i.xv,{align:"center",children:m})}),(0,d.jsxs)(i.xu,{marginStart:-1,marginEnd:-1,display:"flex",alignItems:"center",justifyContent:"center",children:[(0,d.jsx)(i.xu,{padding:1,children:(0,d.jsx)(i.zx,{fullWidth:!0,size:"md",text:r._('Cancel', 'blockUser.modal.cancel', 'Cancel blocking a user'),onClick:n})}),(0,d.jsx)(i.xu,{padding:1,children:(0,d.jsx)(i.zx,{fullWidth:!0,size:"md",color:"red",text:r._('Block', 'Button to confirm blocking a user', 'Button to confirm blocking a user'),onClick:t})})]})]})}},407264:(e,t,n)=>{n.d(t,{$n:()=>f,A4:()=>P,CE:()=>h,ET:()=>A,F$:()=>v,Kw:()=>T,Nv:()=>w,PA:()=>k,X_:()=>I,d9:()=>b,e1:()=>m,o4:()=>S,vB:()=>_});var i=n(782677),a=n(690108),l=n(970588),o=n(575794),r=n(756513),s=n(911767),d=n(541268),c=n(1731),u=n(255655),p=n(274796);function m(e){return t=>{const{boardId:n,sectionIdBefore:i,sectionIdAfter:a,sourceSectionId:o,targetSectionId:r}=e;t((0,d._f)({feedType:p.Z.BOARD_SECTIONS,feedId:n,itemType:"boardsection",sourceItemId:o,targetItemId:r}));let s=Object.freeze({});return i&&(s={...s,section_before:i}),a&&(s={...s,section_after:a}),(0,l.Z)({url:`/v3/board/sections/${o}/reorder/`,method:"POST",data:s})}}function h(e,t){return n=>n((0,o.U)("BoardSectionResource",{options:{field_set_key:t||"board_page",section_id:e}}))}function g(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function _({boardId:e,name:t,nameSource:n,pinImport:i,initialPinIds:l=[]},o,u){let m=0;"RECOMMENDATION"===n?m=1:"EDITED_RECOMMENDATION"===n&&(m=2);const h={board_id:e,initial_pins:i&&!i.all?i.pinIds:l,name:t,name_source:m,...u?{orbac_subject_id:u}:Object.freeze({})};return t=>a.Z.create("BoardSectionResource",h).callCreate({showError:!1}).then((({resource_response:{data:n}})=>{t(g(e,n)),t((0,d.vX)({feedId:e,feedType:p.Z.BOARD_SECTIONS,itemIds:[n.id],itemType:"boardsection"})),t((0,s.Tq)(e,"pin_count")),t((0,r.jB)("BoardSectionsRepinResource",{board_id:e}));const{all:a,pinIds:l}=i||{all:!1,pinIds:[]};return a?new Promise(((i,a)=>t((0,c.Z)({inverseSelection:!0,selectedPinIds:l,source:{boardId:e,sectionId:null},target:{boardId:e,sectionId:n.id}},o)).then((()=>i(n))).catch(a))):(l.length>0&&t((0,d.N8)(p.Z.BOARDFEED,e)),n)}))}function y(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}function v(e,t,n){return i=>a.Z.create("BoardSectionEditResource",{section_id:t,...n?{orbac_subject_id:n}:Object.freeze({})}).callDelete({showError:!1}).then((()=>Promise.all([i(y(e,t)),i((0,d.EX)({feedId:e,feedType:p.Z.BOARD_SECTIONS,itemIds:[t],itemType:"boardsection"})),i((0,s.Tq)(e,"pin_count")),i((0,r.jB)("BoardSectionsRepinResource",{board_id:e}))])))}function f(e,t,n,i){return l=>a.Z.create("BoardSectionEditResource",{section_id:t,title:n,...i?{orbac_subject_id:i}:Object.freeze({})}).callCreate({showError:!1}).then((t=>{const n=t.resource_response.data;return l(function(e,t){return n=>{const i=t.board;var a,l,o,r,c;i&&i.id!==e?(n(y(e,null!==(a=t.id)&&void 0!==a?a:"")),n((0,d.EX)({feedId:e,feedType:p.Z.BOARD_SECTIONS,itemIds:[null!==(l=t.id)&&void 0!==l?l:""],itemType:"boardsection"})),n((0,s.Tq)(e,"pin_count")),n(g(null!==(o=i.id)&&void 0!==o?o:"",t)),n((0,d.vX)({feedId:null!==(r=i.id)&&void 0!==r?r:"",feedType:p.Z.BOARD_SECTIONS,itemIds:[null!==(c=t.id)&&void 0!==c?c:""],itemType:"boardsection"})),n((0,s.Tq)(e,"pin_count"))):n({type:"SECTION_UPDATED",payload:{boardId:e,section:t}})}}(e,n)),l((0,r.jB)("BoardSectionsRepinResource",{board_id:e})),n}))}function b(e,t,n){return i=>(0,l.Z)({url:`/v3/board/sections/${t}/merge/${n}/`,method:"POST",data:{fields:["boardsection.id","boardsection.board()","board.id","board.blocking_actions"]}}).then((a=>Promise.all([i(y(e,t)),i((0,r.jB)("BoardSectionsRepinResource",{board_id:e})),i(h(n)),i((0,d.N8)(p.Z.BOARD_SECTION_PINS,n))]).then((()=>a))))}const x=(e,t)=>({type:"BOARD_SECTION_EDIT",payload:t}),k=(e,t)=>n=>a.Z.create("BoardSectionEditResource",{...t,section_id:e}).callCreate().then((e=>(n(x(0,t)),e.resource_response.data))),P=e=>t=>{const n={section_id:e};return a.Z.create("BoardSectionResource",n).callGet().then((e=>{const n=e.resource_response.data||{id:"",title:""};return t(x(0,n)),e}))},S=(e,t,n,i)=>l=>{const o=a.Z.create("BoardSectionEditResource",{section_id:t}).callDelete();return l(((e,t,n,i)=>({type:"BOARD_SECTION_DELETE",payload:{userId:e,boardSectionId:t,boardId:n,pinCount:i}}))(e,t,n,i)),o},w=(e,t,n)=>l=>{const o={board_id:e,initial_pins:t,name:n},s="BoardSectionResource";return a.Z.create(s,o).callCreate().then((n=>{const a=n.resource_response.data,c=(0,i.Fv)(a,u.Z[s]);return l((0,r.XM)(s,o,n,c)),l(g(e,a)),l((0,d.vX)({feedId:e,feedType:p.Z.BOARD_SECTIONS,itemIds:[a.id],itemType:"boardsection"})),t.length&&l({type:"PINS_MOVE",payload:{source:{boardId:e},target:{boardId:e,sectionId:a.id},pinIds:t}}),n}))},T=e=>t=>{const{source:n,target:l,pinIds:o}=e;if(t({type:"PINS_MOVE",payload:e}),n.boardlessPins||l.boardId!==n.boardId){const e={board_id:l.boardId,pin_ids:o,section_id:l.sectionId},t="BulkEditResource";return a.Z.create(t,e).callUpdate()}if(l.sectionId){const e={section_id:l.sectionId,pins:o},n="BoardSectionEditResource";return a.Z.create(n,e).callUpdate().then((a=>{const l=(0,i.Fv)(a.resource_response.data,u.Z[n]);return t((0,r.XM)(n,e,a,l)),a}))}const s={section_id:n.sectionId,pins:o};return a.Z.create("BoardSectionPinsResource",s).callDelete()},I=e=>t=>{t({type:"PINS_MOVE_ALL",payload:e});const{source:n,target:i,excludePinIds:l}=e,o={board_id:n.boardId,new_board_id:i.boardId,pin_ids:l,old_section_id:n.sectionId,new_section_id:i.sectionId};return a.Z.create("BulkEditSelectAllResource",o).callUpdate()},A=(e,t,n,i)=>a=>a(w(e,[],t)).then((t=>{const l=t.resource_response.data.id;return a(I({source:{boardId:e,sectionId:i},target:{boardId:e,sectionId:l},excludePinIds:n}))}))},911767:(e,t,n)=>{n.d(t,{Br:()=>m,Cr:()=>T,K8:()=>f,L1:()=>R,Tq:()=>y,YQ:()=>E,YV:()=>w,ZP:()=>I,aX:()=>A,eo:()=>g,fJ:()=>D,md:()=>h,oG:()=>_,oL:()=>C,of:()=>b,xH:()=>v,xQ:()=>x,xR:()=>j,xk:()=>P,yT:()=>p,zS:()=>L});var i=n(690108),a=n(40045),l=n(970588),o=n(575794),r=n(756513),s=n(952055),d=n(248641),c=n(541268),u=n(274796);function p(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function m(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function h(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function g({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:i}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:i}}}const _=(e,t)=>n=>n((0,o.U)("BoardResource",{options:{board_id:e,field_set_key:t}}));function y(e,t,n){return(0,o.U)("BoardResource",{options:{board_id:e,field_set_key:t,...n?{orbac_subject_id:n}:{}}})}function v(e,t,n){return i=>(0,l.Z)({url:`/v3/boards/${e}/merge/${t}/`,method:"POST",data:n?{orbac_subject_id:n}:{}}).then((()=>Promise.all([i(g({boardId:e})),i(y(t,"pin_count")),i((0,c.N8)(u.Z.BOARD_SECTIONS,t))])))}function f(e){return t=>{e&&(0,d.Q)(e).forEach((e=>{t(e)}))}}const b=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),x=e=>_(e,"pin_count");function k(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function P(e,t){return n=>(n(k(e)),i.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate())}function S(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function w(e,t){return n=>(n(S(e)),i.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete())}const T=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),I=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function A(e,t,n){const l={name:e,privacy:a.Z.BoardPrivacy.PUBLIC,username:t,...n?{orbac_subject_id:n}:Object.freeze({})};return e=>i.Z.create("BoardResource",l).callCreate().then((n=>{const i=n.resource_response.data;return e(t&&(0,r.jB)("BoardsResource",(0,s.Z)(t,!1))),i}))}function C(e={},t,n){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}const j=(e,t)=>n=>(n(((e,t)=>({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}}))(e,t)),i.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete()),E=(e,t,n,a,l)=>o=>{var r,s;const d="accepted"===t?"BoardCollaboratorResource":"BoardInviteResource";return o(((e,t,n)=>({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:t,viewingUser:n}}))(e,null!==(r=null==a?void 0:a.id)&&void 0!==r?r:"",n)),i.Z.create(d,{board_id:e,field_set_key:"boardEdit",invited_user_id:null!==(s=null==a?void 0:a.id)&&void 0!==s?s:"",...l?{orbac_subject_id:l}:{}}).callDelete().catch((()=>o(((e,t,n,i)=>({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:t,status:n,collaboratingUsers:i}}))(e,n,t,[a]))))},R=(e,t,n,a)=>l=>{const o=i.Z.create("BoardResource",{board_id:n}).callDelete();return l(g({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:a})),o},L=(e,t)=>n=>i.Z.create("BoardArchiveResource",{boardId:e}).callUpdate().then((i=>(n((0,c.Qv)("archived-boards",[{id:e,type:"board"}])),n(k(e,t)),i))),D=(e,t)=>n=>i.Z.create("BoardArchiveResource",{boardId:e}).callDelete().then((i=>(n((0,c.Qv)(`profile-boards:${t}`,[{id:e,type:"board"}])),n(S(e)),i)))},844689:(e,t,n)=>{n.d(t,{V:()=>o,u:()=>l});var i=n(690108),a=n(911767);const l=e=>t=>{const n={board_id:e};return i.Z.create("BoardResource",n).callGet().then((e=>{const n=e&&e.resource_response&&e.resource_response.data;return n&&t((0,a.yT)(n)),e}))};function o(e,t,n){return(l,o)=>{const{boards:r}=o(),s=r[e],d=void 0===t.collaborator_requests_enabled||null===t.collaborator_requests_enabled?Object.freeze({}):{collaborator_requests_enabled:t.collaborator_requests_enabled},c={allow_homefeed_recommendations:t.allow_homefeed_recommendations,category:t.category,collab_board_email:t.collab_board_email,collaborator_invites_enabled:t.collaborator_invites_enabled,collaborator_permissions_setting:t.collaborator_permissions_setting,description:t.description,name:t.name,privacy:t.privacy,sensitivity:t.sensitivity||null,...n?{orbac_subject_id:n}:Object.freeze({}),...d};return l((0,a.yT)({...c,id:e})),i.Z.create("BoardResource",{...c,board_id:e}).callUpdate().then((e=>{const n=e&&e.resource_response&&e.resource_response.data||t;return l((0,a.yT)(n)),e})).catch((e=>{throw s&&l((0,a.yT)(s)),e}))}}},952239:(e,t,n)=>{n.d(t,{DD:()=>u,lg:()=>p,Th:()=>h,YH:()=>s,wH:()=>r,IU:()=>m,L8:()=>c});var i=n(690108),a=n(970588),l=n(541268);var o=n(274796);function r({didItDataId:e,isLikedByMe:t}){return n=>((0,a.Z)({url:`/v3/did_it/${e}/like/`,method:t?"DELETE":"POST"}),n(function(e,t){return{type:"USER_DID_IT_DATA_LIKE_TOGGLED",payload:{id:e,liked_by_me:t}}}(e,!t)))}function s({didItDataId:e,isMarkedHelpfulByMe:t}){return n=>((0,a.Z)({url:`/v3/helpful/2/${e}/`,method:t?"DELETE":"POST"}),n(function(e,t){return{type:"USER_DID_IT_DATA_HELPFUL_TOGGLED",payload:{id:e,marked_helpful_by_me:t}}}(e,!t)))}function d(e){return{type:"USER_DID_IT_DATA_DELETE",payload:{id:e}}}function c(e,t){return{type:"USER_DID_IT_DATA_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}function u({aggregatedPinDataId:e,details:t,fromUnifiedComment:n,image_signatures:a,pin_id:r,username:s,updateParentDidItCount:d}){const u={aggregatedPinDataId:e,details:t,image_signatures:a,pin_id:r};return t=>i.Z.create("DidItActivityResource",u).callCreate().then((i=>{const a=i.resource_response.data;t({type:"PIN_DID_IT",payload:{id:r,value:!0}}),t({type:"USER_DID_IT_DATA_CREATE",payload:{user_did_it_data:a}}),t((0,l.vX)({feedId:e,feedType:n?o.Z.UNIFIED_COMMENTS:o.Z.TRIED_IT_FEED,itemIds:[a.id],itemType:a.type})),t((0,l.vX)({feedId:s,feedType:o.Z.TRIED_IT_FEED,itemIds:[a.id],itemType:a.type})),d&&t(c(e,1))}),(()=>{}))}function p({aggregatedPinDataId:e,feedType:t,id:n,isOwnedByMe:a,pinId:r,username:s,updateParentDidItCount:u}){return p=>{i.Z.create("DidItActivityResource",{user_did_it_data_id:n,pinId:r}).callDelete().then((()=>{a&&p(function(e){return{type:"PIN_DID_IT",payload:{id:e,value:!1}}}(r)),p(d(n)),p((0,l.EX)({feedId:null!=e?e:"",feedType:t||o.Z.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"})),p((0,l.EX)({feedId:s,feedType:o.Z.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"})),p((0,l.EX)({feedId:s,feedType:o.Z.UNIFIED_COMMENTS,itemIds:e?[e]:[],itemType:"userdiditdata"})),u&&p(c(n,-1))}),(()=>{}))}}function m({id:e,details:t,image_signatures:n,pinId:a}){const l={details:t,image_signatures:n,user_did_it_data_id:e,pin_id:a};return e=>{i.Z.create("DidItActivityResource",l).callUpdate().then((t=>{const n=t.resource_response.data;e(function(e){return{type:"USER_DID_IT_DATA_UPDATE",payload:{user_did_it_data:e}}}(n))}),(()=>{}))}}function h(e,t,n,i,r){return s=>{(0,a.Z)({url:`/v3/did_it/${n}/flag/`,method:"PUT",data:{reason:i,detailed_reasons:t,explanation:void 0}}).then((()=>{s(d(n)),e&&s((0,l.EX)({feedId:e,feedType:o.Z.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"})),s((0,l.EX)({feedId:r,feedType:o.Z.TRIED_IT_FEED,itemIds:[n],itemType:"userdiditdata"}))}),(()=>{}))}}},541268:(e,t,n)=>{function i(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function a(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,{EX:()=>o,N8:()=>a,Qv:()=>l,_f:()=>i,vX:()=>r});const l=(e,t,n=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:n,items:t}});function o(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function r(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},1731:(e,t,n)=>{n.d(t,{Z:()=>m,S:()=>p});var i=n(690108),a=n(911767),l=n(407264),o=n(541268),r=n(274796),s=n(820997);const d=e=>t=>{s.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._('Please wait until the previous board action finishes.', ' - ', ' -- ');default:return e.message}}(t,e))},c=e=>(0,o.N8)(e.sectionId?r.Z.BOARD_SECTION_PINS:r.Z.BOARDFEED,e.sectionId||e.boardId);function u(e,t){const{source:n,target:i}=e;i.boardId!==n.boardId?(t((0,a.Tq)(n.boardId,"pin_count")),t((0,a.Tq)(i.boardId,"pin_count"))):n.sectionId&&i.sectionId||t((0,a.Tq)(i.boardId,"pin_count")),n.sectionId&&t((0,l.CE)(n.sectionId)),i.sectionId&&t((0,l.CE)(i.sectionId))}function p(e){return t=>{const{selectedPinIds:n,source:i,target:a}=e;t((0,o.EX)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?r.Z.BOARD_SECTION_PINS:r.Z.BOARDFEED,itemIds:n,itemType:"pin"})),t((0,o.vX)({feedId:a.sectionId||a.boardId,feedType:a.sectionId?r.Z.BOARD_SECTION_PINS:r.Z.BOARDFEED,itemIds:n,itemType:"pin"})),u(e,t)}}function m(e,t){return n=>function(e,t,n){const{inverseSelection:a,selectedPinIds:l,source:s,target:u,orbacSubjectId:p}=e;if(s.boardId===u.boardId&&(s.sectionId||null)===(u.sectionId||null))return Promise.reject();if(a){const e={board_id:s.boardId,new_board_id:u.boardId,old_section_id:s.sectionId||void 0,new_section_id:u.sectionId||void 0,pin_ids:l,orbac_subject_id:p};return i.Z.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then((()=>Promise.all([t(c(s)),t(c(u))]))).catch(d(n))}{const e=(e,n)=>{t((0,o.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?r.Z.BOARD_SECTION_PINS:r.Z.BOARDFEED,itemIds:l,itemType:"pin"})),t((0,o.vX)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?r.Z.BOARD_SECTION_PINS:r.Z.BOARDFEED,itemIds:l,itemType:"pin"}))};e(s,u);const a=()=>e(u,s);if(u.boardId===s.boardId){if(u.sectionId){const e={section_id:u.sectionId,pins:l,orbac_subject_id:p};return i.Z.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch((e=>{a(),d(n)(e)}))}{const e={section_id:s.sectionId,pins:l,orbac_subject_id:p};return i.Z.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch((e=>{a(),d(n)(e)}))}}{const e={board_id:u.boardId,section_id:u.sectionId||void 0,pin_ids:l,orbac_subject_id:p};return i.Z.create("BulkEditResource",e).callUpdate({showError:!1}).catch((e=>{a(),d(n)(e)}))}}}(e,n,t).then((()=>u(e,n)))}},535483:(e,t,n)=>{function i(e){return{type:"PIN_NAV_CONTEXT_CREATE",payload:e}}function a(){return{type:"PIN_NAV_CONTEXT_DELETE"}}n.d(t,{H:()=>a,k:()=>i})},894788:(e,t,n)=>{n.d(t,{M:()=>s,i:()=>d});var i=n(782677),a=n(690108),l=n(756513),o=n(446191),r=n(255655);const s=(e,t,n,i)=>({type:"PIN_ADD",payload:{pinId:e,boardId:t,boardSectionId:n,pinnerId:i}}),d=e=>t=>{const{method:n,guid:d,image_base64:c,image_url:u}=e;return((e,t)=>new Promise((n=>{e?(0,o.eR)(e).then((e=>{n(e)})):n(t)})))(c,u).then((o=>{const c={...e,method:"button"!==n||d?n:"button_external",image_url:o,image_base64:void 0},u="PinResource";return a.Z.create(u,c).callCreate().then((e=>{const n=(0,i.Fv)(e.resource_response.data,r.Z[u]);t((0,l.XM)(u,c,e,n));const a=e.resource_response.data,{board:{id:o},pinner:{id:d},section:p}=a,m=p&&p.id;return t(s(a.id,o,m,d)),e}))}))}},826260:(e,t,n)=>{function i(e,t){return{type:"PIN_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}n.d(t,{R:()=>i})},540459:(e,t,n)=>{n.d(t,{L:()=>r,q:()=>s});var i=n(690108),a=n(911767),l=n(541268),o=n(274796);function r(e){return t=>{const{inSelectAll:n,selectedPinIds:r,orbacSubjectId:s,source:{boardId:d,sectionId:c}}=e,u=n?"BulkEditSelectAllResource":"BulkEditResource",p={board_id:d,section_id:c,pin_ids:r,orbac_subject_id:s};return t((0,a.xQ)(d)),t((0,l.EX)({feedId:c||d,feedType:c?o.Z.BOARD_SECTION_PINS:o.Z.BOARDFEED,inverseSelection:n,itemIds:r,itemType:"pin"})),i.Z.create(u,p).callDelete()}}const s=({pinId:e,boardId:t,boardSectionId:n,clientTrackingParams:a})=>(l,o)=>{const r=i.Z.create("PinResource",{id:e,client_tracking_params:a}).callDelete(),{session:{userId:s}}=o();return l(((e,t,n,i)=>({type:"PIN_DELETE",payload:{pinId:e,boardId:t,boardSectionId:n,userId:i}}))(e,t,n,s)),r}},16393:(e,t,n)=>{n.d(t,{Q:()=>l,a:()=>a});var i=n(970588);function a(e,t){return async n=>{const{resource_response:a}=await(0,i.Z)({url:`/v3/storypins/${e}/mentions/`,method:"DELETE"});return n(function(e,t){return{type:"DELETE_PIN_MENTION",payload:{pinId:e,userId:t}}}(e,t)),a}}function l(e){return async t=>{const{resource_response:n}=await(0,i.Z)({url:`/v3/aggregated_comments/${e}/mentions/`,method:"DELETE",data:{fields:["aggregatedcomment.id","aggregatedcomment.tagged_users"]}}),{data:a}=n;return t(function(e,t){return{type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:e,tagged_users:t}}}(a.id,a.tagged_users)),n}}},580691:(e,t,n)=>{n.d(t,{G3:()=>u,Gy:()=>c,Ps:()=>s,fA:()=>p,xQ:()=>d});var i=n(782677),a=n(690108),l=n(756513),o=n(255655);function r(e,t,n){return{type:"UPDATE_PIN_REACTION_COUNT",payload:{increment:t,reactionType:n,pinId:e}}}function s(e,t){return r(e,!1,t)}function d(e,t){return r(e,!0,t)}const c=(e,t,n,r,s)=>d=>{const c={pin_id:e,user_id:r,reaction_type:t,reaction_pin_id:n,action_type:"reaction",client_tracking_parameters:s},u="ReactionsResource";return a.Z.create(u,c).callUpdate().then((e=>{const t=(0,i.Fv)(e.resource_response.data,o.Z[u]);d((0,l.XM)(u,c,e,t))}))},u=(e,t,n,r)=>s=>{const d={pin_id:e,user_id:n,reaction_pin_id:t,action_type:"unreaction",client_tracking_parameters:r},c="ReactionsResource";return a.Z.create(c,d).callDelete().then((e=>{const t=(0,i.Fv)(e.resource_response.data,o.Z[c]);s((0,l.XM)(c,d,e,t))}))};function p(e,t,n){return{type:"PIN_UPDATE_REACTION_COUNT",payload:{id:e,increment:t,reactionType:n}}}},260070:(e,t,n)=>{n.d(t,{Cp:()=>s,FK:()=>r,H5:()=>f,MI:()=>h,O0:()=>m,QZ:()=>o,W:()=>y,WF:()=>c,Wz:()=>b,a5:()=>u,dz:()=>_,e0:()=>p,e2:()=>l,iW:()=>v,n1:()=>a,rm:()=>d,xu:()=>g});var i=n(988014);const a=()=>({type:"DISMISS_UNAUTH_SAVE"}),l=()=>({type:"COMPLETE_UNAUTH_SAVE_ACTION"}),o=e=>({type:"SET_UNAUTH_SAVE_PIN_ID",payload:{unauthSavePinId:e}}),r=()=>({type:"HIDE_NAV_FOOTER"}),s=()=>({type:"SHOW_NAV_FOOTER"}),d=e=>({type:"SET_LOGIN_SIGNUP_FROM",payload:{from:e}}),c=()=>({type:"SHOW_REPIN_ANIMATION"}),u=()=>({type:"HIDE_REPIN_ANIMATION"}),p=e=>({type:"SET_NUM_SIGNUP_STEPS",payload:{steps:e}}),m=()=>({type:"SET_OWN_PROFILE_PINS_REFRESH"}),h=e=>({type:"SHOW_BIZ_NUX_HOMEFEED_LOADER",payload:e}),g=e=>({type:"SET_VIEWED_IMAGE",payload:{viewedImageSignature:e}}),_=e=>({type:"SET_VIEWED_SHARED_PINS",payload:{pins:e}}),y=()=>({type:"DISMISS_UNAUTH_APP_UPSELL"}),v=e=>e?{type:"LOGGED_OUT_USER_INFO_FOUND",payload:e}:{type:"LOGGED_OUT_USER_INFO_NOT_FOUND"},f=e=>({type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}),b=(e,t)=>{let n;return n=e?(0,i.bo)(e)?"today":(0,i.dr)(e)?"ideas":t&&(0,i.dZ)(e,t)?"own_section":t&&(0,i.J)(e,t)?"own_board":(0,i.OJ)(e)?"section":(0,i.am)(e)?"board":(0,i.L6)(e)?"closeup":(0,i.C$)(e)?"home":(0,i.cD)(e)?"profile":(0,i.En)(e)?"search":(0,i.$V)(e)?"topic":"":"",{type:"SET_LANDING_PAGE_TYPE",payload:n}}},427778:(e,t,n)=>{n.d(t,{KF:()=>c,ZN:()=>r,fv:()=>d,kE:()=>p,yA:()=>s});var i=n(690108),a=n(970588),l=n(446191);function o(e,t,n,a){return i.Z.create("UserFollowResource",{user_id:e,invite_code:a||void 0,aux_data:t?{pin_id:t}:void 0,client_tracking_params:n})}function r(e,t=null,n,i){return a=>{o(e,t,n,i).callCreate().catch((()=>a((0,l.P_)(e,!1)))),a((0,l.P_)(e,!0))}}function s(e,t=null,n,i){return async a=>{a((0,l.P_)(e,!0)),await o(e,t,n,i).callCreate().catch((t=>{throw a((0,l.P_)(e,!1)),t}))}}function d(e,t=null,n){return i=>{o(e,t,n).callDelete().catch((()=>i((0,l.P_)(e,!0)))),i((0,l.P_)(e,!1))}}function c(e,t=null,n){return async i=>{i((0,l.P_)(e,!1)),await o(e,t,n).callDelete().catch((t=>{throw i((0,l.P_)(e,!0)),t}))}}const u=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),p=e=>t=>{e.length>0&&((0,a.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch((()=>t(u(e,!1)))),t(u(e,!0)))}},446191:(e,t,n)=>{n.d(t,{Ge:()=>d,JS:()=>o,OF:()=>y,P_:()=>r,Q_:()=>p,b8:()=>m,eR:()=>_,h2:()=>c,h6:()=>u});var i=n(690108),a=n(970588),l=n(336436);function o(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}const r=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),s=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),d=({id:e,orbacSubjectId:t,blockSource:n,blockContext:a})=>l=>(l(s(e,!0)),i.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t,block_source:n,block_context:a}).callCreate().catch((()=>l(s(e,!1))))),c=e=>t=>(t(s(e,!1)),i.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch((()=>t(s(e,!0)))));function u(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}const p=(e,t)=>()=>i.Z.create("UserStateResource",{state:e,value:t}).callCreate(),m=(e,t,n)=>(i,o)=>{(0,a.Z)({url:"/v3/users/me/",method:"POST"}).then((()=>{n({event_type:48,object_id_str:o().session.userId}),e(),(0,l.Dm)()}),t)};const h=async(e,t,n)=>{const a=await i.Z.create("VIPResource",{upload_ids:[e]}).callGet();if(a.resource_response.data[e]){const i=a.resource_response.data[e],{status:l,signature:o}=i;if("processing"===l||"registered"===l)setTimeout((async()=>{h(e,t,n)}),5e3);else if("succeeded"===l){const e=((e,t="150x150")=>e&&`https://i.pinimg.com/${t}/${e.substring(0,2)}/${e.substring(2,4)}/${e.substring(4,6)}/${e}.jpg`||"")(o);t(e)}else n()}else n()},g=e=>new Promise(((t,n)=>{var a,l,o,r,s;a=e,l="pinimage",o=()=>{},r=e=>{t(e)},s=e=>{n(e)},(new FormData).append("img",a),i.Z.create("VIPResource",{type:l}).callCreate().then((e=>{if(e.resource_response.data){const{upload_id:t,upload_url:n,upload_parameters:i}=e.resource_response.data,l=new XMLHttpRequest;l.open("POST",n,!0),l.onload=()=>{(e=>e>=200&&e<400)(l.status)?(o(100),h(t,r,s)):s()},l.upload.onprogress=e=>{const t=Math.round(100*e.loaded/e.total);o(t)};const d=new FormData;for(const e in i)d.append(e,i[e]);d.append("file",a),l.send(d)}}),(()=>{s()}))})),_=e=>new Promise(((t,n)=>{"string"==typeof e?e.startsWith("data")&&g(function(e,t=512){const n=e.split(";"),i=n[0].split(":")[1],a=n[1].split(",")[1],l=atob(a),o=[];for(let r=0;r<l.length;r+=t){const e=l.slice(r,r+t),n=new Array(e.length);for(let t=0;t<e.length;t+=1)n[t]=e.charCodeAt(t);const i=new Uint8Array(n);o.push(i)}return new Blob(o,{type:i})}(e)).then((e=>t(e))):n("Invalid Image")})),y=e=>()=>(0,a.Z)({url:"/v3/register/exists/",data:{email:e}})},255655:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(791621);const a={AggregatedCommentResource:i.rm,AggregatedCommentFeedResource:i.LR,AggregatedCommentReplyResource:i.rm,AggregatedCommentReplyFeedResource:i.LR,AggregatedActivityFeedResource:i.LR,BestPinsFeedAltResource:i.LR,BoardArchiveResource:i.LR,BoardCollaboratorsResource:i.LR,BoardContentRecommendationResource:i.LR,BoardFeedResource:i.LR,BoardFollowingResource:i.LR,BoardInviteResource:i.sf,BoardInvitesResource:i.Ht,BoardlessPinsResource:i.LR,BoardPickerBoardsResource:{all_boards:i.LR,boards_shortlist:i.LR},BoardSectionEditResource:i._F,BoardSectionsRepinResource:i.LR,BoardSectionsResource:i.LR,BoardsFeedResource:i.LR,BoardResource:i.IY,BoardSectionResource:i._F,BoardSectionPinsResource:i.LR,BoardToolsFeedResource:i.LR,ContactRequestsResource:i.LR,ConversationsResource:i.LR,ConversationMessagesResource:i.dq,DidItCommentsResource:i.LR,DidItLikedByResource:i.Gn,DidItUserFeedResource:i.LR,ExploreArticleBlockPinResource:i.LR,ExploreArticleBlockSearchResource:i.LR,ExploreArticleBlockUserResource:i.LR,ExploreArticleBlockUserDidItDataResource:i.LR,FollowingFeedResource:i.LR,HolidaySpotlightRelatedFeedResource:i.LR,HolidaySpotlightResource:i.LR,InterestFollowingResource:i.LR,InterestResource:i.cC,MoreIdeasTabsBoardsResource:i.LR,NewsHubResource:i.LR,NewsHubDetailsResource:i.LR,NewsHubSummaryResource:i.t6,NuxInterestsResource:i.LR,NuxTopicToCreatorsResource:i.Gn,PinResource:i.Cj,PinCatalogResource:i.LR,PinsFromBrandResource:i.LR,ReactionsResource:i.fE,RelatedArticlesResource:i.LR,RelatedInterestsResource:i.LR,RelatedModulesResource:i.LR,RelatedPinFeedResource:i.LR,RelatedProductFeedResource:i.LR,RelatedStreamResource:i.LR,RepinResource:i.Cj,BaseSearchResource:{results:i.LR},SearchResource:i.LR,SectionToolsFeedResource:i.LR,ShareSuggestionsTypeaheadResource:{items:i.LR},ShoppingFeedModularizedResource:i.LR,StoryFeedResource:i.LR,StoryPinTaggedProductsResource:i.LR,SuggestedCreatorFollowsResource:i.Gn,TodayArticleFeedResource:i.LR,IdeasHubTodayArticlesResource:i.LR,TodayArticleResource:i.iF,TodayTabInterestFeedResource:i.LR,TodayTabResource:i.LR,TopicFeedResource:i.LR,UnifiedCommentsResource:i.LR,UserActivityPinsResource:i.LR,UserFollowingResource:i.LR,UserRecentActivityResource:i.LR,UserHomefeedResource:i.LR,UserPinsResource:i.LR,UserSettingsResource:i.EA,UserStoryPinsFeedResource:i.LR,UserResource:i.EA,VideosFeedResource:i.LR,VisualLiveSearchResource:{results:i.LR},VisualLiveSearchProductFeedResource:i.LR,VisualSearchFlashlightUnifiedResource:i.LR,SeoTier1CandidateResource:i.LR}},791621:(e,t,n)=>{n.d(t,{Cj:()=>d,EA:()=>l,Gn:()=>w,Ht:()=>S,IY:()=>s,LR:()=>I,_F:()=>p,cC:()=>f,dq:()=>h,fE:()=>u,iF:()=>v,rm:()=>o,sN:()=>T,sf:()=>b,t6:()=>P});var i=n(782677);const a=Object.freeze({aggregatedComment:"aggregatedComments",article:"articles",board:"boards",boardsection:"boardsections",contactrequest:"contactrequests",conversation:"conversations",conversationMessage:"conversationMessages",inbox:"inbox",notification:"notifications",pin:"pins",reaction:"reactions",story:"stories",todayArticle:"todayArticles",topic:"topics",triedit:"triedits",user:"users",invite:"collaboratorinvite"}),l=new i.fK.Entity(a.user),o=new i.fK.Entity(a.aggregatedComment,{user:l,tagged_users:[l]}),r=new i.fK.Entity(a.article),s=new i.fK.Entity(a.board),d=new i.fK.Entity(a.pin),c=new i.fK.Entity(a.reaction),u=new i.fK.Array(c),p=new i.fK.Entity(a.boardsection),m=new i.fK.Entity(a.conversationMessage,{sender:l,users:[l],board:s,pin:d,user:l}),h=new i.fK.Array(m),g=new i.fK.Entity(a.contactrequest),_=new i.fK.Entity(a.story),y=new i.fK.Entity(a.triedit),v=new i.fK.Entity(a.todayArticle,{article_creator_user:l,content_pin:d,content_pin_official_user:l,video_pin:d}),f=new i.fK.Entity(a.topic,{},{processStrategy:e=>({...e,slug:e.slug?e.slug:e.url_name?e.url_name.includes(":")?e.url_name.split(":")[1]:e.url_name:""})}),b=new i.fK.Entity(a.invite,{invited_by_user:l,invited_user:l,board:s},{idAttribute:e=>`${e.board.id}:${e.invited_user.id}`}),x=e=>{switch(e.type){case"aggregatedcomment":return"aggregatedComment";case"conversationMessage":return"conversationMessage";case"explorearticle":return"article";case"news":return"notification";case"interest":case"klp_featured_data":return"topic";case"userdiditdata":return"triedit";case"board_section":return"boardsection";case"todayarticle":return"todayArticle";default:return e.type}},k=new i.fK.Union({user:l,board:s,invite:b,pin:d,topic:f,triedit:y},x),P=new i.fK.Entity(a.notification,{content_items:[{content_object:k}],header_icon_objects:[k]}),S=new i.fK.Array(b),w=new i.fK.Array(l),T=new i.fK.Array(s),I=new i.fK.Array({aggregatedComment:o,article:r,board:s,boardsection:p,contactrequest:g,conversationMessage:m,notification:P,pin:d,story:_,todayArticle:v,topic:f,triedit:y,user:l},x,(e=>{switch(e.type){case"collaboratorinvite":return e.board.id;case"category":return"key";default:return"id"}}));_.define({objects:I})},274796:(e,t,n)=>{n.d(t,{Z:()=>i});const i={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregated-comment-replies",BOARDFEED:"boardfeed",BOARDLESS_PINS:"boardless-pins",BOARD_SECTIONS:"board-sections",BOARD_SECTION_PINS:"board-section-pins",STORY_PINS_FEED:"story-pins-feed",PROFILE_PINS_FEED:"profile-pins-feed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unified-comments",TRIED_IT_FEED:"trieditfeed"}},519218:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(702664),a=n(616550),l=n(883119),o=n(563962),r=n(788241),s=n(536042),d=n(245410),c=n(860438),u=n(98736),p=n(618569),m=n(549201),h=n(619277),g=n(785893);function _({alignIconLeft:e,bgColor:t,color:n,disableRedirect:_=!1,fallbackUrl:y,icon:v="arrow-back",onTouch:f,padding:b,placement:x,shouldUseFallbackUrl:k,size:P="lg",viewParameter:S,viewType:w,fallbackUrlForExp:T}){const I=(0,s.ZP)(),A=(0,m.HG)(),{checkExperiment:C}=(0,d.F)(),j=(0,a.useHistory)(),E=(0,a.useLocation)(),R=(0,i.useSelector)((e=>e.session.isAuthenticated)),L=(0,o.Z)(),D=(0,p.Z)(),F=!R&&T&&"/ideas"===y,{viewType:z,viewParameter:M}=(0,r.SU)(),[O,B]=w?[w,S]:[z,M],Z=()=>{const e=c.Z.getItem(h.pm);E.key||"/ideas"!==y?(0,u.My)(`pinner_conversion.back_button.${String(null==e?void 0:e[0].pageType)}`):(0,u.My)("pinner_conversion.back_button.no_history"),(0,u.My)(`web_back_button_click.${String(x)}.is_auth_${String(R)}`),D({action:"click",item:"back-button"}),O&&L({view_type:O,view_parameter:B,element:34,event_type:102}),f&&f(),_||((!E.key||E.state&&"redirect"===E.state.referrer||k)&&y?F?A&&C("web_unauth_backbutton_navigation").anyEnabled?(j.push(T||y),(0,u.My)("web.unauth.back_button.l1interest")):!A&&C("mweb_unauth_backbutton_navigation").anyEnabled?(j.push(T||y),(0,u.My)("mweb.unauth.back_button.l1interest")):j.push(y):j.push(y):E.pathname.includes("/password/reset/")&&E.search&&E.search.includes("?nativeShouldDismiss=true")?j.push("/login/?dismissWebview=true"):j.goBack())};return(0,g.jsx)(l.xu,{"data-test-id":"back-button",children:e?(0,g.jsx)(l.xu,{display:"flex",width:48,height:48,alignItems:"center",marginStart:"cancel"===v?-1:-2,children:(0,g.jsx)(l.hU,{accessibilityLabel:I._('Back', 'navigation button', 'navigation button'),bgColor:t,iconColor:n||t&&!["white","lightGray","transparent"].includes(t)?n:"gray",icon:v,onClick:Z,padding:"auto"!==b?b:2,size:P})}):(0,g.jsx)(l.hU,{accessibilityLabel:I._('Back', 'navigation button', 'navigation button'),bgColor:t,iconColor:n||t&&!["white","lightGray","transparent"].includes(t)?n:"gray",icon:v,onClick:Z,padding:"auto"!==b?b:2,size:P})})}},648609:(e,t,n)=>{n.d(t,{A:()=>i});const i=({hasRichMetadata:e,hasRichMetadataProducts:t,hasRichMetadataArticle:n,hasRichMetadataRecipe:i})=>e?t?144:n?141:i?145:139:140},648575:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(690108),a=n(994405),l=n(266732),o=n(648609);function r({checkExperiment:e,isNativeAppInstalledContext:t,history:n,i18n:r,logContextEvent:s,onSuccess:d,onUndo:c,originalPinId:u,pinId:p,trackingParams:m,disableRepinAnimation:h,showNewUserSavetoProfileAnimation:g,showRepinConfirmation:_,historyPush:y,savePinId:v}){return(f,b)=>{const{pins:x,session:k}=b(),{userId:P}=k,S=x[p],w={name:r._('Quick Saves', 'quickSave.boardName', 'Name of the auto-created board in quicksave experience.'),layout:"quick_saves",protected:!1,return_existing:!0,user_id:P};return i.Z.create("BoardResource",w).callCreate().then((i=>{var b,x,P,w;const T=i.resource_response.data;(0,a.ib)({checkExperiment:e,isAuthMweb:k.isAuthenticated&&(k.isMobile||k.isTablet)});return new l.Z({boardId:T.id,checkExperiment:e,isNativeAppInstalledContext:t,dispatch:f,isQuickSave:!0,history:n,i18n:r,onSuccess:d,onUndo:c,originalPinId:u,pinId:p,section:void 0,showNewUserSavetoProfileAnimation:g,showRepinToasts:e=>_?_(e,h):void 0,trackingParams:m,userId:k.userId,historyPush:y,savePinId:v,pinData:{trackingParams:S?S.tracking_params:void 0,viewParameter:S?(0,o.A)({hasRichMetadata:!!S.rich_metadata,hasRichMetadataProducts:!(null===(b=S.rich_metadata)||void 0===b||!b.products),hasRichMetadataArticle:!(null===(x=S.rich_metadata)||void 0===x||!x.article),hasRichMetadataRecipe:!(null===(P=S.rich_metadata)||void 0===P||!P.recipe)}):void 0,pinnedToBoardId:S?null===(w=S.pinned_to_board)||void 0===w?void 0:w.id:void 0}}).processRepin(s)}))}}},682451:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(550140),a=n(844689),l=n(407264),o=n(540459),r=n(785893);const s=({boardId:e,boardSectionId:t,clientTrackingParams:n,dispatch:s,i18n:d,newPinId:c,onError:u,onSuccess:p,originalPinId:m,shouldRefresh:h=!1,showToast:g,sourcePinId:_,undoSavedPin:y})=>s((0,o.q)({pinId:c,boardId:e,boardSectionId:t,clientTrackingParams:n})).then((()=>{m&&y(m),y(_),h&&(t&&s((0,l.A4)(t)),e&&s((0,a.u)(e))),g((({hideToast:e})=>(0,r.jsx)(i.ZP,{text:d._('Pin removed!', 'Utils.Unsave.Success', 'User removed their pin'),onHide:e}))),p&&p()})).catch((()=>{g((({hideToast:e})=>(0,r.jsx)(i.ZP,{type:"error",text:d._('Sorry! There was an error removing your Pin.', 'Utils.Unsave.Error', 'Error when user tried to remove pin'),onHide:e}))),null==u||u()}))},410834:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(702664),a=n(616550),l=n(563962),o=n(536042),r=n(675689),s=n(618569),d=n(493876),c=n(230910),u=n(772356),p=n(624524),m=n(471819),h=n(712968);function g({embedSrc:e,embedType:t,hasRichMetadata:n,hasRichMetadataProducts:g,hasRichMetadataArticle:_,hasRichMetadataRecipe:y,imagesUrls:v,isFromUnauthContextMenu:f,isStoryPin:b,pinId:x,attributionLabel:k}){var P;const S=(0,l.Z)(),w=(0,s.Z)(),{isAuthenticated:T,userId:I}=(0,i.useSelector)((({session:e})=>e)),A=(0,m.Z)(),C=(0,o.ZP)(),j=(0,h.mN)()(I),E=(0,a.useLocation)();f=null!==(P=f)&&void 0!==P&&P;const R=(0,d.Z)({embedSrc:e,embedType:t,imagesUrls:v,pinId:x,isFromUnauthContextMenu:f,attributionLabel:k});return e=>{(0,d.E)({action:"save_button_click",isAuthenticated:T}),f||S({view_type:3,view_parameter:x?(0,c.CK)({hasRichMetadata:n,hasRichMetadataProducts:g,hasRichMetadataArticle:_,hasRichMetadataRecipe:y}):67,element:48,event_type:102,aux_data:{...T?{login_state:(0,u.xT)(j)?r.Z.LIMITED:r.Z.DEFAULT}:{}}}),b&&S({component:229,element:10943,event_type:102,view_type:3,view_parameter:157}),T||(e.preventDefault(),R&&R.onSave(),w({action:"click",item:"save-button"})),A({fn:()=>{},modalHeader:(0,p.Bx)(C),nextLocation:(0,p.Qj)(E)})(e)}}},467037:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(702664),a=n(493876),l=n(252315);function o({embedSrc:e,embedType:t,imagesUrls:n,pinId:o,pinnerId:r}){var s;const{isAuthenticated:d,userId:c}=(0,i.useSelector)((({session:e})=>e)),u=(0,l.M)(),p=(0,a.Z)({embedSrc:e,embedType:t,imagesUrls:n,pinId:o});return!!o&&(d?!!(r===c||null!=u&&u.isSaved(o)):null!==(s=null==p?void 0:p.isSaved)&&void 0!==s&&s)}},133835:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(702664),a=n(616550),l=n(536042),o=n(63262),r=n(493876),s=n(348597),d=n(471819),c=n(682451),u=n(252315);function p({boardId:e,embedSrc:t,embedType:n,imagesUrls:p,pinId:m,pinnerId:h,pinnedToBoardId:g,pinSectionId:_,trackingParams:y,showSingleToast:v,onError:f,shouldRefresh:b=!0}){const x=(0,i.useDispatch)(),k=(0,d.Z)(),P=(0,o.F9)()[v?"showOneToast":"showToast"],S=(0,l.ZP)(),w=(0,r.Z)({embedSrc:t,embedType:n,imagesUrls:p,pinId:m}),T=(0,a.useHistory)(),I=(0,a.useLocation)(),A=(0,u.M)(),{isAuthenticated:C,userId:j}=(0,i.useSelector)((({session:e})=>e)),E=(0,s.Z)(I.state?I.state.trackingParams:"",y),R=k({fn:()=>{var t;if(!m||!e||!h)return void(null==f||f());const n=h===j,i=!n&&(null==A?void 0:A.getSavedPinId(m))||m,a=!n&&g?g:e,l=n?T.goBack():void 0;(0,c.Z)({boardId:a,boardSectionId:null!=_?_:"",clientTrackingParams:E,dispatch:x,i18n:S,newPinId:i,onError:f,onSuccess:l,shouldRefresh:b,showToast:P,sourcePinId:m,undoSavedPin:null!==(t=null==A?void 0:A.unsave)&&void 0!==t?t:()=>{}})}});return C?R:(null==w?void 0:w.onUnsave)||(()=>{})}},252315:(e,t,n)=>{n.d(t,{M:()=>r,Q:()=>s});var i=n(667294),a=n(583592),l=n(785893);const{Provider:o,useMaybeHook:r}=(0,a.Z)("RepinContext");function s({children:e}){const[t,n]=(0,i.useState)(Object.freeze({})),a=(0,i.useMemo)((()=>({getSavedPinId:e=>t[e],isSaved:e=>!!t[e],save:(e,t)=>n((n=>({...n,[e]:t}))),unsave:e=>n((t=>({...t,[e]:null})))})),[t]);return(0,l.jsx)(o,{value:a,children:e})}},832400:(e,t,n)=>{n.d(t,{H:()=>l,I:()=>a});var i=n(583592);const{Provider:a,useHook:l}=(0,i.Z)("ScreenSize")},357565:(e,t,n)=>{n.r(t),n.d(t,{default:()=>x});var i=n(667294),a=n(616550),l=n(883119),o=n(40660),r=n(222443),s=n(388011),d=n(550140),c=n(536042),u=n(988014),p=n(245410),m=n(670640),h=n(204125),g=n(785893);function _({size:e,iconColor:t,backgroundColor:n,disabled:i,onClick:a}){const o=(0,c.ZP)(),r=48===e?"lg":"xl";return(0,g.jsx)(l.hU,{accessibilityLabel:o._('Copy Link', 'shareMenu.icon.accessibilityLabel.copy', 'button to let users copy link directly'),bgColor:n,icon:"link",iconColor:t||n&&!["white","lightGray","transparent"].includes(n)?t:"gray",size:r,disabled:i,onClick:a})}var y=n(63262),v=n(651849),f=n(549739);const b=3e3;function x({backgroundColor:e,iconColor:t,iconSize:n,iconWrapperWidth:x,isCloseupActionBar:k,marginEnd:P,onClick:S,sharedObject:w,spaceBelowIcon:T,viewType:I,viewParameter:A}){const C=(0,c.ZP)(),{logContextEvent:j}=(0,s.v)(),{checkExperiment:E}=(0,p.F)(),R=E("web_share_menu_logging").anyEnabled,L=(0,y.F9)(),[D,F]=(0,i.useState)(""),[z,M]=(0,i.useState)(!1),[O,B]=(0,i.useState)(!1),Z=(0,a.useLocation)(),N=(0,r.Z)(),U=(0,m.Z)(),K=C._('Link copied!', 'shareSheet.socialBar.copyLinkButton.LinkCopied', 'Notification link was copied to clipboard'),V=e=>{k?navigator.clipboard.writeText(e).then((()=>{var e;e=C._('Copied link to your clipboard to share', 'web.unauth.pinbar.copylink', 'Message to indicate link has been copied'),L.showToast((({hideToast:t})=>(0,g.jsx)(l.xu,{top:!0,children:(0,g.jsx)(d.ZP,{duration:b,onHide:t,text:e})})))})):navigator.clipboard.writeText(e).then((()=>{B(!0),setTimeout((()=>{B(!1)}),b)}))},H=async()=>{if(D)return void V(D);M(!0);const e=(e=>{let t;if("pin"===w.type&&w.id){const e={shouldTrackForPrevLocation:!0};t=N(w.id,e)}return{invite_category:3,invite_channel:e,object_type:w.type,object_id:w.id,name:w.name,description:w.description||"",path:w.url,picture:w.imageUrl,client_tracking_params:t}})(12);U.createShareInviteData(e).then((t=>{const{invite_url:n}=t;M(!1),n&&(F(n),U.logShareInvite(e,t),V(n))}))},G=()=>{if(H(),R){const e=h.yF[w.type];e||o.Z.increment("social.web.copyLinkButton.sharedObject.type",void 0,{type:w.type}),k&&j({event_type:101,component:14147,element:13103,object_id_str:w.id,view_type:I,view_parameter:A,aux_data:e?{invite_object:e}:void 0}),S&&S()}};return(0,u.am)(Z)&&k&&E("web_copy_link_btn_replace").anyEnabled?(0,g.jsx)(l.xu,{marginStart:1,children:(0,g.jsx)(l.zx,{accessibilityLabel:C._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard'),text:C._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard'),onClick:()=>G(),size:"lg",color:"gray",fullWidth:!0})}):(0,g.jsxs)(f.Z,{isCloseupActionBar:!0,width:x||n,marginEnd:P||!1,children:[(0,g.jsx)(l.xu,{alignItems:k?"center":"stretch",display:k?"flex":"block",marginBottom:T,width:k?"100%":"auto",children:(0,g.jsx)(l.kC,{alignItems:"center",direction:"column",justifyContent:"center",width:n,children:(0,g.jsx)(_,{backgroundColor:e,iconColor:t,size:n,onClick:G,disabled:z})})}),!k&&(0,g.jsx)(v.Z,{text:O?K:C._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard')})]})}},541361:(e,t,n)=>{n.d(t,{Z:()=>z});var i=n(667294),a=n(883119),l=n(40660),o=n(222443),r=n(388011),s=n(536042),d=n(49387),c=n(245410),u=n(282802),p=n(670640),m=n(204125),h=n(512403),g=n(269758),_=n(894637),y=n(757551),v=n(343226),f=n(320634),b=n(63262),x=n(17330),k=n(802071),P=n(377553),S=n(357565),w=n(785893);function T({size:e=48}){return(0,w.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,w.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,w.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,w.jsx)("path",{d:"M39 19.5c0 1.381-1.119 2.5-2.5 2.5S34 20.881 34 19.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5ZM18.5 28c0-.69-.56-1.25-1.25-1.25S16 27.31 16 28s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25ZM26.75 38.75c0-.69.56-1.25 1.25-1.25s1.25.56 1.25 1.25S28.69 40 28 40s-1.25-.56-1.25-1.25Z",fill:"#E60023"}),(0,w.jsx)("path",{d:"M29.25 17.25c0 .69-.56 1.25-1.25 1.25s-1.25-.56-1.25-1.25S27.31 16 28 16s1.25.56 1.25 1.25ZM17 36.5c0-1.381 1.119-2.5 2.5-2.5s2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5-2.5-1.119-2.5-2.5ZM38.75 26.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25S40 28.69 40 28s-.56-1.25-1.25-1.25Z",fill:"#FFD63F"}),(0,w.jsx)("path",{d:"M19.5 22c1.381 0 2.5-1.119 2.5-2.5S20.881 17 19.5 17 17 18.119 17 19.5s1.119 2.5 2.5 2.5ZM36.5 34c-1.381 0-2.5 1.119-2.5 2.5s1.119 2.5 2.5 2.5 2.5-1.119 2.5-2.5-1.119-2.5-2.5-2.5Z",fill:"#46CC88"}),(0,w.jsx)("path",{d:"M28 21c-3.866 0-7 3.134-7 7s3.134 7 7 7 7-3.134 7-7-3.134-7-7-7Z",fill:"#3869FF"})]})}var I=n(646827),A=n(651849),C=n(549739);function j({iconSize:e,iconWrapperWidth:t,marginBottom:n,marginEnd:i,onCreatePincodeClick:l,sharedObject:o}){const r=(0,s.ZP)(),d=(0,k.Z)();return l&&[I.d.BOARD,I.d.PINNER,I.d.USER].includes(o.type)&&d.isAuth&&(o.id===d.id||d.isEmployee)?(0,w.jsxs)(C.Z,{width:t,marginEnd:i,children:[(0,w.jsx)(a.xu,{marginBottom:n,children:(0,w.jsx)(a.iP,{fullWidth:!1,onTap:l,children:(0,w.jsx)(T,{size:e})})}),(0,w.jsx)(A.Z,{text:r._('Pincode', 'Share via pincode', 'Share via pincode')})]},"pincode"):null}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const R={backgroundColor:"#ffffff",border:"none",padding:0},L=new Set(["JP","TW","TH"]),D=(e,t)=>{(0,d.default)((t=>{t&&(t.getUserID()?e():t.login((()=>{e()})))}),t)};class F extends i.Component{constructor(...e){super(...e),E(this,"state",{whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),E(this,"logShareInviteLink",(()=>{const{copyLinkLogged:e,inviteData:t}=this.state,n=this.getShareOptions(12);e||(this.props.ShareInvite.logShareInvite(n,t),this.setState({copyLinkLogged:!0}))}))}componentDidMount(){this.getWhatsAppURL()}getShareOptions(e){let t;const{sharedObject:n,getClientTrackingParams:i}=this.props;if("pin"===n.type&&n.id){const e={shouldTrackForPrevLocation:!0};t=i(n.id,e)}return{invite_category:3,invite_channel:e,object_type:n.type,object_id:n.id,name:n.name,description:n.description||"",path:n.url,picture:n.imageUrl,client_tracking_params:t}}getWhatsAppURL(){const e=this.getShareOptions(10);this.props.ShareInvite.createShareInviteData(e).then((e=>{const t=`${e.title}\n${e.invite_url}`;if(t){const n=encodeURIComponent(t);this.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+n})}else this.setState({whatsappURL:"https://web.whatsapp.com/send?text="+(0,x.Z)(this.props.sharedObject.url)})}))}checkWritePermissions(){return!!this.props.viewer.isWriteBanned}handleSocialShareClick(e,t){if(this.checkWritePermissions())return;const{onCreatePincodeClick:n,onExternalSend:i,logContextEvent:a,viewType:o,viewParameter:r,inShareMenuLoggingExp:s,sharedObject:d,component:c}=this.props;let u=s?m.cc[t]:46;"facebook"===e||5===t?(this.openFacebookDialog(),s||(u=257)):"twitter"===e||9===t?(this.openTwitterDialog(),s||(u=256)):"messenger"===e||6===t?(this.openFbMessengerDialog(),s||(u=950)):"whatsapp"===e||10===t?(this.openWhatsAppDialog(),s||(u=951)):"pincode"===e||16===t?n&&n():"copylink"===e||12===t?(this.openShareUrlLink(),s||(u=100)):"email"===e||1===t?(this.openEmailDialog(),s||(u=258)):"line"!==e&&8!==t||(this.openLineDialog(),s||(u=952)),i&&i();const p=m.yF[d.type];p||l.Z.increment("social.web.legoShareSocialBar.sharedObject.type",void 0,{type:d.type}),a({event_type:101,component:s?14121:153,element:u,object_id_str:s?d.id:void 0,view_type:s?o:void 0,view_parameter:s?r:void 0,aux_data:s?{invite_object:p}:void 0});const h={board:m.LO,pinner:m.Pu,user:m.Pu,pin:m.dB,did_it:m.dB,today_article:m.dB,follow_invite:m.Pu};a({event_type:10399,component:c,object_id_str:d.id||void 0,view_type:o,view_parameter:r,aux_data:{invite_object:p},element:h[d.type][t]})}openEmailDialog(){this.props.onEmailIconClick()}openFacebookDialog(){const{unauthId:e,viewer:t}=this.props;D((()=>{this.props.ShareInvite.shareFacebookInvite({options:this.getShareOptions(5),unauthId:e,viewer:t})}),t)}openFbMessengerDialog(){const{unauthId:e,viewer:t}=this.props;D((()=>{this.props.ShareInvite.shareFbMessengerInvite({options:this.getShareOptions(6),unauthId:e,viewer:t})}),t)}openWhatsAppDialog(){const e=this.getShareOptions(10);this.state.whatsAppLogged||(this.props.ShareInvite.logShareInvite(e,this.state.whatsappInviteData),this.setState({whatsAppLogged:!0}))}openShareUrlLink(){this.logShareInviteLink()}openTwitterDialog(){this.props.ShareInvite.shareTwitterInvite(this.getShareOptions(9))}openLineDialog(){this.props.ShareInvite.shareLineInvite(this.getShareOptions(8))}renderEmail(){const e=P.iB,t=P.iB+P.hN,n=P.vt;return(0,w.jsxs)(C.Z,{width:t,marginEnd:!1,children:[(0,w.jsx)(a.xu,{display:"inlineBlock",marginBottom:n,"data-test-id":"email-share-button-auth",children:(0,w.jsx)("button",{"aria-label":this.props.i18n._('Share on Email', 'sharesheet.shareSocialBar.ShareEmail', 'Button that will share via Email'),onClick:()=>this.handleSocialShareClick("email",1),style:R,children:(0,w.jsx)(h.Z,{size:e})})}),(0,w.jsx)(A.Z,{text:this.props.i18n._('Email', 'Share via email', 'Share via email')})]},"email")}renderShareOptions(){const{i18n:e,onCreatePincodeClick:t,sharedObject:n,showLineShare:l,showMessengerShare:o,showEmailOption:r,viewType:s,viewParameter:d}=this.props,c=P.iB,u=P.iB+P.hN,p=P.vt;return(0,w.jsx)(i.Fragment,{children:(0,w.jsxs)(a.kC,{justifyContent:"start",wrap:!0,children:[l&&(0,w.jsxs)(C.Z,{width:u,marginEnd:!1,children:[(0,w.jsx)(a.xu,{marginBottom:p,children:(0,w.jsx)("button",{"aria-label":e._('Share on LINE', 'sharesheet.shareSocialBar.ShareLine', 'Button that will share via Line'),onClick:()=>this.handleSocialShareClick("line",8),style:R,children:(0,w.jsx)(_.Z,{size:c})})}),(0,w.jsx)(A.Z,{text:e._('LINE', 'sharesheet.shareSocialBar.ShareLineLabel', 'Line button label')})]}),(0,w.jsxs)(C.Z,{width:u,marginEnd:!1,children:[(0,w.jsx)(a.xu,{marginBottom:p,"data-test-id":"whatsapp-share-icon-auth",children:(0,w.jsx)("button",{"aria-label":e._('Share on WhatsApp', 'sharesheet.shareSocialBar.ShareWhatsapp', 'Button that will share via WhatsApp'),onClick:()=>this.handleSocialShareClick("whatsapp",10),style:R,tabIndex:"-1",children:(0,w.jsx)(a.iP,{rounding:"circle",role:"link",href:this.state.whatsappURL,target:"blank",children:(0,w.jsx)(f.Z,{size:c})})})}),(0,w.jsx)(A.Z,{text:e._('WhatsApp', 'sharesheet.shareSocialBar.ShareWhatsappLabel', 'WhatsApp button label')})]}),o&&(0,w.jsxs)(C.Z,{width:u,marginEnd:!1,children:[(0,w.jsx)(a.xu,{marginBottom:p,"data-test-id":"messenger-share-icon-auth",children:(0,w.jsx)("button",{"aria-label":e._('Share on Messenger', 'sharesheet.shareSocialBar.ShareMessenger', 'Button that will share via Messenger'),onClick:()=>this.handleSocialShareClick("messenger",6),style:R,children:(0,w.jsx)(y.Z,{size:c})})}),(0,w.jsx)(A.Z,{text:e._('Messenger', 'sharesheet.shareSocialBar.ShareMessengerLabel', 'Messenger button label')})]}),(0,w.jsxs)(C.Z,{width:u,marginEnd:!1,children:[(0,w.jsx)(a.xu,{marginBottom:p,"data-test-id":"facebook-share-icon-auth",children:(0,w.jsx)("button",{"aria-label":e._('Share on Facebook', 'sharesheet.shareSocialBar.ShareFacebook', 'Button that will share via Facebook'),onClick:()=>this.handleSocialShareClick("facebook",5),style:R,children:(0,w.jsx)(g.Z,{size:c})})}),(0,w.jsx)(A.Z,{text:e._('Facebook', 'sharesheet.shareSocialBar.ShareFacebookLabel', 'Facebook button label')})]}),(0,w.jsxs)(C.Z,{width:u,marginEnd:!1,children:[(0,w.jsx)(a.xu,{marginBottom:p,"data-test-id":"twitter-share-icon-auth",children:(0,w.jsx)("button",{"aria-label":e._('Share on Twitter', 'sharesheet.shareSocialBar.ShareTwitter', 'Button that will share via Twitter'),onClick:()=>this.handleSocialShareClick("twitter",9),style:R,"data-test-id":"twitter-share-icon",children:(0,w.jsx)(v.Z,{size:c})})}),(0,w.jsx)(A.Z,{text:e._('X', 'sharesheet.shareSocialBar.ShareTwitterLabel', 'Twitter button label')})]}),(0,w.jsxs)(i.Fragment,{children:[(0,w.jsx)(j,{iconSize:c,iconWrapperWidth:u,marginBottom:p,marginEnd:!1,onCreatePincodeClick:t,sharedObject:n}),(0,w.jsx)(a.xu,{"data-test-id":"copy-link-share-icon-auth",children:(0,w.jsx)(S.default,{sharedObject:n,backgroundColor:"lightGray",iconColor:"darkGray",iconSize:c,iconWrapperWidth:u,onClick:()=>this.handleSocialShareClick("copylink",12),isCloseupActionBar:!1,spaceBelowIcon:p,viewType:s,viewParameter:d},"copylink")}),r&&this.renderEmail()]})]})})}render(){const{paddingX:e,hideHeader:t}=this.props;return(0,w.jsxs)(a.xu,{paddingX:e,"data-test-id":"lego-share-social-bar-auth",children:[!t&&(0,w.jsx)(a.kC,{alignContent:"center",alignItems:"center",height:P.dN,justifyContent:"center",children:(0,w.jsx)(a.xv,{size:P.Kt,weight:"bold",children:this.props.i18n._('Share', 'Sharesheet.ShareSocialBar', 'Externally share a Pin/Board/profile')})}),(0,w.jsx)(a.kC,{alignContent:"start",alignItems:"stretch",justifyContent:"start",minHeight:P.$N,children:this.renderShareOptions()})]})}}function z(e){const{logContextEvent:t}=(0,r.v)(),{checkExperiment:n}=(0,c.F)(),i=(0,s.ZP)(),a=(0,k.Z)(),l=a.isAuth&&L.has(a.country),d=n("web_messenger_share_channel").anyEnabled,m=(0,u.B)(),h=n("web_share_menu_logging").anyEnabled,g=(0,p.Z)();return(0,w.jsx)(F,{...e,toastManagerContext:(0,b.F9)(),viewer:(0,k.Z)(),showLineShare:l,showMessengerShare:d,i18n:i,logContextEvent:t,unauthId:m.unauthId,inShareMenuLoggingExp:h,getClientTrackingParams:(0,o.Z)(),ShareInvite:g})}},646827:(e,t,n)=>{n.d(t,{d:()=>i});const i={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article",FOLLOW_INVITE:"follow_invite"}},105453:(e,t,n)=>{n.r(t),n.d(t,{default:()=>V});var i=n(667294),a=n(883119),l=n(40660),o=n(388011),r=n(788241),s=n(245410),d=n(204125),c=n(589665),u=n(690108),p=n(550140),m=n(536042),h=n(63262),g=n(802071),_=n(329689),y=n(384722),v=n(336331),f=n(510525),b=n(377553),x=n(819079),k=n(870243),P=n(630089),S=n(785893);function w({idx:e,item:t,onSendMessage:n,onViewConversation:l,sentHistory:s,objectAttachment:d,component:u}){var p;const h=(0,m.ZP)(),{logContextEvent:g}=(0,o.v)(),[_,y]=(0,i.useState)(!1),{viewType:v,viewParameter:f}=(0,r.SU)(),x=t.id||"string"==typeof t.email&&t.email||"",w=s[x]===b.pO,T=Object.prototype.hasOwnProperty.call(s,x)&&!w,I=null!==(p=s[x])&&void 0!==p?p:"";(0,i.useEffect)((()=>{w&&y(!1)}),[w]);let A="";const{full_name:C,email:j}=t;"string"!=typeof C||C.match(/^\s*$/)?"string"!=typeof j||j.match(/^\s*$/)||(A=j):A=C;let E,R,L="";T?L=h._('View chat', 'shareSheet.ContactItem.viewChat', 'View current chat'):_&&(L=h._('Sent', 'shareSheet.ContactItem.sent', 'Item has been sent to contact')),"pinner"===d.type||"user"===d.type?(E=13530,R=13532):"board"===d.type?(E=13527,R=13529):(E=13524,R=13526);return(0,S.jsx)(a.xu,{"data-test-id":"sharesheet-contact-item",width:b.iB+b.hN,marginBottom:5,children:(0,S.jsx)(a.iP,{onTap:T?()=>{g({view_type:v,view_parameter:f,event_type:10399,component:u,element:R}),l(I)}:()=>{g({event_type:101,component:13029,element:1039,aux_data:{result_index:e+1,rs:t.debug_reason.reason}}),g({view_type:v,view_parameter:f,event_type:10399,component:u,element:E,aux_data:{result_index:e+1,rs:t.debug_reason.reason}}),y(!0),n(t)},children:(0,S.jsxs)(a.kC,{direction:"column",alignItems:"center",children:[(0,S.jsxs)(a.xu,{alignItems:"center","data-test-id":_?"sharesheet-viewchat-link":"sharesheet-contact-item-button",display:"flex",height:b.iB,justifyContent:"center",marginBottom:b.vt,width:b.iB,children:[_&&(0,S.jsx)(a.xu,{alignItems:"center",color:"transparentDarkGray","data-test-id":"sharesheet-contact-item-sent-icon",display:"flex",height:b.iB,justifyContent:"center",position:"absolute",rounding:"circle",width:b.iB,zIndex:new a.Ry(c.fe),children:(0,S.jsx)(a.JO,{accessibilityLabel:(0,P.Wc)(h._('Sent to {{recipientName}}', 'shareSheet.ContactItem.sentIcon.accessibilityLabel', 'Accessibility label for sent icon over user avatar, recipientName: message recipient'),{recipientName:A}),icon:"check",color:"light",size:24})}),(0,S.jsx)(k.qE,{size:"fit",src:t.image_large_url,name:A})]}),(0,S.jsxs)(a.xu,{"data-test-id":"sharesheet-contact-item-label",width:"100%",paddingX:1,children:[(0,S.jsx)(a.xv,{lineClamp:1,size:"100",align:"center",children:A}),(0,S.jsx)(a.xv,{color:"subtle",size:"100",align:"center",children:(0,S.jsx)(a.xu,{"data-test-id":"contact-send-status",children:L})})]})]})})})}var T=n(881610);function I(e){var t;const{logContextEvent:n}=(0,o.v)(),l=(0,m.ZP)(),{onHide:s,onSendMessage:d,onShowImportContacts:c,objectAttachment:u,sentHistory:p}=e,{isLoaded:h}=(0,x.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default",hide_group_conversations:!0},noCache:!0}),{shareSuggestions:g}=(0,T.E)(),_=(null===(t=g[""])||void 0===t?void 0:t.slice(0,b.Qj))||[],y=_.length>0,{viewType:v,viewParameter:k}=(0,r.SU)();(0,i.useEffect)((()=>{if(h){n({event_type:y?7511:7512,component:56,view_type:70,view_parameter:256})}}),[y,n,h]);const{dropdownOpen:P,conversationOpen:I,newMessageOpen:A}=(0,f.Z5)(),C=e=>{I(e),P(),s()},j=_.map(((t,n)=>{const i=`${t.id||t.email||n}`,a={item:t,idx:n,onSendMessage:d,onViewConversation:C,sentHistory:p,objectAttachment:u},{component:l}=e;return(0,S.jsx)(w,{...a,component:l},i)})),E=!y&&!h;return(0,S.jsxs)(a.kC,{direction:"column",children:[(0,S.jsx)(a.kC,{alignItems:"center",height:b.dN,justifyContent:"center",children:(0,S.jsx)(a.xv,{align:"center",size:b.Kt,weight:"bold",children:l._('Send on Pinterest', 'ContactsSuggestions.Header.text', 'Header for contact suggestion section of the share menu')})}),(0,S.jsx)(a.kC,{flex:"none",minHeight:b.$N,justifyContent:E?"center":void 0,children:E?(0,S.jsx)(a.xu,{paddingY:2,children:(0,S.jsx)(a.$j,{accessibilityLabel:l._('Loading Conversation Messages', 'SendObject.contactList.spinner', 'Spinner that indicates then the contact list is being loaded'),show:!0})}):(0,S.jsxs)(a.kC,{wrap:!0,children:[(0,S.jsxs)(a.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:b.iB+b.hN,children:[(0,S.jsx)(a.xu,{height:b.iB,marginBottom:b.vt,width:b.iB,"data-test-id":"search-for-users-button",children:(0,S.jsx)(a.hU,{accessibilityLabel:l._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"search",iconColor:"darkGray",onClick:()=>{e.onSearchClick&&e.onSearchClick();const{component:t}=e;let i;i="pinner"===u.type||"user"===u.type?13531:"board"===u.type?13528:13525,n({view_type:v,view_parameter:k,event_type:10399,component:t,element:i}),A(u),P(),s()},size:"lg"})}),(0,S.jsx)(a.xv,{lineClamp:1,size:"100",children:l._('Search', 'ContactsSuggestions.SearchOption.text', 'Label for search icon in Contacts Suggestions list')})]}),y?j:(0,S.jsxs)(a.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:b.iB+b.hN,children:[(0,S.jsx)(a.xu,{height:b.iB,marginBottom:b.vt,width:b.iB,"data-test-id":"import-contacts",children:(0,S.jsx)(a.hU,{accessibilityLabel:l._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"people",iconColor:"darkGray",onClick:c,size:"lg"})}),(0,S.jsx)(a.xv,{lineClamp:1,size:"100",children:l._('Import', 'ContactsSuggestions.ImportOption.text', 'Label for import contacts icon in Contacts Suggestions list')})]})]})})]})}function A(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridProductDetailPage":case"ShoppingGridShippedMetadata":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;default:return e}}var C=n(614481);n(646827);function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class E extends i.Component{constructor(...e){super(...e),j(this,"state",{textValue:this.props.initialTextValue||"",emailValue:""}),j(this,"handleSendEmail",((e,t)=>{if(e){const n={type:"email_share_suggestion",id:"",email:e,debug_reason:{reason:"",readable_reason:""}};this.props.onSendMessage(n,t)}})),j(this,"handleTextValueChange",(({value:e})=>{this.setState({textValue:e})})),j(this,"handleEmailValueChange",(({value:e})=>{this.setState({emailValue:e})}))}renderCloseButton(){const{i18n:e,onCancelDraft:t}=this.props;return(0,S.jsx)(a.hU,{accessibilityLabel:e._('Cancel share to user', 'accessibility label for close button', 'accessibility label for close button'),icon:"arrow-back",onClick:t,size:"sm",iconColor:"gray"})}render(){const{width:e}=this.props;return(0,S.jsxs)(a.xu,{display:"flex",direction:"column",column:12,paddingX:4,paddingY:2,width:e,color:"default",children:[(0,S.jsxs)(a.xu,{display:"flex",alignItems:"center",paddingY:4,children:[this.renderCloseButton(),(0,S.jsx)(a.xu,{flex:"grow",marginEnd:8,children:(0,S.jsx)(a.xv,{align:"center",weight:"bold",children:this.props.i18n._('Send to', 'shareSheet.SendToEmail.label', 'Send to label')})})]}),(0,S.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,S.jsx)(a.xu,{paddingY:1,marginBottom:4,children:(0,S.jsx)(a.Kx,{id:"email",onChange:this.handleEmailValueChange,placeholder:this.props.i18n._('Enter email address', 'Email address to send to', 'Email address to send to'),value:this.state.emailValue||"",rows:1})}),(0,S.jsx)(a.Kx,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._('Add a message', 'shareSheet.SendToEmail.textareaPlaceholder', 'Placeholder that tells user this is where they can add a messaage'),value:this.state.textValue||""}),(0,S.jsx)(a.xu,{paddingY:4,display:"flex",justifyContent:"center",children:(0,S.jsx)(a.zx,{size:"lg",color:"red",onClick:()=>this.handleSendEmail(this.state.emailValue||"",this.state.textValue||""),type:"submit",text:this.props.i18n._('Send', 'shareSheet.SendToEmail.sendButton', 'Button that sends out to email'),disabled:!(0,C.Z)(this.state.emailValue)})})]})]})}}function R(e){const t=(0,m.ZP)();return(0,S.jsx)(E,{...e,i18n:t})}var L=n(541361);const D=(e,t)=>e.reduce(((e,n)=>({...e,[n]:t})),{}),F=(e,t)=>"today_article"===e?t._('Check out this article on Pinterest!', 'sendObject.initialTextValue.todayArticle', 'pre-populated share message when a user tries to send a Today Article'):"";function z(e){const{logContextEvent:t}=(0,o.v)(),n=(0,m.ZP)(),[r,s]=(0,i.useState)(!1),[d,c]=(0,i.useState)(null),[x,k]=(0,i.useState)({}),[P]=(0,i.useState)(F(e.sendType,n)),{showOneToast:w}=(0,h.F9)(),{surface:T}=(0,v.$)(),C=(0,g.Z)(),j=(0,_.Z)(),{conversationCreate:E}=(0,f.Z5)(),z=(0,f.NG)(),M=(0,i.useRef)();(0,i.useEffect)((()=>{var e;return null===(e=M.current)||void 0===e?void 0:e.focus()}),[]);const O=(n,i)=>{s(!1),e.onMessageSent(),((n,i)=>{const{sharedObject:a}=e,o=a.id;l.Z.increment("web.sharesheet.internal.send",1,{status:"success"}),t({event_type:180,element:276,object_id_str:o,aux_data:{conversation_id:n,pin_id:i}})})(n,i)},B=(e,t)=>{l.Z.increment("web.sharesheet.internal.send",1,{status:"fail"}),k({...x,...D(e,b.pO)});const i=r&&"email"===d,a=n._('Failed to send email.', 'sendObject.emailError', 'error message when sending email fails'),o=i?a:t.message_detail||t.message;o&&w((({hideToast:e})=>(0,S.jsx)(p.ZP,{type:"error",duration:5e3,onHide:e,text:o})))},Z=async(t,n,i)=>{const{sharedObject:a,sendType:l}=e,o=a.id,r={emails:n,user_ids:t,text:i,source:A(T)};r[l]=o;const s=u.Z.create("ConversationsResource",r),d=t.length>0?t:n;try{const e=await s.callCreate(),t=e&&e.resource_response.data;E(t),O(t.id,"pin"===l?o:null),k({...x,...D(d,t.id)})}catch(c){B(d,c)}},N=(n,i)=>{"conversation_share_suggestion"===n.type?((t,n)=>{const{sharedObject:i,sendType:a}=e;let l;switch(a){case"pin":l="pinId";break;case"board":l="boardId";break;case"did_it":l="didItId";break;case"user":case"pinner":l="userId"}const o=l?z(t,{text:n,[l]:i.id,source:A(T)},void 0,C):void 0;o&&o.then((()=>{O(t,"pin"===a?i.id:null),k({...x,[t]:t})})).catch((e=>{B([t],e)}))})(n.id,i):"user_share_suggestion"===n.type&&n.username?Z([n.id],[],i):Z([],[n.email],i),t({event_type:101,component:56,element:276})},{onCreatePincodeClick:U,onShowImport:K,sendType:V,sharedObject:H,onHide:G,onExternalSend:W,viewType:$,viewParameter:q,onSearchClick:Y,component:X}=e,J="user"===e.sendType&&(0,y.q6)(C,e.sharedObject.id,j),Q=("board"===e.sendType||"pin"===e.sendType)&&void 0!==e.sharedObject.ownerId&&(0,y.q6)(C,e.sharedObject.ownerId,j),ee=J||Q,te=C.should_show_messaging&&!ee,ne=(0,S.jsx)(a.xu,{paddingY:1,paddingX:3,children:(0,S.jsx)(a.iz,{})}),ie=(0,S.jsxs)(i.Fragment,{children:[te&&ne,(0,S.jsx)(L.Z,{onCreatePincodeClick:U,onEmailIconClick:()=>{s(!0),c("email")},onExternalSend:W,onHide:G,sharedObject:H,showEmailOption:te,viewType:$,viewParameter:q,component:X})]});return r&&"email"===d?(0,S.jsx)(R,{initialTextValue:P,objectId:H.id,objectType:V,onCancelDraft:()=>{s(!1),c(null)},onHide:G,onSendMessage:N,width:b.lp}):(0,S.jsxs)(a.xu,{color:"default",paddingX:b.Mb,paddingY:b.sS,width:b.lp,tabIndex:0,ref:M,children:[te&&(0,S.jsx)(I,{objectAttachment:{type:V,id:H.id},onHide:G,onSendMessage:N,onSearchClick:Y,onShowImportContacts:K,sentHistory:x,component:X}),ie]})}var M=n(937633);const O=["facebook","google"];function B(e,t){return"facebook"===e?t._('Facebook', ' - ', ' -- '):"google"===e?t._('Google', ' - ', ' -- '):t._('Other', ' - ', ' -- ')}function Z(e,t,n){return"facebook"===e?n._('Friends who are on Pinterest', ' - ', ' -- '):"google"===e&&t&&-1!==t.indexOf("@gmail")?t:null}function N({onBack:e}){const t=(0,m.ZP)(),n=(0,g.Z)(),i=n.isAuth?n.email:null,l=O.filter((e=>!n.isAuth||!1===n.socialNetwork[e].connected)),o=(0,M.k)();return(0,S.jsx)(a.xu,{paddingX:1,paddingY:2,"data-test-id":"import-contacts-container",children:(0,S.jsxs)(a.kC,{gap:{row:0,column:2},direction:"column",children:[(0,S.jsxs)(a.kC,{gap:{row:2,column:0},alignItems:"center",children:[(0,S.jsx)(a.hU,{accessibilityLabel:t._('Back', ' - ', ' -- '),icon:"arrow-back",iconColor:"darkGray",onClick:e,size:"md"}),(0,S.jsx)(a.xv,{size:"300",weight:"bold",children:t._('Upload contacts from...', ' - ', ' -- ')})]}),(0,S.jsx)(a.kC,{direction:"column",gap:{row:0,column:4},children:l.map((e=>(0,S.jsx)(a.xu,{paddingX:2,children:(0,S.jsxs)(a.iP,{onTap:()=>(e=>{o.handleConnect(e,!0,Object.freeze({}),t)})(e),children:[(0,S.jsx)(a.xv,{size:"200",children:B(e,t)}),(0,S.jsx)(a.xv,{size:"200",children:Z(e,i,t)})]})},e)))})]})})}var U=n(387815);const K=14121;function V({element:e,onCreatePincodeClick:t,onExternalSend:n,onHide:u,sendType:p,sharedObject:m,viewType:h,viewParameter:g,component:_}){const{logContextEvent:y}=(0,o.v)(),[v,f]=(0,i.useState)(!1),{checkExperiment:b}=(0,s.F)(),x=b("web_share_menu_logging").anyEnabled,k=(0,i.useRef)(!1),{viewParameter:P}=(0,r.SU)();(0,i.useEffect)((()=>{const t=d.yF[p];return t||l.Z.increment("social.web.sendObjectWrapper.sendType",void 0,{type:p}),y({event_type:7120,component:x?K:void 0,object_id_str:m.id,element:x?e:void 0,view_type:h,view_parameter:g,aux_data:x?{invite_object:t}:void 0}),y({event_type:10400,component:_,object_id_str:m.id,element:(0,U.O)(t),view_type:h,view_parameter:g||P,aux_data:{invite_object:t}}),()=>{x||y({event_type:7121,object_id_str:m.id,view_type:h,view_parameter:g}),k.current||y({event_type:10403,component:_,object_id_str:m.id,element:13478,view_type:h,view_parameter:P,aux_data:{invite_object:t}});const e=k.current?7493:7492;y({event_type:e,component:x?K:void 0,object_id_str:x?m.id:void 0,element:x?13097:void 0,view_type:h,view_parameter:g,aux_data:x?{invite_object:t}:void 0})}}),[]);const w=()=>{f(!0)},T=()=>{f(!1)},I=()=>{k.current=!0},A=()=>{k.current=!0},C=()=>{k.current=!0,n&&n()};return v?(0,S.jsx)(N,{onBack:T}):(0,S.jsx)(a.xu,{overflow:"hidden",rounding:4,zIndex:new a.Ry(c.fe-1),color:"default",children:(0,S.jsx)(z,{onCreatePincodeClick:t,onHide:u,onShowImport:w,onMessageSent:A,onExternalSend:C,onSearchClick:I,sendType:p,sharedObject:m,viewType:h,viewParameter:g,component:_})})}},651849:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(36310),l=n(785893);const o=({text:e})=>(0,l.jsx)(i.xv,{align:"center",size:"100",children:(0,l.jsx)(a.Z,{maxWidthPx:128,maxHeightPx:50,children:e})})},549739:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(883119),a=n(785893);const l=({width:e,marginEnd:t,children:n,isCloseupActionBar:l})=>(0,a.jsx)(i.xu,{alignItems:"center",direction:"column",display:"flex",marginEnd:t?2:0,width:e,marginBottom:l?0:5,children:n})},377553:(e,t,n)=>{n.d(t,{$N:()=>r,Kt:()=>i,Mb:()=>c,Qj:()=>d,dN:()=>s,hN:()=>l,iB:()=>a,lp:()=>p,pO:()=>m,sS:()=>u,vt:()=>o});const i="200",a=48,l=26,o=2,r=81,s=49,d=9,c=3,u=1,p=5*(a+l)+2*c*4,m="error"},432044:(e,t,n)=>{n.d(t,{Z:()=>y});var i,a=n(667294),l=(n(167912),n(883119)),o=n(825389),r=n(536042),s=n(630089),d=n(98736),c=n(549201),u=n(356332),p=n(323883),m=n(293017),h=n(785893);const g=void 0!==i?i:i=n(633484),_=({onTap:e,isOpen:t})=>{const n=(0,r.ZP)();return(0,h.jsx)(l.iP,{tapStyle:"compress",onTap:e,children:(0,h.jsxs)(l.xu,{display:"flex",alignItems:"center",justifyContent:"between",paddingY:5,dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #efefef",borderBottom:"1px solid #efefef"}},children:[(0,h.jsx)(l.xv,{weight:"bold",size:"300",children:n._('Product details', 'productDetails.descriptionTap.text', 'text in tap area to open product description dropdown')}),(0,h.jsx)(l.JO,{accessibilityLabel:n._('Arrow forward', 'productDetails.openDropdown', 'accessibility label on button'),color:"default",icon:t?"arrow-down":"arrow-forward"})]})})};function y({onClickTitleOrDomain:e,pinKey:t}){var n;const{data:i,childDataKey:y}=(0,o.k5)(g,t,{type:"pin",useLegacyAdapter:e=>e&&{closeupAttribution:e.closeup_attribution&&{domainUrl:e.closeup_attribution.domain_url},closeupUnifiedDescription:e.closeup_unified_description}}),v=(0,r.ZP)(),f=(0,c.ZP)(),b=null==i||null===(n=i.closeupAttribution)||void 0===n?void 0:n.domainUrl,x=(0,p.Z)(y),k=(0,m.j)({components:x||[],pinDescription:(null==i?void 0:i.closeupUnifiedDescription)&&i.closeupUnifiedDescription.trim()}),[P,S]=(0,a.useState)(!1);return(0,h.jsx)(l.kC,{alignItems:"start",direction:"column",justifyContent:"start",children:k.length>0&&(0,h.jsxs)(l.xu,{marginTop:6,width:"100%",children:[(0,h.jsx)(_,{isOpen:P,onTap:()=>{S(!P),(0,d.My)("unauth.pdp.details.click",{action:P?"close":"open",device:f})}}),(0,h.jsx)(l.xu,{overflow:"scrollY",maxHeight:P?"75vh":"0vh",paddingX:4,children:(0,h.jsxs)(l.xu,{marginBottom:6,marginTop:2,dangerouslySetInlineStyle:{__style:{lineHeight:"1.2"}},children:[(0,h.jsx)(u.Z,{descriptions:k}),b&&(0,h.jsx)(l.xu,{marginTop:6,children:(0,h.jsx)(l.xv,{children:(0,s.nk)(v._('Ships from and sold by {{ userDomain }}', 'productDetails.productDescription.soldBy', 'Domain url of seller'),{userDomain:(0,h.jsx)(l.iP,{onTap:e,tapStyle:"compress",children:(0,h.jsx)(l.xv,{inline:!0,weight:"bold",children:b})},b)})})})]})})]})})}},594563:(e,t,n)=>{n.d(t,{Z:()=>L});var i=n(667294),a=n(167912),l=n(883119),o=n(639356),r=n(355182),s=n(139488),d=n(388011),c=n(536042),u=n(630089),p=n(149596),m=n(465991),h=n(282802),g=n(226590),_=n(422279),y=n(936840),v=n(436422),f=n(230910),b=n(525104),x=(n(563962),n(819079),n(31407),n(785893));var k;void 0!==k||(k=n(825090));var P;n(88622);void 0!==P||(P=n(802195));var S;void 0!==S||(S=n(670782));var w;void 0!==w||(w=n(94109));var T,I=n(323883),A=n(293017);const C=void 0!==T?T:T=n(382545);function j({aggregateRating:e,brandInfo:t,clickthroughFn:n,closeupAttributionDomainId:a,isImagePinForUnauthOnTablet:y,isOutOfStock:b,isStale:k,onClickTitleOrDomain:P,graphqlRef:S,inlinePinActionBar:w,pinId:T,pinLink:C,closeupUnifiedDescription:j,offerSummary:E,gridTitle:R,pinTitle:L,richSummaryDisplayName:D,richMetadataTitle:F,setIsActionBarInline:z,shippingInfo:M,shipsToUserCountry:O,storyPinDataId:B,storyPinDataMetadataPinTitle:Z,pinJoinVisualAnnotation:N}){const U=(0,c.ZP)(),{isAuthenticated:K}=(0,h.B)(),{logContextEvent:V}=(0,d.v)(),H=(0,f.AH)(C),G=j&&j.trim();let W=R||L;K||(W=(0,m.Ly)({pinTitle:L,gridTitle:R,richSummaryDisplayName:D,richMetadataTitle:F,storyPinDataId:B,storyPinDataMetadataPinTitle:Z,pinJoinVisualAnnotation:N}));const $=(0,_.Z)({isImagePinForUnauthOnTablet:y}),q=(0,I.Z)(S?{type:"graphqlRef",data:S}:{type:"deprecated",data:T}),Y=(0,A.j)({components:q,pinDescription:G}),[X,J]=(0,i.useState)(!1),Q=W&&(0,x.jsx)(l.xu,{marginTop:2,marginBottom:2,children:(0,x.jsx)(g.Z,{onClick:P,hasLink:H,forceSmallerHeading:!y,textAlign:"start",pinId:T,graphqlRef:S,lineClamp:$})}),{rating_count:ee,review_count:te,rating_value:ne}=e||{},ie=(0,x.jsx)(s.Z,{bracket:!0,count:ee||te,countType:Number(ee||0)?"rating":"review",countFormat:"number",hideSeparationDot:!0,ratingValue:ne,shippingInfo:M&&{freeShippingPrice:M.free_shipping_price,freeShippingValue:M.free_shipping_value,shipsToUserCountry:M.ships_to_user_country},clickthroughFn:n,shipsToUserCountry:O}),ae=(0,x.jsx)(o.Z,{structuredDescription:Y,type:"expandable"}),le=null==t?void 0:t.name,oe=null==t?void 0:t.userId,re=a&&a===oe||(null==t?void 0:t.isMerchant),se=!!le,de=(0,i.useCallback)((e=>{if(e&&se){return le!==e&&(null===re||!1===re)?(0,u.nk)(U._('{{ brand }} sold by {{ merchant }}', 'productmetadata.officialuserattribution.text', 'officialuserattribution text. brand:name of the brand. merchant:name of the merchant'),{brand:(0,x.jsx)(l.xv,{inline:!0,weight:"bold",children:le},"brand-name"),merchant:(0,x.jsx)(l.xv,{inline:!0,weight:"bold",children:e},"merchant-name")}):[(0,x.jsx)(l.xv,{inline:!0,weight:"bold",children:le},"brand-name")]}return e}),[le,re,U,se]),ce=(0,x.jsx)(v.Z,{getDisplayName:de,graphqlRef:S,pinId:T,onMouseDown:se?()=>{V({event_type:102,object_id_str:T,view_type:3,view_parameter:144,element:13592,aux_data:{pin_id:T,commerce_data:JSON.stringify({pin_show_pdp:"1"})}})}:void 0}),ue=(0,x.jsx)(r.Z,{productDetails:{maxPrice:null==E?void 0:E.max_price,minPrice:null==E?void 0:E.min_price,price:null==E?void 0:E.price,standardPrice:null==E?void 0:E.standard_price},type:"pdpPlusMobileHeading",colorOverride:"default",isSoldOut:b,isStale:k});return(0,x.jsxs)(l.xu,{children:[(0,x.jsx)(l.kC,{alignItems:"start",direction:"column",justifyContent:"start",children:(0,x.jsx)(p.Z,{options:{threshold:[1]},onVisibilityChange:e=>{if(e&&e.length>0&&z){const{intersectionRatio:t,boundingClientRect:n}=e[0],i=1===t,a=n.y<0;z(i||a)}},children:e=>(0,x.jsx)(l.xu,{ref:e,children:(0,x.jsxs)(l.xu,{children:[Q,ue,(0,x.jsx)(l.xu,{marginBottom:2,children:ie}),ce]})})})}),w,Y.length>0&&(0,x.jsx)(l.xu,{marginTop:6,width:"100%",children:ae}),!1]})}function E({pinId:e,graphqlRef:t,...n}){var i,l,o,r,s,d,c,u,p,m,h,g,_,v,f,b,k,P,S,w,T,I,A,E,R,L,D,F,z,M,O,B;const Z=(0,a.useFragment)(C,t),N=(0,y.It)({clickthroughInterstitialExperience:null,graphqlRef:Z}),U=(null===(i=Z.pinJoin)||void 0===i?void 0:i.visualAnnotation)||[];if(U.length<1)return null;const{richMetadata:K,richSummary:V}=Z;let H;null!=K&&null!==(l=K.products)&&void 0!==l&&l[0]&&K.products[0].name&&K.products[0].offerSummary&&(H=K.products[0].offerSummary),!H&&null!=V&&null!==(o=V.products)&&void 0!==o&&o[0]&&V.products[0].name&&V.products[0].offerSummary&&(H=V.products[0].offerSummary);const G={min_price:null===(r=H)||void 0===r?void 0:r.minPrice,max_price:null===(s=H)||void 0===s?void 0:s.maxPrice,price:null===(d=H)||void 0===d?void 0:d.price,standard_price:null===(c=H)||void 0===c?void 0:c.standardPrice},W={rating_value:null!==(u=null==K||null===(p=K.aggregateRating)||void 0===p?void 0:p.ratingValue)&&void 0!==u?u:void 0,review_count:null!==(m=null==K||null===(h=K.aggregateRating)||void 0===h?void 0:h.reviewCount)&&void 0!==m?m:void 0,rating_count:null!==(g=null==K||null===(_=K.aggregateRating)||void 0===_?void 0:_.ratingCount)&&void 0!==g?g:void 0},$={free_shipping_price:null==K||null===(v=K.products)||void 0===v||null===(f=v[0].shippingInfo)||void 0===f?void 0:f.freeShippingPrice,free_shipping_value:null==K||null===(b=K.products)||void 0===b||null===(k=b[0].shippingInfo)||void 0===k?void 0:k.freeShippingValue},q=Z.isOosProduct||!1===(null===(P=H)||void 0===P?void 0:P.inStock),Y=Z.isStaleProduct,X={isMerchant:null==K||null===(S=K.products)||void 0===S||null===(w=S[0].brand)||void 0===w?void 0:w.isMerchant,name:null==K||null===(T=K.products)||void 0===T||null===(I=T[0].brand)||void 0===I?void 0:I.name,userId:null==K||null===(A=K.products)||void 0===A||null===(E=A[0].brand)||void 0===E?void 0:E.userId};return(0,x.jsx)(j,{...n,aggregateRating:W,brandInfo:X,clickthroughFn:N,closeupAttributionDomainUrl:null===(R=Z.closeupAttribution)||void 0===R?void 0:R.domainUrl,closeupAttributionDomainId:null===(L=Z.closeupAttribution)||void 0===L?void 0:L.entityId,graphqlRef:Z,isOutOfStock:q,isStale:null!=Y&&Y,pinId:e,pinLink:Z.link,closeupUnifiedDescription:null!==(D=Z.closeupUnifiedDescription)&&void 0!==D?D:"",offerSummary:G,gridTitle:Z.gridTitle,pinTitle:Z.title,richSummaryDisplayName:null!==(F=null==V?void 0:V.displayName)&&void 0!==F?F:"",richMetadataTitle:null!==(z=null==K?void 0:K.title)&&void 0!==z?z:"",shippingInfo:$,shipsToUserCountry:null!==(M=Z.shipsToUserCountry)&&void 0!==M&&M,storyPinDataId:Z.storyPinDataId,storyPinDataMetadataPinTitle:null===(O=Z.storyPinData)||void 0===O||null===(B=O.metadata)||void 0===B?void 0:B.pinTitle,pinJoinVisualAnnotation:U})}function R({pinId:e,...t}){var n,i,a,l,o,r,s,d,c,u,p,m,h,g,_,v,f,k,P,S,w,T,I;const A=(0,b.S6)()(e),C=null==A?void 0:A.rich_metadata,E=null==A?void 0:A.rich_summary,R=(0,y.ZP)({clickthroughInterstitialExperience:null,pinId:e});let L;null!=C&&null!==(n=C.products)&&void 0!==n&&n[0]&&C.products[0].name&&C.products[0].offer_summary&&(L=C.products[0].offer_summary),!L&&null!=E&&null!==(i=E.products)&&void 0!==i&&i[0]&&E.products[0].name&&E.products[0].offer_summary&&(L=E.products[0].offer_summary);const D=(null==A?void 0:A.is_oos_product)||!1===(null===(a=L)||void 0===a?void 0:a.in_stock),F=null==A?void 0:A.is_stale_product,z={isMerchant:null==C||null===(l=C.products)||void 0===l||null===(o=l[0].brand)||void 0===o?void 0:o.is_merchant,name:null==C||null===(r=C.products)||void 0===r||null===(s=r[0].brand)||void 0===s?void 0:s.name,userId:null==C||null===(d=C.products)||void 0===d||null===(c=d[0].brand)||void 0===c?void 0:c.user_id};return(0,x.jsx)(j,{...t,aggregateRating:null==A||null===(u=A.rich_metadata)||void 0===u?void 0:u.aggregate_rating,brandInfo:z,clickthroughFn:R,closeupAttributionDomainUrl:null==A||null===(p=A.closeup_attribution)||void 0===p?void 0:p.domain_url,closeupAttributionDomainId:null==A||null===(m=A.closeup_attribution)||void 0===m?void 0:m.id,pinId:e,pinLink:null==A?void 0:A.link,closeupUnifiedDescription:null!==(h=null==A?void 0:A.closeup_unified_description)&&void 0!==h?h:"",gridTitle:null==A?void 0:A.grid_title,isOutOfStock:D,isStale:null!=F&&F,pinTitle:null==A?void 0:A.title,offerSummary:L,richSummaryDisplayName:null!==(g=null==A||null===(_=A.rich_summary)||void 0===_?void 0:_.display_name)&&void 0!==g?g:"",richMetadataTitle:null!==(v=null==A||null===(f=A.rich_metadata)||void 0===f?void 0:f.title)&&void 0!==v?v:"",shippingInfo:null==A||null===(k=A.rich_metadata)||void 0===k||null===(P=k.products)||void 0===P?void 0:P[0].shipping_info,shipsToUserCountry:null!==(S=null==A?void 0:A.ships_to_user_country)&&void 0!==S&&S,storyPinDataId:null==A?void 0:A.story_pin_data_id,storyPinDataMetadataPinTitle:null==A||null===(w=A.story_pin_data)||void 0===w||null===(T=w.metadata)||void 0===T?void 0:T.pin_title,pinJoinVisualAnnotation:null==A||null===(I=A.pin_join)||void 0===I?void 0:I.visual_annotation})}function L({graphqlRef:e,...t}){return e?(0,x.jsx)(E,{...t,graphqlRef:e}):(0,x.jsx)(R,{...t})}},884751:(e,t,n)=>{n.d(t,{jF:()=>g,ZP:()=>v});var i=n(167912),a=n(883119),l=n(525104),o=n(785893);const r=({maxPrice:e,minPrice:t,price:n,standardPrice:i,NoPrice:a,RangedPrice:l,RegularPrice:r,RangedSalePrice:s,SalePrice:d})=>t&&e&&i?(0,o.jsx)(s,{saleMinPrice:t,saleMaxPrice:e,regularPriceRange:i}):t&&e?(0,o.jsx)(l,{maxPrice:e,minPrice:t}):n?i&&n!==i?(0,o.jsx)(d,{regularPrice:i,salePrice:n}):(0,o.jsx)(r,{price:n}):(0,o.jsx)(a,{});var s;const d=()=>null,c=void 0!==s?s:s=n(894235),u=({price:e,align:t,fontSize:n})=>(0,o.jsx)(a.X6,{color:"default",size:n||"400",align:t,children:e}),p=({minPrice:e,maxPrice:t,align:n,fontSize:i})=>(0,o.jsx)(a.X6,{color:"default",size:i||"400",align:n,children:`${e}-${t}`}),m=({salePrice:e,regularPrice:t,align:n,fontSize:i})=>(0,o.jsxs)(a.X6,{size:i||"400",align:n,children:[(0,o.jsx)("span",{style:{color:"#0074e8"},children:e})," ",(0,o.jsx)("span",{style:{textDecoration:"line-through",color:"#767676"},children:`${t}`})]}),h=({saleMinPrice:e,saleMaxPrice:t,regularPriceRange:n,align:i,fontSize:l})=>(0,o.jsxs)(a.X6,{size:l||"400",align:i,children:[(0,o.jsx)("span",{style:{color:"#0074e8"},children:`${e}-${t}`})," ",(0,o.jsx)("span",{style:{textDecoration:"line-through",color:"#767676"},children:`${n}`})]});function g({maxPrice:e,minPrice:t,price:n,standardPrice:i,align:a,NoPrice:l,RangedPrice:s,RangedSalePrice:c,RegularPrice:g,SalePrice:_,fontSize:y}){return l||(l=e=>(0,o.jsx)(d,{...e,align:a,fontSize:y})),s||(s=e=>(0,o.jsx)(p,{...e,align:a,fontSize:y})),c||(c=e=>(0,o.jsx)(h,{...e,align:a,fontSize:y})),g||(g=e=>(0,o.jsx)(u,{...e,align:a,fontSize:y})),_||(_=e=>(0,o.jsx)(m,{...e,align:a,fontSize:y})),(0,o.jsx)(r,{maxPrice:e,minPrice:t,price:n,standardPrice:i,NoPrice:l,RegularPrice:g,RangedPrice:s,RangedSalePrice:c,SalePrice:_})}function _(e){var t,n,a,l,r,s;const d=(0,i.useFragment)(c,e.graphqlRef),u=null==d?void 0:d.richMetadata,p=null==d?void 0:d.richSummary;let m;return null!=u&&null!==(t=u.products)&&void 0!==t&&t[0]&&u.products[0].name&&u.products[0].offerSummary&&(m=u.products[0].offerSummary),!m&&null!=p&&null!==(n=p.products)&&void 0!==n&&n[0]&&p.products[0].name&&p.products[0].offerSummary&&(m=p.products[0].offerSummary),(0,o.jsx)(g,{maxPrice:null===(a=m)||void 0===a?void 0:a.maxPrice,minPrice:null===(l=m)||void 0===l?void 0:l.minPrice,price:null===(r=m)||void 0===r?void 0:r.price,standardPrice:null===(s=m)||void 0===s?void 0:s.standardPrice,NoPrice:e.NoPrice,RegularPrice:e.RegularPrice,RangedPrice:e.RangedPrice,RangedSalePrice:e.RangedSalePrice,SalePrice:e.SalePrice})}function y(e){var t,n,i,a,r,s;const d=(0,l.S6)()(e.pinId||""),c=null==d?void 0:d.rich_metadata,u=null==d?void 0:d.rich_summary;let p;return null!=c&&null!==(t=c.products)&&void 0!==t&&t[0]&&c.products[0].name&&c.products[0].offer_summary&&(p=c.products[0].offer_summary),!p&&null!=u&&null!==(n=u.products)&&void 0!==n&&n[0]&&u.products[0].name&&u.products[0].offer_summary&&(p=u.products[0].offer_summary),(0,o.jsx)(g,{maxPrice:null===(i=p)||void 0===i?void 0:i.max_price,minPrice:null===(a=p)||void 0===a?void 0:a.min_price,price:null===(r=p)||void 0===r?void 0:r.price,standardPrice:null===(s=p)||void 0===s?void 0:s.standard_price,NoPrice:e.NoPrice,RegularPrice:e.RegularPrice,RangedPrice:e.RangedPrice,RangedSalePrice:e.RangedSalePrice,SalePrice:e.SalePrice})}function v(e){return e.graphqlRef?(0,o.jsx)(_,{...e}):(0,o.jsx)(y,{...e})}},389190:(e,t,n)=>{n.d(t,{Z:()=>M});var i,a=n(667294),l=n(167912),o=n(616550),r=n(883119),s=n(572559),d=n(346190),c=n(38823),u=n(59089),p=n(563962),m=n(24286),h=n(536042),g=n(245410),_=n(272109),y=n(858815);const v=void 0!==i?i:i=n(900936),f=e=>{const t=(0,l.useFragment)(v,e);return(0,a.useMemo)((()=>t?(t.carouselSlots||[]).map((e=>{var t,n,i,a,l,o,r,s,d,c,u,p,m;return{image_signature:null!==(t=e.imageSignature)&&void 0!==t?t:void 0,images:{"564x":{height:(null===(n=e.imageSpec_564x)||void 0===n?void 0:n.height)||void 0,url:(null===(i=e.imageSpec_564x)||void 0===i?void 0:i.url)||void 0,width:(null===(a=e.imageSpec_564x)||void 0===a?void 0:a.width)||void 0},"236x":{height:(null===(l=e.imageSpec_236x)||void 0===l?void 0:l.height)||void 0,url:(null===(o=e.imageSpec_236x)||void 0===o?void 0:o.url)||void 0,width:(null===(r=e.imageSpec_236x)||void 0===r?void 0:r.width)||void 0},"474x":{height:(null===(s=e.imageSpec_474x)||void 0===s?void 0:s.height)||void 0,url:(null===(d=e.imageSpec_474x)||void 0===d?void 0:d.url)||void 0,width:(null===(c=e.imageSpec_474x)||void 0===c?void 0:c.width)||void 0},"736x":{height:(null===(u=e.imageSpec_736x)||void 0===u?void 0:u.height)||void 0,url:(null===(p=e.imageSpec_736x)||void 0===p?void 0:p.url)||void 0,width:(null===(m=e.imageSpec_736x)||void 0===m?void 0:m.width)||void 0}}}})):[]),[t])};var b;const x=void 0!==b?b:b=n(115606),k=(e,t,n)=>{(e||[]).forEach((e=>{const{canonicalImage:i,imageSignature:a}=e,{height:l,url:o,width:r}=null!=i?i:Object.freeze({});if(!a)return;const s=n[a]||{image_signature:a,canonical_images:{}};s.canonical_images&&(s.canonical_images[t]={height:null!=l?l:void 0,url:null!=o?o:void 0,width:null!=r?r:void 0}),n[a]=s}))},P=e=>{const t=(0,l.useFragment)(x,e);return(0,a.useMemo)((()=>{if(!t)return null;const e={};return k(t.imageSpec_236x,"236x",e),k(t.imageSpec_474x,"474x",e),k(t.imageSpec_564x,"564x",e),k(t.imageSpec_736x,"736x",e),Object.keys(e).reduce(((t,n)=>(t.push(e[n]),t)),[])}),[t])};var S,w=n(525104),T=n(282802),I=n(98736),A=n(549201),C=n(657006),j=n(785893);function E({alt:e,dominantColor:t,height:n,onLoad:i,src:a,width:l,unauthLazyLoad:s,index:d}){const c=(0,o.useHistory)(),u=(0,o.useRouteMatch)(),{isAuthenticated:p}=(0,T.B)(),m=(0,A.ZP)();return(0,j.jsxs)(r.iP,{tapStyle:"compress",onTap:()=>{p||(0,I.My)("unauth.pdp.carousel.click",{device:m,index:d}),c&&u&&u.params&&u.params.id&&c.push(`/pin/${u.params.id}#${C.v}`,{imageData:{src:a,height:n,width:l}})},children:[(0,j.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.03)"}},position:"absolute",width:"100%",height:"100%",zIndex:new r.Ry(1),top:!0}),(0,j.jsx)(r.Ee,{alt:e,color:t,loading:s?"lazy":"auto",naturalHeight:n,naturalWidth:l,onLoad:i,src:a})]})}const R=500,L=void 0!==S?S:S=n(842931);function D({carouselSlots:e,pinId:t,pwtSurfaceContext:n,viewParameter:i,unauthLazyLoad:l,isHiddenPin:s,isUnsafePin:c}){const v=(0,o.useRouteMatch)(),f=(0,h.ZP)(),b=(0,p.Z)(),[x,k]=(0,a.useState)(0),P=(0,a.useRef)(null),S=(0,a.useRef)([]),w=(0,a.useCallback)((()=>{n&&n.markConstraintComplete("PinPageMainImageRendered")}),[n]),{checkExperiment:T}=(0,g.F)(),I=T("web_higher_res_carousel_image").anyEnabled,A=f._('Pin image', 'Pin closeup image', 'Pin closeup image'),C=(0,u.Z)({isHiddenPin:s,isUnsafePin:c})&&0===x,L=e.filter((e=>{const t=(0,d.Z)(e.images,I);return t&&t.url})),D=L.length,{image_signature:F}=L[x]||{},z=()=>{if(!P.current)return;const{left:e,width:t}=P.current.getBoundingClientRect(),n=e+t/2;for(let a=0;a<D;a++){var i;const{x:e}=S.current[a].current.getBoundingClientRect(),{x:t=1/0}=(null===(i=S.current[a+1])||void 0===i?void 0:i.current.getBoundingClientRect())||{};if(e<=n&&t>n){k(a);break}}};return(0,_.Z)((()=>{S.current=Array(D).fill().map(((e,t)=>S.current[t]||(0,a.createRef)()));const e=P.current;return e&&e.addEventListener("scroll",z),()=>{null==e||e.removeEventListener("scroll",z)}})),(0,a.useEffect)((()=>{F&&b({event_type:13,view_type:3,view_parameter:144,element:10555,aux_data:{view_object_image_signature:F}})}),[b,F]),(0,j.jsxs)(r.xu,{position:"relative",marginStart:-m.D6,marginEnd:-m.D6,children:[(0,j.jsx)(r.xu,{minHeight:"30vh",maxHeight:"60vh",overflow:"scrollX",display:"flex",ref:P,children:L.map(((e,n)=>{const i=0===n,a=n===D-1,{url:o="",height:s=1,width:c=1}=(0,d.Z)(e.images,I)||{};return(0,j.jsx)(r.xu,{width:"80%",flex:"none",marginEnd:a?0:2,display:"flex",alignItems:"center",position:"relative",dangerouslySetInlineStyle:{__style:{backgroundColor:"#ffffff00"}},ref:S.current[n],children:(0,j.jsx)(E,{alt:A,src:o,height:s,width:c,dominantColor:"#ffffff00",onLoad:w,unauthLazyLoad:l&&!i,index:n})},`${t}_${n}`)}))}),(0,j.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{transition:`opacity ${R}ms,                          visibility ${R}ms ease-in-out`,visibility:C?"visible":"hidden"}},opacity:C?1:0,children:(0,j.jsx)(y.Z,{imageSignature:F,isUnauthVisualSearchExp:!1,pinId:v.params.id||t,type:"visualSearch",viewParameter:i})})]})}function F({graphqlRef:e,pinId:t,viewParameter:n,pwtSurfaceContext:i,unauthLazyLoad:a}){var o,r,s;const d=(0,l.useFragment)(L,e),u=((null===(o=d.richMetadata)||void 0===o?void 0:o.products)||(null===(r=d.richSummary)||void 0===r?void 0:r.products)||[])[0],p=P(u);let m=null!==(s=f(d.carouselData))&&void 0!==s?s:[];if(u&&p&&p.length>0){var h;const e=[["236x",d.imageSpec_236x],["474x",d.imageSpec_474x],["564x",d.imageSpec_564x],["736x",d.imageSpec_736x]].reduce(((e,[t,n])=>({...e,[t]:n&&{height:n.height,url:n.url,width:n.width}})),{});m=null!==(h=(0,c.Z)(e,p).carousel_slots)&&void 0!==h?h:[]}return(0,j.jsx)(D,{carouselSlots:m,pinId:t,pwtSurfaceContext:i,viewParameter:n,unauthLazyLoad:a,isHiddenPin:d.isHidden,isUnsafePin:d.isUnsafe})}function z({pinId:e,pwtSurfaceContext:t,viewParameter:n,unauthLazyLoad:i}){var a,l;const o=(0,w.S6)()(e),{carousel_slots:r=[]}=(0,s.Z)({carouselData:null==o?void 0:o.carousel_data,images:null==o?void 0:o.images,product:null===(a=(null==o?void 0:o.rich_metadata)||(null==o?void 0:o.rich_summary))||void 0===a||null===(l=a.products)||void 0===l?void 0:l[0]})||{};return(0,j.jsx)(D,{carouselSlots:r,pinId:e,pwtSurfaceContext:t,viewParameter:n,unauthLazyLoad:i,isHiddenPin:null==o?void 0:o.is_hidden,isUnsafePin:null==o?void 0:o.is_unsafe})}function M({graphqlRef:e,pinId:t,viewParameter:n,pwtSurfaceContext:i,unauthLazyLoad:a}){return e?(0,j.jsx)(F,{graphqlRef:e,pinId:t,pwtSurfaceContext:i,viewParameter:n,unauthLazyLoad:a}):(0,j.jsx)(z,{pinId:t,pwtSurfaceContext:i,viewParameter:n,unauthLazyLoad:a})}},492291:(e,t,n)=>{n.d(t,{Z:()=>O});var i=n(667294),a=n(702664),l=n(883119),o=n(40660),r=n(563962),s=n(550140),d=n(536042),c=n(599551),u=n(450667),p=n(282802),m=n(16754),h=n(512403),g=n(269758),_=n(871755),y=n(894637),v=n(757551),f=n(785893);function b({size:e=56}){return(0,f.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,f.jsx)("rect",{fill:"#e60023",height:"56",rx:"28",width:"56"}),(0,f.jsx)("path",{clipRule:"evenodd",d:"m28 31.9842 6 3.6666v-15.6508h-12v15.6508zm0 3.5158 5.9571 3.6404c1.3327.8145 3.0429-.1447 3.0429-1.7065v-17.4339c0-1.6569-1.3431-3-3-3h-12c-1.6569 0-3 1.3431-3 3v17.4339c0 1.5618 1.7102 2.521 3.0429 1.7065z",fill:"#fff",fillRule:"evenodd"})]})}var x=n(916224),k=n(343226),P=n(317218),S=n(320634),w=n(611756),T=n(98736),I=n(618569),A=n(63262),C=n(549201),j=n(782219),E=n(9680),R=n(980666);function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const D=56,F=String(86),z=({text:e})=>(0,f.jsx)(l.xv,{align:"center",size:"100",children:e});class M extends i.PureComponent{constructor(...e){super(...e),L(this,"state",{invitePath:"",inviteCode:null,inviteMessage:"",inviteTitle:"",Clipboard:null,fbLoaded:!1}),L(this,"setClipboard",(e=>{const{Clipboard:t,invitePath:n}=this.state;(0,E.sF)(n,t,e,this.showCopyToast)})),L(this,"showCopyToast",(()=>{var e,t,n,i;this.logShareClick(12),this.setNewAppOrder(12),null===(e=(t=this.props).onShare)||void 0===e||e.call(t),this.props.showToast((({hideToast:e})=>(0,f.jsx)(s.ZP,{text:this.props.i18n._('Copied link to your clipboard to share', 'url link was copied to user clipboard', 'url link was copied to user clipboard'),onHide:e}))),null===(n=(i=this.props).setShareSent)||void 0===n||n.call(i,!0),this.props.trackInteraction({action:"click",item:"copy-link-share-icon"})})),L(this,"getDefaultAppOrder",(()=>{const{country:e,isDesktop:t}=this.props;return(0,E.pW)({country:e,isDesktop:t,shouldShowNativeShare:Boolean(navigator.share)})})),L(this,"getAppOrder",(()=>{const{isDesktop:e,showFixedRows:t}=this.props;let n=JSON.parse((0,w.qn)(R.B));return!n||e?this.getDefaultAppOrder():(n=[...n.filter((e=>11!==e&&12!==e))],t?n.unshift(12):n.push(12),Boolean(navigator.share)&&n.push(11),n)})),L(this,"setNewAppOrder",(e=>{const{isDesktop:t}=this.props;t||R.F6.has(e)||(0,w.Nh)(R.B,JSON.stringify([e,...this.getAppOrder().filter((t=>t!==e))]))})),L(this,"handleMessagingAppClick",(e=>{var t,n,i,a;null===(t=(n=this.props).onShare)||void 0===t||t.call(n),null===(i=(a=this.props).setShareSent)||void 0===i||i.call(a,!0),this.logShareClick(e),this.setFreshInviteCode(e),R.rO.has(e)||(0,w.Nh)(R.Cq,e),this.setNewAppOrder(e)})),L(this,"handleMessengerClick",(()=>{this.props.trackInteraction({action:"click",item:"fbmessenger-share-icon"}),this.handleMessagingAppClick(6)})),L(this,"handleTwitterClick",(()=>{this.props.trackInteraction({action:"click",item:"twitter-share-icon"}),this.handleMessagingAppClick(9)})),L(this,"handleWhatsappClick",(()=>{this.props.trackInteraction({action:"click",item:"whatsapp-share-icon"}),this.handleMessagingAppClick(10)})),L(this,"handleLineClick",(()=>{this.handleMessagingAppClick(8)})),L(this,"handleTelegramClick",(()=>{this.handleMessagingAppClick(20)})),L(this,"handleViberClick",(()=>{this.handleMessagingAppClick(22)})),L(this,"handleEmailClick",(()=>{this.handleMessagingAppClick(3),this.props.trackInteraction({action:"click",item:"email-share-button"})})),L(this,"handleFacebookClick",(e=>{var t,n,i,a;const{isDesktop:l}=this.props;e.preventDefault(),null===(t=(n=this.props).onShare)||void 0===t||t.call(n),null===(i=(a=this.props).setShareSent)||void 0===i||i.call(a,!0),(0,T.My)(`pcons.${l?"desktop":"mobile"}.facebook-share-icon`),this.props.trackInteraction({action:"click",item:"facebook-share-icon"}),this.logShareClick(5);const{inviteCode:o,invitePath:r,fbLoaded:s}=this.state;(0,E.Rh)(s,r,o||""),this.setFreshInviteCode(5),this.setNewAppOrder(5)})),L(this,"handleSmsClick",(()=>{this.handleMessagingAppClick(4)})),L(this,"logShareClick",((e,t=this.state.inviteCode)=>{const{objectId:n,objectType:i,component:a,clientTrackingParams:l,logContextEvent:o,viewType:r,viewParameter:s,socialShareComponent:d}=this.props;(0,E.Iz)({inviteChannel:e,inviteCode:t,objectId:n,objectType:i,component:a,clientTrackingParams:l,logContextEvent:o,view_type:r,view_parameter:s,socialShareComponent:d})})),L(this,"copyButtonRef",null),L(this,"renderAppsInCustomOrder",(({Email:e,Facebook:t,FBMessenger:n,Line:a,WhatsApp:l,Twitter:o,Viber:r,Telegram:s,CopyLink:d,Sms:c,ShareVia:u})=>{const p=this.getAppOrder(),m=new Map([[6,n],[10,l],[5,t],[9,o],[3,e],[8,a],[20,s],[22,r],[4,c],[12,d],[11,u]]);return(0,f.jsx)(i.Fragment,{children:p.map((e=>(0,f.jsxs)(i.Fragment,{children:[" ",m.get(e)]},e)))})})),L(this,"onHandleRepinSave",(({event:e,dangerouslyDisableOnNavigation:t})=>{var n,i;t(),null===(n=(i=this.props).onSave)||void 0===n||n.call(i),this.props.onNavigation({event:e})}))}componentDidMount(){this.setFreshInviteCode(12),(0,u.we)(this.props.locale).then((()=>{this.setState({fbLoaded:!0})})),n.e(6527).then(n.t.bind(n,842152,23)).then((({default:e})=>{e.isSupported()&&(this.setState({Clipboard:e}),this.setClipboard(this.copyButtonRef))}))}componentDidUpdate({objectId:e}){const{objectId:t}=this.props;e!==t&&this.setFreshInviteCode(12)}async setFreshInviteCode(e){const{objectId:t,objectType:n,fetchFreshInviteCode:i}=this.props,{invitePath:a,inviteCode:l,title:o,message:r}=await i(e,t,n),s={};a&&(s.invitePath=a),l&&(s.inviteCode=l),o&&(s.inviteTitle=o),r&&(s.inviteMessage=r),this.setState(s)}render(){const{isDesktop:e,objectType:t,onSave:n,showSaveOption:i,isAppleDevice:a,shouldShowVerticalContacts:r,showFixedRows:s}=this.props,{invitePath:d,inviteMessage:c,inviteTitle:u}=this.state,{emailShareLink:p,messengerShareLink:w,twitterShareLink:T,whatsappShareLink:I,lineShareLink:A,telegramShareLink:C,viberShareLink:j,smsShareLink:R}=(0,E.tA)({invitePath:d,inviteTitle:u,objectType:t,i18n:this.props.i18n,isDesktop:e}),L=({children:t})=>(0,f.jsx)(l.kC,{alignItems:"center",justifyContent:"start",direction:"column",width:e||s?`${F}px`:"100%",children:(0,f.jsx)(l.xu,{marginBottom:s?2:0,children:t})}),M=({children:e})=>(0,f.jsx)(l.xu,{display:"flex",justifyContent:"center",paddingX:3,marginBottom:1,children:e}),O=(0,f.jsxs)(L,{children:[(0,f.jsx)(M,{children:(0,f.jsx)(l.xu,{"data-test-id":"fbmessenger-share-icon",children:(0,f.jsx)(l.iP,{rounding:"circle",role:"link",rel:"nofollow",href:w,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleMessengerClick()},children:(0,f.jsx)(v.Z,{size:D})})})}),(0,f.jsx)(z,{text:this.props.i18n._('Messenger', 'shareMenu.icon.label.messenger', 'Facebook Messenger App')})]}),B=(0,f.jsxs)(L,{children:[(0,f.jsx)(M,{children:(0,f.jsx)(l.xu,{"data-test-id":"whatsapp-share-icon",children:(0,f.jsx)(l.iP,{rounding:"circle",role:"link",rel:"nofollow",href:I,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleWhatsappClick()},children:(0,f.jsx)(S.Z,{size:D})})})}),(0,f.jsx)(z,{text:this.props.i18n._('WhatsApp', 'shareMenu.icon.label.whatsapp', 'WhatsApp App')})]}),Z=(0,f.jsx)(l.xu,{"data-test-id":"facebook-share-icon",display:"flex",flex:"shrink",children:(0,f.jsxs)(L,{children:[(0,f.jsx)(M,{children:(0,f.jsx)(l.rU,{href:"#",onClick:({event:e})=>{this.handleFacebookClick(e)},children:(0,f.jsx)(g.Z,{size:D})})}),(0,f.jsx)(z,{text:this.props.i18n._('Facebook', 'shareMenu.icon.label.facebook', 'Facebook App')})]})}),N=(0,f.jsxs)(L,{children:[(0,f.jsx)(M,{children:(0,f.jsx)(l.xu,{"data-test-id":"twitter-share-icon",children:(0,f.jsx)(l.iP,{rounding:"circle",role:"link",rel:"nofollow",href:T,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTwitterClick()},children:(0,f.jsx)(k.Z,{size:D})})})}),(0,f.jsx)(z,{text:this.props.i18n._('X', 'shareMenu.icon.label.twitter', 'Twitter App')})]}),U=(0,f.jsxs)(L,{children:[(0,f.jsx)(M,{children:(0,f.jsx)(l.iP,{rounding:"circle",role:"link",rel:"nofollow",href:A,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleLineClick()},children:(0,f.jsx)(y.Z,{size:D})})}),(0,f.jsx)(z,{text:this.props.i18n._('Line', 'shareMenu.icon.label.line', 'Line App')})]}),K=(0,f.jsxs)(L,{children:[(0,f.jsx)(M,{children:(0,f.jsx)(l.iP,{rounding:"circle",role:"link",rel:"nofollow",href:j,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleViberClick()},children:(0,f.jsx)(P.Z,{size:D})})}),(0,f.jsx)(z,{text:this.props.i18n._('Viber', 'shareMenu.icon.label.viber', 'Viber App')})]}),V=(0,f.jsxs)(L,{children:[(0,f.jsx)(M,{children:(0,f.jsx)(l.iP,{rounding:"circle",role:"link",rel:"nofollow",href:C,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleTelegramClick()},children:(0,f.jsx)(x.Z,{size:D})})}),(0,f.jsx)(z,{text:this.props.i18n._('Telegram', 'shareMenu.icon.label.telegram', 'Telegram App')})]}),H=(0,f.jsxs)(L,{children:[(0,f.jsx)(M,{children:(0,f.jsx)(l.xu,{"data-test-id":"email-share-button",children:(0,f.jsx)(l.iP,{rounding:"circle",role:"link",rel:"nofollow",target:"blank",href:p,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleEmailClick()},children:(0,f.jsx)(h.Z,{size:D})})})}),(0,f.jsx)(z,{text:this.props.i18n._('Email', 'shareMenu.icon.label.email', 'Email App')})]}),G=(0,f.jsxs)(L,{children:[(0,f.jsx)(M,{children:(0,f.jsx)(l.iP,{rounding:"circle",role:"link",rel:"nofollow",target:"blank",href:"#",onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{var n,i;e.preventDefault(),null===(n=(i=this.props).onShare)||void 0===n||n.call(i),t();const a=c.indexOf("https://");navigator.share&&navigator.share({url:d,text:a>0?c.slice(0,a):c,title:u}).then((()=>{this.handleMessagingAppClick(11),o.Z.increment("allshareoptions_navigator_share.success",1)})).catch((e=>{o.Z.increment("allshareoptions_navigator_share.error",1,{name:e.name,message:e.message})}))},children:(0,f.jsx)(l.xu,{height:D,children:(0,f.jsx)(l.hU,{accessibilityLabel:this.props.i18n._('Native share sheet icon', 'shareMenu.icon.accessibilityLabel.native_share_sheet', 'Accessibility label for native share sheet icon'),bgColor:"lightGray",icon:"share",iconColor:"darkGray",size:"xl"})})})}),(0,f.jsx)(z,{text:this.props.i18n._('Share via', 'shareMenu.icon.label.share_via', 'Share via label')})]}),W=(0,f.jsxs)(L,{children:[(0,f.jsx)(M,{children:(0,f.jsx)(l.iP,{rounding:"circle",role:"link",rel:"nofollow",href:R,onTap:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleSmsClick()},children:a?(0,f.jsx)(_.Z,{size:D}):(0,f.jsx)(l.xu,{"data-test-id":"message-share-button",children:(0,f.jsx)(m.Z,{size:D})})})}),(0,f.jsx)(z,{text:this.props.i18n._('Message', 'shareMenu.icon.label.message', 'Message App')})]}),$=(0,f.jsxs)(L,{children:[(0,f.jsx)(M,{children:(0,f.jsx)(l.xu,{ref:this.setClipboard,dangerouslySetInlineStyle:{__style:{cursor:e?"pointer":void 0}},"data-test-id":"copy-link-share-icon",height:D,children:(0,f.jsx)(l.hU,{accessibilityLabel:this.props.i18n._('Link icon', 'shareMenu.icon.accessibilityLabel.copy', 'Accessibility label for copy link icon'),bgColor:"lightGray",icon:"link",iconColor:"darkGray",size:"xl"})})}),(0,f.jsx)(z,{text:this.props.i18n._('Copy link', 'shareMenu.icon.label.copy', 'Copy link icon')})]});return(0,f.jsxs)(l.xu,{children:[(0,f.jsx)(l.kC,{alignItems:"stretch",justifyContent:"start",overflow:"hidden",children:(0,f.jsxs)(l.xu,{display:"flex",direction:s?"row":void 0,column:s?3:void 0,justifyContent:"start",height:e||s?200:void 0,width:e?370:"100%",marginBottom:-2,marginTop:r?-2:void 0,paddingX:1,paddingY:2,overflow:e||s?void 0:"scrollX",wrap:s||e,children:[i&&n&&(()=>(0,f.jsxs)(L,{children:[(0,f.jsx)(M,{children:(0,f.jsx)(l.iP,{rounding:"circle",onTap:this.onHandleRepinSave,children:(0,f.jsx)(b,{size:D})})}),(0,f.jsx)(z,{text:this.props.i18n._('Save', 'shareMenu.icon.label.save', 'Save')})]}))(),this.renderAppsInCustomOrder({Email:H,Facebook:Z,FBMessenger:O,Line:U,WhatsApp:B,Twitter:N,Viber:K,Telegram:V,CopyLink:$,Sms:W,ShareVia:G})]})}),(0,f.jsx)(l.xu,{height:s?32:16})]})}}function O(e){const t=(0,d.ZP)(),n=(0,C.HG)(),{showToast:i}=(0,A.F9)(),{country:l,locale:o}=(0,p.B)(),s=(0,c.Z)({href:{pathname:`/pin/${e.objectId}/repin`,state:{viewType:e.viewType,viewParameter:e.viewParameter}}}),u=(0,a.useSelector)((({session:e})=>e.userAgentPlatform)),m=u===j.RL||u===j.s4,h=(0,r.Z)(),g=(0,I.Z)(),_=(0,E.D3)();return(0,f.jsx)(M,{...e,country:l,i18n:t,isDesktop:n,locale:o,showToast:i,onNavigation:s,logContextEvent:h,isAppleDevice:m,fetchFreshInviteCode:_,trackInteraction:g})}},9680:(e,t,n)=>{n.d(t,{D3:()=>g,Iz:()=>_,Rh:()=>u,pW:()=>d,sF:()=>p,tA:()=>c});var i,a=n(167912),l=n(690108),o=n(450667),r=n(204125);const s={FBMessenger:6,WhatsApp:10,Facebook:5,Twitter:9,Email:3,Line:8,Telegram:20,Viber:22,Sms:4,CopyLink:12,ShareVia:11};function d({country:e,isDesktop:t,shouldShowNativeShare:n}){const{FBMessenger:i,WhatsApp:a,Facebook:l,Twitter:o,Email:r,Line:d,Telegram:c,Viber:u,Sms:p,CopyLink:m,ShareVia:h}=s;function g(){switch(e){case"US":return t?[a,l,o,r]:[p,i,a,l,o];case"ID":return t?[a,d,r,l]:[a,c,p,d,r,l];case"JP":case"TH":case"TW":return t?[d,o,r,l]:[d,r,p,o,l];case"GR":return t?[a,l,o,r]:[u,i,a,p,l,o];case"IR":case"IQ":return t?[a,l,o,r]:[a,c,p,i,o];case"UA":case"RU":return t?[a,l,o,r]:[a,u,c,l,i,p,o];default:return t?[a,l,o,r]:[a,i,p,l,o]}}return t?[m,...g()]:[...g(),m,...n?[h]:[]]}function c({invitePath:e,inviteTitle:t,objectType:n,i18n:i,isDesktop:a}){let l=i._('A Pin for you', 'shareMenu.message.title', 'Messaging title when sharing a pin to a friend');8===n&&(l=i._('Check out this article on Pinterest!', 'shareMenu.message.title', 'Messaging title when sharing a today article to a friend'));const r=`mailto:?subject=${encodeURIComponent(l)}&body=${encodeURIComponent(e)}`,s=`fb-messenger://share/?link=${encodeURIComponent(e)}&app_id=${o.GH}`,d=`${t}\n${e}`,c=a?`https://twitter.com/intent/tweet?via=pinterest&url=${encodeURIComponent(d)}`:`twitter://post?message=${encodeURIComponent(d)}`,u=a?`https://web.whatsapp.com/send?text=${encodeURIComponent(d)}`:`whatsapp://send?text=${encodeURIComponent(d)}`,p=a?`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(e)}&text=${encodeURIComponent(t)}`:`https://line.me/R/msg/text/?${encodeURIComponent(d)}`,m=`viber://forward?text=${encodeURIComponent(d)}`;return{emailShareLink:r,messengerShareLink:s,twitterShareLink:c,whatsappShareLink:u,lineShareLink:p,telegramShareLink:`tg://msg?text=${encodeURIComponent(d)}`,viberShareLink:m,smsShareLink:`sms:?&body=${encodeURIComponent(d)}`}}function u(e,t,n,i){e&&window.FB&&window.FB.ui&&window.FB.ui({method:"share",mobile_iframe:!0,href:t},(e=>{e&&!e.error_message&&i&&i()}))}function p(e,t,n,i){if(!n||!t)return;const a=new t(n,{text:()=>e});a.on("success",(e=>{i&&i(e)})),a.on("error",(()=>{throw new Error("<ShareMenu /> error: copy command failed")}))}const m=void 0!==i?i:i=n(889424),h=()=>{const e=(0,a.useRelayEnvironment)();return async(t,n,i,l)=>{const o={invite_category:t,invite_object:n,invite_channel:i};return await new Promise(((t,n)=>(0,a.fetchQuery)(e,m,{inviteType:JSON.stringify(o),objectId:l}).subscribe({next:e=>{var n,i,a,l,o,r,s,d,c,u,p,m;return t({inviteCode:null!==(n=null===(i=e.v3InviteUserExternalQuery)||void 0===i||null===(a=i.data)||void 0===a?void 0:a.inviteCode)&&void 0!==n?n:"",invitePath:null!==(l=null===(o=e.v3InviteUserExternalQuery)||void 0===o||null===(r=o.data)||void 0===r?void 0:r.inviteUrl)&&void 0!==l?l:"",title:null!==(s=null===(d=e.v3InviteUserExternalQuery)||void 0===d||null===(c=d.data)||void 0===c?void 0:c.title)&&void 0!==s?s:"",message:null!==(u=null===(p=e.v3InviteUserExternalQuery)||void 0===p||null===(m=p.data)||void 0===m?void 0:m.message)&&void 0!==u?u:""})},error:e=>n(e)})))}};function g(){const e=h();return async(t,n,i)=>await e(3,i,t,n)}async function _({inviteChannel:e,inviteCode:t,objectId:n,objectType:i,component:a,clientTrackingParams:o,logContextEvent:s,view_parameter:d,view_type:c,socialShareComponent:u}){let p,m;s({aux_data:{invite_object:i},object_id_str:n,component:a,clientTrackingParams:o,element:r.cc[e],event_type:102,view_type:c,view_parameter:d}),p=2===i?r.LO:3===i?r.Pu:r.dB,m=14122===a?14312:14123===a?14310:u||a,s({event_type:10399,component:m,object_id_str:n,view_type:c,view_parameter:d,aux_data:{invite_object:i},element:p[e]}),l.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:3,invite_object:i,invite_channel:e},invite_code:t,object_id:n,client_tracking_params:o}).callCreate()}},259501:(e,t,n)=>{n.d(t,{Z:()=>L});var i=n(667294),a=n(883119),l=n(798198),o=n(563962),r=n(536042),s=n(874261),d=n(282802),c=n(611756),u=n(618569),p=n(549201),m=n(272109),h=n(782219),g=n(979275),_=n(971467),y=n(16754),v=n(269758),f=n(871755),b=n(894637),x=n(757551),k=n(916224),P=n(343226),S=n(317218),w=n(320634),T=n(980666),I=n(785893);const A="#ffffff",C="ANIMATE_SHARE",j=()=>{const e=`${C}_default {\n      from: {\n        opacity: 1;\n        visibility:visible;\n      }\n      7% {\n        fill: ${A};\n        opacity: 0;\n        visibility:hidden;\n      }\n      89% {\n        fill: ${A};\n        opacity: 0;\n        visibility:hidden;\n      }\n      93% {\n        opacity: 0.5;\n        visibility:visible;\n      }\n      to {\n        fill: #111111;\n        opacity: 1;\n        visibility:visible;\n      }\n    }`,t=`${C}_upsellApp {\n      from {\n        opacity: 0;\n        fill: ${A};\n      }\n      7% {\n        fill: ${A};\n        transform: scale(1.25);\n        opacity: 1;\n      }\n      11% {\n        transform: scale(1);\n        opacity: 1;\n      }\n      89% {\n        fill: ${A};\n        transform: scale(1);\n        opacity: 1;\n      }\n      93% {\n        transform: scale(1.25);\n        opacity: 1;\n      }\n      to {\n        fill: ${A};\n        opacity: 0;\n      }\n    }`;return(0,l.Ll)([e,t])},E=e=>({animation:`${C}_${e} ${T.zn}ms ease-in-out`,WebkitAnimation:`${C}_${e} ${T.zn}ms ease-in-out`}),R=({children:e,handleShareTap:t,upsellIcon:n})=>{const i=(0,r.ZP)();return n?((0,c.Nh)(T.RV,Date.now()),(0,I.jsxs)(a.xu,{children:[(0,I.jsx)(s.Z,{unsafeCSS:j()}),(0,I.jsxs)(a.xu,{alignItems:"center",justifyContent:"center",display:"flex",width:48,height:48,borderStyle:"none",dangerouslySetInlineStyle:{__style:{borderRadius:"22px",...E("container")}},children:[(0,I.jsx)(a.xu,{position:"absolute",opacity:0,dangerouslySetInlineStyle:{__style:E("upsellApp")},children:(0,I.jsx)(a.iP,{accessibilityLabel:i._('Send', 'Board.Pin.SendButton', 'Accessible label for button to send a pin or a board'),onTap:({event:e})=>t(e),children:n})}),(0,I.jsx)(a.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:E("default")},children:e})]})]})):e},L=({onDefaultSendButtonClick:e,sendButtonColor:t,viewParameter:n})=>{const l=(0,p.HG)(),r=(0,o.Z)(),s=(0,u.Z)(),{country:A,userAgent:{platform:C}}=(0,d.B)(),j=C===h.RL||C===h.s4,[E,L]=(0,i.useState)(),D=(0,_._l)(),{hasSeenAuthMobileLandingToast:F}=(0,_.w2)()||{},z=D&&!F,M=()=>{s({action:"click",item:"share-button"}),r({component:194,element:46,event_type:102,view_type:3,view_parameter:n})};return(0,m.Z)((()=>{if(!l){const e=function({country:e,isAppleDevice:t}){const n=(0,c.qn)(T.RV);if(!(n&&Date.now()-Number(n)<T.bm))switch(Number((0,c.qn)(T.Cq))||T.iS.get(e)||10){case 5:return(0,I.jsx)(v.Z,{size:T.VZ});case 6:return(0,I.jsx)(x.Z,{size:T.VZ});case 8:return(0,I.jsx)(b.Z,{size:T.VZ});case 4:return t?(0,I.jsx)(f.Z,{size:T.VZ}):(0,I.jsx)(a.xu,{"data-test-id":"message-share-button",children:(0,I.jsx)(y.Z,{size:T.VZ})});case 20:return(0,I.jsx)(k.Z,{size:T.VZ});case 9:return(0,I.jsx)(P.Z,{size:T.VZ});case 22:return(0,I.jsx)(S.Z,{size:T.VZ});case 10:return(0,I.jsx)(w.Z,{size:T.VZ})}return null}({country:A,isAppleDevice:j});e&&setTimeout((()=>{L(e)}),T.W_)}})),z?(0,I.jsx)(a.xu,{"data-test-id":"share-button-no-animation",children:(0,I.jsx)(g.Z,{onSendButtonClick:e,trackShareTap:M,color:t})}):(0,I.jsx)(R,{handleShareTap:t=>{M(),e(t)},upsellIcon:E,children:(0,I.jsx)(a.xu,{"data-test-id":"share-button-no-animation",children:(0,I.jsx)(g.Z,{onSendButtonClick:e,trackShareTap:M,color:t})})})}},753081:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),a=n(883119),l=n(563962),o=n(272109),r=n(492291),s=n(387815),d=n(580337),c=n(785893);const u=new a.H3([d.Z]),p=360;function m({anchor:e,onDismiss:t,objectId:n,objectType:d,title:m,component:h,viewType:g,viewParameter:_}){const y=(0,l.Z)(),[v,f]=(0,i.useState)(!1);return(0,o.Z)((()=>{y({event_type:10400,view_type:g,object_id_str:n,component:h,view_parameter:_,element:(0,s.O)(d),aux_data:{invite_object:d}})})),(0,c.jsx)(a.mh,{zIndex:u,children:(0,c.jsx)(a.J2,{anchor:e,onDismiss:()=>{v||y({component:h,event_type:10403,element:13478,view_type:g,view_parameter:_,aux_data:{invite_object:d}}),t()},size:"xl",positionRelativeToAnchor:!1,children:(0,c.jsx)(a.xu,{"data-test-id":"share-menu-container",children:(0,c.jsxs)(a.kC,{alignItems:"center",direction:"column",wrap:!0,width:p,overflow:"hidden",children:[(0,c.jsx)(a.xu,{marginTop:4,marginBottom:4,children:(0,c.jsx)(a.xv,{size:"300",weight:"bold",children:(0,c.jsx)(a.xu,{"data-test-id":"share-send-message",children:m})})}),(0,c.jsx)(a.kC,{width:p,children:(0,c.jsx)(r.Z,{objectId:n,objectType:d,onDismiss:t,setShareSent:e=>f(e),component:h})})]})})})})}},980666:(e,t,n)=>{n.d(t,{B:()=>l,Cq:()=>a,F6:()=>u,RV:()=>i,VZ:()=>o,W_:()=>s,bm:()=>r,iS:()=>p,rO:()=>c,zn:()=>d});const i="animatedShareIconLastViewed",a="lastUsedSocialShare",l="customizedSocialAppOrder",o=44,r=9e5,s=4e3,d=5e3,c=new Set([12,3,11]),u=new Set([11,12]),p=new Map([["AU",6],["CA",6],["DK",6],["DZ",6],["GE",6],["HU",6],["LT",6],["NO",6],["NP",6],["NZ",6],["PH",6],["PL",6],["SK",6],["TN",6],["US",6],["JP",8],["TW",8],["TH",8],["IQ",20],["KH",20],["MM",20],["UZ",20],["BA",22],["BG",22],["BY",22],["CY",22],["GR",22],["MD",22],["RS",22],["UA",22]])},387815:(e,t,n)=>{n.d(t,{O:()=>i});const i=e=>{switch(e){case 2:return 331;case 3:return 12631;default:return 72}}},991319:(e,t,n)=>{n.d(t,{Z:()=>m});var i=n(667294),a=n(867631),l=n.n(a),o=n(883119),r=n(969327),s=n(536042),d=n(282802),c=n(785893);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.PureComponent{constructor(...e){super(...e),u(this,"state",{videoStartTime:0}),u(this,"setVideoPlayerRef",(e=>{const{setVideoRef:t,handlePlay:n,autoplay:i=!0}=this.props;this.videoPlayerRef=e,e&&t&&t(e.video),this.videoPlayerRef&&this.videoPlayerRef.video&&n&&i&&this.videoPlayerRef.video.addEventListener("canplay",(()=>{n({userTriggeredPlay:!1})}))})),u(this,"hls",null),u(this,"initializeHls",(()=>{this.destroyHls();const{src:e}=this.props,t=new(l());l().isSupported()&&!(0,r.G6)(this.props.requestContext.userAgent.browserName)&&(t.loadSource(e),this.videoPlayerRef&&t.attachMedia(this.videoPlayerRef.video)),this.hls=t})),u(this,"destroyHls",(()=>{const{hls:e}=this;e&&e.destroy()})),u(this,"onPlay",(({event:e})=>{const{handlePlay:t}=this.props;e.stopPropagation(),t&&t({userTriggeredPlay:!0})})),u(this,"onPause",(({event:e})=>{const{handlePause:t}=this.props;e.stopPropagation(),t&&t()})),u(this,"handleVolumeChange",(({event:e,volume:t})=>{const{onVolumeChange:n}=this.props;e.stopPropagation(),n&&n({volume:t})})),u(this,"handleOnReady",(e=>{this.props.onReady&&this.props.onReady(e)})),u(this,"handleEnded",(()=>{const{onEnded:e}=this.props;e&&e()})),u(this,"handlePlaying",(()=>{const{clearSeekTime:e}=this.props;e&&e()}))}componentDidMount(){this.initializeHls()}componentWillUnmount(){this.destroyHls()}componentDidUpdate(e){const{activeStreamItemIndex:t,playing:n,src:i,seekTime:a}=this.props;a&&a!==e.seekTime&&this.setState({videoStartTime:a}),t!==e.activeStreamItemIndex&&this.videoPlayerRef&&this.videoPlayerRef.video&&(this.videoPlayerRef.video.currentTime=0),e.src!==i&&(this.initializeHls(),this.hls&&this.hls.on(l().Events.MANIFEST_PARSED,(()=>{void 0!==n&&n&&this.videoPlayerRef&&this.videoPlayerRef.play()})))}render(){const{aspectRatio:e,controls:t,loop:n=!1,poster:i,src:a,onTimeChange:l,playing:r,volume:s}=this.props;return(0,c.jsx)(o.nk,{autoplay:r,playsInline:!0,aspectRatio:e,captions:"",controls:t,loop:n,onControlsPause:this.onPause,onControlsPlay:this.onPlay,onReady:this.handleOnReady,onEnded:this.handleEnded,onVolumeChange:this.handleVolumeChange,onTimeChange:l,onPlay:()=>{},onPlaying:this.handlePlaying,onPlayError:()=>{},playing:r,poster:i,ref:this.setVideoPlayerRef,src:a,startTime:this.state.videoStartTime||void 0,volume:s})}}function m(e){const{clearSeekTime:t,pinId:n="",seekTime:i}=e,a=(0,s.ZP)(),l=(0,d.B)();return(0,c.jsx)(p,{...e,i18n:a,requestContext:l,seekTime:i,clearSeekTime:()=>{t&&t(n)}})}},982043:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var i=n(667294),a=n(991319),l=n(785893);function o(e){const{onReady:t,volume:n}=e,[o,r]=(0,i.useState)(!0),s=(0,i.useCallback)((()=>{r(!1)}),[]),d=(0,i.useCallback)((()=>{r(!0)}),[]);return(0,l.jsx)(a.Z,{...e,handlePause:s,handlePlay:d,onReady:e=>{t&&t(e)},volume:n,playing:o})}},727462:(e,t,n)=>{n.d(t,{D:()=>B,Z:()=>V});var i,a=n(667294),l=n(167912),o=n(616550),r=n(883119),s=n(563962),d=n(377234),c=n(737311),u=n(536042),p=n(898252),m=n(769705),h=n(245410),g=n(282802),_=n(497088),y=n(549201),v=n(802071),f=n(525104),b=n(410834),x=n(467037),k=n(133835),P=n(428876),S=n(196039),w=n(852180),T=n(618569),I=n(936840),A=n(785893);const C=void 0!==i?i:i=n(738319),j=({clickthrough:e,onLoad:t})=>{const n=(0,u.ZP)(),i=(0,T.Z)();return(0,a.useEffect)((()=>{t&&t()}),[t]),(0,A.jsx)(r.xu,{"data-test-id":"idea-pin-section-visit-button",children:(0,A.jsx)(r.iP,{onTap:()=>{i({action:"click",item:"visit-button"}),e()},rounding:"pill",fullWidth:!0,children:(0,A.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"var(--color-gray-roboflow-700)"}},height:S.oe,rounding:S.dX,display:"flex",justifyContent:"center",alignItems:"center",paddingX:S.rM,paddingY:S.Ai,children:(0,A.jsx)(r.xv,{color:"light",weight:"bold",size:"300",children:n._('Visit', 'CloseupStreams.IdeaPinActionBar.visitButton', 'Text on a button that lets users visit the source of the pin')})})})})},E=({clickthroughInterstitialExperience:e,graphqlRef:t,onLoad:n})=>{const i=(0,l.useFragment)(C,t),a=(0,I.It)({clickthroughInterstitialExperience:e,graphqlRef:i});return(0,A.jsx)(j,{clickthrough:a,onLoad:n})},R=({clickthroughInterstitialExperience:e,pinId:t,onLoad:n})=>{const i=(0,I.ZP)({clickthroughInterstitialExperience:e,pinId:t});return(0,A.jsx)(j,{clickthrough:i,onLoad:n})};function L({clickthroughInterstitialExperience:e,pinId:t,graphqlRef:n,onLoad:i}){return n?(0,A.jsx)(E,{graphqlRef:n,clickthroughInterstitialExperience:e,onLoad:i}):(0,A.jsx)(R,{clickthroughInterstitialExperience:e,pinId:t,onLoad:i})}var D,F=n(604851);const z=(0,a.lazy)((()=>Promise.resolve().then(n.bind(n,154500)))),M=(0,a.lazy)((()=>Promise.resolve().then(n.bind(n,879100)))),O=({action:e})=>(0,A.jsx)("button",{style:{background:"transparent",border:"none"},children:(0,A.jsx)(r.kC,{alignContent:"center",alignItems:"center",justifyContent:"center",height:32,children:e})}),B=60,Z=void 0!==D?D:D=n(535424);function N({clientTrackingParams:e,experience:t,pinId:n,pinnedToBoardId:i,viewParameter:l,graphqlRef:m,viewType:f,boardId:T,embedSrc:I,embedType:C,hasRichMetadata:j,hasRichMetadataProducts:E,hasRichMetadataArticle:R,hasRichMetadataRecipe:D,imagesUrls:B,pinnerId:Z,pinSectionId:N,trackingParams:U,isEligibleForAggregatedComments:K,hasLink:V,component:H,attributionLabel:G}){const{isRTL:W}=(0,g.B)(),$=(0,u.ZP)(),q=(0,s.Z)(),Y=(0,v.Z)().isAuth,[X,J]=(0,a.useState)(!1),Q=(0,o.useLocation)(),ee=(0,p.NK)(n,Q),te=(0,y.HG)(),{checkExperiment:ne}=(0,h.F)(),ie=!te&&ne(Y?"closeup_auth_mweb_video_scrubber":"closeup_unauth_mweb_video_scrubber_2").anyEnabled,ae=te?S.hk:S.gx,le=te?S.R_:S.CR,oe=(0,x.Z)({embedSrc:I,embedType:C,imagesUrls:B,pinId:n,pinnerId:Z}),re=(0,b.Z)({embedSrc:I,embedType:C,hasRichMetadata:j,hasRichMetadataProducts:E,hasRichMetadataArticle:R,hasRichMetadataRecipe:D,imagesUrls:B,isStoryPin:!0,pinId:n,attributionLabel:G}),se=(0,k.Z)({boardId:null!=T?T:"",embedSrc:I,embedType:C,imagesUrls:B,pinId:n,pinnerId:null!=Z?Z:"",pinnedToBoardId:i,pinSectionId:N,trackingParams:U,shouldRefresh:!1}),de=(0,d.Yc)()?"darkGray":"white",ce=te?ie?"40px":"11px":"0px",ue=(0,A.jsx)(P.Z,{buttonText:te?"":"Save",clientTrackingParams:e,deeplinkUri:ee.deeplinkUri,isOnIdeaPinCloseup:!0,onTouch:re,onUnsave:se,pinId:n,pinnedToBoardId:i,shouldShowSavedButton:oe,to:ee.mwebUri,viewParameter:l,viewType:f}),{paddingX:pe,paddingY:me}=(0,S._P)(te),he=m?{type:"graphqlRef",data:m}:{type:"deprecated",data:n};return(0,A.jsxs)(r.xu,{"data-test-id":"story-pin-action-bar-mweb",position:"absolute",bottom:!0,right:te&&!W,left:te&&W,marginEnd:te||W?2:0,marginStart:te&&W?2:0,width:te?"initial":"100%",dangerouslySetInlineStyle:{__style:{marginBottom:ce,backgroundColor:te?"transparent":"#000000"}},paddingX:pe,paddingY:me,zIndex:S.lp,children:[(0,A.jsxs)(r.kC,{direction:te?"column":"row",justifyContent:te?"end":"start",alignItems:te?"center":"stretch",width:"100%",gap:te?{row:0,column:2}:void 0,children:[te&&(0,A.jsx)(r.kC,{alignItems:"center",dataTestId:"pin-more-button",justifyContent:"center",height:ae,width:le,children:(0,A.jsx)(r.hU,{size:"lg",accessibilityLabel:$._('more', 'closeup.storyPin.actionBar.contextualMenu', 'Pin more button'),iconColor:de,icon:"ellipsis",onClick:()=>{J(!0),q({component:229,element:10946,event_type:102,view_type:3,view_parameter:157})}})}),Y&&(0,A.jsx)(c.Z,{name:"SafeSuspense_StoryPinActionBar_ReactionPickerContainer",children:(0,A.jsx)(_.Z,{children:te?(0,A.jsx)(r.kC,{alignItems:"center",justifyContent:"center",height:ae,width:le,children:(0,A.jsx)(z,{experience:t,pinId:n,nativePinType:"storyPin",isIdeaPinCloseUp:!0,iconColor:de})}):(0,A.jsx)(a.Fragment,{})})}),(0,A.jsxs)(r.kC,{justifyContent:te?"start":"between",direction:te?"column":"row",flex:te?"none":"grow",children:[(0,A.jsx)(c.Z,{name:"SafeSuspense_CloseupModals_ShareMenu",children:(0,A.jsx)(_.Z,{children:te?(0,A.jsx)(r.kC,{dataTestId:"share-button-container",alignItems:"center",justifyContent:"center",height:ae,width:le,children:(0,A.jsx)(F.Z,{pinId:n,iconSize:"lg",iconColor:de,viewParameter:l,clientTrackingParams:e,viewType:f,component:H})}):K&&(0,A.jsx)(O,{action:(0,A.jsx)(M,{pinId:n,pinKey:he,viewParameter:l})})})}),!te&&(0,A.jsxs)(r.kC,{gap:2,children:[V&&(0,A.jsx)(r.xu,{display:"flex","data-test-id":"streams-visit-text-btn",alignItems:"center",justifyContent:"center",height:ae,children:(0,A.jsx)(L,{pinId:n,graphqlRef:m})}),(0,A.jsx)(r.xu,{display:"flex","data-test-id":"streams-save-text-btn",alignItems:"center",justifyContent:"center",height:ae,children:ue})]}),(0,A.jsx)(c.Z,{name:"SafeSuspense_StoryPinActionBar_CommentThreadContainer",children:(0,A.jsx)(_.Z,{children:te?K&&(0,A.jsx)(r.kC,{alignItems:"center",justifyContent:"center",height:ae,width:le,dataTestId:"comment-button-container",children:(0,A.jsx)(M,{pinId:n,pinKey:he,viewParameter:l})}):(0,A.jsx)(O,{action:(0,A.jsx)(F.Z,{pinId:n,iconSize:"md",iconColor:de,viewParameter:l,clientTrackingParams:e,viewType:f,component:H})})})})]}),te&&(0,A.jsx)(r.xu,{display:"flex","data-test-id":"streams-save-text-btn",alignItems:"center",justifyContent:"center",height:ae,children:ue})]}),X&&(0,A.jsx)(w.Z,{onDismiss:()=>J(!1),pinId:n})]})}function U({graphqlRef:e,...t}){var n,i,a,r,s,d,c,u,p,h,g;const _=(0,l.useFragment)(Z,e),y=(0,m.Z)({type:"graphqlRef",data:_}),v=(0,o.useLocation)();return(0,A.jsx)(N,{...t,boardId:null===(n=_.board)||void 0===n?void 0:n.entityId,embedSrc:null===(i=_.embed)||void 0===i?void 0:i.src,embedType:null===(a=_.embed)||void 0===a?void 0:a.type,graphqlRef:_,hasLink:!!_.link&&!_.link.startsWith("https://i.pinimg.com"),hasRichMetadata:Boolean(_.richMetadata),hasRichMetadataProducts:Boolean(null===(r=_.richMetadata)||void 0===r?void 0:r.products),hasRichMetadataArticle:Boolean(null===(s=_.richMetadata)||void 0===s?void 0:s.article),hasRichMetadataRecipe:Boolean(null===(d=_.richMetadata)||void 0===d?void 0:d.recipe),imagesUrls:y,isEligibleForAggregatedComments:null===(c=_.isEligibleForAggregatedComments)||void 0===c||c,pinnedToBoardId:null===(u=_.pinnedToBoard)||void 0===u?void 0:u.entityId,pinnerId:null===(p=_.pinner)||void 0===p?void 0:p.entityId,pinSectionId:null===(h=_.section)||void 0===h?void 0:h.entityId,trackingParams:_.trackingParams,attributionLabel:null===(g=v.state)||void 0===g?void 0:g.attributionLabel})}function K(e){var t,n,i,a,l,r,s,d,c,u,p;const h=(0,f.S6)()(e.pinId),g=null==h||null===(t=h.board)||void 0===t?void 0:t.id,_=(0,o.useLocation)(),y=(0,m.Z)({type:"deprecated",data:h});return(0,A.jsx)(N,{...e,boardId:g,embedSrc:null==h||null===(n=h.embed)||void 0===n?void 0:n.src,embedType:null==h||null===(i=h.embed)||void 0===i?void 0:i.type,hasLink:!(null==h||!h.link||h.link.startsWith("https://i.pinimg.com")),hasRichMetadata:Boolean(null==h?void 0:h.rich_metadata),hasRichMetadataProducts:Boolean(null==h||null===(a=h.rich_metadata)||void 0===a?void 0:a.products),hasRichMetadataArticle:Boolean(null==h||null===(l=h.rich_metadata)||void 0===l?void 0:l.article),hasRichMetadataRecipe:Boolean(null==h||null===(r=h.rich_metadata)||void 0===r?void 0:r.recipe),imagesUrls:y,isEligibleForAggregatedComments:null!==(s=null==h?void 0:h.is_eligible_for_aggregated_comments)&&void 0!==s&&s,pinnedToBoardId:null==h||null===(d=h.pinned_to_board)||void 0===d?void 0:d.id,pinnerId:null==h||null===(c=h.pinner)||void 0===c?void 0:c.id,pinSectionId:null==h||null===(u=h.section)||void 0===u?void 0:u.id,trackingParams:null==h?void 0:h.tracking_params,attributionLabel:null===(p=_.state)||void 0===p?void 0:p.attributionLabel,graphqlRef:null})}function V({graphqlRef:e,...t}){return e?(0,A.jsx)(U,{graphqlRef:e,...t}):(0,A.jsx)(K,{...t})}},852180:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(883119),a=n(88622),l=n(536042),o=n(251951),r=n(393786),s=n(785893);function d({onDismiss:e,pinId:t}){const n=(0,l.ZP)(),d=(0,o.R)();return(0,s.jsx)(a.ZP,{accessibilityModalLabel:"",mobileAccessibilityCloseIconLabel:n._('close report modal', ' - ', ' -- '),onDismiss:e,type:"closeup_page",children:(0,r.E)(d)&&(0,s.jsx)(i.xu,{padding:3,children:(0,s.jsx)(r.Z,{isIdeaPin:!0,nativePinType:"storyPin",textSize:"300",onDismiss:e,graphqlRef:null,pinId:t})})})}},989282:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),a=n(150875),l=n(982043),o=n(727462),r=n(785893);const s=e=>{const{media:t,altImageText:n,dominantColor:s="#000000",pageType:d,isVideo:c}=e,{windowHeight:u,windowWidth:p}=(0,a.Z)(),m=u-o.D,h=Math.min(16*p/9,m)/p;if(!(t||null!=t&&t.width))return null;return(0,r.jsx)(i.xu,{height:"100%",width:"100%",position:"relative",overflow:"hidden",children:c?(()=>{if(!t.video_list||!t.video_list.V_HLSV3_MOBILE)return null;const{width:e,height:n,thumbnail:a,url:o}=t.video_list.V_HLSV3_MOBILE;return(0,r.jsx)(i.xu,{position:"absolute",width:"100%",dangerouslySetInlineStyle:{__style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},children:(0,r.jsx)(l.default,{aspectRatio:(null!=e?e:1)/(null!=n?n:1),controls:!0,poster:a,src:null!=o?o:""})})})():(()=>{var e,a;if(!t.width)return null;const l="number"==typeof t.height&&"number"==typeof t.width?t.height/t.width:1;let o="contain";return("cover"===d||l>h)&&(o="cover"),(0,r.jsx)(i.Ee,{alt:n,color:s,fit:o,naturalHeight:null!==(e=t.height)&&void 0!==e?e:1,naturalWidth:t.width,src:null!==(a=t.url)&&void 0!==a?a:""})})()})}},763165:(e,t,n)=>{n.d(t,{Z:()=>j});var i=n(167912),a=n(883119),l=n(662955),o=n(463031),r=n(99220),s=n(212380),d=n(525104),c=n(989282),u=n(667294),p=n(460914),m=n(196039),h=n(563962),g=n(536042),_=n(785893);const y=({blockImage:e,text:t})=>{const n=(0,g.ZP)();var i,l;return e&&e.url?(0,_.jsx)(a.Ee,{fit:"cover",src:e.url,alt:t,naturalHeight:null!==(i=e.height)&&void 0!==i?i:1,naturalWidth:null!==(l=e.width)&&void 0!==l?l:1}):(0,_.jsx)(a.JO,{dangerouslySetSvgPath:{__path:"M21.001,7.241 L16.948,11.293 L15.888,10.233 L16.56,9.561 C17.146,8.976 17.146,8.026 16.56,7.44 C15.974,6.855 15.024,6.855 14.439,7.44 L13.768,8.112 L12.707,7.052 L16.759,3 L21.001,7.241 Z M11.293,16.949 L7.241,21.001 L2.999,16.76 L7.052,12.707 L8.111,13.767 L7.44,14.439 C6.855,15.025 6.855,15.974 7.44,16.56 C8.025,17.146 8.976,17.145 9.561,16.56 L10.232,15.888 L11.293,16.949 Z M14.639,0.879 L10.586,4.931 C9.415,6.102 9.415,8.001 10.586,9.173 L11.647,10.233 L10.232,11.647 L9.172,10.586 C8.001,9.415 6.102,9.415 4.931,10.586 L0.879,14.638 C-0.293,15.81 -0.293,17.709 0.879,18.88 L5.12,23.122 C6.291,24.293 8.19,24.293 9.361,23.122 L13.414,19.07 C14.585,17.898 14.585,15.999 13.414,14.828 L12.354,13.767 L13.768,12.354 L14.828,13.414 C15.999,14.585 17.898,14.585 19.069,13.414 L23.121,9.362 C24.293,8.191 24.293,6.292 23.121,5.12 L18.88,0.879 C17.709,-0.293 15.81,-0.293 14.639,0.879 Z"},accessibilityLabel:n._('Default link block icon', 'Icon for default link blocks without an image', 'Icon for default link blocks without an image'),color:"subtle",size:35})};class v extends u.Component{constructor(...e){var t,n,i;super(...e),i=e=>{e.stopPropagation();const{block:t,logContextEvent:n,pageId:i}=this.props,{src_url:a="",canonical_url:l=""}=t;n({view_type:3,component:228,view_parameter:157,element:11157,event_type:102,aux_data:{story_pin_page_id:i,src_url:a,canonical_url:l}})},(n="onTouch")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}componentDidMount(){this.props.logContextEvent({event_type:120,view_type:3,component:228,view_parameter:157,element:11157})}render(){var e;const{block:t}=this.props;if(t.type!==m.h8.LINK)return null;const{image:n,text:i="",normalized_url:l,src_url:o}=t,r=null==n||null===(e=n.images)||void 0===e?void 0:e["345x"],s=o||"";return(0,_.jsx)(a.iP,{role:"link",target:"blank",rel:"nofollow",href:s,tapStyle:"compress",rounding:2,onTap:({event:e})=>this.onTouch(e),children:(0,_.jsxs)(a.xu,{display:"flex",rounding:2,overflow:"hidden",alignItems:"center",borderStyle:"sm",children:[(0,_.jsx)(a.xu,{minWidth:48,width:48,height:48,flex:"none",display:"flex",alignItems:"center",justifyContent:"center",dangerouslySetInlineStyle:{__style:{borderRight:"1px solid lightGray"}},children:(0,_.jsx)(y,{blockImage:r,text:i})}),(0,_.jsxs)(a.xu,{paddingX:5,flex:"grow",overflow:"hidden",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}},children:[(0,_.jsx)(a.xv,{size:"100",lineClamp:1,weight:"bold",children:i}),(0,_.jsx)(a.xv,{color:"shopping",size:"100",children:l})]})]})})}}function f(e){const t=(0,h.Z)();return(0,_.jsx)(v,{...e,logContextEvent:t})}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class x extends u.PureComponent{constructor(...e){super(...e),b(this,"state",{isTextDrawerExpanded:!1}),b(this,"toggleIsTextDrawerExpanded",(e=>{e.stopPropagation();const{isTextDrawerExpanded:t}=this.state;this.setState({isTextDrawerExpanded:!t})})),b(this,"renderBlock",((e,t,n)=>{const{isTextDrawerExpanded:i}=this.state;switch(e.type){case m.h8.HEADING:return(0,_.jsxs)(a.xu,{display:"flex",justifyContent:"between",marginBottom:2,children:[(0,_.jsx)(a.xu,{maxWidth:"90%",children:(0,_.jsx)(a.X6,{color:"default",size:"500",overflow:"normal",children:e.text})}),(0,_.jsx)(a.JO,{accessibilityLabel:i?"hide":"expand",color:"default",icon:i?"arrow-down":"arrow-up"})]},t);case m.h8.PARAGRAPH:return(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:(0,_.jsx)(a.xv,{color:"default",children:e.text})},t);case m.h8.LINK:return(0,_.jsx)(a.xu,{marginTop:6,children:(0,_.jsx)(f,{block:e,pageId:n})},t);default:return null}}))}render(){const{associatedText:e,pageId:t}=this.props,{isTextDrawerExpanded:n}=this.state,i=(null!=e?e:[]).map(((e,n)=>this.renderBlock(e,n,t))).filter((e=>null!==e));return i.length?(0,_.jsx)(p.Z,{onTouch:this.toggleIsTextDrawerExpanded,pressState:"none",children:(0,_.jsx)(a.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderRadius:"40px 40px 0px 0px"}},height:n?void 0:132,left:!0,minHeight:n?132:void 0,maxHeight:n?"80%":void 0,overflow:n?"auto":"hidden",padding:6,position:"absolute",right:!0,children:i})}):null}}const k=x;var P,S=n(128314);const w=void 0!==P?P:P=n(88960),T=({onLastPage:e,textOnly:t,dominantColor:n,images:i,blocks:l,pageId:o,video:s,hasImageAdjusted:d})=>{var u;const p=s||(null==i?void 0:i["750x"])||(null==i?void 0:i["236x"])||(null==i?void 0:i["1200x"])||(null==i?void 0:i.originals),m=(null!==(u=null==l?void 0:l.length)&&void 0!==u?u:0)>0,h=m&&null!=l&&l[0].text?l[0].text:"";return(0,_.jsx)(r.Z,{view:3,viewParameter:157,component:228,auxData:{story_pin_page_id:o},children:(0,_.jsxs)(a.xu,{width:"100%",height:"100%",children:[!t&&(0,_.jsx)(c.Z,{altImageText:h,isVideo:!!s,media:p,pageType:"media",dominantColor:null!=n?n:void 0}),e&&(0,_.jsx)(a.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0, 0.7)"}}}),m&&!d&&!e&&(0,_.jsx)(k,{associatedText:null!=l?l:void 0,pageId:null!=o?o:void 0})]})})},I=({page:e})=>{var t,n,i,a,r;if(!e)return null;const s=e.video?{video_list:e.video.videoList?{V_HLSV3_MOBILE:e.video.videoList.vHLSV3MOBILE?{width:null!==(t=e.video.videoList.vHLSV3MOBILE.width)&&void 0!==t?t:void 0,height:null!==(n=e.video.videoList.vHLSV3MOBILE.height)&&void 0!==n?n:void 0,thumbnail:null!==(i=e.video.videoList.vHLSV3MOBILE.thumbnail)&&void 0!==i?i:void 0,url:null!==(a=e.video.videoList.vHLSV3MOBILE.url)&&void 0!==a?a:void 0}:void 0}:void 0}:void 0,d=(0,l.g)(e),c=(null!==(r=e.blocks)&&void 0!==r?r:[]).reduce(((e,t)=>{if(4===t.blockType){var n,i,a,l;const r={block_type:4,type:o.h8.LINK,text:null!==(n=t.text)&&void 0!==n?n:void 0,src_url:null!==(i=t.srcUrl)&&void 0!==i?i:void 0,canonical_url:null!==(a=t.canonicalUrl)&&void 0!==a?a:void 0,normalized_url:null!==(l=t.normalizedUrl)&&void 0!==l?l:void 0,image:void 0};return[...e,r]}return e}),[]);return{blocks:null!=d&&d.length||c.length?[...null!=d?d:[],...null!=c?c:[]]:null,video:s}};function A({pageId:e,graphqlRef:t,onLastPage:n,textOnly:a}){var l,o,r,d,c;const u=(null!==(l=null===(o=(0,i.useFragment)(w,t).storyPinData)||void 0===o?void 0:o.pages)&&void 0!==l?l:[]).find((t=>t.storyPageId===e)),p=null!==(r=null!==(d=null==u?void 0:u.dominantColorAdjusted)&&void 0!==d?d:null==u?void 0:u.dominantColor)&&void 0!==r?r:"",{imageImages:m,imageAdjustedImages:h,hasImageImages:g,hasImageAdjustedImages:y}=(0,S.Z)(u)||Object.freeze({});if(!u)return null;const v=!!u.dominantColorAdjusted||y,f=v?h:m;if(!(!!u.dominantColor||g||v||u.video||a))return(0,_.jsx)(s.Z,{});const{blocks:b,video:x}=null!==(c=I({page:u}))&&void 0!==c?c:Object.freeze({});return(0,_.jsx)(T,{dominantColor:p,images:f,hasImageAdjusted:v,pageId:u.storyPageId,blocks:b,video:x,onLastPage:n,textOnly:a})}function C({pageId:e,pinId:t,textOnly:n,onLastPage:i}){var a,l;const o=(0,d.S6)()(null!=t?t:""),r=(null!==(a=null==o||null===(l=o.story_pin_data)||void 0===l?void 0:l.pages)&&void 0!==a?a:[]).find((t=>t.id===e)),{image:c,image_adjusted:u,blocks:p,video:m,id:h}=r||Object.freeze({}),{dominant_color:g,images:y}=u||c||Object.freeze({});return c||m||n?(0,_.jsx)(T,{dominantColor:g,images:y,blocks:p,hasImageAdjusted:!!u,pageId:h,video:m,onLastPage:i,textOnly:n}):(0,_.jsx)(s.Z,{})}function j({pageId:e,pinId:t,graphqlRef:n,...i}){return n?(0,_.jsx)(A,{graphqlRef:n,pageId:e,...i}):(0,_.jsx)(C,{pageId:e,pinId:t,...i})}},846828:(e,t,n)=>{n.d(t,{Z:()=>k});var i,a=n(667294),l=n(167912),o=n(883119),r=n(388011),s=n(88622),d=n(536042),c=n(874261),u=n(245410),p=n(549201),m=n(802071),h=n(525104),g=n(196039),_=n(785893);const y=void 0!==i?i:i=n(624937),v=({children:e,handleCloseModal:t})=>{const n=(0,p.HG)(),i=(0,d.ZP)();return n?(0,_.jsx)(s.ZP,{accessibilityModalLabel:i._('Artist and song title for this Pin', 'web.closeup.musicAttibutionModal', 'Artist and song title for Pin music attribution'),heading:(0,_.jsxs)(o.kC,{justifyContent:"between",children:[(0,_.jsx)(o.X6,{size:"500",children:i._('Playlist for this video', 'web.closeup.musicAttibutionModal.heading', 'Title for music attribution modal')}),(0,_.jsx)(o.hU,{accessibilityLabel:i._('Close modal button', 'web.closeup.musicAttibutionModal.closeButton', 'Close modal button for music attribution modal'),bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"})]}),onDismiss:t,children:e}):(0,_.jsx)(o.mh,{zIndex:g.lp,children:(0,_.jsx)(o.Io,{heading:i._('Playlist for this video', 'mWeb.closeup.musicAttibutionModal.heading', 'Title for music attribution modal'),onDismiss:t,children:e})})},f=({musicAttributions:e,pageMusicBlockAudioArtistName:t,pageMusicBlockAudioTitle:n,playbackHandlers:i,shouldMute:l,viewParameter:s})=>{const h=(0,d.ZP)(),{logContextEvent:g}=(0,r.v)(),{checkExperiment:y}=(0,u.F)(),f=(0,p.ZP)(),b=(0,m.Z)(),x=y("mweb_music_compliance_muting_attribution").anyEnabled,k="desktop"!==f&&y(b.isAuth?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,[P,S]=(0,a.useState)(!1),w=new o.Ry(6);if((0,a.useEffect)((()=>{(null!=e&&e.length||l)&&e&&x&&g({event_type:l?14600:14601,view_type:3,view_parameter:s})}),[x,g,e,l,s]),!(null!=e&&e.length||l))return null;const{handlePause:T,handlePlay:I}=i||{},A="-100%";let C=null;if(l)C=h._('Audio not available in your location', 'closeup.storyPin.musicAttribution', 'Informational message to tell user audio is not available in their location');else{const e=null!=t?t:"",i=null!=n?n:"";C=e&&i?`${e} - ${i}`:""}if(x&&1===(null==e?void 0:e.length)){const t=e[0],{artist:n="",title:i=""}=t;C=n&&i?`${n} - ${i}`:""}const j=e&&e.length>=2?(0,_.jsx)(o.xu,{children:(0,_.jsx)(o.iP,{fullHeight:!0,fullWidth:!0,onTap:()=>{null==T||T(),S(!0)},children:(0,_.jsxs)(o.kC,{alignItems:"center",justifyContent:k?"center":"start",children:[(0,_.jsx)(o.xu,{marginEnd:2,children:(0,_.jsx)(o.JO,{inline:!0,accessibilityLabel:h._('Music icon', 'mWeb.closeup.storypin.musicicon', 'Artist and song title for idea pin music attribution'),color:"light",icon:l?"music-off":"music-on",size:12})}),(0,_.jsx)(o.xv,{inline:!0,color:"light",overflow:"noWrap",size:"100",children:h._('View the playlist', 'mWeb.closeup.musicAttibutionModal.entryPoint', 'Entry point for playlist modal')})]})})}):(0,_.jsxs)(a.Fragment,{children:[(0,_.jsx)(o.JO,{inline:!0,accessibilityLabel:h._('Music icon', 'mWeb.closeup.storypin.musicicon', 'Music icon for idea pin music attribution'),color:"light",icon:l?"music-off":"music-on",size:12}),(0,_.jsx)(o.xu,{marginStart:2,overflow:"hidden",children:(0,_.jsxs)("span",{className:C.length>=50?"marquee":void 0,style:{display:"inline-block",maxWidth:C.length>=50?"260px":void 0},children:[(0,_.jsx)(o.xv,{inline:!0,color:"light",overflow:"noWrap",size:"100",children:C}),(0,_.jsx)(c.Z,{unsafeCSS:`\n                  .marquee {\n                   animation: marquee 10s linear infinite;\n                   animation-delay: 2s;\n                  }\n\n                  .marquee:hover {\n                      animation-play-state: paused;\n                  }\n\n                 @keyframes marquee {\n                   0% {\n                     transform: translateX(0%);\n                    }\n                  50% {\n                    transform: translateX(${A});\n                  }\n                  100% {\n                    transform: translateX(0%);\n                  }\n              }\n            `})]})})]});return(0,_.jsx)(o.xu,{"data-test-id":"music-attribution",alignItems:"center",display:"flex",justifyContent:"start",overflow:"hidden",zIndex:w,children:l?(0,_.jsx)(a.Fragment,{children:(0,_.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,_.jsx)(o.xu,{marginEnd:2,children:(0,_.jsx)(o.JO,{inline:!0,accessibilityLabel:h._('Music icon', 'mWeb.closeup.storyPin.musicMutedIcon', 'Music muted icon for idea pin music attribution'),color:"light",icon:"music-off",size:12})}),(0,_.jsx)(o.xv,{inline:!0,color:"light",overflow:"noWrap",size:"100",children:h._('Audio not available in your location', 'closeup.storyPin.musicAttribution', 'Informational message to tell user audio is not available in their location')})]})}):(0,_.jsxs)(a.Fragment,{children:[x?j:(0,_.jsxs)(o.kC,{gap:{row:1,column:0},justifyContent:"center",children:[(0,_.jsx)(o.JO,{icon:l?"music-off":"music-on",size:12,inline:!0,accessibilityLabel:h._('Artist and song title for this Pin', 'mWeb.closeup.storypin.musicicon', 'Artist and song title for idea pin music attribution'),color:"light"}),(0,_.jsx)(o.xu,{overflow:"hidden",children:(0,_.jsxs)("span",{className:C.length>50?"marquee":void 0,style:{display:"inline-block",maxWidth:C.length>50?"260px":void 0},children:[(0,_.jsx)(o.xv,{inline:!0,color:"light",size:"100",overflow:"noWrap",children:C}),(0,_.jsx)(c.Z,{unsafeCSS:`\n                  .marquee {\n                    animation: marquee 10s linear infinite;\n                    animation-delay: 2s;\n                  }\n\n                  .marquee:hover {\n                    animation-play-state: paused;\n                  }\n\n                  @keyframes marquee {\n                    0% {\n                      transform: translateX(0%);\n                    }\n                    50% {\n                      transform: translateX(${A});\n                    }\n                    100% {\n                      transform: translateX(0%);\n                    }\n                  }\n            `})]})})]}),P&&(0,_.jsx)(v,{handleCloseModal:()=>{null==I||I(),S(!1)},children:(0,_.jsx)(o.xu,{paddingX:5,marginBottom:5,paddingY:1,children:null==e?void 0:e.map((({isrc:e,thumbnailImageUrl:t,thumbnail_image_url:n,title:i,artist:a})=>(0,_.jsxs)(o.xu,{display:"flex",padding:1,children:[(0,_.jsx)(o.xu,{color:"darkWash",height:60,rounding:7,width:60,children:(0,_.jsx)(o.Ee,{alt:h._('Image of album art', 'mWeb.closeup.musicAttibutionModal.albumArt', 'Alt text for image of album art for associated song'),color:"darkWash",naturalWidth:1,naturalHeight:1,src:t||n||""})}),(0,_.jsxs)(o.xu,{display:"flex",direction:"column",justifyContent:"center",paddingX:2,children:[(0,_.jsx)(o.xv,{weight:"bold",children:i}),(0,_.jsx)(o.xv,{size:"100",children:a})]})]},e)))})})]})})};function b({activePageIndex:e,graphqlRef:t,...n}){var i;const a=(0,l.useFragment)(y,t),o=null==a?void 0:a.storyPinData,r=e||0===e?null==o||null===(i=o.pages)||void 0===i?void 0:i[e]:null;let s,d=!1;return o&&r?(d=r.shouldMute||!1,s=r.musicAttributions):(d=(null==a?void 0:a.shouldMute)||!1,s=null==a?void 0:a.musicAttributions),(0,_.jsx)(f,{...n,musicAttributions:s,shouldMute:d,graphqlRef:null})}function x({activePageIndex:e,pinId:t,...n}){var i;const a=(0,h.S6)()(t),l=null==a?void 0:a.story_pin_data,o=e||0===e?null==l||null===(i=l.pages)||void 0===i?void 0:i[e]:null;let r,s=!1;return l&&o?(s=o.should_mute||!1,r=o.music_attributions):(s=(null==a?void 0:a.should_mute)||!1,r=null==a?void 0:a.music_attributions),(0,_.jsx)(f,{...n,musicAttributions:r,shouldMute:s,graphqlRef:null})}function k({graphqlRef:e,...t}){return e?(0,_.jsx)(b,{graphqlRef:e,...t}):(0,_.jsx)(x,{graphqlRef:null,...t})}},604851:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),a=n(883119),l=n(536042),o=n(466946),r=n(549201),s=n(802071),d=n(196039),c=n(785893);const u=(0,i.lazy)((()=>Promise.all([n.e(68138),n.e(44997)]).then(n.bind(n,520009)))),p=({pinId:e,iconColor:t,iconSize:n,clientTrackingParams:p,viewType:m,viewParameter:h,component:g})=>{var _;const y=(0,l.ZP)(),{isAuth:v}=(0,s.Z)(),{hideUnauthSharingModals:f}=null!==(_=(0,o.l)())&&void 0!==_?_:Object.freeze({}),[b,x]=(0,i.useState)(!1),k=(0,r.HG)(),P=()=>x(!0),S=()=>{x(!1),v||null==f||f()};return(0,c.jsxs)(i.Fragment,{children:[k?(0,c.jsx)(a.hU,{accessibilityLabel:y._('Share Pin', 'closeup.storyPin.actionBar.sharePin', 'Share pin entry point'),icon:"share",size:n||"lg",iconColor:t||"white",onClick:b?S:P}):(0,c.jsx)(a.iP,{accessibilityLabel:y._('share', 'closeup.storyPin.actionBar.shareButton', 'Share entry point'),onTap:P,children:(0,c.jsx)(a.xu,{"data-test-id":"share-button-container",minHeight:d.gx,minWidth:d.CR,dangerouslySetInlineStyle:{__style:{WebkitMaskImage:'url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTguMzI2MjEgNi4zODY2N0w3LjM0NjIxIDcuMzY4MzNDNi42OTYyMSA4LjAxOTE3IDUuNjQxMjEgOC4wMjA4MyA0Ljk4ODcxIDcuMzdDNC4zMzc4NyA2LjcyIDQuMzM3MDQgNS42NjUgNC45ODcwNCA1LjAxMzMzTDkuOTkwMzcgMEwxNS4wMTEyIDUuMDEwODNDMTUuNjYyIDUuNjYxNjcgMTUuNjYyOSA2LjcxNjY3IDE1LjAxMjkgNy4zNjgzM0MxNC4zNjI5IDguMDE5MTcgMTMuMzA3OSA4LjAyMDgzIDEyLjY1NjIgNy4zN0wxMS42NTk1IDYuMzc1ODNWMTEuNTI0MkMxMS42NTk1IDEyLjQ0NDIgMTAuOTEyOSAxMy4xOTA4IDkuOTkyODcgMTMuMTkwOEM5LjA3MjA0IDEzLjE5MDggOC4zMjYyMSAxMi40NDQyIDguMzI2MjEgMTEuNTI0MlY2LjM4NjY3WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTE1LjgzMzQgMTMuMzMzNUMxNS44MzM0IDEyLjQxMzUgMTYuNTggMTEuNjY2OCAxNy41IDExLjY2NjhDMTguNDIgMTEuNjY2OCAxOS4xNjY3IDEyLjQxMzUgMTkuMTY2NyAxMy4zMzM1VjE4LjMzMzVDMTkuMTY2NyAxOS4yNTM1IDE4LjQyIDIwLjAwMDIgMTcuNSAyMC4wMDAySDIuNTAwMDRDMS41ODAwNCAyMC4wMDAyIDAuODMzMzc0IDE5LjI1MzUgMC44MzMzNzQgMTguMzMzNVYxMy4zMzM1QzAuODMzMzc0IDEyLjQxMzUgMS41ODAwNCAxMS42NjY4IDIuNTAwMDQgMTEuNjY2OEMzLjQyMDA0IDExLjY2NjggNC4xNjY3MSAxMi40MTM1IDQuMTY2NzEgMTMuMzMzNVYxNi42NjY4SDE1LjgzMzRWMTMuMzMzNVoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=")',WebkitMaskRepeat:"no-repeat",WebkitMaskPosition:"center",background:"white"}}})}),(0,c.jsx)(u,{objectType:1,isOpen:b,onDismiss:S,objectId:e,hideContactsSuggestions:!v,clientTrackingParams:p,element:10942,viewType:m,viewParameter:h,component:g})]})}},896507:(e,t,n)=>{n.d(t,{Z:()=>Oe});var i,a=n(667294),l=n(167912),o=n(883119),r=n(319828),s=n(633917),d=n(282802),c=n(463031),u=n(549201),p=n(196039),m=n(616550),h=n(340906),g=n(123228),_=n(563962),y=n(870243),v=n(536042),f=n(630089),b=n(819079),x=n(599226),k=n(551897),P=n(802071),S=n(219236),w=n(638136),T=n(525104),I=n(785893);const A=void 0!==i?i:i=n(464442);function C({elementType:e,onFlyoutClose:t,onFlyoutOpen:n,pinId:i,tooltipElementType:l,videoProgressInfo:r,title:s,hasPrice:d,imageUrl:c,productCurrentPrice:u,pinCreator:T,blockStyleRotation:A,blockEndTime:C,blockErrorMessage:j,blockInteractiveStickerType:E,blockIsRemoved:R,blockIsValid:L,blockStartTime:D,blockTypeIdentifier:F,stickerDataQuestionCommentId:z,stickerDataBoardId:M,blockUserImageUrl:O,blockUserFullName:B,blockUserUsername:Z}){const N=(0,v.ZP)(),U=(0,P.Z)(),[K,V]=(0,a.useState)(!1),H=(0,a.useRef)(),G=(0,m.useHistory)(),W=(0,_.Z)(),$=(0,h.Z)(),q=(0,x.Z)(),Y=L&&5===E&&!!M,X=(0,b.Z)(Y?{name:"BoardResource",options:{field_set_key:"tagged_board_preview",board_id:M}}:null),J=L&&7===E&&!!z,Q=(0,w.Z)(),{is_collaborative:ee,pin_count:te,url:ne}=X.data||{};let ie=null;F===p.h8.PRODUCT_STICKER?ie=i?`/pin/${i}/`:"/":F===p.h8.MENTION_STICKER?ie=`/${null!=Z?Z:""}/`:Y&&(ie=X.isLoaded?`${ne}`:null);const{currentTime:ae}=r||{},le=!(0,k.Z)({currentTime:ae,endTime:C,startTime:D}),[oe,re]=(0,a.useState)(!1);(0,a.useEffect)((()=>{le&&V(!1)}),[le]);const se=()=>{W({event_type:123,view_type:3,view_parameter:157,component:228,element:l}),V(!1),t&&t()},de=()=>{let e=null;switch(F){case p.h8.PRODUCT_STICKER:const t=40;e=(0,I.jsxs)(a.Fragment,{children:[(0,I.jsx)(o.xu,{flex:"none",children:(0,I.jsx)(o.zd,{wash:!0,height:t,width:t,rounding:3,children:(0,I.jsx)(o.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:c||""})})}),(0,I.jsx)(o.xu,{flex:"grow",paddingX:2,children:d?(0,I.jsxs)(o.kC,{alignContent:"center",alignItems:"stretch",direction:"column",flex:"grow",justifyContent:"center",children:[(0,I.jsx)(o.xv,{size:"100",lineClamp:1,weight:"bold",color:"shopping",children:u}),(0,I.jsx)(o.xv,{size:"100",lineClamp:1,children:s})]}):(0,I.jsx)(o.xv,{size:"100",lineClamp:1,children:s})}),(0,I.jsx)(o.xu,{flex:"none",children:(0,I.jsx)(o.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]});break;case p.h8.MENTION_STICKER:e=(0,I.jsxs)(a.Fragment,{children:[(0,I.jsx)(o.xu,{flex:"none",children:(0,I.jsx)(y.qE,{size:"sm",name:null!=B?B:"",src:null!=O?O:void 0})}),(0,I.jsx)(o.xu,{flex:"grow",paddingX:2,children:(0,I.jsx)(o.xv,{weight:"bold",size:"200",lineClamp:1,children:B})}),(0,I.jsx)(o.xu,{flex:"none",children:(0,I.jsx)(o.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]});break;case p.h8.GENERIC_STICKER:e=L?Y?X.isLoaded?(0,I.jsxs)(a.Fragment,{children:[(0,I.jsxs)(o.xu,{flex:"grow",paddingX:2,children:[(0,I.jsx)(o.xv,{weight:"bold",size:"100",lineClamp:1,children:ee?N._('Explore this group board', 'closeup.StoryPin.stickerBlock.boardSticker.clickLabel', 'Label explaining click action when group board tag flyout showing'):N._('Explore this board', 'closeup.StoryPin.stickerBlock.boardSticker.clickLabel', 'Label explaining click action when board tag flyout showing')}),(0,I.jsx)(o.xv,{size:"100",children:(!!te||0===te)&&(0,f.nk)(N.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', te, 'closeup.StoryPin.stickerBlock.boardSticker.boardLabel', 'Caption when board tag flyout that showing number of Pins on board'),{pinCount:te})})]}),(0,I.jsx)(o.xu,{flex:"none",children:(0,I.jsx)(o.Sj,{iconColor:"darkGray",bgColor:"transparent",size:"xs",icon:"arrow-forward"})})]}):(0,I.jsx)(a.Fragment,{children:(0,I.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingY:2,children:[(0,I.jsx)(o.xu,{marginEnd:1,paddingX:2,children:(0,I.jsx)(o.xv,{color:"subtle",size:"100",lineClamp:1,children:N._('Loading board...', 'closeup.StoryPin.stickerBlock.boardSticker.loadingText', 'Label explaining board sticker still loading')})}),(0,I.jsx)(o.$j,{accessibilityLabel:N._('Board is loading', 'closeup.StoryPin.stickerBlock.boardSticker.loadingSpinnerText', 'Accessibility label for board loading spinner'),size:"sm",show:!0})]})}):(0,I.jsx)(o.xu,{paddingX:2,paddingY:2,children:(0,I.jsx)(o.xv,{color:"subtle",lineClamp:1,size:"200",weight:"bold",children:N._('Sticker not supported yet', 'closeup.StoryPin.stickerBlock.genericStickerError', 'Label explaining this sticker has not been implemented yet')})}):(0,I.jsx)(o.xu,{paddingX:2,paddingY:2,children:(0,I.jsx)(o.xv,{color:"subtle",lineClamp:1,size:"100",weight:"bold",children:j})});break;case p.h8.VTO_MAKEUP_STICKER:e=(0,I.jsx)(o.xv,{weight:"bold",size:"300",children:N._('Try this sticker on your phone!', 'closeup.storyPin.vtoMakeupSticker', 'Caption when @vitural-try-on-makeup tag is tapped for Web')})}const t=ee?N._('Explore this group board', 'closeup.StoryPin.stickerBlock.boardSticker.clickLabel', 'Label explaining click action when group board tag flyout showing'):N._('Explore this board', 'closeup.StoryPin.stickerBlock.boardSticker.clickLabel', 'Label explaining click action when board tag flyout showing');return(0,I.jsx)(o.J2,{accessibilityLabel:t,anchor:H.current,idealDirection:"up",onDismiss:se,positionRelativeToAnchor:!1,_deprecatedShowCaret:!0,size:R?"flexible":"sm",children:(0,I.jsx)(o.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:F===p.h8.PRODUCT_STICKER?1:3,width:"100%",children:R?(0,I.jsx)(o.xv,{color:"subtle",weight:"bold",size:"200",children:N._('Tag removed!', 'closeup.storyPin.stickerBlock', 'Caption when the tag is removed')}):e})})};return(0,I.jsxs)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{transform:`rotate(${null!=A?A:0}deg)`,touchAction:"none"}},"data-test-id":(F||"")+"_container",display:"flex",left:!0,position:"absolute",ref:H,right:!0,rounding:2,top:!0,zIndex:p.B5,children:[(0,I.jsx)(o.iP,{onTap:K?se:({event:t})=>{le||(W({view_type:3,view_parameter:157,component:228,element:e,event_type:102}),J?U.isAuth?re(!0):q({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_idea_pin_question_sticker",desktopOptions:{modalType:"login"}}):(e=>{W({event_type:120,view_type:3,view_parameter:157,component:228,element:l,aux_data:{error_message:!L&&j?j:null}}),V(!0),n&&n(),e.preventDefault(),e.stopPropagation()})(t))},rounding:"pill",disabled:le}),K&&(0,I.jsx)(o.mh,{zIndex:p.tD,children:R?de():(0,I.jsx)(o.iP,{onTap:({event:e})=>{W({view_type:3,view_parameter:157,component:228,element:l,event_type:102}),e.preventDefault(),e.stopPropagation(),ie?G.push(ie):se()},fullWidth:!0,children:de()})}),J&&(0,I.jsx)(S.Z,{commentWarningModalState:g.A9.NONE,dismissCommentWarningModal:()=>{},heading:(0,f.nk)(N._('Reply to {{ creator }}', 'ideapin.questionsticker.replymodal.heading', 'Replying to creator Q&A'),{creator:T}).join(" "),initialMentions:[],isModalOpen:oe,onDismiss:()=>{re(!1)},onPost:async(e,t,n)=>(i&&z&&(await Q({force:n,parentId:z,pinId:i,text:e,tags:JSON.stringify(t),isReply:!0}),re(!1)),!0),placeholder:$?N._('Your reply will show up as a public comment on this Pin', 'pin.questionsticker.replymodal.placeholder', 'Placeholder informing that Q&A reply will be a public comment'):N._('Your reply will show up as a public comment on this Idea Pin', 'ideapin.questionsticker.replymodal.placeholder', 'Placeholder informing that Q&A reply will be a public comment')})]})}function j({graphqlRef:e,...t}){var n,i,a;const o=(0,l.useFragment)(A,e),{gridTitle:r,description:s,richSummary:d}=o||Object.freeze({}),c=o.imageSpec_236x,{displayName:u,products:p}=d||{},m=(null==p?void 0:p[0].offerSummary)||Object.freeze({}),{price:h,maxPrice:g}=m||{},_=!(!m||!h&&!g),y=u||r||s,v=(null===(n=o.nativeCreator)||void 0===n?void 0:n.firstName)||(null===(i=o.nativeCreator)||void 0===i?void 0:i.fullName)||(null===(a=o.nativeCreator)||void 0===a?void 0:a.username);return(0,I.jsx)(C,{...t,hasPrice:_,title:y,productCurrentPrice:h,imageUrl:null==c?void 0:c.url,pinCreator:v,pinId:o.entityId})}function E({blockPinId:e,pinId:t,...n}){var i,a,l;const o=t||e,r=(0,T.S6)()(null!=o?o:""),{grid_title:s,description:d,images:c,rich_summary:u}=r||{},p=(c||{})["236x"]||{},{display_name:m,products:h}=u||{},g=((h||[])[0]||{}).offer_summary||{},{price:_,max_price:y}=g||{},v=!(!g||!_&&!y),f=m||s||d,b=(null==r||null===(i=r.native_creator)||void 0===i?void 0:i.first_name)||(null==r||null===(a=r.native_creator)||void 0===a?void 0:a.full_name)||(null==r||null===(l=r.native_creator)||void 0===l?void 0:l.username);return(0,I.jsx)(C,{...n,hasPrice:v,title:f,productCurrentPrice:_,imageUrl:p.url,pinCreator:b,pinId:o})}function R({graphqlRef:e,blockPinId:t,...n}){return e?(0,I.jsx)(j,{graphqlRef:e,...n}):(0,I.jsx)(E,{blockPinId:t,...n})}var L,D;const F=void 0!==L?L:L=n(169741),z=void 0!==D?D:D=n(79145);function M({graphqlRef:e,rootPingraphqlRef:t,...n}){var i,a,o;const r=(0,l.useFragment)(z,t),s=(0,l.useFragment)(F,e);return(0,I.jsx)(R,{...n,blockStyleRotation:null===(i=s.blockStyle)||void 0===i?void 0:i.rotation,blockEndTime:s.endTime,blockErrorMessage:s.errorMessage,blockInteractiveStickerType:s.interactiveStickerType,blockIsRemoved:s.isRemoved,blockIsValid:s.isValid,blockStartTime:s.startTime,blockTypeIdentifier:p.h8.GENERIC_STICKER,stickerDataQuestionCommentId:null===(a=s.stickerData)||void 0===a?void 0:a.questionCommentId,stickerDataBoardId:null===(o=s.stickerData)||void 0===o?void 0:o.boardId,blockUserImageUrl:null,blockUserFullName:null,blockUserUsername:null,graphqlRef:r,blockPinId:null})}function O({graphqlRef:e,...t}){var n,i,a;const o=(0,l.useFragment)(F,e);return(0,I.jsx)(R,{...t,blockStyleRotation:null===(n=o.blockStyle)||void 0===n?void 0:n.rotation,blockEndTime:o.endTime,blockErrorMessage:o.errorMessage,blockInteractiveStickerType:o.interactiveStickerType,blockIsRemoved:o.isRemoved,blockIsValid:o.isValid,blockStartTime:o.startTime,blockTypeIdentifier:p.h8.GENERIC_STICKER,stickerDataQuestionCommentId:null===(i=o.stickerData)||void 0===i?void 0:i.questionCommentId,stickerDataBoardId:null===(a=o.stickerData)||void 0===a?void 0:a.boardId,blockUserImageUrl:null,blockUserFullName:null,blockUserUsername:null,graphqlRef:null,blockPinId:null})}function B({block:e,...t}){const{block_style:{rotation:n=0}={},end_time:i,error_message:a,interactive_sticker_type:l=null,is_removed:o,is_valid:r,start_time:s,sticker_data:d,type:c}=e,{board_id:u,question_comment_id:p}=d||{};return(0,I.jsx)(R,{...t,blockStyleRotation:n,blockEndTime:i,blockErrorMessage:a,blockInteractiveStickerType:l,blockIsRemoved:o,blockIsValid:r,blockStartTime:s,blockTypeIdentifier:c,stickerDataQuestionCommentId:p,stickerDataBoardId:u,blockUserImageUrl:null,blockUserFullName:null,blockUserUsername:null,graphqlRef:null,blockPinId:null})}function Z({block:e,resourceBlock:t,rootPingraphqlRef:n,...i}){return e&&n?(0,I.jsx)(M,{graphqlRef:e,rootPingraphqlRef:n,...i}):e&&!n?(0,I.jsx)(O,{graphqlRef:e,...i}):t?(0,I.jsx)(B,{block:t,...i}):null}var N,U=n(376398),K=n(171054);const V=void 0!==N?N:N=n(178365);function H({blockText:e,styleAlignment:t,styleFontSize:n,styleHexColor:i,styleHighlightColor:a,styleVerticalAlignment:l,fontName:o,fontLetterSpacing:r,fontLineHeight:s,fontUrl:d,fontDefaultSize:c}){return(0,K.m)({hasFont:!0,letterSpacing:r,lineHeight:s,name:o,url:d}),(0,I.jsx)("h1",{style:(0,U.RK)({alignment:t,verticalAlignment:null!=l?l:p.Wz.vertical_alignment}),children:(0,I.jsx)("span",{style:(0,U.BN)({fontSize:n||c,hexColor:null!=i?i:p.Wz.hex_color,letterSpacing:r,lineHeight:s,name:o,highlightColor:a}),children:e})})}function G({graphqlRef:e}){var t,n,i,a,o,r,s,d,c,u,m,h,g,_,y,v,f,b,x,k,P,S,w,T,A;const C=(0,l.useFragment)(V,e);return(0,I.jsx)(H,{blockText:C.text,styleAlignment:null!==(t=null===(n=C.style)||void 0===n?void 0:n.alignment)&&void 0!==t?t:p.Wz.alignment,styleFontSize:null!==(i=null===(a=C.style)||void 0===a?void 0:a.fontSize)&&void 0!==i?i:p.Wz.font_size,styleHexColor:null!==(o=null===(r=C.style)||void 0===r?void 0:r.hexColor)&&void 0!==o?o:p.Wz.hex_color,styleHighlightColor:null!==(s=null===(d=C.style)||void 0===d?void 0:d.highlightColor)&&void 0!==s?s:p.Wz.highlight_color,styleVerticalAlignment:null!==(c=null===(u=C.style)||void 0===u?void 0:u.verticalAlignment)&&void 0!==c?c:p.Wz.vertical_alignment,fontName:null!==(m=null===(h=C.style)||void 0===h||null===(g=h.font)||void 0===g?void 0:g.name)&&void 0!==m?m:p.Wz.font.name,fontLetterSpacing:null!==(_=null===(y=C.style)||void 0===y||null===(v=y.font)||void 0===v?void 0:v.letterSpacing)&&void 0!==_?_:p.Wz.font.letter_spacing,fontLineHeight:null!==(f=null===(b=C.style)||void 0===b||null===(x=b.font)||void 0===x?void 0:x.lineHeight)&&void 0!==f?f:p.Wz.font.line_height,fontUrl:null!==(k=null===(P=C.style)||void 0===P||null===(S=P.font)||void 0===S?void 0:S.url)&&void 0!==k?k:p.Wz.font.url,fontDefaultSize:null!==(w=null===(T=C.style)||void 0===T||null===(A=T.font)||void 0===A?void 0:A.defaultSize)&&void 0!==w?w:p.Wz.font.default_size})}function W({block:e}){var t,n,i,a,l,o,r,s,d,c,u,m,h,g,_,y,v,f,b,x,k,P,S,w,T;return(0,I.jsx)(H,{blockText:e.text,styleAlignment:null!==(t=null===(n=e.style)||void 0===n?void 0:n.alignment)&&void 0!==t?t:p.Wz.alignment,styleFontSize:null!==(i=null===(a=e.style)||void 0===a?void 0:a.font_size)&&void 0!==i?i:p.Wz.font_size,styleHexColor:null!==(l=null===(o=e.style)||void 0===o?void 0:o.hex_color)&&void 0!==l?l:p.Wz.hex_color,styleHighlightColor:null!==(r=null===(s=e.style)||void 0===s?void 0:s.highlight_color)&&void 0!==r?r:p.Wz.highlight_color,styleVerticalAlignment:null!==(d=null===(c=e.style)||void 0===c?void 0:c.vertical_alignment)&&void 0!==d?d:p.Wz.vertical_alignment,fontName:null!==(u=null===(m=e.style)||void 0===m||null===(h=m.font)||void 0===h?void 0:h.name)&&void 0!==u?u:p.Wz.font.name,fontLetterSpacing:null!==(g=null===(_=e.style)||void 0===_||null===(y=_.font)||void 0===y?void 0:y.letter_spacing)&&void 0!==g?g:p.Wz.font.letter_spacing,fontLineHeight:null!==(v=null===(f=e.style)||void 0===f||null===(b=f.font)||void 0===b?void 0:b.line_height)&&void 0!==v?v:p.Wz.font.line_height,fontUrl:null!==(x=null===(k=e.style)||void 0===k||null===(P=k.font)||void 0===P?void 0:P.url)&&void 0!==x?x:p.Wz.font.url,fontDefaultSize:null!==(S=null===(w=e.style)||void 0===w||null===(T=w.font)||void 0===T?void 0:T.default_size)&&void 0!==S?S:p.Wz.font.default_size})}function $({block:e,resourceBlock:t}){return e?(0,I.jsx)(G,{graphqlRef:e}):t?(0,I.jsx)(W,{block:t}):null}var q;const Y=void 0!==q?q:q=n(556079);function X({imageHeight:e,imageWidth:t,imageUrl:n}){const i=(0,v.ZP)();return(0,I.jsx)(o.xu,{flex:"grow",children:(0,I.jsx)(o.Ee,{alt:i._('Story pin image', 'mweb.closeup.storypin.renderer', 'Alt text for story pin image'),color:"transparent",naturalHeight:null!=e?e:1,naturalWidth:null!=t?t:1,src:null!=n?n:""})})}function J({graphqlRef:e}){const t=(0,l.useFragment)(Y,e);return t.imageSpec_750x?(0,I.jsx)(X,{imageHeight:t.imageSpec_750x.height,imageWidth:t.imageSpec_750x.width,imageUrl:t.imageSpec_750x.url}):null}function Q({block:e}){const t=e.image;if(!t)return null;const{images:n={}}=t,i=n["750x"];return(0,I.jsx)(X,{imageHeight:null==i?void 0:i.height,imageWidth:null==i?void 0:i.width,imageUrl:null==i?void 0:i.url})}function ee({block:e,resourceBlock:t}){return e?(0,I.jsx)(J,{graphqlRef:e}):t?(0,I.jsx)(Q,{block:t}):null}var te;const ne=void 0!==te?te:te=n(688599);function ie({graphqlRef:e,...t}){var n,i,a,o;const r=(0,l.useFragment)(ne,e);return(0,I.jsx)(R,{...t,blockStyleRotation:null===(n=r.blockStyle)||void 0===n?void 0:n.rotation,blockEndTime:r.endTime,blockErrorMessage:null,blockInteractiveStickerType:null,blockIsRemoved:r.isRemoved,blockIsValid:null,blockStartTime:r.startTime,blockTypeIdentifier:p.h8.MENTION_STICKER,stickerDataQuestionCommentId:null,stickerDataBoardId:null,blockUserImageUrl:null===(i=r.user)||void 0===i?void 0:i.imageSmallUrl,blockUserFullName:null===(a=r.user)||void 0===a?void 0:a.fullName,blockUserUsername:null===(o=r.user)||void 0===o?void 0:o.username,graphqlRef:null,blockPinId:null})}function ae({block:e,...t}){var n;const{block_style:{rotation:i}={},end_time:a,is_removed:l,start_time:o,type:r}=e,{image_small_url:s,full_name:d,username:c}=null!==(n=e.user)&&void 0!==n?n:{};return(0,I.jsx)(R,{...t,blockStyleRotation:i,blockEndTime:a,blockErrorMessage:null,blockInteractiveStickerType:null,blockIsRemoved:l,blockIsValid:null,blockStartTime:o,blockTypeIdentifier:r,stickerDataQuestionCommentId:null,stickerDataBoardId:null,blockUserImageUrl:s,blockUserFullName:d,blockUserUsername:c,graphqlRef:null,blockPinId:null})}function le({block:e,resourceBlock:t,...n}){return e?(0,I.jsx)(ie,{graphqlRef:e,...n}):t?(0,I.jsx)(ae,{block:t,...n}):null}var oe;const re=void 0!==oe?oe:oe=n(519484);function se({blockText:e,styleAlignment:t,styleFontSize:n,styleHexColor:i,styleHighlightColor:l,styleVerticalAlignment:o,fontName:r,fontLetterSpacing:s,fontLineHeight:d,fontUrl:c,fontDefaultSize:u}){(0,K.m)({hasFont:!0,letterSpacing:s,lineHeight:d,name:r,url:c});const m=(null!=e?e:"").split(/\r?\n/g);return(0,I.jsx)("div",{style:(0,U.RK)({alignment:t,verticalAlignment:null!=o?o:p.Cc.vertical_alignment}),children:(0,I.jsx)("p",{style:(0,U.BN)({fontSize:n||u,hexColor:null!=i?i:p.Cc.hex_color,letterSpacing:s,lineHeight:d,name:r}),children:m.map(((t,n)=>(0,I.jsx)("span",{style:(0,U.xm)({highlightColor:t.trim().length?l:null}),children:n===m.length-1?t:(0,I.jsxs)(a.Fragment,{children:[t," ",(0,I.jsx)("br",{})]})},`paragraphLine-${n}-${(null!=e?e:"").substr(0,9)}`)))})})}function de({graphqlRef:e}){var t,n,i,a,o,r,s,d,c,u,m,h,g,_,y,v,f,b,x,k,P,S,w,T,A;const C=(0,l.useFragment)(re,e);return(0,I.jsx)(se,{blockText:C.text,styleAlignment:null!==(t=null===(n=C.style)||void 0===n?void 0:n.alignment)&&void 0!==t?t:p.Cc.alignment,styleFontSize:null!==(i=null===(a=C.style)||void 0===a?void 0:a.fontSize)&&void 0!==i?i:p.Cc.font_size,styleHexColor:null!==(o=null===(r=C.style)||void 0===r?void 0:r.hexColor)&&void 0!==o?o:p.Cc.hex_color,styleHighlightColor:null!==(s=null===(d=C.style)||void 0===d?void 0:d.highlightColor)&&void 0!==s?s:p.Cc.highlight_color,styleVerticalAlignment:null!==(c=null===(u=C.style)||void 0===u?void 0:u.verticalAlignment)&&void 0!==c?c:p.Cc.vertical_alignment,fontName:null!==(m=null===(h=C.style)||void 0===h||null===(g=h.font)||void 0===g?void 0:g.name)&&void 0!==m?m:p.Cc.font.name,fontLetterSpacing:null!==(_=null===(y=C.style)||void 0===y||null===(v=y.font)||void 0===v?void 0:v.letterSpacing)&&void 0!==_?_:p.Cc.font.letter_spacing,fontLineHeight:null!==(f=null===(b=C.style)||void 0===b||null===(x=b.font)||void 0===x?void 0:x.lineHeight)&&void 0!==f?f:p.Cc.font.line_height,fontUrl:null!==(k=null===(P=C.style)||void 0===P||null===(S=P.font)||void 0===S?void 0:S.url)&&void 0!==k?k:p.Cc.font.url,fontDefaultSize:null!==(w=null===(T=C.style)||void 0===T||null===(A=T.font)||void 0===A?void 0:A.defaultSize)&&void 0!==w?w:p.Cc.font.default_size})}function ce({block:e}){var t,n,i,a,l,o,r,s,d,c,u,m,h,g,_,y,v,f,b,x,k,P,S,w,T;return(0,I.jsx)(se,{blockText:e.text,styleAlignment:null!==(t=null===(n=e.style)||void 0===n?void 0:n.alignment)&&void 0!==t?t:p.Cc.alignment,styleFontSize:null!==(i=null===(a=e.style)||void 0===a?void 0:a.font_size)&&void 0!==i?i:p.Cc.font_size,styleHexColor:null!==(l=null===(o=e.style)||void 0===o?void 0:o.hex_color)&&void 0!==l?l:p.Cc.hex_color,styleHighlightColor:null!==(r=null===(s=e.style)||void 0===s?void 0:s.highlight_color)&&void 0!==r?r:p.Cc.highlight_color,styleVerticalAlignment:null!==(d=null===(c=e.style)||void 0===c?void 0:c.vertical_alignment)&&void 0!==d?d:p.Cc.vertical_alignment,fontName:null!==(u=null===(m=e.style)||void 0===m||null===(h=m.font)||void 0===h?void 0:h.name)&&void 0!==u?u:p.Cc.font.name,fontLetterSpacing:null!==(g=null===(_=e.style)||void 0===_||null===(y=_.font)||void 0===y?void 0:y.letter_spacing)&&void 0!==g?g:p.Cc.font.letter_spacing,fontLineHeight:null!==(v=null===(f=e.style)||void 0===f||null===(b=f.font)||void 0===b?void 0:b.line_height)&&void 0!==v?v:p.Cc.font.line_height,fontUrl:null!==(x=null===(k=e.style)||void 0===k||null===(P=k.font)||void 0===P?void 0:P.url)&&void 0!==x?x:p.Cc.font.url,fontDefaultSize:null!==(S=null===(w=e.style)||void 0===w||null===(T=w.font)||void 0===T?void 0:T.default_size)&&void 0!==S?S:p.Cc.font.default_size})}function ue({block:e,resourceBlock:t}){return e?(0,I.jsx)(de,{graphqlRef:e}):t?(0,I.jsx)(ce,{block:t}):null}var pe;const me=void 0!==pe?pe:pe=n(336090);function he({graphqlRef:e,...t}){var n;const i=(0,l.useFragment)(me,e);return(0,I.jsx)(R,{...t,blockStyleRotation:null===(n=i.blockStyle)||void 0===n?void 0:n.rotation,blockEndTime:i.endTime,blockErrorMessage:null,blockInteractiveStickerType:null,blockIsRemoved:i.isRemoved,blockIsValid:null,blockStartTime:i.startTime,blockTypeIdentifier:p.h8.PRODUCT_STICKER,stickerDataQuestionCommentId:null,stickerDataBoardId:null,blockUserImageUrl:null,blockUserFullName:null,blockUserUsername:null,graphqlRef:null,blockPinId:i.pinId})}function ge({block:e,...t}){const{block_style:{rotation:n}={},end_time:i,is_removed:a,start_time:l,type:o}=e;return(0,I.jsx)(R,{...t,blockStyleRotation:n,blockEndTime:i,blockErrorMessage:null,blockInteractiveStickerType:null,blockIsRemoved:a,blockIsValid:null,blockStartTime:l,blockTypeIdentifier:o,stickerDataQuestionCommentId:null,stickerDataBoardId:null,blockUserImageUrl:null,blockUserFullName:null,blockUserUsername:null,graphqlRef:null,blockPinId:e.pin_id})}function _e({block:e,resourceBlock:t,...n}){return e?(0,I.jsx)(he,{graphqlRef:e,...n}):t?(0,I.jsx)(ge,{block:t,...n}):null}var ye,ve=n(634004),fe=n(991319);const be=1e3,xe=void 0!==ye?ye:ye=n(952879);function ke({activeStreamItemIndex:e,hasPinPosterImage:t,isActive:n,isSinglePage:i,muteVideos:l,onVideoEnded:r,onVideoTimeChange:s,pinAspectRatio:p,blockStyleWidth:m,blockStyleHeight:h,blockVideo:g,pinId:_,pinPosterImage:y}){const v=function(){const e=(0,u.HG)(),[t,n]=(0,a.useState)(c.ap);return(0,a.useEffect)((()=>{"undefined"!=typeof window&&n(e?c.ap:window.innerWidth/window.innerHeight)}),[e]),t}(),{isBot:f}=(0,d.B)(),{isSeekingIdeaPin:b,seekTimes:x}=(0,ve.Hx)(),{clearSeekTime:k}=(0,ve.RC)(),P=x&&x[_]||0;if(!g)return null;const{width:S,height:w,thumbnail:T,url:A}=g,C=m&&h?m/h*v:v,j=(null!=S?S:1)/(null!=w?w:1),E={height:"100%",left:"0%",top:"0%",width:"100%"};if(C<j){const e=100*j/C;E.width=f?"100%":`${e}%`,E.left=f?"":`-${(e-100)/2}%`}else if(C>j){const e=100*C/j;E.height=`${e}%`,E.top=`-${(e-100)/2}%`}const R=(0,I.jsx)(fe.Z,{activeStreamItemIndex:e,aspectRatio:(null!=S?S:1)/(null!=w?w:1),poster:t&&y||(null!=T?T:void 0),src:null!=A?A:"",playing:!b&&n,volume:l?0:1,onEnded:n?r:()=>{},onTimeChange:({time:e})=>{if(s&&"number"==typeof g.duration&&g.duration>0&&!b&&n){const t=g.duration/be;s({currentTime:e,duration:t,pinId:_})}},pinId:_,clearSeekTime:k,loop:i,seekTime:P});return p!==c.ap?R:(0,I.jsx)(o.xu,{height:"100%",width:"100%",children:(0,I.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:E},position:"absolute",children:R})})}function Pe({graphqlRef:e,...t}){var n,i,a,o;const r=(0,l.useFragment)(xe,e),s=null===(n=r.videoData)||void 0===n||null===(i=n.videoList)||void 0===i?void 0:i.vHLSV3MOBILE;return(0,I.jsx)(ke,{blockStyleWidth:null===(a=r.blockStyle)||void 0===a?void 0:a.width,blockStyleHeight:null===(o=r.blockStyle)||void 0===o?void 0:o.height,blockVideo:s,...t})}function Se({block:e,...t}){var n,i,a,l;const o=null===(n=e.video)||void 0===n||null===(i=n.video_list)||void 0===i?void 0:i.V_HLSV3_MOBILE;return(0,I.jsx)(ke,{blockStyleWidth:null===(a=e.block_style)||void 0===a?void 0:a.width,blockStyleHeight:null===(l=e.block_style)||void 0===l?void 0:l.height,blockVideo:o,...t})}function we({block:e,resourceBlock:t,...n}){return e?(0,I.jsx)(Pe,{graphqlRef:e,...n}):t?(0,I.jsx)(Se,{block:t,...n}):null}var Te;const Ie=void 0!==Te?Te:Te=n(589316);function Ae({graphqlRef:e,...t}){var n;const i=(0,l.useFragment)(Ie,e);return(0,I.jsx)(R,{...t,blockStyleRotation:null===(n=i.blockStyle)||void 0===n?void 0:n.rotation,blockEndTime:i.endTime,blockErrorMessage:null,blockInteractiveStickerType:null,blockIsRemoved:i.isRemoved,blockIsValid:null,blockStartTime:i.startTime,blockTypeIdentifier:p.h8.VTO_MAKEUP_STICKER,stickerDataQuestionCommentId:null,stickerDataBoardId:null,blockUserImageUrl:null,blockUserFullName:null,blockUserUsername:null,graphqlRef:null,blockPinId:i.pinId})}function Ce({block:e,...t}){const{block_style:{rotation:n}={},end_time:i,is_removed:a,start_time:l,type:o}=e;return(0,I.jsx)(R,{...t,blockStyleRotation:n,blockEndTime:i,blockErrorMessage:null,blockInteractiveStickerType:null,blockIsRemoved:a,blockIsValid:null,blockStartTime:l,blockTypeIdentifier:o,stickerDataQuestionCommentId:null,stickerDataBoardId:null,blockUserImageUrl:null,blockUserFullName:null,blockUserUsername:null,graphqlRef:null,blockPinId:e.pin_id})}function je({block:e,resourceBlock:t,...n}){return e?(0,I.jsx)(Ae,{graphqlRef:e,...n}):t?(0,I.jsx)(Ce,{block:t,...n}):null}var Ee;const Re=void 0!==Ee?Ee:Ee=n(261618);function Le(){const[e,t]=(0,a.useState)(0),[n,i]=(0,a.useState)(0);return(0,a.useEffect)((()=>{"undefined"!=typeof window&&(t(window.innerWidth),i(window.innerHeight))}),[]),{windowHeight:n,windowWidth:e}}const De=({children:e,height:t,isStaticImageIdeaPin:n,isVideoOrImageBlock:i,left:l,pinAspectRatio:s=c.ap,top:p,width:m})=>{var h;const{windowHeight:g,windowWidth:_}=Le(),y=(0,u.HG)(),{isBot:v}=(0,d.B)(),{defaultWidth:f,scaledHeight:b,scaledLeft:x,scaledWidth:k,scaledBottom:P}=(0,a.useMemo)((()=>{const e=_/r._B,i=n||s!==c.ap?s:_/g,a=r._B/i,o=(m||0)*r._B*e/100,d=(t||0)*a*e/100,u=(l||0)*r._B*e/100;return{defaultWidth:v?_:`${null!=m?m:100}%`,scaledHeight:d,scaledLeft:u,scaledWidth:o,scaledBottom:80*e}}),[t,v,n,l,s,m,g,_]);return l=v?0:l,i||y?(0,I.jsx)(o.xu,{height:`${null!=t?t:100}%`,width:f,position:n?"relative":"absolute",display:"flex",dangerouslySetInlineStyle:{__style:{top:`${null!=p?p:0}%`,left:`${null!==(h=l)&&void 0!==h?h:0}%`}},children:e}):(0,I.jsx)(o.xu,{height:`${b}px`,width:v?_:`${k}px`,position:"absolute",display:"flex",dangerouslySetInlineStyle:{__style:{bottom:`${P}px`,left:v?"0px":`${x}px`}},children:e})};function Fe({activeStreamItemIndex:e,block:t,isActive:n,isCoverImageWithTitle:i,isSinglePage:a,isStaticImageIdeaPin:l=!1,muteVideos:o,onFlyoutClose:r,onFlyoutOpen:c,onVideoEnded:u,onVideoTimeChange:m,pinAspectRatio:h,pinId:g,videoProgressInfo:_,BoxWrapper:y=De}){const{block_style:{height:v,width:f,x_coord:b,y_coord:x}={},interactive_sticker_type:k=null}=t,{isBot:P}=(0,d.B)(),{windowWidth:S}=Le();return(0,I.jsxs)(y,{isStaticImageIdeaPin:l,height:v,width:P?S:f,left:b,top:x,pinAspectRatio:h,isVideoOrImageBlock:[p.h8.IMAGE,p.h8.VIDEO].includes(t.type),children:[t.type===p.h8.PARAGRAPH&&(0,I.jsx)(ue,{resourceBlock:t,block:null}),t.type===p.h8.HEADING&&!i&&(0,I.jsx)($,{resourceBlock:t,block:null}),t.type===p.h8.IMAGE&&(0,I.jsx)(ee,{resourceBlock:t,block:null}),t.type===p.h8.VIDEO&&(0,I.jsx)(we,{activeStreamItemIndex:e,block:null,isActive:n,isSinglePage:a,resourceBlock:t,muteVideos:o,onVideoTimeChange:m,onVideoEnded:u,pinAspectRatio:h,pinId:g}),t.type===p.h8.MENTION_STICKER&&(0,I.jsx)(s.Z,{children:(0,I.jsx)(le,{block:null,resourceBlock:t,pinId:null,onFlyoutClose:r,onFlyoutOpen:c,elementType:12120,tooltipElementType:12121,videoProgressInfo:_})}),t.type===p.h8.GENERIC_STICKER&&(e=>5===k?(0,I.jsx)(Z,{block:null,resourceBlock:e,pinId:null,elementType:12827,onFlyoutClose:r,onFlyoutOpen:c,tooltipElementType:12828,videoProgressInfo:_,rootPingraphqlRef:null}):(0,I.jsx)(Z,{block:null,resourceBlock:e,elementType:12858,onFlyoutClose:r,onFlyoutOpen:c,pinId:g,tooltipElementType:12859,videoProgressInfo:_,rootPingraphqlRef:null}))(t),t.type===p.h8.PRODUCT_STICKER&&(0,I.jsx)(_e,{block:null,resourceBlock:t,pinId:null,onFlyoutClose:r,onFlyoutOpen:c,elementType:12223,tooltipElementType:12224,videoProgressInfo:_}),t.type===p.h8.VTO_MAKEUP_STICKER&&(0,I.jsx)(je,{block:null,resourceBlock:t,pinId:null,onFlyoutClose:r,onFlyoutOpen:c,elementType:12561,tooltipElementType:12561,videoProgressInfo:_})]})}function ze({activeStreamItemIndex:e,graphqlRef:t,isStaticImageIdeaPin:n,pageId:i,pinAspectRatio:a,pinId:o,BoxWrapper:r=De,...c}){var u,p,m,h;const g=(0,l.useFragment)(Re,t),_=(null===(u=g.imageSpec_736x)||void 0===u?void 0:u.url)||"",y=!!_,v=(null!==(p=null===(m=g.storyPinData)||void 0===m?void 0:m.pages)&&void 0!==p?p:[]).find((e=>e.storyPageId===i)),{isBot:f}=(0,d.B)(),{windowWidth:b}=Le();return(null!==(h=null==v?void 0:v.blocks)&&void 0!==h?h:[]).map((t=>{var i,l;const{height:d,width:u,xCoord:p,yCoord:m}=null!==(i=t.blockStyle)&&void 0!==i?i:Object.freeze({});return(0,I.jsxs)(r,{height:d,width:f?b:u,left:p,top:m,isStaticImageIdeaPin:!!n,pinAspectRatio:a,isVideoOrImageBlock:[2,3].includes(t.blockType),children:[0===t.blockType&&(0,I.jsx)(ue,{block:t}),1===t.blockType&&(0,I.jsx)($,{block:t}),2===t.blockType&&(0,I.jsx)(ee,{block:t}),3===t.blockType&&(0,I.jsx)(we,{activeStreamItemIndex:e,block:t,hasPinPosterImage:y,isSinglePage:c.isSinglePage,isActive:c.isActive,muteVideos:c.muteVideos,onVideoTimeChange:c.onVideoTimeChange,onVideoEnded:c.onVideoEnded,pinAspectRatio:a,pinId:o,pinPosterImage:_}),12===t.blockType&&(0,I.jsx)(s.Z,{children:(0,I.jsx)(le,{block:t,onFlyoutOpen:c.onFlyoutOpen,elementType:12120,tooltipElementType:12121,videoProgressInfo:c.videoProgressInfo,pinId:null})}),19===t.blockType&&5===t.interactiveStickerType&&(0,I.jsx)(Z,{block:t,onFlyoutOpen:c.onFlyoutOpen,elementType:12120,tooltipElementType:12121,videoProgressInfo:c.videoProgressInfo,pinId:null,rootPingraphqlRef:null}),19===t.blockType&&7===t.interactiveStickerType&&(0,I.jsx)(Z,{block:t,onFlyoutOpen:c.onFlyoutOpen,elementType:12858,tooltipElementType:12859,videoProgressInfo:c.videoProgressInfo,pinId:g.entityId,rootPingraphqlRef:g}),13===t.blockType&&(0,I.jsx)(_e,{block:t,onFlyoutOpen:c.onFlyoutOpen,elementType:12223,tooltipElementType:12224,videoProgressInfo:c.videoProgressInfo,pinId:null}),17===t.blockType&&(0,I.jsx)(je,{block:t,onFlyoutOpen:c.onFlyoutOpen,elementType:12561,tooltipElementType:12561,videoProgressInfo:c.videoProgressInfo,pinId:null})]},`${null!=d?d:""}-${null!=u?u:""}-${null!==(l=t.blockType)&&void 0!==l?l:""}`)}))}function Me({blocks:e,...t}){return(null!=e?e:[]).map(((e,n)=>{var i;return(0,I.jsx)(Fe,{block:e,...t},`${n}-${null!==(i=e.block_type)&&void 0!==i?i:""}`)}))}function Oe({blocks:e,pageId:t,maybeGraphqlRef:n,...i}){return n?(0,I.jsx)(ze,{graphqlRef:n,pageId:t,...i}):(0,I.jsx)(Me,{blocks:e,...i})}},521190:(e,t,n)=>{n.d(t,{Z:()=>Lt});var i=n(667294),a=n(167912),l=n(616550),o=n(883119),r=n(603801),s=n(563962),d=n(377234),c=n(536042),u=n(898252),p=n(245410),m=n(282802),h=n(173085),g=n(463031),_=n(634004),y=n(550542),v=n(99220),f=n(549201),b=n(272109),x=n(802071),k=n(505204),P=n(212380),S=n(460914),w=n(509342),T=n(525104),I=n(846828),A=n(702664),C=n(630089),j=n(785893);const E=e=>{const{name:t="",unit:n="",amt:i=""}=e;return(0,j.jsxs)("li",{style:{display:"table-row"},children:[(0,j.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell",paddingRight:20}},children:!!i&&(0,j.jsx)(o.xu,{marginStart:6,children:(0,j.jsxs)(o.xv,{size:"200",weight:"bold",children:[i," ",n]})})}),(0,j.jsx)(o.xu,{width:"70%",dangerouslySetInlineStyle:{__style:{display:"table-cell"}},children:(0,j.jsx)(o.xv,{size:"200",children:t})})]})};var R,L=n(895200),D=n(768865);function F({i18n:e,storyPinMetadataTemplateType:t,storyPinMetadataRecipeData:n}){if(!n||1!==t)return null;const{cooking_time:i,prep_time:a,serving_size:l=null}=n,o="number"==typeof i&&"number"==typeof a?i+a:0;return{timeLabel:o?(0,D.Ys)((0,L.X)({m:o}),e):null,servingSize:l}}const z=void 0!==R?R:R=n(334494),M=({storyPinPages:e})=>{const t=null!=e&&e[1]&&5===e[1].layout?e[1]:null,n=null!=e&&e[1]&&6===e[1].layout?e[1]:null;return t||n},O=({listPage:e,listType:t,storyPinMetadataTemplateType:n,storyPinMetadataRecipeData:i})=>{const a=(0,c.ZP)();if(!e)return null;const{blocks:l}=e,r="ingredients"===t?F({i18n:a,storyPinMetadataRecipeData:i,storyPinMetadataTemplateType:n}):null,s=r?r.servingSize:null,d=s?(0,C.nk)(a.ngettext('{{servingSize}} serving', '{{servingSize}} servings', s, 'closeup.storyPin.listModal.ingredients.servings', 'number of servings for a recipe'),{servingSize:s}):null;return(0,j.jsxs)(o.xu,{children:[(0,j.jsxs)(o.xu,{display:"flex",direction:"column",justifyContent:"center",alignItems:"center",marginTop:7,children:[(0,j.jsx)(o.X6,{size:"400",overflow:"normal",children:"ingredients"===t?a._('Ingredients', 'closeup.storyPin.listModal.ingredients', 'Heading for list of ingredients'):a._('Supplies', 'closeup.storyPin.listModal.supplies', 'Heading for list of supplies')}),d&&(0,j.jsx)(o.xu,{marginBottom:4,children:(0,j.jsx)(o.xv,{color:"subtle",children:d})})]}),(0,j.jsx)("ul",{style:{padding:0},children:(null!=l?l:[]).map((({name:e,unit:t,amt:n},i)=>(0,j.jsx)(E,{name:e,unit:t,amt:n},e||i)))})]})};function B({graphqlRef:e,...t}){const n=(0,a.useFragment)(z,e),i=M({storyPinPages:n.pages});return(0,j.jsx)(O,{...t,listPage:i})}function Z({pinId:e,...t}){var n;const i=(0,T.S6)()(e),a=M({storyPinPages:null==i||null===(n=i.story_pin_data)||void 0===n?void 0:n.pages});return(0,j.jsx)(O,{...t,listPage:a})}function N({graphqlRef:e,pinId:t,...n}){return e?(0,j.jsx)(B,{graphqlRef:e,...n}):(0,j.jsx)(Z,{pinId:t,...n})}var U=n(88622),K=n(371362),V=n(884751);function H({imageSize:e,index:t,hasPin:n,pinId:i,gridTitle:a,image236x:l,hasProductDetailsCurrentPrice:r,hasProductDetailsMaxPrice:s}){var d,c,u;return n?(0,j.jsx)(o.xu,{width:e,marginEnd:t%2==0?2:0,marginTop:4,children:(0,j.jsxs)(o.iP,{role:"link",href:`/pin/${null!=i?i:""}`,rounding:4,tapStyle:"none",children:[(0,j.jsx)(o.xu,{rounding:5,overflow:"hidden",width:e,maxWidth:176,maxHeight:176,children:(0,j.jsx)(o.zd,{wash:!0,height:e,width:e,children:(0,j.jsx)(o.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:null!==(d=null==l?void 0:l.height)&&void 0!==d?d:1,naturalWidth:null!==(c=null==l?void 0:l.width)&&void 0!==c?c:1,src:null!==(u=null==l?void 0:l.url)&&void 0!==u?u:""})})}),(r||s)&&(0,j.jsx)(o.xu,{marginTop:2,children:(0,j.jsx)(V.ZP,{pinId:i,graphqlRef:null})}),!!a&&(0,j.jsx)(o.xu,{marginTop:1,children:(0,j.jsx)(o.xv,{size:"100",children:(0,K.ZP)(a,40)})})]})}):null}var G,W=n(995691);const $="calc((100vw - (12px * 3)) / 2)",q=void 0!==G?G:G=n(962435),Y=({fullName:e,hasStoryPinMetadataBasics:t,imageLargeUrl:n,imageMediumUrl:i,imageSmallUrl:a,isOpen:l,link:r,hasListPage:s,listType:d,onDismiss:u,pinId:p,pinTitle:m,pinDescription:h,storyPinMetadataRecipeData:g,storyPinMetadataTemplateType:_,taggedProducts:y,username:v,maybeGraphqlRef:f,clientTrackingParams:b})=>{const x=(0,c.ZP)(),k=(0,T.S6)(),P=y.length<20&&y.length%2!=0;return(0,j.jsx)(U.ZP,{accessibilityModalLabel:"",isOpen:l,onDismiss:u,type:"story_pin_list",mobileAccessibilityCloseIconLabel:x._('Close', 'StoryPin.Modal', 'Close modal window'),children:(0,j.jsx)(o.xu,{display:"flex",paddingX:4,alignItems:"center",direction:"column",justifyContent:"center",maxHeight:"75vh",overflow:"scrollY",children:(0,j.jsxs)(o.xu,{flex:"grow",marginBottom:4,width:"100%",children:[(t||r||m||h)&&(0,j.jsx)(W.Z,{fullName:e,graphqlRef:f,imageLargeUrl:n,imageMediumUrl:i,imageSmallUrl:a,link:r,pinId:null!=p?p:"",title:m,description:h,username:v,templateType:_,clientTrackingParams:b}),!!s&&(0,j.jsx)(o.xu,{"data-test-id":"story-pin-basics",children:(0,j.jsx)(N,{pinId:p,listType:d,storyPinMetadataRecipeData:g,storyPinMetadataTemplateType:_,graphqlRef:null==f?void 0:f.storyPinData})}),(0,j.jsxs)(o.kC,{alignItems:"stretch",direction:"row",justifyContent:"center",wrap:!0,children:[y.length>0&&y.map(((e,t)=>{var n,i,a,l,o,r,s;const d=k(e.id);return(0,j.jsx)(H,{imageSize:$,index:t,hasPin:!!d,pinId:null==d?void 0:d.id,gridTitle:null==d?void 0:d.grid_title,image236x:null!=d&&null!==(n=d.images)&&void 0!==n&&n["236x"]?{height:d.images["236x"].height,url:d.images["236x"].url,width:d.images["236x"].width}:void 0,hasProductDetailsCurrentPrice:!(null==d||null===(i=d.rich_summary)||void 0===i||null===(a=i.products)||void 0===a||null===(l=a[0].offer_summary)||void 0===l||!l.price),hasProductDetailsMaxPrice:!(null==d||null===(o=d.rich_summary)||void 0===o||null===(r=o.products)||void 0===r||null===(s=r[0].offer_summary)||void 0===s||!s.max_price)},e.id)})),P&&(0,j.jsx)(o.xu,{width:$})]})]})})})};function X({graphqlRef:e,...t}){var n,i,l,o,r,s,d;const c=(0,a.useFragment)(q,e),u=c.storyPinData,p=Boolean(null==u||null===(n=u.metadata)||void 0===n?void 0:n.basics),m=null==u||null===(i=u.metadata)||void 0===i?void 0:i.recipeData;return(0,j.jsx)(Y,{...t,hasStoryPinMetadataBasics:p,pinTitle:null!==(l=c.title)&&void 0!==l?l:"",pinDescription:c.closeupUnifiedDescription,storyPinMetadataRecipeData:{cooking_time:null!==(o=null==m?void 0:m.cookingTime)&&void 0!==o?o:0,prep_time:null!==(r=null==m?void 0:m.prepTime)&&void 0!==r?r:0,serving_size:null!==(s=null==m?void 0:m.servingSize)&&void 0!==s?s:0},storyPinMetadataTemplateType:null==u||null===(d=u.metadata)||void 0===d?void 0:d.templateType,maybeGraphqlRef:c})}function J(e){var t,n,i,a;const l=(0,T.S6)()(e.pinId),o=null==l?void 0:l.story_pin_data,r=Boolean((null==o||null===(t=o.metadata)||void 0===t?void 0:t.basics)&&Object.keys(o.metadata.basics).length>0);return(0,j.jsx)(Y,{...e,hasStoryPinMetadataBasics:r,pinTitle:null!==(n=null==l?void 0:l.title)&&void 0!==n?n:"",pinDescription:null==l?void 0:l.closeup_unified_description,storyPinMetadataRecipeData:null==o||null===(i=o.metadata)||void 0===i?void 0:i.recipe_data,storyPinMetadataTemplateType:null==o||null===(a=o.metadata)||void 0===a?void 0:a.template_type,maybeGraphqlRef:null})}function Q({graphqlRef:e,...t}){return e?(0,j.jsx)(X,{graphqlRef:e,...t}):(0,j.jsx)(J,{...t})}var ee,te=n(775560);const ne=void 0!==ee?ee:ee=n(389432);function ie(e){return(0,te.Z)(function({domain:e,listBlocks:t,keyValueBlock:n,description:i}){const a=[];e&&a.push(e),n.length>0&&a.push(...n),i&&a.push(i);for(const l of null!=t?t:[])if(l.heading&&a.push(l.heading),l.blocks)for(const e of l.blocks)e.text&&a.push(e.text);return a}(e))}const ae=ie;var le,oe=n(243570),re=n(269021);const se=30,de=90,ce=void 0!==le?le:le=n(639242);function ue({anchorRef:e,onTap:t,previewText:n,previewTitle:i,onePinEnabled:a}){const l=(0,c.ZP)();if(!i&&!n)return null;const r=(0,re.j)(n);return a?(0,j.jsx)(o.iP,{onTap:t,ref:e,children:(0,j.jsx)(re.Z,{dir:r,children:(0,j.jsxs)(o.kC,{direction:"column",gap:1,children:[i&&(0,j.jsx)(o.X6,{accessibilityLevel:1,lineClamp:1,size:"100",color:"light",children:i}),n&&(0,j.jsxs)(o.xv,{inline:!0,color:"light",size:"100",children:[n.length>de?`${n.substr(0,de)} ... `:n,n.length>de?(0,j.jsx)(o.xv,{inline:!0,weight:"bold",size:"100",color:"light",children:l._('more', 'storyPin.previewText.more', 'Story pin preview text truncation')}):null]})]})})}):n.length<se?(0,j.jsx)(o.xu,{display:"flex",width:"fit-content",direction:"row",marginEnd:4,children:(0,j.jsx)(o.xu,{ref:e,marginTop:2,children:(0,j.jsx)(o.iP,{onTap:t,children:(0,j.jsx)(re.Z,{dir:r,children:(0,j.jsx)(o.xv,{inline:!0,color:"light",size:"100",children:n})})})})}):(0,j.jsx)(o.xu,{display:"flex",marginTop:2,marginEnd:4,alignItems:"end",justifyContent:"start",dangerouslySetInlineStyle:{__style:{WebkitLineClamp:"2"}},ref:e,children:(0,j.jsx)(o.iP,{onTap:t,children:(0,j.jsx)(re.Z,{dir:r,children:(0,j.jsx)(o.xv,{inline:!0,color:"light",size:"100",lineClamp:2,children:n})})})})}function pe({graphqlRef:e,onePinEnabled:t,...n}){var i,l,o;const r=(0,c.ZP)(),s=(0,a.useFragment)(ce,e),{storyPinData:d,closeupUnifiedDescription:u,title:p}=s||{},m=((null==d||null===(i=d.metadata)||void 0===i||null===(l=i.basics)||void 0===l?void 0:l.keyValueBlocks)||[]).map((e=>(0,oe.Z)(e.categoryType,e.value,r,t))),h=function(e,t,n,i){const l=(0,a.useFragment)(ne,e);return ie({domain:t,keyValueBlock:n,listBlocks:null==l?void 0:l.listBlocks,description:i})}(null==d||null===(o=d.metadata)||void 0===o?void 0:o.basics,t?null:n.pinDomain,m.filter((e=>""!==e)),t?null==u?void 0:u.trim():null);return(0,j.jsx)(ue,{...n,previewText:h,previewTitle:p,onePinEnabled:t})}function me({pinId:e,onePinEnabled:t,...n}){var i,a,l,o;const r=(0,c.ZP)(),s=(0,T.S6)()(e),{title:d,story_pin_data:u,closeup_unified_description:p}=s||{},m=((null==u||null===(i=u.metadata)||void 0===i||null===(a=i.basics)||void 0===a?void 0:a.key_value_blocks)||[]).map((e=>(0,oe.Z)(e.category_type,e.value,r,t))),h=null==u||null===(l=u.metadata)||void 0===l||null===(o=l.basics)||void 0===o?void 0:o.list_blocks,g=ae({domain:t?null:n.pinDomain,listBlocks:h,keyValueBlock:m.filter((e=>""!==e)),description:t?null==p?void 0:p.trim():null});return(0,j.jsx)(ue,{...n,previewText:g,previewTitle:d,onePinEnabled:t})}function he({graphqlRef:e,pinId:t,...n}){return e?(0,j.jsx)(pe,{graphqlRef:e,...n}):(0,j.jsx)(me,{pinId:t,...n})}var ge;const _e={5:"ingredients",6:"supplies"},ye=void 0!==ge?ge:ge=n(66593),ve=({anchorRef:e,fullName:t,hasProductPins:n,imageLargeUrl:a,imageMediumUrl:l,imageSmallUrl:r,storyPinData:s,username:d,pinDomain:c,pinLink:u,pinId:m,maybeGraphqlRef:h,title:g,description:_,clientTrackingParams:y})=>{var v;const f=(0,A.useSelector)((({feeds:e})=>e["story-pin-tagged-products"]))||[],[b,k]=(0,i.useState)(!1),P=M({storyPinPages:null==s?void 0:s.pages}),{checkExperiment:S}=(0,p.F)(),w=(0,x.Z)().isAuth,{anyEnabled:T}=S(w?"closeup_auth_mweb_onepin_title_and_description":"closeup_unauth_mweb_onepin_title_and_description"),I=null==s||null===(v=s.metadata)||void 0===v?void 0:v.basics;let C;c&&u&&(C={domain:c,url:u});return b&&(!!P||!!I||f.length>0||!!C||T&&(g||_))?(0,j.jsx)(Q,{fullName:t,graphqlRef:h,imageLargeUrl:a,imageMediumUrl:l,imageSmallUrl:r,isOpen:b,link:C,hasListPage:!!P,listType:_e[null==P?void 0:P.layout]||null,onDismiss:()=>k(!1),pinId:null!=m?m:"",taggedProducts:n&&f?f:[],username:d,clientTrackingParams:y}):(0,j.jsx)(o.xu,{"data-test-id":"StoryPinDescriptionContainer",children:(0,j.jsx)(he,{anchorRef:e,onTap:e=>{e.event.preventDefault(),e.event.stopPropagation(),k(!0)},pinDomain:c,pinId:null!=m?m:"",graphqlRef:h,onePinEnabled:T})})};function fe({graphqlRef:e,...t}){var n;const i=(0,a.useFragment)(ye,e);return(0,j.jsx)(ve,{...t,description:i.closeupUnifiedDescription,hasProductPins:!(null===(n=i.storyPinData)||void 0===n||!n.hasProductPins),maybeGraphqlRef:i,pinDomain:i.domain,pinLink:i.link,storyPinData:i.storyPinData,title:i.title})}function be(e){var t,n;const i=(0,T.S6)()(null!==(t=e.pinId)&&void 0!==t?t:""),a=null==i?void 0:i.story_pin_data;return(0,j.jsx)(ve,{...e,description:null==i?void 0:i.closeup_unified_description,hasProductPins:!(null==i||null===(n=i.story_pin_data)||void 0===n||!n.has_product_pins),maybeGraphqlRef:null,pinDomain:null==i?void 0:i.domain,pinLink:null==i?void 0:i.link,storyPinData:a,title:null==i?void 0:i.title})}function xe({graphqlRef:e,...t}){return e?(0,j.jsx)(fe,{graphqlRef:e,...t}):(0,j.jsx)(be,{...t})}var ke,Pe=n(870243),Se=n(41669),we=n(427778),Te=n(446191),Ie=n(712968),Ae=n(510336);function Ce({adsOnlyProfileSite:e,avatarSize:t="sm",blockedByMe:n,explicitlyFollowedByMe:a,fullName:l,hasAffiliatedProducts:r,id:d,imageLargeUrl:u,imageMediumUrl:m,imageSmallUrl:h,isAdsOnlyProfile:g,noFollowButton:_,pageId:y,pinId:v,pinImageSignature:f,sponsorName:b,sponsorId:k,sponsorUsername:P,sponsorshipStatus:S,textColor:w="default",username:T,verified:I,clientTrackingParams:C}){const E=(0,s.Z)(),R=(0,Ie.mN)()(d),L=(0,A.useDispatch)(),[D,F]=(0,i.useState)(R?R.explicitly_followed_by_me:a),z=(0,x.Z)(),M=z.isAuth&&z.id,O=(0,c.ZP)(),{checkExperiment:B}=(0,p.F)(),Z=g&&e,N=()=>{E({aux_data:{creator_id:d,pin_id:v,...y?{story_pin_page_id:y}:{}},component:230,event_type:102,object_id_str:v,view_parameter:157,view_type:3}),Z&&E({event_type:9371,element:13382,component:230})},U=P&&b,K=U||(Ae.j.includes(S)||r)&&B("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled,V=U?(0,j.jsx)(o.xv,{inline:!0,color:w,size:"200",weight:"bold",children:(0,j.jsx)(o.rU,{onClick:()=>{E({aux_data:{pin_id:v,story_pin_page_id:y,...d&&k?{creator_id:d,sponsor_id:k}:{}},component:230,event_type:102,object_id_str:v,view_parameter:157,view_type:3})},tapStyle:"compress",href:`/${null!=P?P:""}/`,children:b})}):void 0,H=Z&&e?e:`/${encodeURIComponent(T)}/`;return(0,j.jsx)(o.kC,{alignItems:"center",justifyContent:"between",children:(0,j.jsxs)(o.xu,{flex:"grow",marginEnd:2,display:"flex",alignItems:"center",children:[(0,j.jsx)(o.xu,{flex:"none",marginEnd:2,children:(0,j.jsx)(o.iP,{role:"link",href:H,rounding:2,tapStyle:"compress",onTap:N,rel:Z?"nofollow":"none",target:Z?"blank":null,children:(0,j.jsx)(Pe.qE,{name:null!=l?l:"",size:t,src:u||m||h||"",verified:I})})}),(0,j.jsxs)(o.xu,{overflow:"hidden",marginEnd:2,dangerouslySetInlineStyle:{__style:K?{flex:"1 1 30%"}:{}},children:[(0,j.jsx)(o.xv,{color:w,lineClamp:1,weight:"bold",children:(0,j.jsx)(o.rU,{href:H,tapStyle:"compress",rounding:2,onClick:N,rel:Z?"nofollow":"none",target:Z?"blank":null,children:T})}),K?(0,j.jsx)(Ae.Z,{hasAffiliatedProducts:r,sponsorName:V,sponsorshipStatus:S,textColor:w}):null]}),!_&&(0,j.jsx)(o.xu,{flex:"grow",children:n?(0,j.jsx)(o.zx,{fullWidth:!0,text:O._('Unblock', ' - ', ' -- '),color:"gray",size:"sm",onClick:()=>{return e=d,L((0,Te.h2)(e));var e}}):(0,j.jsx)(Se.Z,{isSecondaryButton:!0,id:d,size:"sm",isFollowed:D,isUserFollowButton:!0,isIdeaPin:!0,isUserMe:M===d,onFollow:e=>{F(!0),L((0,we.ZN)(e))},onUnfollow:e=>{L((0,we.fv)(e)),F(!1)},followEventType:45,unfollowEventType:46,viewType:3,viewParameter:157,auxData:{pin_id:v,image_signature:f},clientTrackingParams:C})})]})})}const je=void 0!==ke?ke:ke=n(485508);function Ee({anchorRef:e,creatorAdsOnlyProfileSite:t,creatorBlockedByMe:n,creatorExplicitlyFollowedByMe:i,creatorFullName:a,creatorId:l,creatorImageLargeUrl:r,creatorImageMediumUrl:s,creatorImageSmallUrl:d,creatorIsAdsOnlyProfile:c,creatorUsername:u,creatorVerified:m,currentPageIndex:h,handlePause:g,handlePlay:_,isMultiPagePin:y,maybeGraphqlRef:v,pinId:f,pinImageSignature:b,sponsorFullName:x,sponsorId:k,sponsorshipStatus:P,sponsorUsername:S,storyPinHasProductPins:w,pageId:T,pageMusicBlockAudioArtistName:A,pageMusicBlockAudioTitle:C,clientTrackingParams:E}){const{checkExperiment:R}=(0,p.F)();return(0,j.jsxs)(o.kC,{direction:"column",gap:2,children:[(0,j.jsx)(Ce,{adsOnlyProfileSite:t,blockedByMe:n,explicitlyFollowedByMe:i,fullName:null!=a?a:"",hasAffiliatedProducts:w,id:null!=l?l:"",imageLargeUrl:r,imageMediumUrl:s,imageSmallUrl:d,isAdsOnlyProfile:!!c,pageId:null!=T?T:void 0,pinId:f,pinImageSignature:null!=b?b:"",sponsorId:null!=k?k:"",sponsorName:null!=x?x:"",sponsorshipStatus:P,sponsorUsername:null!=S?S:"",textColor:"light",username:null!=u?u:"",verified:null!=m&&m,clientTrackingParams:E}),(0,j.jsx)(xe,{anchorRef:e,fullName:null!=a?a:"",graphqlRef:v,imageLargeUrl:r,imageMediumUrl:s,imageSmallUrl:d,pinId:f,username:null!=u?u:"",clientTrackingParams:E}),!y&&(R("mweb_music_attribution").anyEnabled||R("web_mweb_unauth_music_compliance_muting_attribution").anyEnabled)&&(0,j.jsx)(I.Z,{activePageIndex:h,graphqlRef:v,pageMusicBlockAudioArtistName:A,pageMusicBlockAudioTitle:C,pinId:f,playbackHandlers:{handlePause:g,handlePlay:_},viewParameter:157})]})}function Re({graphqlRef:e,...t}){const n=(0,a.useFragment)(je,e);return(0,j.jsx)(Ee,{...t,maybeGraphqlRef:n})}function Le({graphqlRef:e,...t}){return e?(0,j.jsx)(Re,{graphqlRef:e,...t}):(0,j.jsx)(Ee,{maybeGraphqlRef:null,...t})}var De,Fe=n(196039),ze=n(448709),Me=n(989282),Oe=n(128314);const Be=void 0!==De?De:De=n(341057);function Ze({storyPinTitle:e,dominantColor:t,hasImageAdjusted:n,hasImage:i,images:a}){if(!i&&!n)return(0,j.jsx)(P.Z,{});const l=(null==a?void 0:a["750x"])||(null==a?void 0:a["236x"])||(null==a?void 0:a["1200x"])||(null==a?void 0:a.originals);return(0,j.jsx)(v.Z,{view:3,viewParameter:157,component:227,children:(0,j.jsxs)(o.xu,{width:"100%",height:"100%",children:[(0,j.jsx)(Me.Z,{altImageText:e,dominantColor:t,media:l,pageType:"cover"}),(0,j.jsx)(o.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,dangerouslySetInlineStyle:{__style:n?{}:{backgroundImage:"linear-gradient(rgba(0,0,0,0), rgba(0,0,0, 0.5))"}}}),(0,j.jsx)(o.xu,{position:"absolute",bottom:!0,left:!0,right:!0,paddingX:4,paddingY:4,children:!n&&(0,j.jsx)(o.xu,{column:9,children:(0,j.jsx)(o.X6,{color:"light",size:"500",overflow:"normal",children:e})})})]})})}const Ne=(0,ze.Z)({useGraphQLAdapter:e=>{var t,n;const i=(0,a.useFragment)(Be,e),{imageImages:l,imageAdjustedImages:o,hasImageImages:r,hasImageAdjustedImages:s}=(0,Oe.Z)(i)||Object.freeze({});if(!i)return null;const d=(null===(t=i.blocks)||void 0===t?void 0:t[0].text)||"",c=null!==(n=i.dominantColorAdjusted)&&void 0!==n?n:i.dominantColor,u=!!i.dominantColorAdjusted||s;return{storyPinTitle:d,dominantColor:null!=c?c:void 0,images:u?o:l,hasImageAdjusted:u,hasImage:!!i.dominantColor||r}},useLegacyAdapter:e=>{const{image:t,image_adjusted:n,blocks:i}=e,a=(null==i?void 0:i[0].text)||"",{dominant_color:l,images:o}=n||t||{};return{storyPinTitle:a,dominantColor:l,images:o,hasImageAdjusted:!!n,hasImage:!!t}}});function Ue({page:e}){return(0,j.jsx)(Ne,{input:"graphql"===e.type?{enabled:!0,data:e.data}:{enabled:!1,data:e.data},children:({data:e})=>e&&(0,j.jsx)(Ze,{...e})})}var Ke=n(727462),Ve=n(852180),He=n(150875);const Ge=({block:e})=>{const{windowWidth:t}=(0,He.Z)(),n=.7*t;if(e.type!==Fe.h8.INGREDIENT)return null;const{name:i,unit:a,amt:l}=e;return(0,j.jsxs)("li",{style:{display:"table-row"},children:[(0,j.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell",paddingRight:8}},children:!!l&&(0,j.jsxs)(o.xv,{children:[l," ",a]})}),(0,j.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell",maxWidth:n}},children:(0,j.jsx)(o.xv,{children:i})})]})};var We;const $e=void 0!==We?We:We=n(91997),qe=e=>5===e.block_type,Ye=({ingredientBlocks:e,servingSize:t})=>{const n=(0,c.ZP)(),{windowHeight:i,windowWidth:a}=(0,He.Z)(),l=Math.min(16*a/9,i),r=t?(0,C.nk)(n.ngettext('{{servingSize}} serving', '{{servingSize}} servings', t, 'number of servings for a recipe', 'number of servings for a recipe'),{servingSize:t}):null;return(0,j.jsxs)(o.xu,{height:l,width:a,position:"relative",padding:4,color:"default",children:[(0,j.jsx)(o.xu,{marginTop:12,children:(0,j.jsx)(o.X6,{overflow:"normal",children:n._('Ingredients', 'Heading for list of ingredients', 'Heading for list of ingredients')})}),r&&(0,j.jsx)(o.xu,{marginBottom:4,children:(0,j.jsx)(o.xv,{color:"subtle",children:r})}),(0,j.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",children:(0,j.jsx)("ul",{style:{padding:0},children:(null!=e?e:[]).map(((e,t)=>(0,j.jsx)(Ge,{block:e},e.name||t)))})})]})},Xe=(0,ze.Z)({useGraphQLAdapter:e=>{const t=(0,a.useFragment)($e,e);if(!t)return null;return{ingredientBlocks:t.blocks?t.blocks.reduce(((e,t)=>{if(5===t.blockType){var n,i,a;const l={type:5,amt:null!==(n=t.amt)&&void 0!==n?n:void 0,name:null!==(i=t.name)&&void 0!==i?i:void 0,unit:null!==(a=t.unit)&&void 0!==a?a:void 0};return[...e,l]}return e}),[]):void 0}},useLegacyAdapter:e=>{var t;return{ingredientBlocks:null===(t=e.blocks)||void 0===t?void 0:t.filter(qe)}}});function Je({page:e,servingSize:t}){return(0,j.jsx)(Xe,{input:"graphql"===e.type?{enabled:!0,data:e.data}:{enabled:!1,data:e.data},children:({data:e})=>e&&(0,j.jsx)(Ye,{...e,servingSize:t})})}var Qe=n(763165),et=n(625274);const tt=e=>({transition:`transform ${e/1e3}s ease-in 0s`}),nt=e=>{const{animationDuration:t=0,children:n,currentPageIndex:i,height:a,index:l,marginTop:r,width:s}=e,{isBot:d}=(0,m.B)(),c=Math.abs(l-i);return 0===c?(0,j.jsx)(o.xu,{height:a,"data-test-id":"story-pin-animation",position:"absolute",width:s,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000000",marginTop:`${r}px`,...tt(t),...t>0?{transform:"translateX(calc(-100% - 1px))"}:{transform:"translateX(0)"}}},children:n}):1===c?(0,j.jsx)(o.xu,{height:a,"data-test-id":"story-pin-animation",position:"absolute",width:s,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000000",marginTop:`${r}px`,...tt(t),...t>0?{transform:"translateX(0)"}:{transform:"translateX(calc(100% + 1px))"}}},children:n}):d?(0,j.jsx)(o.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{backgroundColor:"#000000",transform:"translateX(1000%)"}},children:n}):null},it=({block:e})=>{const{windowWidth:t}=(0,He.Z)(),n=.7*t;if(e.type!==Fe.h8.SUPPLY)return null;const{name:i,amt:a}=e;return(0,j.jsxs)("li",{style:{display:"table-row"},children:[(0,j.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell",paddingRight:8}},children:!!a&&(0,j.jsx)(o.xv,{children:a})}),(0,j.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell",maxWidth:n}},children:(0,j.jsx)(o.xv,{children:i})})]})};var at;const lt=void 0!==at?at:at=n(997572),ot=e=>6===e.block_type,rt=({suppliesBlocks:e})=>{const t=(0,c.ZP)(),{windowHeight:n,windowWidth:i}=(0,He.Z)(),a=Math.min(16*i/9,n);return(0,j.jsxs)(o.xu,{height:a,width:i,position:"relative",padding:4,color:"default",children:[(0,j.jsx)(o.xu,{marginTop:12,children:(0,j.jsx)(o.X6,{overflow:"normal",children:t._('Supplies', 'Heading for list of supplies', 'Heading for list of supplies')})}),(0,j.jsx)(o.kC,{alignItems:"stretch",justifyContent:"start",children:(0,j.jsx)("ul",{style:{padding:0},children:(null!=e?e:[]).map(((e,t)=>(0,j.jsx)(it,{block:e},e.name||t)))})})]})},st=(0,ze.Z)({useGraphQLAdapter:e=>{const t=(0,a.useFragment)(lt,e);if(!t)return null;return{suppliesBlocks:t.blocks?t.blocks.reduce(((e,t)=>{if(6===t.blockType){var n,i;const a={type:6,amt:null!==(n=t.amt)&&void 0!==n?n:void 0,name:null!==(i=t.name)&&void 0!==i?i:void 0};return[...e,a]}return e}),[]):void 0}},useLegacyAdapter:e=>{var t;return{suppliesBlocks:null===(t=e.blocks)||void 0===t?void 0:t.filter(ot)}}});function dt({page:e}){return(0,j.jsx)(st,{input:"graphql"===e.type?{enabled:!0,data:e.data}:{enabled:!1,data:e.data},children:({data:e})=>e&&(0,j.jsx)(rt,{...e})})}var ct,ut=n(874090),pt=n(825389),mt=n(147597);const ht=void 0!==ct?ct:ct=n(927190),gt=({accessibilityLabel:e,disabled:t,handleTap:n,icon:i})=>(0,j.jsx)(o.xu,{opacity:t?.5:void 0,children:(0,j.jsx)(o.iP,{disabled:t,onTap:({event:e})=>{e.stopPropagation(),!t&&n&&n()},tapStyle:"compress",children:(0,j.jsx)(o.JO,{accessibilityLabel:e,color:"light",icon:i,size:20})})});function _t({activePageIndex:e,handlePageChange:t,handlePlay:n,handlePause:a,handleMute:l,inRemoveRelatedStreamsExp:r,isInactiveStreamPin:s,isPlaying:d,isMuted:u,pageCount:p,pinId:m,progressInfo:h,setVideoProgress:y,shouldMute:v,showVideoControls:b=!1,videoDurations:x=[],viewParameter:P}){const S=(0,c.ZP)(),{currentTime:w}=h||{},{seekTimes:T}=(0,_.Hx)(),I=(0,f.HG)(),A=Object.keys(T).includes(m)&&T[m]?T[m]:w,C=(0,i.useMemo)((()=>x.reduce(((e,t)=>e+(t.duration||0)),0)/k.gJ),[x]),E=(0,i.useMemo)((()=>x.filter(((t,n)=>n<e)).reduce(((e,t)=>e+(t.duration||0)),0)/k.gJ),[x,e]),R=x.length>0&&x[e].isVideo?A+E:5*w+E;return(0,j.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"center",width:"100%",dangerouslySetInlineStyle:{__style:{gap:4*(r?3:5),pointerEvents:"auto",touchAction:"none"}},children:[r&&(0,j.jsx)(o.xu,{children:(0,j.jsx)(o.xv,{color:"light",size:"100",children:(0,g.Lc)(R)})}),(0,j.jsx)(mt.ZP,{activePageIndex:e,activePageCurrentTime:A,currentTime:R,duration:C,handlePlay:n,handlePause:a,handleVideoScrubbingNewPage:t,isInactiveStreamPin:s,isPlaying:d,pageCount:p,pageDurations:x,pinId:m,progressInfo:h,setVideoProgress:y,shouldShowPlayhead:!0,showEndCard:!1,videoDurations:x,viewParameter:P}),r&&(0,j.jsx)(o.xu,{children:(0,j.jsx)(o.xv,{color:"light",size:"100",children:(0,g.Lc)(C)})}),!!l&&(0,j.jsx)(o.xu,{"data-test-id":"mute-control-button",marginEnd:I?3:0,dangerouslySetInlineStyle:{__style:{opacity:b||!d?1:0,transition:"all .1s"}},children:(0,j.jsx)(gt,{accessibilityLabel:u?S._('Mute', 'closeup.IdeaPinVideo.mute', 'Mute button on Idea Pin video'):S._('Unmute', 'closeup.IdeaPinVideo.unmute', 'Unmute button on Idea Pin video'),disabled:!!v,handleTap:l,icon:v||u?"mute":"sound"})})]})}const yt=({activePageIndex:e,pinKey:t,...n})=>{var i,a;const{data:l}=(0,pt.k5)(ht,t,{type:"pin",useLegacyAdapter:e=>({storyPinData:e.story_pin_data&&{pages:e.story_pin_data.pages&&e.story_pin_data.pages.map((e=>e&&{ad:e.ad&&{__typename:"Pin"},blocks:e.blocks&&e.blocks.map((e=>e&&{blockType:e.block_type,video:e.video&&{videoList:e.video.video_list&&{v720P:e.video.video_list.V_EXP3&&{duration:e.video.video_list.V_EXP3.duration}}}})),layout:e.layout,shouldMute:e.should_mute}))}})});if(!l)return(0,j.jsx)(P.Z,{});const{storyPinData:o}=l,{shouldMute:r}=(null==o||null===(i=o.pages)||void 0===i?void 0:i[e])||{},s=null==o||null===(a=o.pages)||void 0===a?void 0:a.filter((e=>!(2===e.layout&&!e.ad||5===e.layout||6===e.layout))),d=null==s?void 0:s.map((e=>{var t;return null===(t=e.blocks)||void 0===t?void 0:t.find((e=>3===e.blockType))})),c=null==d?void 0:d.map((e=>{var t,n,i;const a=null==e||null===(t=e.video)||void 0===t||null===(n=t.videoList)||void 0===n||null===(i=n.v720P)||void 0===i?void 0:i.duration;return a?{duration:a,isVideo:!0}:{duration:u.oN,isVideo:!1}}));return(0,j.jsx)(_t,{...n,activePageIndex:e,shouldMute:r,videoDurations:c})};var vt,ft=n(220271);const bt=64,xt=120,kt="calc(100vw - 110px)",Pt=2e3,St="64px",wt=void 0!==vt?vt:vt=n(692985),Tt=e=>(null!=e?e:[]).filter((e=>{var t,n,i,a;return!(2===(null===(t=e.data)||void 0===t?void 0:t.layout)&&(null===(n=e.data)||void 0===n||!n.ad)||5===(null===(i=e.data)||void 0===i?void 0:i.layout)||6===(null===(a=e.data)||void 0===a?void 0:a.layout))})),It=(e,t)=>{var n,i;const a=null===(n=e.state)||void 0===n?void 0:n.startingStoryPageId;if(!a)return 0;return(null!==(i=Tt(t))&&void 0!==i?i:[]).findIndex((e=>{var t;return("graphql"===e.type?null===(t=e.data)||void 0===t?void 0:t.pageId:e.data.id)===a}))||0};function At(e){const t=(0,y.n4)(e,"0.8.0");return null!=t&&t>=0}function Ct({activeStreamItemIndex:e,currentPageIndex:t,graphqlRef:n,handlePause:i,handlePlay:a,isActive:l,isAuthenticated:o,isInactiveStreamPin:r,isSinglePage:s,mute:d,onVideoEnded:u,page:p,pinId:m,setFlyoutOpen:h,storyPinMetadataRecipeData:g,storyPinMetadataTemplateType:_,storyPinMetadataVersion:y,pinAspectRatio:v,videoProgress:f,setVideoProgress:b}){var x,k;const P=(0,c.ZP)(),S=At(null!=y?y:""),w=()=>{u(t)};if(!p)return null;const T="graphql"===p.type?null===(x=p.data)||void 0===x?void 0:x.pageId:p.data.id;if(S)return(0,j.jsx)(et.Z,{activeStreamItemIndex:e,graphqlRef:n,isSinglePage:s,isActive:!r&&l,isAuthenticated:o,muteVideos:d,onFlyoutClose:()=>{a(),h(!1)},onFlyoutOpen:()=>{i(),h(!0)},onVideoEnded:w,pinId:m,pinAspectRatio:v,pageId:T,videoProgress:f,setVideoProgress:b});switch(null===(k=p.data)||void 0===k?void 0:k.layout){case 0:return(0,j.jsx)(Ue,{page:p},T);case 1:case 3:case 4:return(0,j.jsx)(Qe.Z,{pageId:T,pinId:m,graphqlRef:n},T);case 5:const e=F({i18n:P,storyPinMetadataRecipeData:g,storyPinMetadataTemplateType:_}),t=e?e.servingSize:null;return(0,j.jsx)(Je,{page:p,servingSize:t},T);case 6:return(0,j.jsx)(dt,{page:p},T);default:return null}}function jt(e){var t,n,a,P,T,A,C,E,R;const{activeStreamItemIndex:L,clientTrackingParams:D,creatorAdsOnlyProfileSite:F,creatorBlockedByMe:z,creatorExplicitlyFollowedByMe:M,creatorFullName:O,creatorId:B,creatorImageLargeUrl:Z,creatorImageMediumUrl:N,creatorImageSmallUrl:U,creatorIsAdsOnlyProfile:K,creatorUsername:V,creatorVerified:H,dominantColor:G,experience:W,graphqlRef:$,hasCreator:q,imageSignature:Y,isFirstInStream:X,isInactiveStreamPin:J,isRelatedStreamPin:Q,isStreamMuted:ee,pinAspectRatio:te,pinId:ne,pinnedToBoardId:ie,reactionCounts:ae,setStreamMuted:le,sponsorFullName:oe,sponsorId:re,sponsorshipCreatorId:se,sponsorshipStatus:de,sponsorUsername:ce,storyPinDataId:ue,storyPinHasProductPins:pe,storyPinMetadataRecipeData:me,storyPinMetadataTemplateType:he,storyPinMetadataVersion:ge,storyPinPages:_e,streamItemIndex:ye,viewParameter:ve,viewType:fe,attributionLabel:be}=e,ke=(0,i.useRef)(null),{checkExperiment:Pe}=(0,p.F)(),{storyPinHeight:Se,fillerPaddingTop:we}=(0,ut.Z)(),Te=(0,f.ZP)(),Ie=(0,c.ZP)(),Ae=(0,l.useLocation)(),je=(0,s.Z)(),Ee=(0,x.Z)(),{width:Re}=(0,r.Z)()||{},{isRTL:De}=(0,m.B)(),ze=(0,f.HG)(),[Me,Oe]=(0,i.useState)(It(Ae,_e)),[Be,Ze]=(0,i.useState)(!1),Ne=(0,i.useRef)(null),Ue=(0,i.useRef)(null),He=Ee.isAuth,Ge="desktop"!==Te&&Pe(He?"closeup_auth_mweb_onepin_title_and_description":"closeup_unauth_mweb_onepin_title_and_description").anyEnabled,We="desktop"!==Te&&Pe(He?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,{anyEnabled:$e}=(0,p.F)().checkExperiment("hfp_hf_ssr_mweb",{dangerouslySkipActivation:!0}),qe=(0,d.vs)(),Ye=($e?qe:(0,d.Yc)())?"darkGray":"white",[Xe,Je]=(0,i.useState)(!0),Qe=null!=ee?ee:Xe,[et,tt]=(0,i.useState)(!0),[it,at]=(0,i.useState)(null),[lt,ot]=(0,i.useState)(!1),[rt,st]=(0,i.useState)(!1),{clearSeekTime:dt}=(0,_.RC)(),{isSeekingIdeaPin:ct,seekTimes:pt}=(0,_.Hx)(),mt=pt&&pt[ne],ht=(lt||!et)&&!ct&&!rt,[gt,_t]=(0,i.useState)(!1),{paddingY:vt}=(0,Fe._P)(ze),ft=4*vt;(0,i.useEffect)((()=>(ht&&(Ue.current=setTimeout((()=>{ot(!1)}),Pt)),()=>{clearTimeout(Ue.current)})),[et,ht]),(0,i.useEffect)((()=>{if(Ne.current&&mt){const e=Ne.current;e.pause(),e.remaining=u.oN-mt*k.gJ,at({currentTime:mt/u.P6,duration:1,pinId:ne})}}),[mt,ne]),(0,i.useEffect)((()=>{"desktop"===Te||gt||J||(je({event_type:9314,view_type:1,view_parameter:ve,component:13801,aux_data:{grid_index:ye,pin_id:ne,image_signature:Y,creator_id:se,story_pin_data_id:ue},clientTrackingParams:D}),_t(!0))}),[D,Te,gt,J,Y,je,ne,se,ue,ye,ve]),(0,i.useEffect)((()=>{He||(0,h.Nh)(w.Uw,w.zu),("desktop"===Te||X)&&je({event_type:13,view_type:3,view_parameter:157,component:13283,object_id_str:ne})}),[]),(0,b.Z)((()=>(Lt(Me),()=>{Ne.current&&Ne.current instanceof y.B7&&Ne.current.clear()})));const wt=(0,i.useCallback)((()=>We?0:ze?ft:Fe.hk+ft),[We,ze,ft]),jt=null!==(t=Tt(_e))&&void 0!==t?t:[],Et=jt.length,Rt=jt[Me],Lt=e=>{at({currentTime:0,duration:1,pinId:ne}),Ft(e)},Dt=e=>{et||tt(!0),Lt(e),Oe(e)},Ft=(0,i.useCallback)((e=>{var t,n,i,a;const l=(null!==(t=null!==(n=null===(i=jt[e].data)||void 0===i?void 0:i.blocks)&&void 0!==n?n:null===(a=jt[e].data)||void 0===a?void 0:a.videoBlocks)&&void 0!==t?t:[]).find((e=>e.type===Fe.h8.VIDEO||3===e.block_type||3===e.blockType));Ne.current&&Ne.current instanceof y.B7&&(Ne.current.clear(),Ne.current=null),l||(Ne.current=new y.B7((e=>{at({currentTime:e<1?e:1,duration:1,pinId:ne})}),(()=>{Dt(e<Et-1?e+1:0)}),u.oN))}),[ne,_e,Et]),zt=e=>{var t;at({currentTime:0,duration:null!==(t=null==it?void 0:it.duration)&&void 0!==t?t:1,pinId:ne}),dt(),e===Et-1&&Dt(0),e===Me&&Me<Et-1&&Dt(Me+1)};if(!_e)return null;const Mt="number"==typeof Se?`${Se}px`:ut.F,{heightString:Ot,marginTop:Bt}=function({actionBarHeight:e,actionBarPaddingY:t,availableHeightFormatted:n,availableHeightRaw:i,inRemoveRelatedStreamsExp:a,pinAspectRatio:l,windowWidth:o}){let r=0,s=`calc(${n} - ${a?"0px":`${e}px - 2 * ${t}px`})`;if("number"==typeof l&&"number"==typeof i){const n=o/l,a=i-e-2*t,d=Math.min(n,a);s=`${d}px`,r=(i-d)/2}return{heightString:s,marginTop:r}}({actionBarHeight:ze||We?0:Fe.gx,actionBarPaddingY:ft,availableHeightFormatted:Mt,availableHeightRaw:Se,inRemoveRelatedStreamsExp:We,pinAspectRatio:"number"==typeof te&&te!==g.ap?te:null,windowWidth:Re}),Zt=ze?kt:"100%",Nt="number"==typeof we?"desktop"!==Te?`${we}px`:we:ut.F,Ut=()=>{tt(!0),ot(!1),Ne.current?(Ne.current.resume(),mt>0&&dt()):it||Lt(Me)},Kt=()=>{tt(!1),Ne.current&&Ne.current.pause()},Vt=(null!==(n=null!==(a=null===(P=Rt.data)||void 0===P?void 0:P.blocks)&&void 0!==a?a:null===(T=Rt.data)||void 0===T?void 0:T.musicBlocks)&&void 0!==n?n:[]).find((e=>e.type===Fe.h8.MUSIC||11===e.blockType)),Ht=()=>{var e,t,n,i,a;return(0,j.jsx)(o.xu,{width:Zt,dangerouslySetInlineStyle:{__style:{textShadow:"0px 0px 8px rgb(0 0 0 / 30%)"}},marginBottom:2,children:(0,j.jsx)(Le,{anchorRef:ke,creatorAdsOnlyProfileSite:null!=F?F:"",creatorBlockedByMe:null!=z&&z,creatorExplicitlyFollowedByMe:null!=M&&M,creatorFullName:O,creatorId:B,creatorImageLargeUrl:Z,creatorImageMediumUrl:N,creatorImageSmallUrl:U,creatorIsAdsOnlyProfile:!!K,creatorUsername:V,creatorVerified:H,currentPageIndex:Me,handlePause:Kt,handlePlay:Ut,graphqlRef:$,isMultiPagePin:Et>1,pinId:ne,pinImageSignature:Y,sponsorFullName:oe,sponsorId:re,sponsorshipStatus:de,sponsorUsername:ce,storyPinHasProductPins:null!=pe&&pe,pageMusicBlockAudioArtistName:null!==(e=null==Vt||null===(t=Vt.audio)||void 0===t?void 0:t.artist_name)&&void 0!==e?e:null==Vt||null===(n=Vt.audio)||void 0===n?void 0:n.artistName,pageMusicBlockAudioTitle:null==Vt||null===(i=Vt.audio)||void 0===i?void 0:i.title,pageId:null===(a=Rt.data)||void 0===a?void 0:a.id,clientTrackingParams:D})})},Gt=$?{type:"graphqlRef",data:$}:{type:"deprecated",data:ne};return(0,j.jsxs)(i.Fragment,{children:[(0,j.jsx)(v.Z,{view:3,viewParameter:157,component:85,children:(0,j.jsxs)(o.xu,{position:"relative",marginStart:ze?-2:0,marginEnd:ze?-2:0,children:[(0,j.jsxs)(o.xu,{"data-test-id":"story-pin-full-bleed-slideshow-mweb",height:Mt,position:"absolute",overflow:"hidden",top:!0,left:!0,bottom:!0,right:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:null!=G?G:""}},children:[(0,j.jsx)(o.xu,{id:`idea-pin-closeup-pause-play-scrubber-overlay-${ne}-${null!=L?L:0}`,rounding:ze||We?0:Fe.HG,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",alignSelf:"center",top:!0,left:!0,bottom:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",paddingBottom:wt(),transition:"all .2s ease-in-out",...ht?{backgroundColor:"rgba(0,0,0,.6)"}:{}}},zIndex:Fe.lt,children:(0,j.jsx)(o.kC,{alignItems:"center",justifyContent:"center",children:ht&&(0,j.jsx)(o.iP,{onTap:()=>et?Kt():Ut(),tapStyle:"compress",children:(0,j.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"play-control-button",children:(0,j.jsx)(o.JO,{icon:et?"pause":"play",size:48,accessibilityLabel:"Play",color:"light",inline:!0})})})})}),(0,j.jsxs)(S.Z,{onTouch:()=>{ct||ot(!lt)},pressState:"none",children:[jt.map(((e,t)=>(0,j.jsx)(i.Fragment,{children:(0,j.jsx)(nt,{index:t,currentPageIndex:Me,width:"100%",height:Ot,marginTop:Bt,children:(0,j.jsx)(Ct,{activeStreamItemIndex:L,anchorRef:ke,currentPageIndex:Me,graphqlRef:$,handlePause:Kt,handlePlay:Ut,isActive:et&&Me===t&&!J,isAuthenticated:He,isInactiveStreamPin:J,isSinglePage:1===jt.length,mute:Et>1||Qe,onVideoEnded:zt,page:e,pinId:ne,pinAspectRatio:te,setFlyoutOpen:st,setVideoProgress:at,storyPinMetadataTemplateType:he,storyPinMetadataVersion:ge,storyPinMetadataRecipeData:me,videoProgress:it})})},`${ne}-${t}`))),!(Et>1)&&We&&(Pe("mweb_music_attribution").anyEnabled||Pe("web_mweb_unauth_music_compliance_muting_attribution").anyEnabled)&&(0,j.jsx)(o.xu,{display:"flex",alignContent:"center",paddingY:5,dangerouslySetInlineStyle:{__style:{paddingInlineStart:St,paddingInlineEnd:St}},children:(0,j.jsx)(I.Z,{activePageIndex:Me,graphqlRef:$,pageMusicBlockAudioArtistName:null!==(A=null==Vt||null===(C=Vt.audio)||void 0===C?void 0:C.artist_name)&&void 0!==A?A:null==Vt||null===(E=Vt.audio)||void 0===E?void 0:E.artistName,pageMusicBlockAudioTitle:null==Vt||null===(R=Vt.audio)||void 0===R?void 0:R.title,pinId:ne,playbackHandlers:{handlePause:Kt,handlePlay:Ut},viewParameter:157})}),(0,j.jsxs)(o.xu,{position:"absolute",display:"flex",direction:"column",bottom:!0,left:!0,right:!0,paddingX:6,dangerouslySetInlineStyle:{__style:{marginBottom:ze||We?0:Fe.hk+ft,background:"linear-gradient(to top, rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0))",paddingTop:"6vh"}},zIndex:We?new o.Ry(1):Fe.lp,children:[Ge?!ct&&!We&&Ht():He&&q&&!ct&&!We&&Ht(),!He&&!Ge&&!ct&&!We&&(0,j.jsxs)(o.xu,{width:"100%",zIndex:Fe.lp,children:[(0,j.jsx)(Ce,{pinId:ne,textColor:"light",pinImageSignature:null!=Y?Y:"",noFollowButton:Pe("lex_follow_button").group.includes("hide_follow"),blockedByMe:null!=z&&z,explicitlyFollowedByMe:null!=M&&M,fullName:null!=O?O:"",id:null!=B?B:"",imageLargeUrl:Z,imageMediumUrl:N,imageSmallUrl:U,verified:H,username:null!=V?V:"",clientTrackingParams:D}),(0,j.jsx)(xe,{anchorRef:ke,fullName:null!=O?O:"",graphqlRef:null,imageLargeUrl:Z,imageMediumUrl:N,imageSmallUrl:U,pinId:ne,username:null!=V?V:"",clientTrackingParams:D})]}),(0,j.jsx)(o.xu,{children:(0,j.jsx)(yt,{activePageIndex:Me,handlePageChange:Dt,handlePlay:Ut,handlePause:Kt,handleMute:Et>1?void 0:()=>{null==le||le(!Qe),Je(!Qe)},inRemoveRelatedStreamsExp:We,isInactiveStreamPin:J,isPlaying:!J&&et,isMuted:Qe,pageCount:jt.length,pinId:ne,pinKey:Gt,progressInfo:it,setVideoProgress:at,showVideoControls:!0})})]}),!ze&&!We&&(0,j.jsx)(o.xu,{padding:2,position:"absolute",right:!De,left:De,top:!0,height:Fe.hk,width:Fe.R_,zIndex:Fe.lp,"data-test-id":"pin-more-button",children:(0,j.jsx)(o.iP,{onTap:({event:e})=>{e.stopPropagation(),je({component:229,element:10946,event_type:102,view_type:3,view_parameter:157}),Ze(!0)},children:(0,j.jsx)(o.hU,{size:"lg",accessibilityLabel:Ie._('more', 'closeup.storyPin.actionBar.contextualMenu', 'Pin more button'),iconColor:Ye,icon:"ellipsis"})})}),!He&&ge&&At(ge)&&(0,j.jsxs)(i.Fragment,{children:[(0,j.jsx)(o.xu,{height:xt,position:"absolute",top:!0,width:"100%",dangerouslySetInlineStyle:{__style:{backgroundImage:"linear-gradient(180deg, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0) 100%)"}}}),(0,j.jsx)(o.xu,{height:xt,position:"absolute",bottom:!0,width:"100%",dangerouslySetInlineStyle:{__style:{backgroundImage:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}}})]})]}),!ze&&!We&&(0,j.jsx)(Ke.Z,{clientTrackingParams:D,experience:W,graphqlRef:$,pinId:ne,pinnedToBoardId:ie,reactionCounts:ae,viewType:fe,viewParameter:ve,component:228,attributionLabel:be})]}),(0,j.jsx)(o.xu,{"data-test-id":"filler",height:"auto",dangerouslySetInlineStyle:{__style:{marginTop:Q||We?0:-1*bt,paddingTop:Nt}}})]})}),Be&&(0,j.jsx)(Ve.Z,{onDismiss:()=>Ze(!1),pinId:ne})]})}function Et({graphqlRef:e,...t}){var n,i,o,r,s,d,c,u,p,m,h,_,y,v,f;const b=(0,a.useFragment)(wt,e),{dominantColor:x,imageSignature:k,nativeCreator:S,pinner:w,sponsorship:T,storyPinData:I,storyPinDataId:A}=b,C=null===(n=b.aggregatedPinData)||void 0===n?void 0:n.entityId,E=null==T?void 0:T.sponsor,R=null==T||null===(i=T.creator)||void 0===i?void 0:i.entityId,L=null==T?void 0:T.status,D=S||w,F=null==I||null===(o=I.pages)||void 0===o?void 0:o.map((e=>({type:"graphql",data:e}))),z=(0,l.useLocation)(),M=(0,ft.Z)(b);if(!b)return(0,j.jsx)(P.Z,{});const O=null==I||null===(r=I.metadata)||void 0===r?void 0:r.recipeData,B=(null==I||null===(s=I.metadata)||void 0===s?void 0:s.canvasAspectRatio)||g.ap;return(0,j.jsx)(jt,{...t,aggregatedPinDataId:C,creatorAdsOnlyProfileSite:null==D?void 0:D.adsOnlyProfileSite,creatorBlockedByMe:null==D?void 0:D.blockedByMe,creatorExplicitlyFollowedByMe:null==D?void 0:D.explicitlyFollowedByMe,creatorFullName:null==D?void 0:D.fullName,creatorId:null==D?void 0:D.entityId,creatorImageLargeUrl:null==D?void 0:D.imageLargeUrl,creatorImageMediumUrl:null==D?void 0:D.imageMediumUrl,creatorImageSmallUrl:null==D?void 0:D.imageSmallUrl,creatorIsAdsOnlyProfile:null==D?void 0:D.isAdsOnlyProfile,creatorUsername:null!==(d=null==D?void 0:D.username)&&void 0!==d?d:"",creatorVerified:null!==(c=null==D||null===(u=D.verifiedIdentity)||void 0===u?void 0:u.verified)&&void 0!==c&&c,dominantColor:x,graphqlRef:b,hasCreator:!!D,imageSignature:k,pinAspectRatio:B,pinTitle:b.title,reactionCounts:M,sponsorFullName:null==E?void 0:E.fullName,sponsorId:null==E?void 0:E.entityId,sponsorshipCreatorId:R,sponsorshipStatus:L,sponsorUsername:null==E?void 0:E.username,storyPinDataId:A,storyPinHasProductPins:null!==(p=null==I?void 0:I.hasProductPins)&&void 0!==p&&p,storyPinPages:F,storyPinMetadataRecipeData:{cooking_time:null!==(m=null==O?void 0:O.cookingTime)&&void 0!==m?m:0,prep_time:null!==(h=null==O?void 0:O.prepTime)&&void 0!==h?h:0,serving_size:null!==(_=null==O?void 0:O.servingSize)&&void 0!==_?_:0},storyPinMetadataTemplateType:null==I||null===(y=I.metadata)||void 0===y?void 0:y.templateType,storyPinMetadataVersion:null==I||null===(v=I.metadata)||void 0===v?void 0:v.version,attributionLabel:null===(f=z.state)||void 0===f?void 0:f.attributionLabel})}function Rt(e){var t,n,i,a,o,r,s,d,c,u,p;const{pinId:m}=e,h=(0,T.S6)()(m),_=(0,l.useLocation)();if(!h)return(0,j.jsx)(P.Z,{});const{aggregated_pin_data:y,dominant_color:v,image_signature:f,native_creator:b,pinner:x,reaction_counts:k,sponsorship:S,story_pin_data_id:w,story_pin_data:I}=h,A=null==y?void 0:y.id,C=b||x,E=null==S?void 0:S.sponsor,R=null==S||null===(t=S.creator)||void 0===t?void 0:t.id,L=null==S?void 0:S.status,D=null==I||null===(n=I.pages)||void 0===n?void 0:n.map((e=>({type:"legacy",data:e}))),F=(null==I||null===(i=I.metadata)||void 0===i?void 0:i.canvas_aspect_ratio)||g.ap;return(0,j.jsx)(jt,{...e,aggregatedPinDataId:A,creatorAdsOnlyProfileSite:null==C?void 0:C.ads_only_profile_site,creatorBlockedByMe:null==C?void 0:C.blocked_by_me,creatorExplicitlyFollowedByMe:null==C?void 0:C.explicitly_followed_by_me,creatorFullName:null==C?void 0:C.full_name,creatorId:null==C?void 0:C.id,creatorImageLargeUrl:null==C?void 0:C.image_large_url,creatorImageMediumUrl:null==C?void 0:C.image_medium_url,creatorImageSmallUrl:null==C?void 0:C.image_small_url,creatorIsAdsOnlyProfile:null==C?void 0:C.is_ads_only_profile,creatorUsername:null!==(a=null==C?void 0:C.username)&&void 0!==a?a:"",creatorVerified:null!==(o=null==C||null===(r=C.verified_identity)||void 0===r?void 0:r.verified)&&void 0!==o&&o,dominantColor:v,hasCreator:!!C,imageSignature:f,pinAspectRatio:F,pinTitle:h.title,reactionCounts:k,sponsorFullName:null==E?void 0:E.full_name,sponsorId:null==E?void 0:E.id,sponsorshipCreatorId:R,sponsorshipStatus:L,sponsorUsername:null==E?void 0:E.username,storyPinDataId:w,storyPinHasProductPins:null!==(s=null==I?void 0:I.has_product_pins)&&void 0!==s&&s,storyPinMetadataRecipeData:null==I||null===(d=I.metadata)||void 0===d?void 0:d.recipe_data,storyPinMetadataTemplateType:null==I||null===(c=I.metadata)||void 0===c?void 0:c.template_type,storyPinMetadataVersion:null==I||null===(u=I.metadata)||void 0===u?void 0:u.version,storyPinPages:D,attributionLabel:null===(p=_.state)||void 0===p?void 0:p.attributionLabel})}function Lt({graphqlRef:e,...t}){return e?(0,j.jsx)(Et,{graphqlRef:e,...t}):(0,j.jsx)(Rt,{...t})}},243570:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(895200),a=n(413358),l=n(768865);function o(e,t,n,o){switch(e){case 0:return function({isShortened:e,minutes:t,i18n:n}){if(!t)return"";if(e)return(0,a.Z)(t,n).join("");const o=(0,l.Ys)((0,i.X)({m:t}),n);if(!o)return"";const r=o.join("");return`${n._('Cook Time', 'ideapin.basics.cookTime', 'The cook time for the food in this pin')}: ${r}`}({minutes:parseInt(t,10),i18n:n,isShortened:o});case 1:return function({servingSize:e,i18n:t}){return e?1===e?`${e} ${t._('serving', 'ideapin.basics.servings', 'The number of servings this recipe makes')}`:`${e} ${t._('servings', 'ideapin.basics.servings', 'The number of servings this recipe makes')}`:""}({servingSize:parseInt(t,10),i18n:n});case 2:return function({difficulty:e,i18n:t}){const n={1:t._('Easy', 'closeup.storyPin.basicsLayout.difficulty', 'Easy difficulty level'),2:t._('Intermediate', 'closeup.storyPin.basicsLayout.difficulty', 'Intermediate difficulty level'),3:t._('Expert', 'closeup.storyPin.basicsLayout.difficulty', 'Expert difficulty level')};return`${t._('Difficulty', 'ideapin.basics.difficulty', 'The difficulty for the activity in this pin')}: ${n[null!=e?e:"1"]}`}({difficulty:t,i18n:n});default:return""}}},775560:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>e.join("  ")},625274:(e,t,n)=>{n.d(t,{Z:()=>b});var i,a=n(667294),l=n(167912),o=n(883119),r=n(245410),s=n(463031),d=n(99220),c=n(549201),u=n(802071),p=n(525104),m=n(196039),h=n(896507),g=n(785893);const _=void 0!==i?i:i=n(756157);function y({activeStreamItemIndex:e,isActive:t,isSinglePage:n=!1,muteVideos:i,onFlyoutClose:l,onFlyoutOpen:p,onVideoEnded:_,pinId:y,maybeGraphqlRef:v,pinAspectRatio:f,pageId:b,pageLayout:x,pageShouldMute:k,pageHasImageAdjusted:P,pageStyleBackgroundColor:S,pageBlocks:w,hasVideoBlock:T,videoProgress:I,setVideoProgress:A}){const C=(0,c.HG)(),j=(0,u.Z)(),{checkExperiment:E}=(0,r.F)(),R=!C&&E(j.isAuth?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,L=0===x;return(0,g.jsx)(d.Z,{view:3,viewParameter:157,component:L?227:228,...T?{element:10957}:null,children:(0,g.jsx)(a.Fragment,{children:(0,g.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{background:S||"#ffffff"}},position:"absolute",top:!0,left:!0,bottom:!0,right:!0,overflow:"hidden",rounding:C||R?0:m.HG,zIndex:s.Ls,children:(0,g.jsx)(o.xu,{position:"relative",height:`calc(100vh -\n              ${C?0:m.gx+4*m.r4*2}px\n              )`,width:"100%",children:(0,g.jsx)(h.Z,{activeStreamItemIndex:e,isActive:t,blocks:w,onFlyoutClose:l,onFlyoutOpen:p,pinId:y,muteVideos:k||!!i,isCoverImageWithTitle:L&&!P,onVideoTimeChange:e=>{A&&A(e)},onVideoEnded:_,pageId:b,videoProgressInfo:I,pinAspectRatio:f,maybeGraphqlRef:v,isSinglePage:n})})})})})}function v(e){var t,n,i,a,l;const o=(0,p.S6)()(e.pinId),r=(null!==(t=null==o||null===(n=o.story_pin_data)||void 0===n?void 0:n.pages)&&void 0!==t?t:[]).find((t=>t.id===e.pageId)),s=(null!==(i=null==r?void 0:r.blocks)&&void 0!==i?i:[]).find((e=>e.type===m.h8.MUSIC)),d=(null!==(a=null==r?void 0:r.blocks)&&void 0!==a?a:[]).some((e=>e.type===m.h8.VIDEO));return(0,g.jsx)(y,{...e,maybeGraphqlRef:null,pageId:null==r?void 0:r.id,pageLayout:null==r?void 0:r.layout,pageShouldMute:null==r?void 0:r.should_mute,pageHasImageAdjusted:!(null==r||!r.image_adjusted),pageStyleBackgroundColor:null==r||null===(l=r.style)||void 0===l?void 0:l.background_color,pageBlocks:null==r?void 0:r.blocks,musicBlock:s,hasVideoBlock:d})}function f({graphqlRef:e,...t}){var n,i,a,o,r,s;const d=(0,l.useFragment)(_,e),c=(null!==(n=null===(i=d.storyPinData)||void 0===i?void 0:i.pages)&&void 0!==n?n:[]).find((e=>e.storyPageId===t.pageId)),u=null!==(a=!(null==c||!c.dominantColorAdjusted))&&void 0!==a?a:!(null==c||!c.imageSignatureAdjusted),p=(null!==(o=null==c?void 0:c.blocks)&&void 0!==o?o:[]).find((e=>11===e.blockType)),m=(null!==(r=null==c?void 0:c.blocks)&&void 0!==r?r:[]).some((e=>3===e.blockType));return(0,g.jsx)(y,{...t,maybeGraphqlRef:d,pageId:null==c?void 0:c.storyPageId,pageLayout:null==c?void 0:c.layout,pageShouldMute:null==c?void 0:c.shouldMute,pageHasImageAdjusted:u,pageStyleBackgroundColor:null==c||null===(s=c.style)||void 0===s?void 0:s.backgroundColor,pageBlocks:null,musicBlock:p,hasVideoBlock:m})}function b({graphqlRef:e,...t}){return e?(0,g.jsx)(f,{graphqlRef:e,...t}):(0,g.jsx)(v,{...t})}},117918:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(883119),a=n(536042),l=n(265259),o=n(785893);function r({isPinRep:e}){const t=(0,a.ZP)(),n=e?"default":"inverse",r=(0,o.jsx)(i.xu,{padding:e?1:0,"data-test-id":"unavailable-pin",children:(0,o.jsx)(i.xu,{color:e?"secondary":"dark",top:!0,height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,width:"100%",children:(0,o.jsxs)(i.kC,{height:"100%",direction:"column",justifyContent:"center",alignItems:"center",children:[(0,o.jsx)(i.xu,{paddingY:4,children:(0,o.jsx)(i.JO,{accessibilityLabel:t._('Pin not available', 'story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:n,icon:"alert",size:20})}),(0,o.jsx)(i.xv,{align:"center",color:n,weight:"bold",children:t._('Unavailable', 'story-pin.Closeup.UnavailableStoryPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),(0,o.jsx)(i.xu,{paddingY:1,children:(0,o.jsx)(i.xv,{align:"center",color:n,children:t._('Removed by the creator', 'story-pin.Closeup.UnavailableStoryPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})});return e?r:(0,o.jsx)(i.xu,{height:"100vh",children:(0,o.jsx)(l.Z,{children:r})})}},196039:(e,t,n)=>{n.d(t,{Ai:()=>S,B5:()=>h,CR:()=>c,Cc:()=>o,HG:()=>b,R_:()=>s,Wz:()=>r,_P:()=>f,dP:()=>w,dX:()=>k,gx:()=>u,h8:()=>a,hk:()=>d,lp:()=>_,lt:()=>m,oe:()=>x,r4:()=>v,rM:()=>P,tD:()=>p});var i=n(883119);const a={GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},l={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1},o={...l,font:{default_size:28,letter_spacing:-.4,line_height:1.25,name:"Graphik Regular",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Regular.otf"},font_size:28},r={...l,font:{default_size:48,letter_spacing:0,line_height:1,name:"Graphik Bold Italic",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Bold-Italic.otf"},font_size:48},s=64,d=64,c=48,u=48,p=new i.Ry(5),m=new i.H3([p]),h=new i.H3([m]),g=new i.H3([p]),_=new i.H3([g]),y=2,v=4;function f(e){return e?{paddingX:0,paddingY:0}:{paddingX:y,paddingY:v}}const b=6,x=47,k=8,P=4,S=5,w=3},995691:(e,t,n)=>{n.d(t,{Z:()=>j});var i,a=n(667294),l=n(167912),o=n(883119),r=n(101789),s=n(342693),d=n(44081),c=n(563962),u=n(377234),p=n(870243),m=n(536042),h=n(245410),g=n(454709),_=n(993926),y=n(549201),v=n(802071),f=n(936840),b=n(18028),x=n(525104),k=n(441266),P=n(269021),S=n(785893);const w=44,T=void 0!==i?i:i=n(747103);function I({fullName:e,keyValueBlocks:t,imageLargeUrl:n,imageMediumUrl:i,imageSmallUrl:l,link:x,listBlocks:T,pinId:I,title:A,templateType:C,username:j,description:E,graphqlRef:R,clientTrackingParams:L}){const D=(0,m.ZP)(),F=(0,c.Z)(),z=(0,y.HG)(),M=(0,v.Z)(),O=(0,u.vs)(),B=(0,f.ZP)({clickthroughInterstitialExperience:null,pinId:null!=I?I:""}),[Z,N]=(0,a.useState)(!1),{checkExperiment:U}=(0,h.F)(),{anyEnabled:K}=U(M.isAuth?"closeup_auth_mweb_onepin_title_and_description":"closeup_unauth_mweb_onepin_title_and_description"),{anyEnabled:V}=U("closeup_dweb_unauth_onepin_title_and_description"),H=(t||[]).map(((e,t)=>{var n;return(0,S.jsx)(k.Z,{categoryType:null!==(n=e.categoryType)&&void 0!==n?n:e.category_type,value:e.value,type:K?"compact":"detailed",size:K?"300":"200"},`key-val-component-${t}`)})).filter((e=>null!=e));if(K&&!z)return(0,S.jsxs)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",gap:4,children:[(0,S.jsx)(b.Z,{justifyContent:"start",pinId:I,graphqlRef:R,hideFollowerCount:!0,viewerId:M.id,clientTrackingParams:L}),(0,S.jsx)(o.X6,{align:"start",accessibilityLevel:1,overflow:"breakWord",size:"400",children:A}),(0,S.jsx)(_.Z,{items:H.filter((e=>""!==e)),color:O?"light":"default"}),E&&E.trim()?(0,S.jsx)(o.xu,{children:(0,S.jsx)(g.Z,{Wrapper:({children:e})=>(0,S.jsx)(o.xv,{size:"200",align:"start",children:e}),isExpanded:Z,description:E,maxHeight:38,handleToggle:()=>{N(!Z)}})}):null,(T||[]).map(((e,t)=>(0,S.jsxs)(o.kC,{direction:"column",gap:4,children:[e.heading?(0,S.jsx)(o.xv,{size:"300",weight:"bold",children:e.heading}):null,e.blocks&&e.blocks.length>0?(0,S.jsx)("ul",{style:{listStyleType:"disc",paddingInlineStart:16,margin:0},children:e.blocks.map(((t,n)=>(0,S.jsx)("li",{style:{listStyle:"disc"},className:O?"dark-mode":"light-mode",children:(0,S.jsx)(o.xv,{size:"300",overflow:"normal",inline:!0,children:t.text?t.text:""})},`item-${n}-${e.heading||"empty"}`)))},`${e.heading||"empty"}-${t}-list`):null]},`${e.heading||"empty"}-${t}-listHeading`)))]});const G=new Map([[null,D._('Notes', 'Closeup.StoryPinBasicsLayout.notesLayoutTitle', 'Label for button to expand notes Story Pin details')],[1,D._('Ingredients', 'Closeup.StoryPinBasicsLayout.recipeLayoutTitle', 'Label for button to expand ingredients Story Pin details')],[2,D._('Supplies', 'Closeup.StoryPinBasicsLayout.diyHomeLayoutTitle', 'Label for button to expand supplies Story Pin details')]]);return(0,S.jsxs)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[!z&&(0,S.jsxs)(o.xu,{display:"flex",justifyContent:"center",alignItems:"center",direction:"column",paddingY:4,children:[x&&(0,S.jsx)(o.xu,{marginBottom:2,"data-test-id":"link",children:(0,S.jsx)(o.rU,{href:x.url,target:"blank",underline:"always",onClick:()=>{F({view_type:132,view_parameter:3549,element:12971,event_type:102,aux_data:{pin_id:I,url:null==x?void 0:x.url}}),B()},children:(0,S.jsx)(o.xv,{children:x.domain})})}),(0,S.jsx)(P.Z,{dir:(0,P.j)(A),children:(0,S.jsx)(o.X6,{align:"center",size:"500",children:A})}),(0,S.jsxs)(o.iP,{fullWidth:!1,href:`/${j}/`,role:"link",children:[(0,S.jsx)(o.xu,{padding:2,children:(0,S.jsx)(o.xu,{height:w,width:w,children:(0,S.jsx)(p.qE,{name:null!=e?e:"",size:"fit",src:n||i||l||void 0})})}),(0,S.jsxs)(o.xu,{children:[(0,S.jsx)(o.xv,{inline:!0,size:"300",children:D._('By', 'closeup.storyPin.basicsLayout.publishedBy.label', 'Label for native creator')})," ",(0,S.jsx)(o.xv,{inline:!0,size:"300",weight:"bold",children:e})]})]})]}),!V&&(0,S.jsxs)(o.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,S.jsx)(o.xu,{paddingY:2,children:H.map(((e,t)=>(0,S.jsx)(o.xu,{display:"flex",paddingY:1,children:e},`$keyValue-${t}-information`)))}),(T||[]).map(((e,t)=>{var n;return(0,S.jsxs)(o.xu,{children:[(0,S.jsx)(o.xv,{size:"200",weight:"bold",children:e.heading}),(0,S.jsx)("ul",{children:(null!==(n=e.blocks)&&void 0!==n?n:[]).map(((t,n)=>(0,S.jsxs)("li",{style:{display:"table-row"},children:[(0,S.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell",paddingRight:8}},children:(0,S.jsx)(o.xv,{size:"200",children:""})}),(0,S.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{display:"table-cell"}},children:(0,S.jsx)(o.xv,{size:"200",overflow:"normal",children:t.text?t.text:""})})]},`item-${n}-${e.heading||"empty"}`)))},`${e.heading||"empty"}-${t}-list`)]},`${e.heading||"empty"}-${t}-listHeading`)}))]}),V&&T&&T.length>0&&(0,S.jsx)(o.xu,{marginBottom:8,children:(0,S.jsx)(r.Z,{heading:G.get(C),children:(0,S.jsx)(d.Z,{children:T.map(((e,t)=>{var n;const i=`${e.heading||"empty"}-${t}-listHeading`;return(0,S.jsxs)(a.Fragment,{children:[(0,S.jsx)(o.xu,{paddingY:2,marginTop:2}),(0,S.jsx)(o.xv,{size:s.n,weight:"bold",children:e.heading}),(null!==(n=e.blocks)&&void 0!==n?n:[]).map(((t,n)=>{const i=`item-${n}-${e.heading||"empty"}`;return(0,S.jsx)(a.Fragment,{children:(0,S.jsx)(o.xu,{marginBottom:1,children:(0,S.jsxs)(o.xv,{size:s.n,children:[" ",t.text?t.text:""]})})},i)}))]},i)}))})})})]})}function A({pinId:e,graphqlRef:t,...n}){var i,a;const l=(0,x.S6)()(e),o=(null==l||null===(i=l.story_pin_data)||void 0===i||null===(a=i.metadata)||void 0===a?void 0:a.basics)||{},{key_value_blocks:r,list_blocks:s}=o;return(0,S.jsx)(I,{...n,pinId:e,keyValueBlocks:r,listBlocks:s})}function C({pinId:e,graphqlRef:t,...n}){var i,a;const o=(0,l.useFragment)(T,t),r=(null==o||null===(i=o.storyPinData)||void 0===i||null===(a=i.metadata)||void 0===a?void 0:a.basics)||{};return(0,S.jsx)(I,{...n,pinId:e,keyValueBlocks:r.keyValueBlocks,listBlocks:r.listBlocks,graphqlRef:o})}function j(e){return e.graphqlRef?(0,S.jsx)(C,{graphqlRef:e.graphqlRef,...e}):(0,S.jsx)(A,{...e})}},441266:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(883119),a=n(536042),l=n(630089),o=n(245410),r=n(895200),s=n(771028),d=n(413358),c=n(785893);const u=({minutes:e,type:t,size:n,checkExperiment:l})=>{const o=(0,a.ZP)();if("compact"===t){const t=(0,d.Z)(e,o);return(0,c.jsx)(i.xv,{inline:!0,size:n,children:t})}const u=(0,s.Z)((0,r.X)({m:e}),o,l);return(0,c.jsxs)(i.xu,{children:[(0,c.jsx)(i.xv,{weight:"bold",inline:!0,size:n,children:o._('Cook Time: ', 'closeup.storyPin.basicsLayout.cookTime.label', 'Label for cook time (ex. Cook Time: 3 minutes)')}),(0,c.jsx)(i.xv,{inline:!0,size:n,children:u})]})},p=({servingSize:e,type:t,size:n})=>{const o=(0,a.ZP)(),r=(0,l.nk)(o.ngettext('{{servingSize}} serving', '{{servingSize}} servings', e, 'number of servings for a recipe', 'number of servings for a recipe'),{servingSize:e});return"compact"===t?(0,c.jsx)(i.xv,{inline:!0,size:n,children:r}):(0,c.jsxs)(i.xu,{children:[(0,c.jsx)(i.xv,{weight:"bold",inline:!0,size:n,children:o._('Serving Size: ', 'closeup.storyPin.basicsLayout.servingSize.label', 'Label for serving size')}),(0,c.jsx)(i.xv,{inline:!0,size:n,children:r})]})},m=({difficulty:e,type:t,size:n})=>{const l=(0,a.ZP)(),o={1:l._('Easy', 'closeup.storyPin.basicsLayout.difficulty', 'Easy difficulty level'),2:l._('Intermediate', 'closeup.storyPin.basicsLayout.difficulty', 'Intermediate difficulty level'),3:l._('Expert', 'closeup.storyPin.basicsLayout.difficulty', 'Expert difficulty level')};return(0,c.jsxs)(i.xu,{children:[(0,c.jsx)(i.xv,{weight:"compact"===t?"normal":"bold",inline:!0,size:n,children:l._('Difficulty: ', 'closeup.storyPin.basicsLayout.difficulty.label', 'Label for difficulty')}),(0,c.jsx)(i.xv,{inline:!0,size:n,children:o[null!=e?e:"1"]})]})};function h({categoryType:e,value:t,type:n,size:i}){const{checkExperiment:a}=(0,o.F)();if(0===e){const e=parseInt(t,10);return e?(0,c.jsx)(u,{minutes:e,type:n,size:i,checkExperiment:a}):null}if(1===e){const e=parseInt(t,10);return(0,c.jsx)(p,{servingSize:e,type:n,size:i})}return 2===e?(0,c.jsx)(m,{difficulty:t,type:n,size:i}):null}},376398:(e,t,n)=>{n.d(t,{BN:()=>a,RK:()=>i,d3:()=>o,xm:()=>l});const i=({alignment:e,verticalAlignment:t})=>{const n={alignItems:"flex-start",display:"flex",height:"100%",textAlign:"left",width:"100%"};return 1===t?n.alignItems="center":2===t&&(n.alignItems="flex-end"),1===e&&(n.textAlign="center"),n},a=({fontSize:e,hexColor:t,highlightColor:n,letterSpacing:i,lineHeight:a,name:l})=>({fontSize:e,letterSpacing:i,lineHeight:a,color:t,fontFamily:l,margin:0,textShadow:n||"#ffffff"!==(null==t?void 0:t.toLowerCase())?void 0:"0px 1px 4px rgba(0, 0, 0, 0.2)",width:"100%",...n?{backgroundColor:n,borderRadius:5,padding:".05em .2em"}:{}}),l=({highlightColor:e})=>({...e?{backgroundColor:e,borderRadius:5,padding:".05em .2em"}:{}}),o=({letterSpacing:e,lineHeight:t,name:n,url:i})=>({fontFamily:n,fontGroup:"",fontOverrides:{letterSpacing:e,lineHeight:t,textTransform:!1},format:"truetype",defaultStyle:0,styles:[{name:"Regular",fontStyle:"",fontWeight:"normal",fontUrl:i}]})},128314:(e,t,n)=>{n.d(t,{Z:()=>r});var i,a=n(667294),l=n(167912);const o=void 0!==i?i:i=n(939592),r=e=>{const t=(0,l.useFragment)(o,e);return(0,a.useMemo)((()=>{if(!t)return null;const e={"750x":t.imageSpec_750x?{height:t.imageSpec_750x.height||void 0,url:t.imageSpec_750x.url||void 0,width:t.imageSpec_750x.width||void 0}:void 0,"236x":t.imageSpec_236x?{height:t.imageSpec_236x.height||void 0,url:t.imageSpec_236x.url||void 0,width:t.imageSpec_236x.width||void 0}:void 0,"1200x":t.imageSpec_1200x?{height:t.imageSpec_1200x.height||void 0,url:t.imageSpec_1200x.url||void 0,width:t.imageSpec_1200x.width||void 0}:void 0,original:t.imageSpec_orig?{height:t.imageSpec_orig.height||void 0,url:t.imageSpec_orig.url||void 0,width:t.imageSpec_orig.width||void 0}:void 0},n={"750x":t.imageAdjustedSpec_750x?{height:t.imageAdjustedSpec_750x.height||void 0,url:t.imageAdjustedSpec_750x.url||void 0,width:t.imageAdjustedSpec_750x.width||void 0}:void 0,"236x":t.imageAdjustedSpec_236x?{height:t.imageAdjustedSpec_236x.height||void 0,url:t.imageAdjustedSpec_236x.url||void 0,width:t.imageAdjustedSpec_236x.width||void 0}:void 0,"1200x":t.imageAdjustedSpec_1200x?{height:t.imageAdjustedSpec_1200x.height||void 0,url:t.imageAdjustedSpec_1200x.url||void 0,width:t.imageAdjustedSpec_1200x.width||void 0}:void 0,original:t.imageAdjustedSpec_orig?{height:t.imageAdjustedSpec_orig.height||void 0,url:t.imageAdjustedSpec_orig.url||void 0,width:t.imageAdjustedSpec_orig.width||void 0}:void 0};return{imageImages:e,imageAdjustedImages:n,hasImageAdjustedImages:Object.values(n).some((e=>!!e)),hasImageImages:Object.values(e).some((e=>!!e))}}),[t])}},171054:(e,t,n)=>{n.d(t,{h:()=>o,m:()=>r});var i=n(537347),a=n.n(i),l=n(376398);function o(e,t){if("undefined"==typeof window)return Promise.resolve();let n=document.querySelector(`#${t}`);if(n)return Promise.resolve();n=document.createElement("style"),n.setAttribute("id",t),e.filter((e=>!!e.fontFaceUrl)).forEach((e=>{n&&e.fontFaceUrl&&n.appendChild(document.createTextNode(`@import url('${e.fontFaceUrl}');`))}));const{head:i}=document;if(!i)return Promise.resolve();const l=document.createElement("style");l.setAttribute("id",`${t}-font-faces`),i.appendChild(n),i.appendChild(l);const o=[];return e.forEach((e=>{e&&e.styles&&e.styles.forEach((t=>{if(e.format&&t.fontUrl&&l&&l.sheet){var n;l.sheet.insertRule(`\n            @font-face {\n              font-family: "${null!==(n=e.fontFamily)&&void 0!==n?n:""}";\n              font-style: "${t.fontStyle}";\n              font-weight: "${t.fontWeight}";\n              src: url("${t.fontUrl}") format("${e.format}");\n            }`)}o.push(new(a())(e.fontFamily,{weight:t.fontWeight,style:t.fontStyle}).load())}))})),Promise.all(o)}function r(e){const{hasFont:t,letterSpacing:n,lineHeight:i,name:a,url:r}=e||{};t&&o([(0,l.d3)({letterSpacing:n,lineHeight:i,name:a,url:r})],(null!=a?a:"").split(" ").join(""))}},874090:(e,t,n)=>{n.d(t,{F:()=>d,Z:()=>c});var i=n(667294),a=n(245410),l=n(882973),o=n(549201),r=n(802071),s=n(196039);const d="100vh";function c(){const{isAuth:e}=(0,r.Z)(),t=(0,o.ZP)(),n="desktop"===t,{checkExperiment:d}=(0,a.F)(),c=!n&&d(e?"closeup_auth_mweb_remove_streams":"closeup_unauth_mweb_remove_streams").anyEnabled,{paddingY:u}=(0,s._P)(n),p=4*u,[m,h]=(0,i.useState)(null),[g,_]=(0,i.useState)(null),y="desktop"!==t&&!c,v=(0,i.useCallback)((()=>{var n;let i=null===(n=window)||void 0===n?void 0:n.innerHeight;if(!e){i-="tablet"===t?l.Pw:l.SB}c&&(i-=s.hk+p),h(i),_(y?i+2:i)}),[e,c,y,t,p]);return(0,i.useEffect)((()=>("undefined"!=typeof window&&v(),window.addEventListener("resize",v),()=>{window.removeEventListener("resize",v)})),[t,e,y,v]),{storyPinHeight:m,fillerPaddingTop:g}}},269021:(e,t,n)=>{n.d(t,{Z:()=>o,j:()=>l});var i=n(785893);const a=new RegExp("^[^A-Za-z--A-Za-z----]*[---]");function l(e){return function(e){return a.test(e||"")}(e)?"rtl":"ltr"}function o({children:e,dir:t="auto"}){return(0,i.jsx)("div",{dir:t,children:e})}},622050:(e,t,n)=>{function i(e){const t=[];let n="";for(const i of e)if(n){const e=!!i.match(/\s/),a=!!n.match(/\s/);if(e===a)n+=i;else if(!a&&n.includes("-")){let e=0;for(let i=0;i<n.length;i+=1)"-"===n[i]&&(t.push(n.substring(e,i+1)),e=i+1);t.push(n.substring(e)),n=i}else t.push(n),n=i}else n=i;return n.length&&t.push(n),t}function a({font:e,fontSize:t,textList:n,width:a}){var l,o;if("undefined"==typeof document||!document.body||a<=0||t<=0)return[];const{body:r}=document,s=document.createElement("div");r.appendChild(s);const d=null!=(null===(l=e.fontOverrides)||void 0===l?void 0:l.letterSpacing)?`${e.fontOverrides.letterSpacing}px`:void 0,c=(null===(o=e.fontOverrides)||void 0===o?void 0:o.lineHeight)||1.1,u={letterSpacing:d,lineHeight:String(c),fontFamily:e.fontFamily,fontSize:`${t}px`,visibility:"hidden"};Object.assign(s.style,u);const p=document.createElement("div");p.style.display="inline",s.appendChild(p);const m=document.createTextNode("");p.appendChild(m);const h=[];let g="";const _=e=>{const t=e.trim();return m.textContent=t,{text:t,width:p.offsetWidth}},y=e=>{const t=!!e.match(/\s/),n=0===g.length;if(m.textContent=`${g}${e}`,p.offsetWidth>a)if(t)h.push(_(g)),g="";else if(n)for(const i of e)y(i);else h.push(_(g)),g="",y(e);else g+=e};for(const v of null!=n?n:[]){0===v.length&&h.push(_(g));i(v).forEach((e=>y(e))),g.length&&(h.push(_(g)),g="")}return p.remove(),s.remove(),h}function l({boxHeight:e,boxWidth:t,font:n,startFontSize:i,text:l}){var o,r;if("undefined"==typeof document||!document.body)return{fontSize:i,lines:[]};const{body:s}=document,d=document.createElement("div");s.appendChild(d);const c=null==l?void 0:l.split(/\r?\n/g);let u=i;const p=null!=(null===(o=n.fontOverrides)||void 0===o?void 0:o.letterSpacing)?`${n.fontOverrides.letterSpacing}px`:void 0,m=(null===(r=n.fontOverrides)||void 0===r?void 0:r.lineHeight)||1.1,h={letterSpacing:p,lineHeight:String(m),fontFamily:n.fontFamily,fontSize:`${u}px`,position:"absolute",visibility:"hidden",width:`${t}px`};Object.assign(d.style,h);const g=document.createElement("div");for(g.style.display="inline",d.appendChild(g),(null!=c?c:[]).forEach(((e,t)=>{const n=document.createElement("span");n.style.wordBreak="break-word",g.appendChild(n),n.appendChild(document.createTextNode(e)),t!==(null!=l?l:"").length-1&&n.appendChild(document.createElement("br"))}));(g.offsetHeight>e||g.offsetWidth>t)&&u>0;)u-=1,d.style.fontSize=`${u}px`;return g.remove(),d.remove(),{fontSize:u,lines:u>0?a({font:n,fontSize:u,textList:c,width:t}):[]}}n.d(t,{K:()=>l,Y:()=>i})},834074:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(600268);function a(e){var t;return{defaultStyle:0,fontFamily:null!==(t=e.name)&&void 0!==t?t:"",fontGroup:i.gu,fontOverrides:{letterSpacing:e.letter_spacing,lineHeight:e.line_height},format:"truetype",id:e.id,styles:[{fontStyle:"",fontUrl:e.url,fontWeight:"normal",name:"normal"}]}}},586046:(e,t,n)=>{n.d(t,{Af:()=>c,Ei:()=>s,II:()=>v,Lh:()=>g,U:()=>m,X5:()=>u,Zy:()=>r,dD:()=>l,er:()=>h,hb:()=>y,in:()=>d,j7:()=>_,n5:()=>o,q8:()=>p,xH:()=>a});var i=n(463031);const a=1048576,l=3,o=20,r=3,s=10,d=50,c=10,u=1200,p=375,m=p/i.ap,h=1200,g="#FFFFFF",_={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"},y=420,v=768},356332:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(667294),a=n(883119),l=n(536042),o=n(293017),r=n(785893);const s=e=>0===e?0:2,d=({children:e,dangerouslySetInlineStyle:t,marginTop:n})=>(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:t,"data-test-id":"structured-description",marginTop:n,children:e}),c=({content:e,order:t,type:n})=>{if(!e)return null;const i=n===o.X.HEADER,l=[o.X.HEADER,o.X.BOLD].includes(n),c=t>0&&i?4:s(t);return(0,r.jsx)(d,{marginTop:c,children:(0,r.jsx)(a.xv,{size:"200",weight:l?"bold":"normal",children:e})})},u=({content:e,order:t})=>e?(0,r.jsx)(d,{marginTop:s(t),children:e}):null,p=({content:e,order:t})=>Array.isArray(e)&&0!==e.length?(0,r.jsx)(d,{marginTop:s(t),children:e.map((e=>(0,r.jsxs)(a.xu,{display:"flex",direction:"row",marginStart:1,marginTop:1,children:[(0,r.jsx)(a.xv,{size:"200",weight:"bold",inline:!0,children:""}),(0,r.jsx)(a.xu,{marginStart:1,children:(0,r.jsx)(a.xv,{size:"200",children:e})})]},e)))}):null,m=({accessibilityLabel:e,content:t,order:n})=>t&&"object"==typeof t?(0,r.jsx)(d,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:s(n),children:(0,r.jsx)(a.iA,{accessibilityLabel:e,children:(0,r.jsx)(a.iA.Body,{children:Object.entries(t).map((([e,t],n)=>(0,r.jsxs)(a.iA.Row,{children:[(0,r.jsx)(a.iA.Cell,{children:(0,r.jsx)(a.xv,{size:"100",weight:"bold",children:e})}),(0,r.jsx)(a.iA.Cell,{children:(0,r.jsx)(a.xv,{size:"100",children:String(t)})})]},n)))})})}):null,h=({accessibilityLabel:e,content:t,order:n})=>{if(!Array.isArray(t)||t.length<2)return null;const i=t[0],l=t.slice(1);return(0,r.jsx)(d,{dangerouslySetInlineStyle:{__style:{borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd"}},marginTop:s(n),children:(0,r.jsxs)(a.iA,{accessibilityLabel:e,children:[(0,r.jsx)(a.iA.Header,{children:(0,r.jsx)(a.iA.Row,{children:i.map(((e,t)=>(0,r.jsx)(a.iA.HeaderCell,{children:(0,r.jsx)(a.xv,{size:"100",weight:"bold",children:e})},t)))})}),(0,r.jsx)(a.iA.Body,{children:l.map(((e,t)=>(0,r.jsx)(a.iA.Row,{children:e.map(((e,t)=>(0,r.jsx)(a.iA.Cell,{children:(0,r.jsx)(a.xv,{size:"100",children:e})},t)))},t)))})]})})},g=e=>{const t=(0,l.ZP)();switch(e.type){case o.X.POINTS:return(0,r.jsx)(p,{...e});case o.X.SPECS:return(0,r.jsx)(m,{accessibilityLabel:t._('Specification view of description', 'webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredSpecs', 'Content represented in specification format'),...e});case o.X.TABLE:return(0,r.jsx)(h,{accessibilityLabel:t._('Table view of description', 'webapp.app.www-unified.components.structuredDescription.StructuredDescription.StructuredTable', 'Content represented in table format'),...e});case o.X.ELEMENT:return(0,r.jsx)(u,{...e});default:return(0,r.jsx)(c,{...e})}};function _({descriptions:e,onLoad:t}){return(0,i.useEffect)((()=>{"function"==typeof t&&t()}),[t]),0===e.length?null:e.map((({content:e,type:t},n)=>(0,r.jsx)(g,{content:e,order:n,type:t},n)))}},323883:(e,t,n)=>{n.d(t,{Z:()=>s});var i,a=n(667294),l=(n(167912),n(825389)),o=n(293017);const r=void 0!==i?i:i=n(157222);function s(e){const{data:t}=(0,l.JI)(r,e,{type:"pin",useGraphQLAdapter:e=>(0,a.useMemo)((()=>{return(t=e.formattedCloseupDescription)&&Array.isArray(t.components)?t.components.filter((e=>e.type)).map((e=>{var t,n,i;const a=null!==(t=e.type)&&void 0!==t?t:"";var l;return a===o.X.SPECS?{type:a,content:null===(l=e.specsContent)||void 0===l?void 0:l.map((e=>({key:e.key,value:e.value})))}:{type:a,content:null!==(n=null!==(i=e.stringContent)&&void 0!==i?i:e.pointsContent)&&void 0!==n?n:e.tableContent}})):[];var t}),[e.formattedCloseupDescription]),useLegacyAdapter:e=>{var t;const n=null===(t=e.formatted_description)||void 0===t?void 0:t.components;return Array.isArray(n)?n:[]}});return null!=t?t:[]}},293017:(e,t,n)=>{n.d(t,{X:()=>i,j:()=>a});const i={BOLD:"formatted_description_bold_component",ELEMENT:"formatted_description_element_component",HEADER:"formatted_description_header_component",PARAGRAPH:"formatted_description_paragraph_component",POINTS:"formatted_description_points_component",SPECS:"formatted_description_specs_component",TABLE:"formatted_description_table_component"},a=({components:e,pinDescription:t})=>e&&0!==e.length?e:[{content:t,type:i.PARAGRAPH}]},932124:(e,t,n)=>{n.d(t,{JJ:()=>i,N3:()=>l,zu:()=>a});const i=["TR","WB"],a=["BR","CG","HP","HR","JH","MP","RJ","UK","UP"],l=[...i,...a,"AP","TG"]},820166:(e,t,n)=>{n.d(t,{Z:()=>v});var i=n(883119),a=n(550140),l=n(536042),o=n(819079),r=n(549201),s=n(785893);const d=28,c=40,u=48,p=48,m=28,h="#696969";function g({ideaPinImages:e}){const t={1:d,2:c,3:u},n=e.map(((e,t)=>{var n,a,l;return(0,s.jsx)(i.xu,{height:p,width:m,color:"default",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},children:(0,s.jsx)(i.Ee,{alt:"",src:null!==(n=null==e?void 0:e.url)&&void 0!==n?n:"",color:h,fit:"cover",naturalHeight:null!==(a=null==e?void 0:e.height)&&void 0!==a?a:1,naturalWidth:null!==(l=null==e?void 0:e.width)&&void 0!==l?l:1})},t)}));return(0,s.jsx)(i.kC,{justifyContent:"center",children:(0,s.jsx)(i.kC,{justifyContent:"start",width:t[e.length],children:n})})}const _=3,y=5e3;function v({handleHide:e,text:t,userId:n,href:d,imageUrl:c}){const u=(0,l.ZP)(),p=(0,r.HG)(),m=(0,o.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:n}}),h=Array.isArray(t)?t.join(" "):t;if(0===(m.data||[]).length)return(0,s.jsx)(a.ZP,{duration:y,onHide:e,text:h,href:d,thumbnail:c?{image:(0,s.jsx)(i.Ee,{alt:u._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:c})}:void 0});const v=(m.data||[]).slice(0,_).map((e=>{var t;return null===(t=e.images)||void 0===t?void 0:t[p?"236x":"170x"]})),f=(0,s.jsx)(g,{ideaPinImages:v});return(0,s.jsx)(a.ZP,{href:d,duration:y,onHide:e,_dangerouslySetThumbnail:f,text:h})}},907310:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),a=n(107877),l=n(785893);function o({boardId:e}){var t;const n=(0,a.gC)()(e),o=null!=n&&n.images&&n.images["170x"]?n.images["170x"][0]:void 0;return e&&o?(0,l.jsx)(i.Ee,{alt:"Pin image",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(t=o.url)&&void 0!==t?t:""}):null}},217861:(e,t,n)=>{n.d(t,{k:()=>o,w:()=>l});var i=n(883119),a=n(360675);const l=2e3,o=new i.H3([a.Z])},204722:(e,t,n)=>{n.d(t,{Z:()=>O});var i,a=n(667294),l=n(167912),o=n(616550),r=n(883119),s=n(388011),d=n(536042),c=n(630089),u=n(624417),p=n(740494),m=n(465991),h=n(769705),g=n(245410),_=n(282802),y=n(649715),v=n(599226),f=n(98736),b=n(443601),x=n(230910),k=n(411056),P=n(525104),S=n(785893);const w=250,T=({children:e,onTap:t,testId:n})=>{const[i,l]=(0,a.useState)(!1);return(0,S.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:i?"rgba(0, 0, 0, 0.06)":void 0}},rounding:2,paddingX:3,paddingY:2,role:"listitem","data-test-id":`more-options-${n}`,children:(0,S.jsx)(r.iP,{onTap:t,onBlur:()=>l(!1),onFocus:()=>l(!0),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:e})})},I=void 0!==i?i:i=n(823722),A=({i18n:e,pinId:t,showSignupModal:n,attributionLabelSource:i})=>(0,S.jsx)(T,{testId:"save",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.save_image",{attributionLabelSource:i}),n({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${i}_save_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:t}}})},children:(0,S.jsx)(r.xv,{size:"200",weight:"bold",children:e._('Save image', 'dweb.unauth.context_menu.link.save_image', 'Link to save the image')})},"SaveMenuItem"),C=({i18n:e,pinTitle:t,pinDescription:n,pinId:i,bestPinImgSrc:a,attributionLabelSource:l,logContextEvent:o,pinCategory:s,checkExperiment:d,showSignupModal:c})=>(0,S.jsx)(T,{testId:"download",onTap:()=>{const{expName:e,expGroup:r,limitReached:u,oldCount:p,newCount:m}=(0,b.HM)(d,"dweb_download_in_context_menus_closeup");(0,f.My)("dweb.unauth.context_menu.download_image",{attributionLabelSource:l,expName:e,expGroup:r,limitReached:u,oldCount:p,newCount:m}),u?c({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${l}_download_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"downloadImageBtnUnauth",container:"download",savePinId:i}}}):(0,b.ZP)({filename:t||n||i,imgSrc:a||"",category:s,pinId:i,isUnauth:!0,platform:"web",expName:e,expGroup:r},o)},children:(0,S.jsx)(r.xv,{size:"200",weight:"bold",children:e._('Download image', 'Button to download Pin image', 'Button to download Pin image')})},"DownloadMenuItem"),j=({pinId:e,pinLink:t,fromEllipsisButton:n,attributionLabelSource:i,showSignupModal:a,i18n:l})=>(0,S.jsx)(T,{testId:"new-tab",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.open_plp_new_tab",{attributionLabelSource:i}),window.open(n?t:`/pin/${e}/`),n||a({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_related_pin_right_click_open_link_button",desktopOptions:{modalType:"login"}})},children:(0,S.jsx)(r.xv,{size:"200",weight:"bold",children:l._('Open link in new tab', 'dweb.unauth.context_menu.link.plp_new_tab', 'Link to open the pin in a new tab')})},"NewTabMenuItem"),E=({history:e,levelOneInterestUrl:t,searchUrl:n,levelOneInterestName:i,i18n:a,interestTag:l,attributionLabelSource:o})=>(0,S.jsx)(T,{testId:"interests",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.see_more_pins",{attributionLabelSource:o}),t?e.push(`${t}`):e.push(n)},children:i?(0,S.jsx)(r.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,c.nk)(a._('See more ideas about {{levelOneInterestName}}', 'dweb.unauth.context_menu.link.see_more_ideas.l1', 'Link to see similar pins'),{levelOneInterestName:i})}):(0,S.jsx)(r.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,c.nk)(a._('See more ideas about {{interestTag}}', 'dweb.unauth.context_menu.link.see_more_ideas.interest_tag', 'Link to see similar pins'),{interestTag:l})})},"MoreInterestsMenuItem"),R=({history:e,sourceUserUsername:t,sourceUserFullname:n,i18n:i,attributionLabelSource:a})=>(0,S.jsx)(T,{testId:"from-creator",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.more_from_creator",{attributionLabelSource:a}),e.push(`/${t}/`)},children:(0,S.jsx)(r.xv,{size:"200",weight:"bold",lineClamp:2,children:(0,c.nk)(i._('See more from {{full_name}}', 'dweb.unauth.context_menu.link.more_from_creator', 'Link to see more ideas from this creator'),{full_name:n})})},"MoreFromCreatorMenuItem"),L=({attributionLabelSource:e,showSignupModal:t,i18n:n})=>(0,S.jsx)(a.Fragment,{children:(0,S.jsx)(T,{testId:"login-or-signup",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.login_signup",{attributionLabelSource:e}),t({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${e}_signup_or_login_button`,desktopOptions:{modalType:"login"}})},children:(0,S.jsx)(r.xv,{size:"200",weight:"bold",children:n._('Log in or sign up for more', 'dweb.unauth.context_menu.link.login_signup', 'Link to log in or sign up')})})},"LoginSignupMenuItem"),D=({attributionLabelSource:e,reportLink:t,i18n:n})=>(0,S.jsx)(a.Fragment,{children:(0,S.jsx)(T,{testId:"dsa",onTap:()=>{(0,f.My)("dweb.unauth.context_menu.report_pin_dsa",{attributionLabelSource:e}),window.open(t,"_blank")},children:(0,S.jsx)(r.xv,{size:"200",weight:"bold",children:n._('Report Pin for EU local law violation', 'dweb.unauth.context_menu.link.report_pin_dsa', 'Button to report Pin for EU local law violation')})})},"ReportForDSAMenuItem");function F({desktopContextMenuState:e,isMainPinImage:t,source:n,imagesUrls:i,embedSrc:a,embedType:l,sourceUserUsername:c,sourceUserFullname:p,pinJoinVisualAnnotation:m,pinJoinSeoBreadcrumbName:h,pinJoinSeoBreadcrumbUrl:f,pinId:x,pinLink:P,pinTitle:T,pinDescription:I,pinCategory:F,pinEligibleForDownload:z}){var M;const O=(0,d.ZP)(),B=(0,o.useHistory)(),{logContextEvent:Z}=(0,s.v)(),{countryFromIp:N,isAuthenticated:U,isBot:K,isSocialBot:V}=(0,_.B)(),{checkExperiment:H}=(0,g.F)(),G=U?H("web_auth_exclude_original_images").anyEnabled:H("web_unauth_exclude_original_images").anyEnabled,W=(0,u.Z)({imagesUrls:i,embedSrc:a,embedType:l,excludeOriginals:!K&&!V&&G}),$=h,q=f,Y=null!==(M=null==m?void 0:m[0])&&void 0!==M?M:void 0,X=(0,y.Z)(Y),J=`/search/pins/?q=${encodeURIComponent(X)}&rs=image_only_attribution`,Q=(0,v.Z)(),ee="dweb.plp.ellipsis.button"===n,{COUNTRY_CODES:te}=k.LAW_CONFIGURATION.dsa,ne=te.includes(N);if(!W)return null;const ie=(0,u.Z)({imagesUrls:i,embedSrc:a,embedType:l,excludeOriginals:!K&&!V&&G});let ae="related_pin_right_click";ee?ae="action_bar_ellipsis":t&&(ae="right_click");const le=[{component:()=>A({i18n:O,pinId:x,showSignupModal:Q,attributionLabelSource:ae})},{component:()=>z&&(0,b.SU)(H,"dweb_download_in_context_menus_closeup")&&C({i18n:O,pinTitle:T,pinDescription:I,pinId:x,bestPinImgSrc:ie,attributionLabelSource:ae,logContextEvent:Z,pinCategory:F,checkExperiment:H,showSignupModal:Q})},{component:()=>!(t||ee&&!P)&&j({i18n:O,pinId:x,pinLink:P,fromEllipsisButton:ee,showSignupModal:Q,attributionLabelSource:ae})},{component:()=>!!(Y||$&&q)&&E({history:B,levelOneInterestUrl:q,searchUrl:J,levelOneInterestName:$,i18n:O,interestTag:Y,attributionLabelSource:ae})},{component:()=>!(!p||!c)&&R({history:B,sourceUserUsername:c,sourceUserFullname:p,i18n:O,attributionLabelSource:ae})},{component:()=>!H("dweb_remove_login_signup_options_from_context_menus").anyEnabled&&L({showSignupModal:Q,i18n:O,attributionLabelSource:ae})},{component:()=>ne&&D({reportLink:`https://www.pinterest.com/about/dsa/?pinId=${x}`,i18n:O,attributionLabelSource:ae})}].map((({component:e})=>e())).filter((e=>!!e));return(0,S.jsxs)(r.xu,{"data-test-id":"desktop-context-menu",position:"fixed",dangerouslySetInlineStyle:{__style:{top:`${e.y}px`,left:`${e.x}px`}},zIndex:new r.Ry(99999),color:"default",rounding:2,borderStyle:"shadow",display:"flex",direction:"column",paddingY:3,paddingX:2,maxWidth:w,children:[(0,S.jsx)(r.xu,{rounding:2,paddingX:3,paddingY:2,role:"img",children:(0,S.jsx)(r.JO,{icon:"pinterest",accessibilityLabel:O._('Pinterest logo', 'dweb.unauth.context_menu.pinterest_logo', 'Pinterest logo in the context menu'),color:"brandPrimary"})}),le]})}function z({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:n,...i}){var a,o,r,s,d,c,u,g,_,y,v,f,b,x,k;const P=(0,l.useFragment)(I,e),w=(0,h.Z)({type:"graphqlRef",data:P}),T=!!P.storyPinDataId,A=Boolean(null===(a=P.videos)||void 0===a?void 0:a.videoList),{isUnsafe:C}=P,j=!T&&!A&&!C;let E;var R,L;(E=P.nativeCreator?P.nativeCreator:P.linkDomain?P.linkDomain.officialUser:P.originPinner||P.pinner,E)||(E=null!==(R=null===(L=P.linkDomain)||void 0===L?void 0:L.officialUser)&&void 0!==R?R:P.pinner);const{storyPinDataId:D}=P,z=null!==(o=null===(r=P.richSummary)||void 0===r?void 0:r.displayName)&&void 0!==o?o:"",M=null!==(s=null===(d=P.richMetadata)||void 0===d?void 0:d.title)&&void 0!==s?s:"",O=null!==(c=null===(u=P.richMetadata)||void 0===u?void 0:u.description)&&void 0!==c?c:"",B=null===(g=P.storyPinData)||void 0===g||null===(_=g.metadata)||void 0===_?void 0:_.pinTitle,Z=(null===(y=P.pinJoin)||void 0===y?void 0:y.visualAnnotation)||void 0,N=P.category||"",U=(0,m.Ly)({pinTitle:P.title,gridTitle:P.gridTitle,richSummaryDisplayName:z,richMetadataTitle:M,storyPinDataId:D,storyPinDataMetadataPinTitle:B,pinJoinVisualAnnotation:Z}),K=(0,p.Z)({storyPinDataId:D,pinDescription:P.description,richMetadataDescription:O,richSummaryDisplayName:z,closeupDescription:P.closeupDescription,closeupUnifiedDescription:P.closeupUnifiedDescription});return(0,S.jsx)(F,{...i,embedSrc:P.embed&&P.embed.src,embedType:P.embed&&P.embed.type,imagesUrls:w,sourceUserUsername:null===(v=E)||void 0===v?void 0:v.username,sourceUserFullname:null===(f=E)||void 0===f?void 0:f.fullName,pinJoinVisualAnnotation:null===(b=P.pinJoin)||void 0===b?void 0:b.visualAnnotation,pinJoinSeoBreadcrumbName:(null===(x=P.pinJoin)||void 0===x?void 0:x.seoBreadcrumbs)&&(P.pinJoin.seoBreadcrumbs.length>0?P.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null===(k=P.pinJoin)||void 0===k?void 0:k.seoBreadcrumbs)&&(P.pinJoin.seoBreadcrumbs.length>0?P.pinJoin.seoBreadcrumbs[0].url:null),pinId:t,pinTitle:U,pinDescription:K,pinCategory:N,pinEligibleForDownload:j})}function M({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:n,...i}){var a,l,o,r,s,d,c,u,g,_,y,v,f,b,k;const w=(0,P.S6)()(t),T=(0,h.Z)({type:"deprecated",data:w}),I=null==w?void 0:w.story_pin_data_id,A=null==w?void 0:w.videos,C=!!I,j=!(null==A||!A.video_list),E=null==w?void 0:w.title,R=null==w?void 0:w.description,L=null==w?void 0:w.grid_title,D=null!==(a=null==w||null===(l=w.rich_metadata)||void 0===l?void 0:l.title)&&void 0!==a?a:"",z=null==w?void 0:w.category,M=null!==(o=null==w||null===(r=w.rich_metadata)||void 0===r?void 0:r.description)&&void 0!==o?o:"",O=null!==(s=null==w||null===(d=w.rich_summary)||void 0===d?void 0:d.display_name)&&void 0!==s?s:"",B=null==w?void 0:w.closeup_description,Z=null==w?void 0:w.closeup_unified_description,N=null==w||null===(c=w.story_pin_data)||void 0===c||null===(u=c.metadata)||void 0===u?void 0:u.pin_title,U=null==w||null===(g=w.pin_join)||void 0===g?void 0:g.visual_annotation,K=null==w?void 0:w.is_unsafe,V=!C&&!j&&!K,{link_domain:H,native_creator:G,origin_pinner:W,pinner:$}=w||{};let q=(0,x.wS)(H,G,W,$);var Y,X;q||(q=null!==(Y=null==w||null===(X=w.link_domain)||void 0===X?void 0:X.official_user)&&void 0!==Y?Y:null==w?void 0:w.pinner);const{full_name:J,username:Q}=null!==(_=q)&&void 0!==_?_:{},ee=(0,m.Ly)({pinTitle:E,gridTitle:L,richSummaryDisplayName:O,richMetadataTitle:D,storyPinDataId:I,storyPinDataMetadataPinTitle:N,pinJoinVisualAnnotation:U}),te=(0,p.Z)({storyPinDataId:I,pinDescription:R,richMetadataDescription:M,richSummaryDisplayName:O,closeupDescription:B,closeupUnifiedDescription:Z});return(0,S.jsx)(F,{...i,embedSrc:null==w||null===(y=w.embed)||void 0===y?void 0:y.src,embedType:null==w||null===(v=w.embed)||void 0===v?void 0:v.type,imagesUrls:T,sourceUserUsername:Q,sourceUserFullname:J,pinJoinVisualAnnotation:null==w||null===(f=w.pin_join)||void 0===f?void 0:f.visual_annotation,pinJoinSeoBreadcrumbName:(null==w||null===(b=w.pin_join)||void 0===b?void 0:b.seo_breadcrumbs)&&(w.pin_join.seo_breadcrumbs.length>0?w.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==w||null===(k=w.pin_join)||void 0===k?void 0:k.seo_breadcrumbs)&&(w.pin_join.seo_breadcrumbs.length>0?w.pin_join.seo_breadcrumbs[0].url:null),pinId:t,pinTitle:ee,pinDescription:te,pinCategory:z,pinEligibleForDownload:V})}function O(e){return e.graphqlRef?(0,S.jsx)(z,{...e,graphqlRef:e.graphqlRef}):(0,S.jsx)(M,{...e})}},580337:(e,t,n)=>{n.d(t,{Z:()=>i});const i=new(n(883119).Ry)(9999)},126979:(e,t,n)=>{n.d(t,{Z:()=>Z});var i=n(667294),a=n(167912),l=n(616550),o=n(356193),r=n(105314),s=n(883119),d=n(388011),c=n(894121),u=n(536042),p=n(624417),m=n(740494),h=n(465991),g=n(245410),_=n(282802),y=n(649715),v=n(599226),f=n(98736),b=n(272109),x=n(630089),k=n(700453),P=n(799006),S=n(785893);function w({type:e,onTap:t,location:n,l1InterestName:i,interestTag:a,sourceUserUsername:l,pinId:o}){const r=(0,u.ZP)(),d=(0,P.Z)();if("app-install"===e&&d)return(0,S.jsx)(k.Z,{componentType:18,within:"mweb-context-menu",children:({handleOpenApp:t})=>(0,S.jsx)(s.iP,{onTap:()=>{(0,f.My)(`context.menu.tap.${n}.${e}`),o?(t({deepLinkUri:`/pin/${o}/`}),(0,f.My)("mweb.context_menu.open_in_app.pin")):(t({deepLinkUri:"/"}),(0,f.My)("mweb.context_menu.open_in_app.homepage")),(0,f.My)("mweb.context_menu.open_in_app")},children:(0,S.jsx)(s.xu,{marginBottom:4,"data-test-id":"more-options-open-app",children:(0,S.jsx)(s.xv,{size:"300",weight:"bold",children:r._('Open in app', 'mweb.context_menu.link.open_in_app', 'Link to open Pinterest app')})})})});return(0,S.jsx)(s.iP,{onTap:({event:i})=>{(0,f.My)(`context.menu.tap.${n}.${e}`),t&&t("save"===e||"saveonly"===e?i:void 0)},children:(0,S.jsx)(s.xu,{marginBottom:4,"data-test-id":`more-options-${e}`,children:(0,S.jsx)(s.xv,{size:"300",weight:"bold",children:(()=>{switch(e){case"save":return r._('Save image', 'mweb.context_menu.link.save_image', 'Link to save the image');case"new-tab":return r._('Open link in new tab', 'mweb.context_menu.link.plp_new_tab', 'Link to open the pin in a new tab');case"more-ideas":return i?(0,x.nk)(r._('See more ideas about {{l1InterestName}}', 'unauth.mweb.context_menu.link.see_more_ideas.l1', 'Link to see similar pins, l1InterestName: name of the top level pin category'),{l1InterestName:i}):(0,x.nk)(r._('See more ideas about {{interestTag}}', 'unauth.mweb.context_menu.link.see_more_ideas.interest_tag', 'Link to see similar pins, interestTag: name of the interest type of pin'),{interestTag:a});case"more-from-creator":return(0,x.nk)(r._('See more from {{sourceUserUsername}}', 'unauth.context_menu.link.more_from_creator', 'Link to see more ideas from this creator, sourceUserUsername: the user name of the pin creator'),{sourceUserUsername:l});case"login-signup":return r._('Log in or sign up for more', 'unauth.mweb.context_menu.link.login_signup', 'Link to log in or sign up');case"saveonly":return r._('Save', 'mweb.context_menu.link.saveonly', 'Link to save the pin');case"download":return r._('Download image', 'Button to download Pin image', 'Button to download Pin image');case"dsa":return r._('Report Pin for EU local law violation', 'unauth.context_menu.link.report_pin_dsa', 'Button to report Pin for EU local law violation');default:return null}})()})})})}var T,I=n(443601),A=n(411056),C=n(525104),j=n(410834);const E={"main-pin-long-press":"main_pin_longtouch","main-pin-overflow":"action_bar_ellipsis","related-pins-long-press":"related_pin_longtouch","non-main-pin-more-information":"related_pin_ellipsis","main-pin-more-information":"main_pin_ellipsis"},R=void 0!==T?T:T=n(586188);function L({embedSrc:e,embedType:t,hasRichMetadata:n,hasRichMetadataArticle:i,hasRichMetadataProducts:a,hasRichMetadataRecipe:o,interestTag:r,imagesUrls:m,isStoryPin:h,l1InterestName:x,location:k,onDismiss:P,pinId:T,pinCategory:C,pinDescription:R,pinJoinSeoBreadcrumbUrl:L,pinTitle:D,sourceUserUsername:F,vaseSection:z,pinEligibleForDownload:M}){const O=(0,u.ZP)(),{countryFromIp:B,isAuthenticated:Z,isBot:N,isSocialBot:U}=(0,_.B)(),K=(0,l.useHistory)(),V=(0,v.Z)(),H=(0,y.Z)(r),G=`/search/pins/?q=${encodeURIComponent(H)}&rs=image_only_attribution`,W=E[k],$="click_context_menu_"+W,q=$+"_save_button",{COUNTRY_CODES:Y}=A.LAW_CONFIGURATION.dsa,X=Y.includes(B),{checkExperiment:J}=(0,g.F)(),Q=(0,j.Z)({embedSrc:e,embedType:t,hasRichMetadata:n,hasRichMetadataProducts:a,hasRichMetadataArticle:i,hasRichMetadataRecipe:o,imagesUrls:m,isFromUnauthContextMenu:!0,isStoryPin:h,pinId:T,attributionLabel:q}),ee=M&&(0,I.SU)(J,"mweb_download_in_context_menus_closeup")?["save","download","app-install","new-tab"]:["save","app-install","new-tab"];X&&ee.push("dsa");const te=Z?J("web_auth_exclude_original_images").anyEnabled:J("web_unauth_exclude_original_images").anyEnabled,ne=(0,p.Z)({imagesUrls:m,embedSrc:e,embedType:t,excludeOriginals:!N&&!U&&te}),{logContextEvent:ie}=(0,d.v)(),ae={save:e=>{e&&(e.stopPropagation(),Q(e),P())},saveonly:e=>{e&&(e.stopPropagation(),Q(e),P())},"new-tab":()=>{window.open(`/pin/${T}/`),P()},"more-ideas":x||r?()=>{K.push(L?`${L}`:G),P()}:void 0,"more-from-creator":()=>{K.push(`/${F}/`),P()},"login-signup":()=>{V({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_"+W+"_signup_or_login_button"}),P()},download:()=>{const{expName:e,expGroup:t,limitReached:n,oldCount:i,newCount:a}=(0,I.HM)(J,"mweb_download_in_context_menus_closeup");(0,f.My)("mweb.unauth.context_menu.download_image",{attributionLabelSource:$,expName:e,expGroup:t,limitReached:n,oldCount:i,newCount:a}),n?V({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${$}_download_button`,mobileOptions:{headingType:"download_limit_reached"}}):((0,I.ZP)({filename:D||R||T,imgSrc:ne||"",category:C,pinId:T,isUnauth:!0,platform:"mweb",expName:e,expGroup:t},ie),P())},"app-install":()=>{},dsa:()=>{(0,f.My)("mweb.unauth.context_menu.dsa"),window.open(`https://www.pinterest.com/about/dsa/?pinId=${T}`,"_blank")}};return(0,b.Z)((()=>{(0,f.My)(`open.context_menu_modal.${k}`)})),(0,S.jsxs)(c.default,{accessibilityModalLabel:O._('Close', 'Close modal window', 'Close modal window'),isOpen:!0,onDismiss:()=>{(0,f.My)(`dismiss.context_menu.modal.${k}`),P()},mobileAccessibilityCloseIconLabel:O._('Close', 'context_modal.menu.close', 'Close modal window'),children:[!!z&&(0,S.jsxs)(s.xu,{children:[(0,S.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:20,paddingRight:20,paddingBottom:20,paddingTop:8}},children:z}),(0,S.jsx)(s.xu,{marginBottom:5,paddingX:5,children:(0,S.jsx)(s.iz,{})})]}),(0,S.jsxs)(s.xu,{marginStart:5,marginBottom:6,"data-test-id":"mobile-context-menu",children:[(0,S.jsx)(s.xu,{marginBottom:4,children:(0,S.jsx)(s.xv,{size:"200",children:O._('More options', 'header.context_menu.modal', 'Header for the options on context menu modal')})}),ee.map((e=>ae[e]?(0,S.jsx)(w,{type:e,location:k,onTap:ae[e],l1InterestName:x,interestTag:r,pinId:T,sourceUserUsername:F},e):null))]})]})}function D({onDismiss:e,location:t,pinId:n,vaseSection:i}){var a,l,o,r,s,d,c,u,p,g,_,y,v,f,b,x,k,P,w,T,I;const A=(0,C.S6)()(n),j=null==A?void 0:A.story_pin_data_id,E=!!j,R=!(null==A||null===(a=A.videos)||void 0===a||!a.video_list),D=null==A?void 0:A.is_unsafe,F=!E&&!R&&!D,z=null==A?void 0:A.title,M=null==A?void 0:A.description,O=null==A?void 0:A.grid_title,B=null!==(l=null==A||null===(o=A.rich_metadata)||void 0===o?void 0:o.title)&&void 0!==l?l:"",Z=null!==(r=null==A||null===(s=A.rich_metadata)||void 0===s?void 0:s.description)&&void 0!==r?r:"",N=null!==(d=null==A||null===(c=A.rich_summary)||void 0===c?void 0:c.display_name)&&void 0!==d?d:"",U=null==A?void 0:A.closeup_description,K=null==A?void 0:A.closeup_unified_description,V=null==A||null===(u=A.story_pin_data)||void 0===u||null===(p=u.metadata)||void 0===p?void 0:p.pin_title,H=null==A||null===(g=A.pin_join)||void 0===g?void 0:g.visual_annotation,G=(null==A||null===(_=A.pin_join)||void 0===_?void 0:_.seo_breadcrumbs)&&(A.pin_join.seo_breadcrumbs.length>0?A.pin_join.seo_breadcrumbs[0].name:"")||"",W=null!==(y=null==A||null===(v=A.pin_join)||void 0===v||null===(f=v.visual_annotation)||void 0===f?void 0:f[0])&&void 0!==y?y:"";let $;var q,Y;($=null!=A&&A.native_creator?A.native_creator:null!=A&&A.link_domain?A.link_domain.official_user:(null==A?void 0:A.origin_pinner)||(null==A?void 0:A.pinner),$&&"string"!=typeof $)||($=null!==(q=null==A||null===(Y=A.link_domain)||void 0===Y?void 0:Y.official_user)&&void 0!==q?q:null==A?void 0:A.pinner);const X=(null===(b=$)||void 0===b?void 0:b.username)||"",J=(null==A||null===(x=A.pin_join)||void 0===x?void 0:x.seo_breadcrumbs)&&(A.pin_join.seo_breadcrumbs.length>0?A.pin_join.seo_breadcrumbs[0].url:"")||"",Q=(0,h.Ly)({pinTitle:z,gridTitle:O,richSummaryDisplayName:N,richMetadataTitle:B,storyPinDataId:j,storyPinDataMetadataPinTitle:V,pinJoinVisualAnnotation:H})||"",ee=(0,m.Z)({storyPinDataId:j,pinDescription:M,richMetadataDescription:Z,richSummaryDisplayName:N,closeupDescription:U,closeupUnifiedDescription:K});return(0,S.jsx)(L,{embedSrc:null==A||null===(k=A.embed)||void 0===k?void 0:k.src,embedType:null==A||null===(P=A.embed)||void 0===P?void 0:P.type,hasRichMetadata:!(null==A||!A.rich_metadata),hasRichMetadataProducts:!(null==A||null===(w=A.rich_metadata)||void 0===w||!w.products),hasRichMetadataArticle:!(null==A||null===(T=A.rich_metadata)||void 0===T||!T.article),hasRichMetadataRecipe:!(null==A||null===(I=A.rich_metadata)||void 0===I||!I.recipe),imagesUrls:null!=A&&A.images?Object.keys(A.images).reduce(((e,t)=>{var n,i;return t&&null!==(n=A.images)&&void 0!==n&&null!==(i=n[t])&&void 0!==i&&i.url?{...e,[t]:A.images[t].url}:e}),{}):void 0,interestTag:W,isStoryPin:E,l1InterestName:G,onDismiss:e,location:t,pinCategory:null==A?void 0:A.category,pinDescription:ee,pinId:n,pinTitle:Q,pinJoinSeoBreadcrumbUrl:J,sourceUserUsername:X,vaseSection:i,pinEligibleForDownload:F})}function F({graphqlRef:e,onDismiss:t,location:n,pinId:i,vaseSection:l}){var o,r,s,d,c,u,p,g,_,y,v,f,b,x,k,P,w,T,I,A,C;const j=(0,a.useFragment)(R,e),E=!!j.storyPinDataId,D=Boolean(null===(o=j.videos)||void 0===o?void 0:o.videoList),{isUnsafe:F}=j,z=!E&&!D&&!F,{title:M}=j,{description:O}=j,{gridTitle:B}=j,Z=null!==(r=null===(s=j.richSummary)||void 0===s?void 0:s.displayName)&&void 0!==r?r:"",N=null!==(d=null===(c=j.richMetadata)||void 0===c?void 0:c.title)&&void 0!==d?d:"",U=null!==(u=null===(p=j.richMetadata)||void 0===p?void 0:p.description)&&void 0!==u?u:"",{storyPinDataId:K}=j,V=null===(g=j.storyPinData)||void 0===g||null===(_=g.metadata)||void 0===_?void 0:_.pinTitle,H=(null===(y=j.pinJoin)||void 0===y?void 0:y.visualAnnotation)||void 0,{closeupDescription:G}=j,{closeupUnifiedDescription:W}=j,$=(null===(v=j.pinJoin)||void 0===v?void 0:v.seoBreadcrumbs)&&(j.pinJoin.seoBreadcrumbs.length>0?j.pinJoin.seoBreadcrumbs[0].name:"")||"",q=null!==(f=null===(b=j.pinJoin)||void 0===b||null===(x=b.visualAnnotation)||void 0===x?void 0:x[0])&&void 0!==f?f:"";let Y;var X,J;(Y=j.nativeCreator?j.nativeCreator:j.linkDomain?j.linkDomain.officialUser:j.originPinner||j.pinner,Y&&"string"!=typeof Y)||(Y=null!==(X=null===(J=j.linkDomain)||void 0===J?void 0:J.officialUser)&&void 0!==X?X:j.pinner);const Q=(null===(k=Y)||void 0===k?void 0:k.username)||"",ee=(null===(P=j.pinJoin)||void 0===P?void 0:P.seoBreadcrumbs)&&(j.pinJoin.seoBreadcrumbs.length>0?j.pinJoin.seoBreadcrumbs[0].url:"")||"",te=j.category||"",ne={"236x":j.imageSpec_236,"474x":j.imageSpec_474,"736x":j.imageSpec_736},ie=(0,h.Ly)({pinTitle:M,gridTitle:B,richSummaryDisplayName:Z,richMetadataTitle:N,storyPinDataId:K,storyPinDataMetadataPinTitle:V,pinJoinVisualAnnotation:H})||"",ae=(0,m.Z)({storyPinDataId:K,pinDescription:O,richMetadataDescription:U,richSummaryDisplayName:Z,closeupDescription:G,closeupUnifiedDescription:W});return(0,S.jsx)(L,{embedSrc:null===(w=j.embed)||void 0===w?void 0:w.src,embedType:null===(T=j.embed)||void 0===T?void 0:T.type,hasRichMetadata:!!j.richMetadata,hasRichMetadataArticle:!(null===(I=j.richMetadata)||void 0===I||!I.article),hasRichMetadataProducts:!(null===(A=j.richMetadata)||void 0===A||!A.products),hasRichMetadataRecipe:!(null===(C=j.richMetadata)||void 0===C||!C.recipe),imagesUrls:Object.keys(ne).reduce(((e,t)=>{var n;return t&&null!==(n=ne[t])&&void 0!==n&&n.url?{...e,[t]:ne[t].url}:e}),{}),interestTag:q,isStoryPin:E,l1InterestName:$,onDismiss:t,location:n,pinCategory:te,pinId:i,pinDescription:ae,pinTitle:ie,pinJoinSeoBreadcrumbUrl:ee,sourceUserUsername:Q,vaseSection:l,pinEligibleForDownload:z})}function z({graphqlRef:e,...t}){return e?(0,S.jsx)(F,{graphqlRef:e,...t}):(0,S.jsx)(D,{...t})}var M;const O=void 0!==M?M:M=n(140109);function B({graphqlRef:e,children:t}){const[n,a]=(0,i.useState)(null),[o,s]=(0,i.useState)(""),[d,c]=(0,i.useState)(""),{pathname:u}=(0,l.useLocation)(),p=!!n,m=(0,i.useMemo)((()=>({modal:{isShown:p},showUnauthContextMenu:({location:e,pinId:t,vaseSection:n})=>{a({vaseSection:n}),s(t),c(e)},dismissMobileUnauthContextMenu:()=>a(null)})),[p]);return(0,i.useEffect)((()=>{a(null)}),[u]),(0,S.jsxs)(r.M,{value:m,children:[t,n&&(0,S.jsx)(z,{graphqlRef:e,onDismiss:m.dismissMobileUnauthContextMenu,pinId:o,vaseSection:n.vaseSection,location:d||"default"})]})}function Z({graphqlRef:e,...t}){return(0,S.jsx)(o.Z,{fragment:O,fragmentKey:e,children:e=>(0,S.jsx)(B,{...t,graphqlRef:e})})}},613352:(e,t,n)=>{n.d(t,{X:()=>c,f:()=>d});var i=n(667294),a=n(583592),l=n(898252);function o(e=null,t){switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,parentId:t.payload.parentId,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var r=n(785893);const{Provider:s,useHook:d}=(0,a.Z)("ReportData");function c({children:e}){const[t,n]=(0,i.useReducer)(o,null),a=(0,i.useCallback)((()=>n({type:"REPORT_CONTENT_DISMISS"})),[]),d=(0,i.useCallback)(((e,t,i)=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,parentId:t,videoDuration:null,viewParameter:null,viewType:null,type:i}})),[]),c=(0,i.useCallback)(((e,t,i)=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"conversation"}})),[]),u=(0,i.useCallback)(((e,t,i)=>n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:i,type:"pin"}})),[]),p=(0,i.useCallback)((({pinId:e,isDownstreamPromotion:t,hasPromoter:i,firstVideoDuration:a,isProduct:o,viewParameter:r,viewType:s})=>{const d=(0,l.jL)(t,i);n({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:o,isPromoted:d,videoDuration:a,viewParameter:r,viewType:s,type:"pin"}})}),[]),m=(0,i.useMemo)((()=>({reportData:t,dismiss:a,reportComment:d,reportConversation:c,reportImage:u,reportPin:p})),[t,a,d,c,u,p]);return(0,r.jsx)(s,{value:m,children:e})}},646081:(e,t,n)=>{n.d(t,{Z:()=>r});var i,a=n(667294),l=n(167912);const o=void 0!==i?i:i=n(782194),r=e=>{var t;const n=(0,l.useFragment)(o,e),i=null==n||null===(t=n.pinJoin)||void 0===t?void 0:t.annotationsWithLinksArray;return(0,a.useMemo)((()=>null==i?void 0:i.reduce(((e,{name:t,url:n})=>t?{...e,[t]:{name:t,url:n}}:e),{})),[i])}},220271:(e,t,n)=>{n.d(t,{Z:()=>r});var i,a=n(667294),l=n(167912);const o=void 0!==i?i:i=n(611338),r=e=>{const t=(0,l.useFragment)(o,e),n=null==t?void 0:t.reactionCountsData;return(0,a.useMemo)((()=>n?n.reduce(((e,t)=>{var n,i;return{...e,[String(null!==(n=t.reactionType)&&void 0!==n?n:0)]:null!==(i=t.reactionCount)&&void 0!==i?i:0}}),{}):n),[n])}},582319:(e,t,n)=>{n.d(t,{Z:()=>b});var i=n(702664),a=n(883119),l=n(563962),o=n(536042),r=n(599226),s=n(98736),d=n(618569),c=n(802071),u=n(793085),p=n(41669),m=n(427778),h=n(446191),g=n(734417),_=n(630089),y=n(282802),v=n(785893);const f=({followerCount:e})=>{const t=(0,o.ZP)(),n=(0,g.Z)(),{locale:i}=(0,y.B)();return(0,v.jsx)(a.xv,{children:(0,_.nk)(t.ngettext('{{followers}} follower', '{{followers}} followers', e, 'pinPage.attribution.followersCount', 'Count of a user\'s followers'),{followers:n(i,e,{shortform:!0,shortform_maximum_fraction_digits:0})})})};function b(e){const t=(0,c.Z)(),n=t.isAuth&&t.id,g=t.isAuth,_=(0,o.ZP)(),y=(0,r.Z)(),b=(0,l.Z)(),x=(0,d.Z)(),k=(0,i.useDispatch)(),P=e=>k((0,m.ZN)(e)),S=e=>k((0,m.fv)(e)),{avatarSize:w,detailText:T,hideButtons:I,blockedByMe:A,explicitlyFollowedByMe:C,followerCount:j,fullName:E,id:R,imageLargeUrl:L,imageMediumUrl:D,imageSmallUrl:F,isEligibleForPdp:z,isVerifiedMerchant:M,verifiedIdentityVerified:O,username:B,isCurrentUser:Z,isOnCloseup:N,isImagePinForUnauthOnTablet:U,pinId:K,shouldNavigateToProfile:V=!0,textColor:H,type:G,viewParameter:W,viewType:$,unauthFollow:q,activateLexFollowExp:Y,clientTrackingParams:X}=e,J=(K&&K.length,()=>(0,v.jsx)(p.Z,{disableLog:!0,followEventType:45,id:R,isFollowed:C||!1,isSecondaryButton:!0,isUserFollowButton:!0,isUserMe:n===R,onFollow:()=>N?void(g?(P(R),b({event_type:45,view_type:3,view_parameter:156,view_data:{isCurrentUser:Z,viewObjectId:K,viewObjectIdStr:K},object_id_str:R,clientTrackingParams:X})):y({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"click_follow",desktopOptions:{modalType:"login"}})):P(R),onUnfollow:()=>N?(S(R),void b({event_type:46,view_type:3,view_parameter:156,object_id_str:R,clientTrackingParams:X})):S(R),pinId:K||"",size:"md",unfollowEventType:46,viewParameter:W,viewType:$,clientTrackingParams:X})),Q=()=>A?(0,v.jsx)(a.zx,{fullWidth:!0,color:"gray",onClick:()=>(e=>k((0,h.h2)(e)))(R),size:"md",text:_._('Unblock', ' - ', ' -- ')}):g?J():Y?!Y().group.includes("hide_follow")&&q?J():null:q?J():null,ee=e=>(0,v.jsx)(a.xu,{"data-test-id":"avatar-image",children:(0,v.jsx)(a.HE,{accessibilityLabel:_._('User`s avatar', 'User`s avatar', 'User`s avatar'),onClick:()=>{x({action:"click",item:"avatar-image"})},collaborators:[{name:null!=E?E:"",src:L||D||F||void 0}],size:(e||{}).size})}),te=U?"calc(100% - 48px)":void 0,ne=M||O,ie=!g&&z&&!ne,ae=(0,v.jsxs)(a.kC,{alignItems:"center",flex:"shrink",justifyContent:"start",children:[(0,v.jsx)(a.xu,{flex:"none",marginEnd:2,children:ee({size:w||"md"})}),(0,v.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",maxWidth:te,children:[(0,v.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"start",children:[ie&&(0,v.jsx)(a.xu,{marginEnd:1,children:(0,v.jsx)(a.xv,{children:_._('Saved by', 'Context on user rep', 'userRep.saveContext')})}),(0,v.jsx)(a.xu,{"data-test-id":"username",children:(0,v.jsx)(a.iP,{onTap:()=>{x({action:"click",item:"username"})},children:(0,v.jsx)(a.xv,{color:H||"default",lineClamp:U?1:void 0,weight:"bold",children:E})})}),ne&&(0,v.jsx)(a.xu,{marginStart:1,paddingY:1,children:(0,v.jsx)(u.Z,{showVerifiedIdentity:!M,size:"sm"})})]}),(0,v.jsx)(a.xv,{color:H||"default",lineClamp:U?1:void 0,children:T}),!!j&&(0,v.jsx)(a.xu,{"data-test-id":"user-follower-count",children:(0,v.jsx)(a.iP,{onTap:()=>{x({action:"click",item:"user-follower-count"})},children:(0,v.jsx)(f,{followerCount:j})})})]})]}),le="row"===G?(0,v.jsxs)(a.kC,{alignItems:"center",justifyContent:"between",children:[ae,!I&&(0,v.jsx)(a.xu,{flex:"none",marginStart:2,children:Q()})]}):(0,v.jsxs)(a.xu,{maxWidth:te,padding:2,children:[ee(),(0,v.jsxs)(a.xu,{display:"flex",paddingY:2,children:[(0,v.jsx)(a.xv,{align:"center",size:"200",lineClamp:1,weight:"bold",children:E}),ne&&(0,v.jsx)(a.xu,{marginStart:1,paddingY:1,children:(0,v.jsx)(u.Z,{showVerifiedIdentity:!M,size:"sm"})})]}),!I&&Q()]}),oe=(0,v.jsxs)(a.xu,{alignItems:"center",display:"flex",justifyContent:"between",overflow:"hidden",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[(0,v.jsx)(a.iP,{role:"link",onTap:()=>{g||((0,s.NC)("click_pin_closeup_profile"),x({action:"click",item:"user-rep"}))},tapStyle:"compress",rounding:2,href:`/${encodeURIComponent(B)}/`,children:ae}),!I&&(0,v.jsx)(a.xu,{flex:"none",marginStart:2,children:Q()})]});return(0,v.jsx)(a.xu,{"data-test-id":"user-rep",width:"100%",children:V?oe:le})}},197083:(e,t,n)=>{n.d(t,{ZP:()=>S});var i=n(667294),a=n(23279),l=n.n(a),o=n(883119),r=n(388011),s=n(758360),d=n(736567),c=n(714557);function u(e){const{eventData:{videoEvent:{gridAutoplay:t,videoDuration:n,startTime:i,endTime:a,videoStartTime:l,videoEndTime:o,isAudible:r,height:s,width:d,playbackState:c,quartile:u,quartilePercentValue:p,windowHeight:m,windowWidth:h,viewability:g}},component:_,objectId:y,view:v,viewParameter:f,...b}=e;return{component:_,object_id_str:y,view_type:v,view_parameter:f,aux_data:{...b},event_data:{videoEventData:{gridAutoplay:t,videoDuration:n,time:i,endTime:a,videoTime:l,endVideoTime:o,isAudible:r,height:s,width:d,playbackState:c,quartile:u,quartilePercentValue:p,windowHeight:m,windowWidth:h,viewability:g}}}}var p=n(473383),m=n(785893);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=[0,.25,.5,.75,.95,.97],_=[0,.5,.8,.99,1],y="-64px 0px 0px 0px",v={rootMargin:y,threshold:_},f={rootMargin:y,threshold:c.i},b=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function x(){return(new Date).getTime()}function k(e){return!!e.volume&&e.volume>0}class P extends i.Component{constructor(e){super(e),h(this,"videoWrapperRef",(0,i.createRef)()),h(this,"handleWindowResize",(()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:n}=this.currentInterval;e.height!==t||e.width!==n?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}})),h(this,"handlePlayheadDown",(({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})})),h(this,"handlePlayheadUp",(({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})})),h(this,"handleLoop",(()=>{this.videoTime=0})),h(this,"handleTimeChange",(e=>{const{seeking:t,ready:n}=this.state;if(!this.currentInterval.videoDuration)return;const i=1e3*e.time,a=function(e,t,n,i){if(e>t)return null;if(n<=0)return null;for(const a of i){const i=a*n;if(e<=i&&t>i)return a}return null}(this.videoTime,i,this.currentInterval.videoDuration,g);if("number"==typeof a&&this.props.playing&&!t&&n){const e=x();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*a),quartilePercentValue:a})}this.videoTime=i,this.props.onTimeChange&&this.props.onTimeChange(e)})),h(this,"handleDurationChange",(e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)})),h(this,"handleReady",(e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)})),h(this,"handleEnded",(e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)})),h(this,"handleVisibilityChange",(e=>{if(0===e.length)return;const t=e.slice(-1)[0],n=function(e,t){for(let n=0;n<t.length;n+=1){const i=t[n],a=t[n+1];if(null==a)return i;if(i<=e&&e<a)return i}return null}(Number.parseFloat(t.intersectionRatio.toFixed(2)),_);"number"==typeof n&&(this.visible=n>=.5),null==n||n===this.currentInterval.viewability||this.fullscreen||(0===n?this.startNewInterval({viewability:n,playbackState:b.PAUSED}):this.startNewInterval({viewability:n}))})),h(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})})),h(this,"handleClose",(()=>{this.startNewInterval()})),h(this,"handleContextMenu",(e=>{e.preventDefault()})),this.state={ready:!1,seeking:!1};const t=x();this.handleWindowResize=l()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:k(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const n={};k(e)&&!k(this.props)?n.isAudible=!1:!k(e)&&k(this.props)&&(n.isAudible=!0);const i=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==i&&(n.playbackState=i),Object.keys(n).length>0&&this.startNewInterval(n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?b.PLAYING:b.PAUSED:b.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const n=this.videoWrapperRef.current;n.clientHeight&&n.clientWidth&&(e=n.clientHeight,t=n.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{closeupStoryPinViewability:n,contextLogData:i,logContextEvent:a,playing:l,surface:o}=this.props,{seeking:r}=this.state,{height:s,width:d,windowHeight:c,windowWidth:p,viewability:m,...h}=t;if(null!=s&&null!=d&&null!=c&&null!=p&&null!=m){const t={...h,gridAutoplay:6904===e&&l&&!r&&("AuthHomefeed"===o||"SearchItem"===o||"RelatedPinGrid"===o),height:s,width:d,windowHeight:c,windowWidth:p,viewability:n||m};a({event_type:e,...u({...i,view:this.fullscreen?108:i.view,eventData:{videoEvent:t}})})}}logFourthQuartileEvent(){const e=x();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=x();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{aspectRatio:e,backgroundColor:t,captions:n,contextLogData:i,controls:a,cropHeight:l,hlsConfig:r,inAdsDesktopVideoExperiment:c,isAutoPlay:u,loop:h,objectFit:g,onLoadedChange:_,onControlsPause:y,onControlsPlay:b,onSeek:x,onVolumeChange:k,playbackRate:P,playing:S,playsInline:w,poster:T,preload:I,rootMargin:A,src:C,surface:j,videoStartTime:E,volume:R}=this.props,{seeking:L}=this.state,D=c?f:v;return void 0!==A&&(D.rootMargin=j?(0,d.e)(j):A),(0,m.jsx)(s.Z,{options:D,onVisibilityChange:this.handleVisibilityChange,children:(0,m.jsx)(o.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:l?{display:"flex",alignItems:"center",height:`${l}px`}:{}},children:(0,m.jsx)(p.default,{aspectRatio:l?236/l:e,backgroundColor:t,captions:n,contextLogData:i,controls:a,hlsConfig:r,isAutoPlay:u,loop:h,objectFit:g,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:_,onLoop:this.handleLoop,onControlsPause:y,onControlsPlay:b,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:x,onTimeChange:this.handleTimeChange,onVolumeChange:k,playbackRate:P,playing:!L&&S,onPlay:()=>{},onPlayError:()=>{},playsInline:w,poster:T,preload:I,src:C,videoStartTime:E,visible:this.visible,volume:R})})})}}function S(e){const{logContextEvent:t}=(0,r.v)();return(0,m.jsx)(P,{...e,logContextEvent:t})}h(P,"defaultProps",o.nk.defaultProps)},473383:(e,t,n)=>{n.r(t),n.d(t,{VideoWrapper:()=>k,default:()=>P,getPlaylistSourceSrc:()=>x});var i=n(667294),a=n(883119),l=n(969327),o=n(282802),r=n(634004),s=n(931696),d=n(886365),c=n(388011),u=n(245410),p=n(802071),m=n(499992),h=n(505204),g=n(785893);function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){if(!e||void 0===e)return"undefined";if("string"==typeof e){let n=e;if(t){const i="control"===t?"v3.pinimg.com":"v2.pinimg.com";n=e.replace("v1.pinimg.com",i)}return n}if(Array.isArray(e)&&e[0].src){let n=e[0].src;if(t){const e="control"===t?"v3.pinimg.com":"v2.pinimg.com";n=n.replace("v1.pinimg.com",e)}return n}return"unsupported_type_"+typeof e}class v extends i.Component{constructor(...e){super(...e),_(this,"state",{canPlayVideo:!1,playbackState:h.Cy.DEFAULT,videoStartTime:this.props.seekTime?this.props.seekTime:this.props.videoStartTime||0}),_(this,"errorRetryCount",2),_(this,"hasSegmentStarted",!1),_(this,"hasPlaybackStarted",!1),_(this,"hasVideoSessionStarted",!1),_(this,"hasVideoSessionEnded",!1),_(this,"lastStallTime",null),_(this,"lastPauseTime",null),_(this,"logSessionStartOnNextPlay",!1),_(this,"playerId",""),_(this,"videoSessionId",""),_(this,"videoVisibleTime",null),_(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:y(this.props.src,this.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0}),_(this,"componentDidMount",(()=>{const{contextLogData:e={},playing:t}=this.props,{is_closeup_video:n=!1}=e;(0,m.tE)("videoMounted",!1,n),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(h.DR,{initiator:"mount"}))})),_(this,"componentDidUpdate",(e=>{const{playing:t,visible:n,appInFocus:i,seekTime:a}=this.props;a&&a!==e.seekTime&&this.setState({videoStartTime:a}),e.appInFocus&&!i&&(this.logPlaybackPerformance(h.$f,{initiator:"update"}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===n&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(h.$f,{initiator:"update"})),!1===e.visible&&!0===n&&(this.videoVisibleTime=this.videoVisibleTime||new Date,t?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(h.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),t&&i&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(h.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)})),_(this,"addSegment",(()=>{const{canPlayTime:e,loadStartTime:t,segments:n,srcString:i}=this.playbackPerformance;let a=-1;e&&t&&0===n.length&&(a=e>t?e-t:0);const l=this.videoPlayerRef&&this.videoPlayerRef.video,o={indicatedKbps:-1,duration:l&&l.duration*h.gJ||-1,lastStartPlayTime:null,level:-1,numServerAddressChange:-1,observedKbps:-1,playbackStartDate:null,serverAddress:"",sourceWidth:-1,sourceHeight:-1,startupTimeMs:a,switchBitrateKbps:-1,uri:i,viewportWidth:l&&l.clientWidth||-1,viewportHeight:l&&l.clientHeight||-1,watchedDurationMs:0};n.push(o)})),_(this,"getCurrentVideoTime",(()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*h.gJ:0)),_(this,"getVideoResourceTiming",(()=>{var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e.performance)&&void 0!==t&&t.getEntriesByName&&this.playbackPerformance.srcString){const e=window.performance.getEntriesByName(this.playbackPerformance.srcString);return e.length>0&&e[0]||null}return null})),_(this,"handleCanPlayVideo",(e=>{const{contextLogData:t={},onReady:n,playing:i}=this.props,{is_closeup_video:a=!1}=t,{canPlayVideo:l}=this.state;(0,m.tE)("handleCanPlayVideo",!1,a,{firstCanPlayEvent:!l,playing:i}),this.playbackPerformance.hasFatalError=!1,l||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),n&&n(e)})),_(this,"handleEnded",(e=>{const{loop:t,onEnded:n}=this.props,{segments:i}=this.playbackPerformance,a=i&&i[i.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),a&&(a.lastStartPlayTime=0),this.hasSegmentStarted=!1):t||this.logPlaybackPerformance(h.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:h.Cy.ENDED}),n&&n(e)})),_(this,"handleError",(()=>{var e,t,n,i,a,l,o,r;const{contextLogData:s={}}=this.props,{is_closeup_video:d=!1}=s,c=this.videoPlayerRef&&this.videoPlayerRef.video;(null==c||null===(e=c.error)||void 0===e?void 0:e.code)!==h.lG.MEDIA_ERR_ABORTED&&(this.playbackPerformance.hasFatalError=!0),this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${(null==c||null===(t=c.error)||void 0===t?void 0:t.message)||""}`,this.playbackPerformance.errorCode=(null==c||null===(n=c.error)||void 0===n?void 0:n.code)||0,this.playbackPerformance.errorName=(null==c||null===(i=c.error)||void 0===i||null===(a=i.message)||void 0===a?void 0:a.slice(0,100))||"unknown",this.playbackPerformance.errorReason=(null==c||null===(l=c.error)||void 0===l||null===(o=l.message)||void 0===o?void 0:o.slice(0,100))||"unknown";const u={errorName:this.playbackPerformance.errorCode,errorReason:this.playbackPerformance.errorName,errorRetryCount:this.errorRetryCount,playbackState:this.state.playbackState,networkState:(null==c?void 0:c.networkState)||"unknown"};switch((0,m.tE)("fatalError",!1,d,u),null==c||null===(r=c.error)||void 0===r?void 0:r.code){case h.lG.MEDIA_ERR_ABORTED:break;case h.lG.MEDIA_ERR_NETWORK:case h.lG.MEDIA_ERR_DECODE:case h.lG.MEDIA_ERR_SRC_NOT_SUPPORTED:default:this.errorRetryCount>0&&(null==c||c.load(),this.errorRetryCount-=1)}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:h.Cy.FAILED})})),_(this,"handleLoadedMetadata",(()=>{this.setState({playbackState:h.Cy.LOADED_METADATA})})),_(this,"handleLoadStart",(()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:h.Cy.LOAD_START})})),_(this,"handleLoadedData",(()=>{this.setState({playbackState:h.Cy.LOADED_DATA})})),_(this,"handlePlaying",(()=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.hasSegmentStarted||this.addSegment(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:h.Cy.PLAYING}),this.props.clearSeekTime&&this.props.clearSeekTime()})),_(this,"handleUserPause",(e=>{const{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t(e)})),_(this,"handleVideoPause",(()=>{this.state.playbackState!==h.Cy.STALLING&&this.state.playbackState!==h.Cy.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:h.Cy.PAUSED})})),_(this,"handleSeeking",(()=>{this.playbackPerformance.numberOfSeeks+=1;const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==h.Cy.ENDED&&this.setState({playbackState:h.Cy.SEEKING})})),_(this,"handleStalled",(()=>{null===this.lastStallTime&&this.state.playbackState!==h.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1,this.setState({playbackState:h.Cy.STALLING}))})),_(this,"handleTimeUpdate",(e=>{const{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===h.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())})),_(this,"resetPlaybackMetrics",(()=>{this.hasSegmentStarted=!0,this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]})),_(this,"setLastSegmentStartPlayTime",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())})),_(this,"setLastSegmentPlaybackStartDate",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())})),_(this,"setPlaybackStartTime",(()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)})),_(this,"setVideoPlayerRef",(e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}})),_(this,"updateStallDuration",(()=>{if(null!==this.lastStallTime){const{lastStallTime:e}=this;this.playbackPerformance.totalStallDurationMs+=new Date-e,this.lastStallTime=null}})),_(this,"updatePauseDuration",(()=>{if(null!==this.lastPauseTime){const{lastPauseTime:e}=this;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}})),_(this,"updateWatchDurationForCurrentSegment",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],n=t?t.lastStartPlayTime:null,i=this.getCurrentVideoTime();if(t&&null!==n&&"number"==typeof i&&"number"==typeof n){const e=i-n;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}})),_(this,"logPlaybackPerformance",((e,t)=>{const{contextLogData:n={},userId:i,isAutoPlay:a,logContextEvent:l,preload:o}=this.props,{is_closeup_video:r=!1}=n,{canPlayTime:s,detailedErrors:d,errorCode:c,errorName:u,errorReason:p,hasFatalError:g,loadStartTime:_,totalPauseDurationMs:y,totalStallDurationMs:v,numberOfStalls:f,numberOfSeeks:b,playbackStartTimestamp:x,segments:k,srcString:P}=this.playbackPerformance,S=this.videoPlayerRef&&this.videoPlayerRef.video,w=e===h.DR,T=w&&!this.hasVideoSessionStarted,I=!w&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(S&&(T||I)){var A;let T=-1;s&&_&&(T=s>_?s-_:0);let I=-1;s&&this.videoVisibleTime&&(I=s>this.videoVisibleTime?s-this.videoVisibleTime:0),w&&(this.videoSessionId=(0,h.Y7)(i),this.playerId=this.playerId||(0,h.EB)());const C=this.getVideoResourceTiming(),j={averageVideoKbps:-1,autoplaying:a,detailedErrors:d,downloadedKiloBytes:"number"==typeof(null==C?void 0:C.decodedBodySize)&&C.decodedBodySize/h.Fm||0,errorCode:c,errorName:u,errorReason:p,fatalError:g,isCellular:!1,nativeVideoDurationMs:S.duration*h.gJ||-1,numberOfStalls:f,numberOfSeeks:b,overallPausedDurationMs:y,overallBufferDurationMs:v,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:x||-1,segments:[],sessionMark:e,screenPixelScale:null!==(A=window)&&void 0!==A&&A.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:S.clientWidth,startupPlayerHeight:S.clientHeight,startupTimeMs:T,startupLatencyMs:I,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:S.videoWidth,startupVariantHeight:S.videoHeight,videoUrl:P,wasVideoPreloaded:"auto"===o};if(!w){this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const e=k.reduce(((e,t)=>e+(t.watchedDurationMs||0)),0);j.overallWatchedDurationMs=e,j.startupVariantWatchedDurationMs=e,j.segments=this.playbackPerformance.segments,0===e?(j.errorName="invalid_watch_duration",j.rebufferRate=-1):j.rebufferRate=v/e}(0,m.ZP)(j,!1,r,{playbackState:this.state.playbackState,...t});const{view:E,viewParameter:R,component:L,element:D,objectId:F,...z}=n;l({event_type:3606,event_data:{videoPerformanceData:j},view_type:E,view_parameter:R,component:L,element:D,object_id_str:F,aux_data:{...z,is_closeup_video:r,playback_session_id:this.videoSessionId}}),w?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,m.tE)(w?"sessionStart":"sessionEnd",!1,r,{playbackState:this.state.playbackState,...t})}}))}componentWillUnmount(){const{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(h.$f,{initiator:"unmount",loop:e})}render(){const{aspectRatio:e,captions:t,controls:n,loop:i,loopOverride:l,objectFit:o,onDurationChange:r,onFullscreenChange:s,onLoadedChange:d,onControlsPlay:c,onPlayheadDown:u,onPlayheadUp:p,onSeek:m,onVolumeChange:h,playbackRate:_,playing:v,playsInline:f,poster:b,preload:x,src:k,volume:P}=this.props,{canPlayVideo:S,videoStartTime:w}=this.state;return(0,g.jsx)(a.nk,{autoplay:S&&v,aspectRatio:e,captions:t,controls:n,loop:void 0===l?i:l,objectFit:o,onDurationChange:r,onEnded:this.handleEnded,onError:this.handleError,onFullscreenChange:s,onLoadedChange:d,onLoadStart:this.handleLoadStart,onControlsPause:this.handleUserPause,onControlsPlay:c,onPlaying:this.handlePlaying,onPlayheadDown:u,onPlayheadUp:p,onReady:this.handleCanPlayVideo,onSeek:m,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:h,onWaiting:this.handleStalled,playbackRate:_,onPlay:()=>{},onPlayError:()=>{},playing:S&&v,playsInline:f,poster:b,preload:x,ref:this.setVideoPlayerRef,src:y(k,this.props.quicExpGroup),startTime:w||void 0,volume:P})}}const f=(0,i.memo)((function(e){const{logContextEvent:t}=(0,c.v)(),{country:n,isAuthenticated:i,isBot:a,isSocialBot:l,unauthId:s,userAgent:h}=(0,o.B)(),{browserName:_,browserVersion:y,isMobile:f}=h,{contextLogData:b={}}=e,{is_closeup_video:x=!1,view:k,viewParameter:P}=b,{appUI:{appInFocus:S}}=(0,d.I)(),{checkExperiment:w}=(0,u.F)(),{clearSeekTime:T}=(0,r.RC)();let I=null;i&&(I=w("web_video_quic").group.length?w("web_video_quic").group:null);const A=(0,p.Z)(),C={browserName:_,browserVersion:y,country:n,isAuthenticated:i,isBot:a,is_closeup_video:x,isMobile:f,isSocialBot:l,view:k,viewParameter:P};return(0,m.r$)(C),(0,g.jsx)(v,{...e,userId:A.id||s,appInFocus:S,quicExpGroup:I,logContextEvent:t,clearSeekTime:T})}));function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const x=e=>{if(Array.isArray(e)){const t=e.find((e=>"video/m3u8"===e.type));return t?t.src:void 0}return RegExp("m3u8$").test(e)?e:void 0};class k extends i.PureComponent{constructor(e){super(e),b(this,"componentDidUpdate",(e=>{var t;e.videoStartTime&&this.props.videoStartTime&&e.videoStartTime<this.props.videoStartTime&&null!==(t=this.videoPlayerRef)&&void 0!==t&&t.video&&(this.videoPlayerRef.video.currentTime=this.props.videoStartTime)})),b(this,"setVideoPlayerRef",(e=>{e&&(this.videoPlayerRef=e)})),b(this,"handleOnEnded",(({event:e})=>{const{loop:t,onLoop:n,onEnded:i}=this.props;i&&(i({event:e}),this.videoPlayerRef&&this.videoPlayerRef.video&&t&&(this.videoPlayerRef.video.play(),n&&n()))}));const t=x(e.src);this.state={useHlsVideo:!e.preferMp4&&!(0,l.G6)(e.requestContext.userAgent.browserName)&&!!t}}render(){const{aspectRatio:e,appInFocus:t,backgroundColor:n,captions:i,clearSeekTime:a,contextLogData:l,controls:o,hlsConfig:r,isAutoPlay:d,loop:c,objectFit:u,onDurationChange:p,onEnded:m,onFullscreenChange:h,onLoadedChange:_,onControlsPause:y,onControlsPlay:v,onPlayheadDown:b,onPlayheadUp:k,onReady:P,onSeek:S,onTimeChange:w,onVolumeChange:T,playbackRate:I,playing:A,playsInline:C,poster:j,preferMp4:E,preload:R,seekTime:L,src:D,videoStartTime:F,visible:z,volume:M}=this.props,{useHlsVideo:O}=this.state,B=x(D),Z={...r,startPosition:F||-1},N=!m&&c;return O&&B?(0,g.jsx)(s.Z,{aspectRatio:e,appInFocus:t,backgroundColor:n,captions:i,clearSeekTime:a,contextLogData:l,controls:o,hlsConfig:Z,isAutoPlay:d,loop:c,loopOverride:N,objectFit:u,onDurationChange:p,onEnded:this.handleOnEnded,onFullscreenChange:h,onLoadedChange:_,onControlsPause:y,onControlsPlay:v,onPlayheadDown:b,onPlayheadUp:k,onReady:P,onSeek:S,onTimeChange:w,onVolumeChange:T,playbackRate:I,onPlay:()=>{},onPlayError:()=>{},playing:A,playsInline:C,poster:j,preload:R,seekTime:L,setVideoRef:this.setVideoPlayerRef,src:B,visible:z,volume:M}):(0,g.jsx)(f,{aspectRatio:e,captions:i,clearSeekTime:a,contextLogData:l,controls:o,isAutoPlay:d,loop:c,loopOverride:N,objectFit:u,onDurationChange:p,onEnded:this.handleOnEnded,onFullscreenChange:h,onLoadedChange:_,onControlsPause:y,onControlsPlay:v,onPlayheadDown:b,onPlayheadUp:k,onReady:P,onSeek:S,onTimeChange:w,onVolumeChange:T,playbackRate:I,onPlay:()=>{},onPlayError:()=>{},playing:A,playsInline:C,poster:j,preload:R,seekTime:L,setVideoRef:this.setVideoPlayerRef,src:E?D:B||D,videoStartTime:F,visible:z,volume:M})}}function P(e){const{appUI:{appInFocus:t}}=(0,d.I)(),{seekTime:n}=(0,r.Hx)(),{clearSeekTime:i}=(0,r.RC)(),a=(0,o.B)();return(0,g.jsx)(k,{...e,appInFocus:t,requestContext:a,clearSeekTime:i,seekTime:n})}},714557:(e,t,n)=>{n.d(t,{V:()=>i,i:()=>a});const i=2,a=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1]},458672:(e,t,n)=>{n.d(t,{Z:()=>o});const i={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},a=/[&><\u2028\u2029]/g;var l=n(785893);function o({id:e,isRelayResponseScript:t,testId:n,type:o="application/json",value:r}){const s=JSON.stringify(r).replace(a,(e=>i[e]));return(0,l.jsx)("script",{id:e,"data-test-id":n,...t?{"data-relay-response":!0}:{},type:o,dangerouslySetInnerHTML:{__html:s}})}},113309:(e,t,n)=>{n.d(t,{U:()=>l,Z:()=>o});var i=n(667294);const a=(0,i.createContext)();function l(){return(0,i.useContext)(a)}const o=a},738162:(e,t,n)=>{n.d(t,{I:()=>c,Z:()=>u});var i=n(667294),a=n(616550),l=n(473727),o=n(201342),r=n(785893);const s=(0,i.createContext)(null);function d({children:e}){const t=(0,a.useLocation)(),n=(0,i.useMemo)((()=>t),[]);return(0,r.jsx)(s.Provider,{value:n,children:e})}function c(){return(0,a.useLocation)()===(0,i.useContext)(s)}function u({children:e,initialLocation:t}){return(0,r.jsx)(l.VK,{children:(0,r.jsx)(o.tn,{children:(0,r.jsx)(d,{children:e})})})}},172875:(e,t,n)=>{function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,{Z:()=>l})},938085:(e,t,n)=>{n.d(t,{Fu:()=>L,NO:()=>W,Tb:()=>W,Tx:()=>L,Y:()=>w,Yn:()=>H,Z8:()=>H,a4:()=>w,kz:()=>T,mw:()=>T});var i,a,l,o,r,s=-1,d=function(e){addEventListener("pageshow",(function(t){t.persisted&&(s=t.timeStamp,e(t))}),!0)},c=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},u=function(){var e=c();return e&&e.activationStart||0},p=function(e,t){var n=c(),i="navigate";return s>=0?i="back-forward-cache":n&&(i=document.prerendering||u()>0?"prerender":document.wasDiscarded?"restore":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},m=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return i.observe(Object.assign({type:e,buffered:!0},n||{})),i}}catch(e){}},h=function(e,t,n,i){var a,l;return function(o){t.value>=0&&(o||i)&&((l=t.value-(a||0))||void 0===a)&&(a=t.value,t.delta=l,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},g=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},_=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},y=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},v=-1,f=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},b=function(e){"hidden"===document.visibilityState&&v>-1&&(v="visibilitychange"===e.type?e.timeStamp:0,k())},x=function(){addEventListener("visibilitychange",b,!0),addEventListener("prerenderingchange",b,!0)},k=function(){removeEventListener("visibilitychange",b,!0),removeEventListener("prerenderingchange",b,!0)},P=function(){return v<0&&(v=f(),x(),d((function(){setTimeout((function(){v=f(),x()}),0)}))),{get firstHiddenTime(){return v}}},S=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},w=function(e,t){t=t||{},S((function(){var n,i=[1800,3e3],a=P(),l=p("FCP"),o=m("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(o.disconnect(),e.startTime<a.firstHiddenTime&&(l.value=Math.max(e.startTime-u(),0),l.entries.push(e),n(!0)))}))}));o&&(n=h(e,l,i,t.reportAllChanges),d((function(a){l=p("FCP"),n=h(e,l,i,t.reportAllChanges),g((function(){l.value=performance.now()-a.timeStamp,n(!0)}))})))}))},T=function(e,t){t=t||{},w(y((function(){var n,i=[.1,.25],a=p("CLS",0),l=0,o=[],r=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=o[0],n=o[o.length-1];l&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(l+=e.value,o.push(e)):(l=e.value,o=[e])}})),l>a.value&&(a.value=l,a.entries=o,n())},s=m("layout-shift",r);s&&(n=h(e,a,i,t.reportAllChanges),_((function(){r(s.takeRecords()),n(!0)})),d((function(){l=0,a=p("CLS",0),n=h(e,a,i,t.reportAllChanges),g((function(){return n()}))})),setTimeout(n,0))})))},I={passive:!0,capture:!0},A=new Date,C=function(e,t){i||(i=t,a=e,l=new Date,R(removeEventListener),j())},j=function(){if(a>=0&&a<l-A){var e={entryType:"first-input",name:i.type,target:i.target,cancelable:i.cancelable,startTime:i.timeStamp,processingStart:i.timeStamp+a};o.forEach((function(t){t(e)})),o=[]}},E=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){C(e,t),a()},i=function(){a()},a=function(){removeEventListener("pointerup",n,I),removeEventListener("pointercancel",i,I)};addEventListener("pointerup",n,I),addEventListener("pointercancel",i,I)}(t,e):C(t,e)}},R=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,E,I)}))},L=function(e,t){t=t||{},S((function(){var n,l=[100,300],r=P(),s=p("FID"),c=function(e){e.startTime<r.firstHiddenTime&&(s.value=e.processingStart-e.startTime,s.entries.push(e),n(!0))},u=function(e){e.forEach(c)},g=m("first-input",u);n=h(e,s,l,t.reportAllChanges),g&&_(y((function(){u(g.takeRecords()),g.disconnect()}))),g&&d((function(){var r;s=p("FID"),n=h(e,s,l,t.reportAllChanges),o=[],a=-1,i=null,R(addEventListener),r=c,o.push(r),j()}))}))},D=0,F=1/0,z=0,M=function(e){e.forEach((function(e){e.interactionId&&(F=Math.min(F,e.interactionId),z=Math.max(z,e.interactionId),D=z?(z-F)/7+1:0)}))},O=function(){return r?D:performance.interactionCount||0},B=function(){"interactionCount"in performance||r||(r=m("event",M,{type:"event",buffered:!0,durationThreshold:0}))},Z=0,N=function(){return O()-Z},U=[],K={},V=function(e){var t=U[U.length-1],n=K[e.interactionId];if(n||U.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var i={id:e.interactionId,latency:e.duration,entries:[e]};K[i.id]=i,U.push(i)}U.sort((function(e,t){return t.latency-e.latency})),U.splice(10).forEach((function(e){delete K[e.id]}))}},H=function(e,t){t=t||{},S((function(){var n=[200,500];B();var i,a=p("INP"),l=function(e){e.forEach((function(e){e.interactionId&&V(e),"first-input"===e.entryType&&!U.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&V(e)}));var t,n=(t=Math.min(U.length-1,Math.floor(N()/50)),U[t]);n&&n.latency!==a.value&&(a.value=n.latency,a.entries=n.entries,i())},o=m("event",l,{durationThreshold:t.durationThreshold||40});i=h(e,a,n,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),_((function(){l(o.takeRecords()),a.value<0&&N()>0&&(a.value=0,a.entries=[]),i(!0)})),d((function(){U=[],Z=O(),a=p("INP"),i=h(e,a,n,t.reportAllChanges)})))}))},G={},W=function(e,t){t=t||{},S((function(){var n,i=[2500,4e3],a=P(),l=p("LCP"),o=function(e){var t=e[e.length-1];if(t){var i=Math.max(t.startTime-u(),0);i<a.firstHiddenTime&&(l.value=i,l.entries=[t],n())}},r=m("largest-contentful-paint",o);if(r){n=h(e,l,i,t.reportAllChanges);var s=y((function(){G[l.id]||(o(r.takeRecords()),r.disconnect(),G[l.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,s,!0)})),_(s),d((function(a){l=p("LCP"),n=h(e,l,i,t.reportAllChanges),g((function(){l.value=performance.now()-a.timeStamp,G[l.id]=!0,n(!0)}))}))}}))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/MobileAndUnauthPinPage-fbef786bfe2a43b6.mjs.map